(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(u){if(u.ep)return;u.ep=!0;const o=n(u);fetch(u.href,o)}})();var SigninMethod=(t=>(t.Google="connect-google",t.Email="connect-email",t.Wallet="connect-wallet",t))(SigninMethod||{});const DEFAULT_SIGNIN_METHODS=["connect-google","connect-email","connect-wallet"];var NETWORK=(t=>(t[t.bitcoin=128]="bitcoin",t[t.mainnet=1]="mainnet",t[t.polygon=137]="polygon",t[t.avalanche=43114]="avalanche",t[t.binancesmartchain=56]="binancesmartchain",t[t.arbitrum=42161]="arbitrum",t[t.optimism=10]="optimism",t[t.cosmos=118]="cosmos",t[t.polkadot=111]="polkadot",t[t.solana=1399811149]="solana",t[t.base=8453]="base",t[t.scroll=534352]="scroll",t))(NETWORK||{});const CHAINS_DISABLED=[118,43114,111],CHAIN_AVAILABLES=[{id:1,value:"eth",name:"Ethereum",nativeSymbol:"ETH",logo:"/assets/cryptocurrency-icons/eth.svg",rpcUrl:[{primary:!1,url:"https://eth-mainnet-public.unifra.io"},{primary:!0,url:"https://rpc.ankr.com/eth"}].find(t=>t.primary)?.url||"",type:"evm"},{id:56,value:"bsc",name:"Binance smart chain",nativeSymbol:"BNB",logo:"/assets/cryptocurrency-icons/bnb.svg",rpcUrl:[{primary:!1,url:"https://rpc.ankr.com/bsc"},{primary:!0,url:"https://binance.llamarpc.com"}].find(t=>t.primary)?.url||"",type:"evm"},{id:137,value:"polygon",name:"Polygon",nativeSymbol:"MATIC",logo:"/assets/cryptocurrency-icons/matic.svg",rpcUrl:[{primary:!1,url:"https://polygon-rpc.com"},{primary:!0,url:"https://rpc.ankr.com/polygon"}].find(t=>t.primary)?.url||"",type:"evm"},{id:42161,value:"arbitrum",name:"Arbitrum",nativeSymbol:"ARB",logo:"/assets/icons/arb.svg",rpcUrl:[{primary:!0,url:"https://arbitrum.llamarpc.com"},{primary:!1,url:"https://rpc.ankr.com/arbitrum_one"}].find(t=>t.primary)?.url||"",type:"evm"},{id:10,value:"optimism",name:"Optimism",nativeSymbol:"OP",logo:"/assets/icons/op.svg",rpcUrl:[{primary:!1,url:"https://mainnet.optimism.io"},{primary:!0,url:"https://rpc.ankr.com/optimism"}].find(t=>t.primary)?.url||"",type:"evm"},{id:8453,value:"base",name:"Base",nativeSymbol:"ETH",logo:"/assets/icons/base.svg",rpcUrl:[{primary:!1,url:"https://endpoints.omniatech.io/v1/base/mainnet/public"},{primary:!0,url:"https://base.llamarpc.com"}].find(t=>t.primary)?.url||"",type:"evm"},{id:534352,value:"scroll",name:"Scroll",nativeSymbol:"ETH",logo:"/assets/icons/scroll.svg",rpcUrl:[{primary:!1,url:"https://scroll-mainnet.public.blastapi.io"},{primary:!0,url:"https://1rpc.io/scroll"}].find(t=>t.primary)?.url||"",type:"evm"},{id:118,value:"cosmos",name:"Cosmos",nativeSymbol:"ATOM",logo:"/assets/cryptocurrency-icons/atom.svg",rpcUrl:[{primary:!0,url:"https://rpc.cosmos.network:26657"},{primary:!1,url:"https://cosmos-rpc.publicnode.com:443"}].find(t=>t.primary)?.url||"",type:"cosmos"},{id:11155111,value:"sepolia",name:"Sepolia",testnet:!0,rpcUrl:"https://ethereum-sepolia-rpc.publicnode.com",type:"evm"},{id:128,name:"Bitcoin",value:"bitcoin",nativeSymbol:"BTC",rpcUrl:[{url:"84-30-190-204.cable.dynamic.v4.ziggo.nl",primary:!1},{url:"https://rpc.coinsdo.net/btc",primary:!0}].find(t=>t.primary)?.url||"",type:"bitcoin",logo:"/assets/cryptocurrency-icons/btc.svg"},{id:1399811149,value:"solana",name:"Solana",nativeSymbol:"SOL",logo:"/assets/cryptocurrency-icons/sol.svg",rpcUrl:[{primary:!0,url:"https://api.devnet.solana.com"}].find(t=>t.primary)?.url||"",type:"solana"}].filter(t=>!CHAINS_DISABLED.includes(t.id)),NETWORK_DEFAULT=10,CHAIN_DEFAULT=CHAIN_AVAILABLES.find(t=>t.id===NETWORK_DEFAULT)||{id:NETWORK_DEFAULT,name:"default",value:"default",rpcUrl:"",type:"evm"};CHAIN_AVAILABLES.find(t=>t.id===80001);var KEYS=(t=>(t.AUTH_SIGNATURE_KEY="hexa-signature",t.AUTH_SIGNATURE_VALUE="hexa-signature-value",t.STORAGE_PRIVATEKEY_KEY="hexa-private-key",t.STORAGE_SECRET_KEY="hexa-secret",t.STORAGE_BACKUP_KEY="hexa-backup",t.STORAGE_SKIP_BACKUP_KEY="hexa-skip",t.STORAGE_EMAIL_FOR_SIGNIN_KEY="hexa-connect-email-for-sign-in",t.URL_QUERYPARAM_FINISH_SIGNUP="finishSignUp",t.STORAGE_AUTH_METHOD_KEY="hexa-auth-method",t))(KEYS||{});const MAX_SKIP_BACKUP_TIME=15*60*1e3,global$1=globalThis||void 0||self;function getDefaultExportFromCjs$2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var browser$f={exports:{}},process=browser$f.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch{try{return cachedSetTimeout.call(null,t,0)}catch{return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch{try{return cachedClearTimeout.call(null,t)}catch{return cachedClearTimeout.call(this,t)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(t)}}process.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];queue.push(new Item(t,e)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$3(){}process.on=noop$3;process.addListener=noop$3;process.once=noop$3;process.off=noop$3;process.removeListener=noop$3;process.removeAllListeners=noop$3;process.emit=noop$3;process.prependListener=noop$3;process.prependOnceListener=noop$3;process.listeners=function(t){return[]};process.binding=function(t){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(t){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$f.exports;const process$1=getDefaultExportFromCjs$2(browserExports);var define_process_env_default={};const stringToByteArray$1=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let u=t.charCodeAt(a);u<128?e[n++]=u:u<2048?(e[n++]=u>>6|192,e[n++]=u&63|128):(u&64512)===55296&&a+1<t.length&&(t.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(t.charCodeAt(++a)&1023),e[n++]=u>>18|240,e[n++]=u>>12&63|128,e[n++]=u>>6&63|128,e[n++]=u&63|128):(e[n++]=u>>12|224,e[n++]=u>>6&63|128,e[n++]=u&63|128)}return e},byteArrayToString=function(t){const e=[];let n=0,a=0;for(;n<t.length;){const u=t[n++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const o=t[n++];e[a++]=String.fromCharCode((u&31)<<6|o&63)}else if(u>239&&u<365){const o=t[n++],p=t[n++],m=t[n++],y=((u&7)<<18|(o&63)<<12|(p&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const o=t[n++],p=t[n++];e[a++]=String.fromCharCode((u&15)<<12|(o&63)<<6|p&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<t.length;u+=3){const o=t[u],p=u+1<t.length,m=p?t[u+1]:0,y=u+2<t.length,w=y?t[u+2]:0,_=o>>2,M=(o&3)<<4|m>>4;let T=(m&15)<<2|w>>6,B=w&63;y||(B=64,p||(T=64)),a.push(n[_],n[M],n[T],n[B])}return a.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(stringToByteArray$1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):byteArrayToString(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<t.length;){const o=n[t.charAt(u++)],m=u<t.length?n[t.charAt(u)]:0;++u;const w=u<t.length?n[t.charAt(u)]:64;++u;const M=u<t.length?n[t.charAt(u)]:64;if(++u,o==null||m==null||w==null||M==null)throw new DecodeBase64StringError;const T=o<<2|m>>4;if(a.push(T),w!==64){const B=m<<4&240|w>>2;if(a.push(B),M!==64){const P=w<<6&192|M;a.push(P)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(t){const e=stringToByteArray$1(t);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(t){return base64Encode(t).replace(/\./g,"")},base64Decode=function(t){try{return base64.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function getGlobal$1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global$1<"u")return global$1;throw new Error("Unable to locate global object.")}const getDefaultsFromGlobal=()=>getGlobal$1().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process$1>"u"||typeof define_process_env_default>"u")return;const t=define_process_env_default.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&base64Decode(t[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},getDefaultEmulatorHost=t=>{var e,n;return(n=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},getDefaultAppConfig=()=>{var t;return(t=getDefaults())===null||t===void 0?void 0:t.config},getExperimentalSetting=t=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${t}`]};class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const t=getUA();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((t,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),n||self.indexedDB.deleteDatabase(a),t(!0)},u.onupgradeneeded=()=>{n=!1},u.onerror=()=>{var o;e(((o=u.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},u=`${this.service}/${e}`,o=this.errors[e],p=o?replaceTemplate(o,a):"Error",m=`${this.serviceName}: ${p} (${u}).`;return new FirebaseError(u,m,a)}}function replaceTemplate(t,e){return t.replace(PATTERN,(n,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function deepEqual(t,e){if(t===e)return!0;const n=Object.keys(t),a=Object.keys(e);for(const u of n){if(!a.includes(u))return!1;const o=t[u],p=e[u];if(isObject$1(o)&&isObject$1(p)){if(!deepEqual(o,p))return!1}else if(o!==p)return!1}for(const u of a)if(!n.includes(u))return!1;return!0}function isObject$1(t){return t!==null&&typeof t=="object"}function querystring(t){const e=[];for(const[n,a]of Object.entries(t))Array.isArray(a)?a.forEach(u=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(u))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function querystringDecode(t){const e={};return t.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[u,o]=a.split("=");e[decodeURIComponent(u)]=decodeURIComponent(o)}}),e}function extractQuerystring(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function createSubscribe(t,e){const n=new ObserverProxy(t,e);return n.subscribe.bind(n)}class ObserverProxy{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let u;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?u=e:u={next:e,error:n,complete:a},u.next===void 0&&(u.next=noop$2),u.error===void 0&&(u.error=noop$2),u.complete===void 0&&(u.complete=noop$2);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function noop$2(){}function getModularInstance(t){return t&&t._delegate?t._delegate:t}class Component{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const DEFAULT_ENTRY_NAME$1="[DEFAULT]";let Provider$1=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Deferred;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:n});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),u=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(u)return null;throw o}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:u});a.resolve(o)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[o,p]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(o);a===m&&p.resolve(u)}return u}onInit(e,n){var a;const u=this.normalizeInstanceIdentifier(n),o=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;o.add(e),this.onInitCallbacks.set(u,o);const p=this.instances.get(u);return p&&e(p,u),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const u of a)try{u(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function normalizeIdentifierForFactory(t){return t===DEFAULT_ENTRY_NAME$1?void 0:t}function isComponentEager(t){return t.instantiationMode==="EAGER"}class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Provider$1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var LogLevel$1;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(LogLevel$1||(LogLevel$1={}));const levelStringToEnum={debug:LogLevel$1.DEBUG,verbose:LogLevel$1.VERBOSE,info:LogLevel$1.INFO,warn:LogLevel$1.WARN,error:LogLevel$1.ERROR,silent:LogLevel$1.SILENT},defaultLogLevel=LogLevel$1.INFO,ConsoleMethod={[LogLevel$1.DEBUG]:"log",[LogLevel$1.VERBOSE]:"log",[LogLevel$1.INFO]:"info",[LogLevel$1.WARN]:"warn",[LogLevel$1.ERROR]:"error"},defaultLogHandler=(t,e,...n)=>{if(e<t.logLevel)return;const a=new Date().toISOString(),u=ConsoleMethod[e];if(u)console[u](`[${a}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Logger$1=class{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel$1))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel$1.DEBUG,...e),this._logHandler(this,LogLevel$1.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel$1.VERBOSE,...e),this._logHandler(this,LogLevel$1.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel$1.INFO,...e),this._logHandler(this,LogLevel$1.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel$1.WARN,...e),this._logHandler(this,LogLevel$1.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel$1.ERROR,...e),this._logHandler(this,LogLevel$1.ERROR,...e)}};const instanceOfAny=(t,e)=>e.some(n=>t instanceof n);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(t){const e=new Promise((n,a)=>{const u=()=>{t.removeEventListener("success",o),t.removeEventListener("error",p)},o=()=>{n(wrap(t.result)),u()},p=()=>{a(t.error),u()};t.addEventListener("success",o),t.addEventListener("error",p)});return e.then(n=>{n instanceof IDBCursor&&cursorRequestMap.set(n,t)}).catch(()=>{}),reverseTransformCache.set(e,t),e}function cacheDonePromiseForTransaction(t){if(transactionDoneMap.has(t))return;const e=new Promise((n,a)=>{const u=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",p),t.removeEventListener("abort",p)},o=()=>{n(),u()},p=()=>{a(t.error||new DOMException("AbortError","AbortError")),u()};t.addEventListener("complete",o),t.addEventListener("error",p),t.addEventListener("abort",p)});transactionDoneMap.set(t,e)}let idbProxyTraps={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||transactionStoreNamesMap.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wrap(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function replaceTraps(t){idbProxyTraps=t(idbProxyTraps)}function wrapFunction(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=t.call(unwrap(this),e,...n);return transactionStoreNamesMap.set(a,e.sort?e.sort():[e]),wrap(a)}:getCursorAdvanceMethods().includes(t)?function(...e){return t.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(t.apply(unwrap(this),e))}}function transformCachableValue(t){return typeof t=="function"?wrapFunction(t):(t instanceof IDBTransaction&&cacheDonePromiseForTransaction(t),instanceOfAny(t,getIdbProxyableTypes())?new Proxy(t,idbProxyTraps):t)}function wrap(t){if(t instanceof IDBRequest)return promisifyRequest(t);if(transformCache.has(t))return transformCache.get(t);const e=transformCachableValue(t);return e!==t&&(transformCache.set(t,e),reverseTransformCache.set(e,t)),e}const unwrap=t=>reverseTransformCache.get(t);function openDB(t,e,{blocked:n,upgrade:a,blocking:u,terminated:o}={}){const p=indexedDB.open(t,e),m=wrap(p);return a&&p.addEventListener("upgradeneeded",y=>{a(wrap(p.result),y.oldVersion,y.newVersion,wrap(p.transaction),y)}),n&&p.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{o&&y.addEventListener("close",()=>o()),u&&y.addEventListener("versionchange",w=>u(w.oldVersion,w.newVersion,w))}).catch(()=>{}),m}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,u=writeMethods.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(u||readMethods.includes(n)))return;const o=async function(p,...m){const y=this.transaction(p,u?"readwrite":"readonly");let w=y.store;return a&&(w=w.index(m.shift())),(await Promise.all([w[n](...m),u&&y.done]))[0]};return cachedMethods.set(e,o),o}replaceTraps(t=>({...t,get:(e,n,a)=>getMethod(e,n)||t.get(e,n,a),has:(e,n)=>!!getMethod(e,n)||t.has(e,n)}));class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(isVersionServiceProvider(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function isVersionServiceProvider(t){const e=t.getComponent();return e?.type==="VERSION"}const name$o="@firebase/app",version$1$1="0.10.0";const logger$x=new Logger$1("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3$1="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$t="10.10.0";const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3$1]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(t,e){try{t.container.addComponent(e)}catch(n){logger$x.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _registerComponent(t){const e=t.name;if(_components.has(e))return logger$x.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,t);for(const n of _apps.values())_addComponent(n,t);for(const n of _serverApps.values())_addComponent(n,t);return!0}function _getProvider(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _isFirebaseServerApp(t){return t.settings!==void 0}const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS$1);class FirebaseAppImpl{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}const SDK_VERSION=version$t;function initializeApp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const a=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw ERROR_FACTORY.create("bad-app-name",{appName:String(u)});if(n||(n=getDefaultAppConfig()),!n)throw ERROR_FACTORY.create("no-options");const o=_apps.get(u);if(o){if(deepEqual(n,o.options)&&deepEqual(a,o.config))return o;throw ERROR_FACTORY.create("duplicate-app",{appName:u})}const p=new ComponentContainer(u);for(const y of _components.values())p.addComponent(y);const m=new FirebaseAppImpl(n,a,p);return _apps.set(u,m),m}function getApp(t=DEFAULT_ENTRY_NAME){const e=_apps.get(t);if(!e&&t===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!e)throw ERROR_FACTORY.create("no-app",{appName:t});return e}function registerVersion(t,e,n){var a;let u=(a=PLATFORM_LOG_STRING[t])!==null&&a!==void 0?a:t;n&&(u+=`-${n}`);const o=u.match(/\s|\//),p=e.match(/\s|\//);if(o||p){const m=[`Unable to register library "${u}" with version "${e}":`];o&&m.push(`library name "${u}" contains illegal characters (whitespace or "/")`),o&&p&&m.push("and"),p&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger$x.warn(m.join(" "));return}_registerComponent(new Component(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(STORE_NAME)}catch(n){console.warn(n)}}}}).catch(t=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:t.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(t){try{const n=(await getDbPromise()).transaction(STORE_NAME),a=await n.objectStore(STORE_NAME).get(computeKey(t));return await n.done,a}catch(e){if(e instanceof FirebaseError)logger$x.warn(e.message);else{const n=ERROR_FACTORY.create("idb-get",{originalErrorMessage:e?.message});logger$x.warn(n.message)}}}async function writeHeartbeatsToIndexedDB(t,e){try{const a=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await a.objectStore(STORE_NAME).put(e,computeKey(t)),await a.done}catch(n){if(n instanceof FirebaseError)logger$x.warn(n.message);else{const a=ERROR_FACTORY.create("idb-set",{originalErrorMessage:n?.message});logger$x.warn(a.message)}}}function computeKey(t){return`${t.name}!${t.options.appId}`}const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=getUTCDateString();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(p=>p.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const m=new Date(p.date).valueOf();return Date.now()-m<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=getUTCDateString(),{heartbeatsToSend:a,unsentEntries:u}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),o=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(t,e=MAX_HEADER_BYTES){const n=[];let a=t.slice();for(const u of t){const o=n.find(p=>p.agent===u.agent);if(o){if(o.dates.push(u.date),countBytes(n)>e){o.dates.pop();break}}else if(n.push({agent:u.agent,dates:[u.date]}),countBytes(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await readHeartbeatsFromIndexedDB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const u=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const u=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function countBytes(t){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}function registerCoreComponents(t){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,t),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(t);u<a.length;u++)e.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(t,a[u])&&(n[a[u]]=t[a[u]]);return n}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());const logClient=new Logger$1("@firebase/auth");function _logWarn(t,...e){logClient.logLevel<=LogLevel$1.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${t}`,...e)}function _logError(t,...e){logClient.logLevel<=LogLevel$1.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${t}`,...e)}function _fail(t,...e){throw createErrorInternal(t,...e)}function _createError(t,...e){return createErrorInternal(t,...e)}function _errorWithCustomMessage(t,e,n){const a=Object.assign(Object.assign({},prodErrorMap()),{[e]:n});return new ErrorFactory("auth","Firebase",a).create(e,{appName:t.name})}function _serverAppCurrentUserOperationNotSupportedError(t){return _errorWithCustomMessage(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(t,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&_fail(t,"argument-error"),_errorWithCustomMessage(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(t,...e){if(typeof t!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=t.name),t._errorFactory.create(n,...a)}return _DEFAULT_AUTH_ERROR_FACTORY.create(t,...e)}function _assert$1(t,e,...n){if(!t)throw createErrorInternal(e,...n)}function debugFail(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _logError(e),new Error(e)}function debugAssert(t,e){t||debugFail(e)}function _getCurrentUrl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Delay{constructor(e,n){this.shortDelay=e,this.longDelay=n,debugAssert(n>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _emulatorUrl(t,e){debugAssert(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class FetchProvider{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _performApiRequest(t,e,n,a,u={}){return _performFetchWithErrorHandling(t,u,async()=>{let o={},p={};a&&(e==="GET"?p=a:o={body:JSON.stringify(a)});const m=querystring(Object.assign({key:t.config.apiKey},p)).slice(1),y=await t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),FetchProvider.fetch()(_getFinalTarget(t,t.config.apiHost,n,m),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},o))})}async function _performFetchWithErrorHandling(t,e,n){t._canInitEmulator=!1;const a=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const u=new NetworkTimeout(t),o=await Promise.race([n(),u.promise]);u.clearNetworkTimeout();const p=await o.json();if("needConfirmation"in p)throw _makeTaggedError(t,"account-exists-with-different-credential",p);if(o.ok&&!("errorMessage"in p))return p;{const m=o.ok?p.errorMessage:p.error.message,[y,w]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(t,"credential-already-in-use",p);if(y==="EMAIL_EXISTS")throw _makeTaggedError(t,"email-already-in-use",p);if(y==="USER_DISABLED")throw _makeTaggedError(t,"user-disabled",p);const _=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw _errorWithCustomMessage(t,_,w);_fail(t,_)}}catch(u){if(u instanceof FirebaseError)throw u;_fail(t,"network-request-failed",{message:String(u)})}}async function _performSignInRequest(t,e,n,a,u={}){const o=await _performApiRequest(t,e,n,a,u);return"mfaPendingCredential"in o&&_fail(t,"multi-factor-auth-required",{_serverResponse:o}),o}function _getFinalTarget(t,e,n,a){const u=`${e}${n}?${a}`;return t.config.emulator?_emulatorUrl(t.config,u):`${t.config.apiScheme}://${u}`}function _parseEnforcementState(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(t,e,n){const a={appName:t.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const u=_createError(t,e,a);return u.customData._tokenResponse=n,u}function isEnterprise(t){return t!==void 0&&t.enterprise!==void 0}class RecaptchaConfig{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _parseEnforcementState(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function getRecaptchaConfig(t,e){return _performApiRequest(t,"GET","/v2/recaptchaConfig",_addTidIfNecessary(t,e))}async function deleteAccount(t,e){return _performApiRequest(t,"POST","/v1/accounts:delete",e)}async function getAccountInfo(t,e){return _performApiRequest(t,"POST","/v1/accounts:lookup",e)}function utcTimestampToDateString(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(t,e=!1){const n=getModularInstance(t),a=await n.getIdToken(e),u=_parseToken(a);_assert$1(u&&u.exp&&u.auth_time&&u.iat,n.auth,"internal-error");const o=typeof u.firebase=="object"?u.firebase:void 0,p=o?.sign_in_provider;return{claims:u,token:a,authTime:utcTimestampToDateString(secondsStringToMilliseconds(u.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(u.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(u.exp)),signInProvider:p||null,signInSecondFactor:o?.sign_in_second_factor||null}}function secondsStringToMilliseconds(t){return Number(t)*1e3}function _parseToken(t){const[e,n,a]=t.split(".");if(e===void 0||n===void 0||a===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const u=base64Decode(n);return u?JSON.parse(u):(_logError("Failed to decode base64 JWT payload"),null)}catch(u){return _logError("Caught error parsing JWT payload as JSON",u?.toString()),null}}function _tokenExpiresIn(t){const e=_parseToken(t);return _assert$1(e,"internal-error"),_assert$1(typeof e.exp<"u","internal-error"),_assert$1(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _logoutIfInvalidated(t,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof FirebaseError&&isUserInvalidated(a)&&t.auth.currentUser===t&&await t.auth.signOut(),a}}function isUserInvalidated({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const u=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,u)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class UserMetadata{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _reloadWithoutSaving(t){var e;const n=t.auth,a=await t.getIdToken(),u=await _logoutIfInvalidated(t,getAccountInfo(n,{idToken:a}));_assert$1(u?.users.length,n,"internal-error");const o=u.users[0];t._notifyReloadListener(o);const p=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(o.providerUserInfo):[],m=mergeProviderData(t.providerData,p),y=t.isAnonymous,w=!(t.email&&o.passwordHash)&&!m?.length,_=y?w:!1,M={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:m,metadata:new UserMetadata(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(t,M)}async function reload(t){const e=getModularInstance(t);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(t,e){return[...t.filter(a=>!e.some(u=>u.providerId===a.providerId)),...e]}function extractProviderData(t){return t.map(e=>{var{providerId:n}=e,a=__rest(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}async function requestStsToken(t,e){const n=await _performFetchWithErrorHandling(t,{},async()=>{const a=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:u,apiKey:o}=t.config,p=_getFinalTarget(t,u,"/v1/token",`key=${o}`),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(p,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function revokeToken(t,e){return _performApiRequest(t,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(t,e))}class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert$1(e.idToken,"internal-error"),_assert$1(typeof e.idToken<"u","internal-error"),_assert$1(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_assert$1(e.length!==0,"internal-error");const n=_tokenExpiresIn(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_assert$1(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:u,expiresIn:o}=await requestStsToken(e,n);this.updateTokensAndExpiration(a,u,Number(o))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:u,expirationTime:o}=n,p=new StsTokenManager;return a&&(_assert$1(typeof a=="string","internal-error",{appName:e}),p.refreshToken=a),u&&(_assert$1(typeof u=="string","internal-error",{appName:e}),p.accessToken=u),o&&(_assert$1(typeof o=="number","internal-error",{appName:e}),p.expirationTime=o),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}function assertStringOrUndefined(t,e){_assert$1(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:n,auth:a,stsTokenManager:u}=e,o=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=u,this.accessToken=u.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new UserMetadata(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert$1(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert$1(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_assert$1(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,u,o,p,m,y,w,_;const M=(a=n.displayName)!==null&&a!==void 0?a:void 0,T=(u=n.email)!==null&&u!==void 0?u:void 0,B=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,P=(p=n.photoURL)!==null&&p!==void 0?p:void 0,C=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(y=n._redirectEventId)!==null&&y!==void 0?y:void 0,U=(w=n.createdAt)!==null&&w!==void 0?w:void 0,q=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:G,emailVerified:X,isAnonymous:te,providerData:ne,stsTokenManager:ge}=n;_assert$1(G&&ge,e,"internal-error");const pe=StsTokenManager.fromJSON(this.name,ge);_assert$1(typeof G=="string",e,"internal-error"),assertStringOrUndefined(M,e.name),assertStringOrUndefined(T,e.name),_assert$1(typeof X=="boolean",e,"internal-error"),_assert$1(typeof te=="boolean",e,"internal-error"),assertStringOrUndefined(B,e.name),assertStringOrUndefined(P,e.name),assertStringOrUndefined(C,e.name),assertStringOrUndefined(L,e.name),assertStringOrUndefined(U,e.name),assertStringOrUndefined(q,e.name);const se=new UserImpl({uid:G,auth:e,email:T,emailVerified:X,displayName:M,isAnonymous:te,photoURL:P,phoneNumber:B,tenantId:C,stsTokenManager:pe,createdAt:U,lastLoginAt:q});return ne&&Array.isArray(ne)&&(se.providerData=ne.map(Se=>Object.assign({},Se))),L&&(se._redirectEventId=L),se}static async _fromIdTokenResponse(e,n,a=!1){const u=new StsTokenManager;u.updateFromServerResponse(n);const o=new UserImpl({uid:n.localId,auth:e,stsTokenManager:u,isAnonymous:a});return await _reloadWithoutSaving(o),o}static async _fromGetAccountInfoResponse(e,n,a){const u=n.users[0];_assert$1(u.localId!==void 0,"internal-error");const o=u.providerUserInfo!==void 0?extractProviderData(u.providerUserInfo):[],p=!(u.email&&u.passwordHash)&&!o?.length,m=new StsTokenManager;m.updateFromIdToken(a);const y=new UserImpl({uid:u.localId,auth:e,stsTokenManager:m,isAnonymous:p}),w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:o,metadata:new UserMetadata(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash)&&!o?.length};return Object.assign(y,w),y}}const instanceCache=new Map;function _getInstance(t){debugAssert(t instanceof Function,"Expected a class definition");let e=instanceCache.get(t);return e?(debugAssert(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,instanceCache.set(t,e),e)}class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;function _persistenceKeyName(t,e,n){return`firebase:${t}:${e}:${n}`}class PersistenceUserManager{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:u,name:o}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,u.apiKey,o),this.fullPersistenceKey=_persistenceKeyName("persistence",u.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,a);const u=(await Promise.all(n.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let o=u[0]||_getInstance(inMemoryPersistence);const p=_persistenceKeyName(a,e.config.apiKey,e.name);let m=null;for(const w of n)try{const _=await w._get(p);if(_){const M=UserImpl._fromJSON(e,_);w!==o&&(m=M),o=w;break}}catch{}const y=u.filter(w=>w._shouldAllowMigration);return!o._shouldAllowMigration||!y.length?new PersistenceUserManager(o,e,a):(o=y[0],m&&await o._set(p,m.toJSON()),await Promise.all(n.map(async w=>{if(w!==o)try{await w._remove(p)}catch{}})),new PersistenceUserManager(o,e,a))}}function _getBrowserName(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=t.match(n);if(a?.length===2)return a[1]}return"Other"}function _isFirefox(t=getUA()){return/firefox\//i.test(t)}function _isSafari(t=getUA()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(t=getUA()){return/crios\//i.test(t)}function _isIEMobile(t=getUA()){return/iemobile/i.test(t)}function _isAndroid(t=getUA()){return/android/i.test(t)}function _isBlackBerry(t=getUA()){return/blackberry/i.test(t)}function _isWebOS(t=getUA()){return/webos/i.test(t)}function _isIOS(t=getUA()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _isIOSStandalone(t=getUA()){var e;return _isIOS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(t=getUA()){return _isIOS(t)||_isAndroid(t)||_isWebOS(t)||_isBlackBerry(t)||/windows phone/i.test(t)||_isIEMobile(t)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}function _getClientVersion(t,e=[]){let n;switch(t){case"Browser":n=_getBrowserName(getUA());break;case"Worker":n=`${_getBrowserName(getUA())}-${t}`;break;default:n=t}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${SDK_VERSION}/${a}`}class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=o=>new Promise((p,m)=>{try{const y=e(o);p(y)}catch(y){m(y)}});a.onAbort=n,this.queue.push(a);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const u of n)try{u()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function _getPasswordPolicy(t,e={}){return _performApiRequest(t,"GET","/v2/passwordPolicy",_addTidIfNecessary(t,e))}const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(e){var n,a,u,o;const p=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=p.minPasswordLength)!==null&&n!==void 0?n:MINIMUM_MIN_PASSWORD_LENGTH,p.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=p.maxPasswordLength),p.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=p.containsLowercaseCharacter),p.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=p.containsUppercaseCharacter),p.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=p.containsNumericCharacter),p.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=p.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(u=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&u!==void 0?u:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,u,o,p,m;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(n=y.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),y.isValid&&(y.isValid=(a=y.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(u=y.containsLowercaseLetter)!==null&&u!==void 0?u:!0),y.isValid&&(y.isValid=(o=y.containsUppercaseLetter)!==null&&o!==void 0?o:!0),y.isValid&&(y.isValid=(p=y.containsNumericCharacter)!==null&&p!==void 0?p:!0),y.isValid&&(y.isValid=(m=y.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),y}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),u&&(n.meetsMaxPasswordLength=e.length<=u)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let u=0;u<e.length;u++)a=e.charAt(u),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,u,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class AuthImpl{constructor(e,n,a,u){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=u.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_getInstance(n)),this._initializationPromise=this.queue(async()=>{var a,u;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await getAccountInfo(this,{idToken:e}),a=await UserImpl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_isFirebaseServerApp(this.app)){const p=this.app.settings.authIdToken;return p?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(p).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let u=a,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const p=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=u?._redirectEventId,y=await this.tryRedirectSignIn(e);(!p||p===m)&&y?.user&&(u=y.user,o=!0)}if(!u)return this.directlySetCurrentUser(null);if(!u._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(u)}catch(p){u=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(p))}return u?this.reloadAndSetCurrentUserOrClear(u):this.directlySetCurrentUser(null)}return _assert$1(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===u._redirectEventId?this.directlySetCurrentUser(u):this.reloadAndSetCurrentUserOrClear(u)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const n=e?getModularInstance(e):null;return n&&_assert$1(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_assert$1(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _getPasswordPolicy(this),n=new PasswordPolicyImpl(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await revokeToken(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_getInstance(e)||this._popupRedirectResolver;_assert$1(n,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,u){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let p=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert$1(m,this,"internal-error"),m.then(()=>{p||o(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,u);return()=>{p=!0,y()}}else{const y=e.addObserver(n);return()=>{p=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert$1(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await ((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const u=await this._getAppCheckToken();return u&&(n["X-Firebase-AppCheck"]=u),n}async _getAppCheckToken(){var e;const n=await ((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&_logWarn(`Error while retrieving App Check token: ${n.error}`),n?.token}}function _castAuth(t){return getModularInstance(t)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(n=>this.observer=n)}get next(){return _assert$1(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(t){externalJSProvider=t}function _loadJS(t){return externalJSProvider.loadJS(t)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(e){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(e)}async verify(e="verify",n=!1){async function a(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(p,m)=>{getRecaptchaConfig(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const w=new RecaptchaConfig(y);return o.tenantId==null?o._agentRecaptchaConfig=w:o._tenantRecaptchaConfigs[o.tenantId]=w,p(w.siteKey)}}).catch(y=>{m(y)})})}function u(o,p,m){const y=window.grecaptcha;isEnterprise(y)?y.enterprise.ready(()=>{y.enterprise.execute(o,{action:e}).then(w=>{p(w)}).catch(()=>{p(FAKE_TOKEN)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,p)=>{a(this.auth).then(m=>{if(!n&&isEnterprise(window.grecaptcha))u(m,o,p);else{if(typeof window>"u"){p(new Error("RecaptchaVerifier is only supported in browser"));return}let y=_recaptchaEnterpriseScriptUrl();y.length!==0&&(y+=m),_loadJS(y).then(()=>{u(m,o,p)}).catch(w=>{p(w)})}}).catch(m=>{p(m)})})}}async function injectRecaptchaFields(t,e,n,a=!1){const u=new RecaptchaEnterpriseVerifier(t);let o;try{o=await u.verify(n)}catch{o=await u.verify(n,!0)}const p=Object.assign({},e);return a?Object.assign(p,{captchaResp:o}):Object.assign(p,{captchaResponse:o}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function handleRecaptchaFlow(t,e,n,a){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await injectRecaptchaFields(t,e,n,n==="getOobCode");return a(t,o)}else return a(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await injectRecaptchaFields(t,e,n,n==="getOobCode");return a(t,p)}else return Promise.reject(o)})}function initializeAuth(t,e){const n=_getProvider(t,"auth");if(n.isInitialized()){const u=n.getImmediate(),o=n.getOptions();if(deepEqual(o,e??{}))return u;_fail(u,"already-initialized")}return n.initialize({options:e})}function _initializeAuthInstance(t,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(_getInstance);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(a,e?.popupRedirectResolver)}function connectAuthEmulator(t,e,n){const a=_castAuth(t);_assert$1(a._canInitEmulator,a,"emulator-config-failed"),_assert$1(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const u=!!n?.disableWarnings,o=extractProtocol(e),{host:p,port:m}=extractHostAndPort(e),y=m===null?"":`:${m}`;a.config.emulator={url:`${o}//${p}${y}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:p,port:m,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:u})}),u||emitEmulatorWarning()}function extractProtocol(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function extractHostAndPort(t){const e=extractProtocol(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",u=/^(\[[^\]]+\])(:|$)/.exec(a);if(u){const o=u[1];return{host:o,port:parsePort(a.substr(o.length+1))}}else{const[o,p]=a.split(":");return{host:o,port:parsePort(p)}}}function parsePort(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function emitEmulatorWarning(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class AuthCredential{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,n){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function linkEmailPassword(t,e){return _performApiRequest(t,"POST","/v1/accounts:signUp",e)}async function signInWithPassword(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(t,e))}async function sendOobCode(t,e){return _performApiRequest(t,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(t,e))}async function sendSignInLinkToEmail$1(t,e){return sendOobCode(t,e)}async function signInWithEmailLink$1(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}async function signInWithEmailLinkForLinking(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}class EmailAuthCredential extends AuthCredential{constructor(e,n,a,u=null){super("password",a),this._email=e,this._password=n,this._tenantId=u}static _fromEmailAndPassword(e,n){return new EmailAuthCredential(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new EmailAuthCredential(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,n,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,a,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:n,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function signInWithIdp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(t,e))}const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_fail("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:u}=n,o=__rest(n,["providerId","signInMethod"]);if(!a||!u)return null;const p=new OAuthCredential(a,u);return p.idToken=o.idToken||void 0,p.accessToken=o.accessToken||void 0,p.secret=o.secret,p.nonce=o.nonce,p.pendingToken=o.pendingToken||null,p}_getIdTokenResponse(e){const n=this.buildRequest();return signInWithIdp(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,signInWithIdp(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,signInWithIdp(e,n)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=querystring(n)}return e}}function parseMode(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(t){const e=querystringDecode(extractQuerystring(t)).link,n=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,a=querystringDecode(extractQuerystring(t)).deep_link_id;return(a?querystringDecode(extractQuerystring(a)).link:null)||a||n||e||t}class ActionCodeURL{constructor(e){var n,a,u,o,p,m;const y=querystringDecode(extractQuerystring(e)),w=(n=y.apiKey)!==null&&n!==void 0?n:null,_=(a=y.oobCode)!==null&&a!==void 0?a:null,M=parseMode((u=y.mode)!==null&&u!==void 0?u:null);_assert$1(w&&_&&M,"argument-error"),this.apiKey=w,this.operation=M,this.code=_,this.continueUrl=(o=y.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(p=y.languageCode)!==null&&p!==void 0?p:null,this.tenantId=(m=y.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=parseDeepLink(e);try{return new ActionCodeURL(n)}catch{return null}}}class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,n){return EmailAuthCredential._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=ActionCodeURL.parseLink(n);return _assert$1(a,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,a.code,a.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return GoogleAuthProvider.credential(n,a)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,n){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return TwitterAuthProvider.credential(n,a)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";async function signUp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signUp",_addTidIfNecessary(t,e))}class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,u=!1){const o=await UserImpl._fromIdTokenResponse(e,a,u),p=providerIdForResponse(a);return new UserCredentialImpl({user:o,providerId:p,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const u=providerIdForResponse(a);return new UserCredentialImpl({user:e,providerId:u,_tokenResponse:a,operationType:n})}}function providerIdForResponse(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function signInAnonymously(t){var e;if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const n=_castAuth(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new UserCredentialImpl({user:n.currentUser,providerId:null,operationType:"signIn"});const a=await signUp(n,{returnSecureToken:!0}),u=await UserCredentialImpl._fromIdTokenResponse(n,"signIn",a,!0);return await n._updateCurrentUser(u.user),u}class MultiFactorError extends FirebaseError{constructor(e,n,a,u){var o;super(n.code,n.message),this.operationType=a,this.user=u,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,u){return new MultiFactorError(e,n,a,u)}}function _processCredentialSavingMfaContextIfNecessary(t,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(t,o,e,a):o})}async function _link$1(t,e,n=!1){const a=await _logoutIfInvalidated(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return UserCredentialImpl._forOperation(t,"link",a)}async function _reauthenticate(t,e,n=!1){const{auth:a}=t;if(_isFirebaseServerApp(a.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(a));const u="reauthenticate";try{const o=await _logoutIfInvalidated(t,_processCredentialSavingMfaContextIfNecessary(a,u,e,t),n);_assert$1(o.idToken,a,"internal-error");const p=_parseToken(o.idToken);_assert$1(p,a,"internal-error");const{sub:m}=p;return _assert$1(t.uid===m,a,"user-mismatch"),UserCredentialImpl._forOperation(t,u,o)}catch(o){throw o?.code==="auth/user-not-found"&&_fail(a,"user-mismatch"),o}}async function _signInWithCredential(t,e,n=!1){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const a="signIn",u=await _processCredentialSavingMfaContextIfNecessary(t,a,e),o=await UserCredentialImpl._fromIdTokenResponse(t,a,u);return n||await t._updateCurrentUser(o.user),o}async function signInWithCredential(t,e){return _signInWithCredential(_castAuth(t),e)}function _setActionCodeSettingsOnRequest(t,e,n){var a;_assert$1(((a=n.url)===null||a===void 0?void 0:a.length)>0,t,"invalid-continue-uri"),_assert$1(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_assert$1(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(_assert$1(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function recachePasswordPolicy(t){const e=_castAuth(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function createUserWithEmailAndPassword(t,e,n){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const a=_castAuth(t),p=await handleRecaptchaFlow(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(t),y}),m=await UserCredentialImpl._fromIdTokenResponse(a,"signIn",p);return await a._updateCurrentUser(m.user),m}function signInWithEmailAndPassword(t,e,n){return _isFirebaseServerApp(t.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t)):signInWithCredential(getModularInstance(t),EmailAuthProvider.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(t),a})}async function sendSignInLinkToEmail(t,e,n){const a=_castAuth(t),u={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(p,m){_assert$1(m.handleCodeInApp,a,"argument-error"),m&&_setActionCodeSettingsOnRequest(a,p,m)}o(u,n),await handleRecaptchaFlow(a,u,"getOobCode",sendSignInLinkToEmail$1)}function isSignInWithEmailLink(t,e){const n=ActionCodeURL.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}async function signInWithEmailLink(t,e,n){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const a=getModularInstance(t),u=EmailAuthProvider.credentialWithLink(e,n||_getCurrentUrl());return _assert$1(u._tenantId===(a.tenantId||null),a,"tenant-id-mismatch"),signInWithCredential(a,u)}function onIdTokenChanged(t,e,n,a){return getModularInstance(t).onIdTokenChanged(e,n,a)}function beforeAuthStateChanged(t,e,n){return getModularInstance(t).beforeAuthStateChanged(e,n)}function onAuthStateChanged(t,e,n,a){return getModularInstance(t).onAuthStateChanged(e,n,a)}function signOut$1(t){return getModularInstance(t).signOut()}const STORAGE_AVAILABLE_KEY="__sak";class BrowserPersistenceClass{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}function _iframeCannotSyncWebStorage(){const t=getUA();return _isSafari(t)||_isIOS(t)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),u=this.localCache[n];a!==u&&e(n,u,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((p,m,y)=>{this.notifyListeners(p,y)});return}const a=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const p=this.storage.getItem(a);if(e.newValue!==p)e.newValue!==null?this.storage.setItem(a,e.newValue):this.storage.removeItem(a);else if(this.localCache[a]===e.newValue&&!n)return}const u=()=>{const p=this.storage.getItem(a);!n&&this.localCache[a]===p||this.notifyListeners(a,p)},o=this.storage.getItem(a);_isIE10()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(u,IE10_LOCAL_STORAGE_SYNC_DELAY):u()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const u of Array.from(a))u(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;function _allSettled(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(u=>u.isListeningto(e));if(n)return n;const a=new Receiver(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:u,data:o}=n.data,p=this.handlersMap[u];if(!p?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:u});const m=Array.from(p).map(async w=>w(n.origin,o)),y=await _allSettled(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:u,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];function _generateEventId(t="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return t+n}class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let o,p;return new Promise((m,y)=>{const w=_generateEventId("",20);u.port1.start();const _=setTimeout(()=>{y(new Error("unsupported_event"))},a);p={messageChannel:u,onMessage(M){const T=M;if(T.data.eventId===w)switch(T.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),m(T.data.response);break;default:clearTimeout(_),clearTimeout(o),y(new Error("invalid_response"));break}}},this.handlers.add(p),u.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:w,data:n},[u.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function _window(){return window}function _setWindowLocation(t){_window().location.href=t}function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function getObjectStore(t,e){return t.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const t=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(t).toPromise()}function _openDatabase(){const t=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const a=t.result;try{a.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(u){n(u)}}),t.addEventListener("success",async()=>{const a=t.result;a.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(a):(a.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(t,e,n){const a=getObjectStore(t,!0).put({[DB_DATA_KEYPATH]:e,value:n});return new DBPromise(a).toPromise()}async function getObject(t,e){const n=getObjectStore(t,!1).get(e),a=await new DBPromise(n).toPromise();return a===void 0?null:a.value}function _deleteObject(t,e){const n=getObjectStore(t,!0).delete(e);return new DBPromise(n).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>_TRANSACTION_RETRY_COUNT)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>_putObject(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>getObject(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_deleteObject(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(u=>{const o=getObjectStore(u,!1).getAll();return new DBPromise(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:u,value:o}of e)a.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(o)&&(this.notifyListeners(u,o),n.push(u));for(const u of Object.keys(this.localCache))this.localCache[u]&&!a.has(u)&&(this.notifyListeners(u,null),n.push(u));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const u of Array.from(a))u(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);function _withDefaultResolver(t,e){return e?_getInstance(e):(_assert$1(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return signInWithIdp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _signIn(t){return _signInWithCredential(t.auth,new IdpCredential(t),t.bypassAuthState)}function _reauth(t){const{auth:e,user:n}=t;return _assert$1(n,e,"internal-error"),_reauthenticate(n,new IdpCredential(t),t.bypassAuthState)}async function _link(t){const{auth:e,user:n}=t;return _assert$1(n,e,"internal-error"),_link$1(n,new IdpCredential(t),t.bypassAuthState)}class AbstractPopupRedirectOperation{constructor(e,n,a,u,o=!1){this.auth=e,this.resolver=a,this.user=u,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:u,tenantId:o,error:p,type:m}=e;if(p){this.reject(p);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:o||void 0,postBody:u||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(t,e,n){if(_isFirebaseServerApp(t.app))return Promise.reject(_createError(t,"operation-not-supported-in-this-environment"));const a=_castAuth(t);_assertInstanceOf(t,e,FederatedAuthProvider);const u=_withDefaultResolver(a,n);return new PopupOperation(a,"signInViaPopup",e,u).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,n,a,u,o){super(e,n,u,o),this.provider=a,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert$1(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const a=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(t,e){const n=pendingRedirectKey(e),a=resolverPersistence(t);if(!await a._isAvailable())return!1;const u=await a._get(n)==="true";return await a._remove(n),u}function _overrideRedirectResult(t,e){redirectOutcomeMap.set(t._key(),e)}function resolverPersistence(t){return _getInstance(t._redirectPersistence)}function pendingRedirectKey(t){return _persistenceKeyName(PENDING_REDIRECT_KEY,t.config.apiKey,t.name)}async function _getRedirectResult(t,e,n=!1){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const a=_castAuth(t),u=_withDefaultResolver(a,e),p=await new RedirectAction(a,u,n).execute();return p&&!n&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,e)),p}const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!isNullRedirectEvent(e)){const u=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(_createError(this.auth,u))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function isRedirectEvent(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(t);default:return!1}}async function _getProjectConfig(t,e={}){return _performApiRequest(t,"GET","/v1/projects",e)}const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(t);for(const n of e)try{if(matchDomain(n))return}catch{}_fail(t,"unauthorized-domain")}function matchDomain(t){const e=_getCurrentUrl(),{protocol:n,hostname:a}=new URL(e);if(t.startsWith("chrome-extension://")){const p=new URL(t);return p.hostname===""&&a===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&p.hostname===a}if(!HTTP_REGEX.test(n))return!1;if(IP_ADDRESS_REGEX.test(t))return a===t;const u=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(a)}const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const t=_window().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function loadGapi(t){return new Promise((e,n)=>{var a,u,o;function p(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),n(_createError(t,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((u=(a=_window().gapi)===null||a===void 0?void 0:a.iframes)===null||u===void 0)&&u.Iframe)e(gapi.iframes.getContext());else if(!((o=_window().gapi)===null||o===void 0)&&o.load)p();else{const m=_generateCallbackName("iframefcb");return _window()[m]=()=>{gapi.load?p():n(_createError(t,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${m}`).catch(y=>n(y))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(t){return cachedGApiLoader=cachedGApiLoader||loadGapi(t),cachedGApiLoader}const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(t){const e=t.config;_assert$1(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${t.config.authDomain}/${IFRAME_PATH}`,a={apiKey:e.apiKey,appName:t.name,v:SDK_VERSION},u=EID_FROM_APIHOST.get(t.config.apiHost);u&&(a.eid=u);const o=t._getFrameworks();return o.length&&(a.fw=o.join(",")),`${n}?${querystring(a).slice(1)}`}async function _openIframe(t){const e=await _loadGapi(t),n=_window().gapi;return _assert$1(n,t,"internal-error"),e.open({where:document.body,url:getIframeUrl(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},a=>new Promise(async(u,o)=>{await a.restyle({setHideOnLeave:!1});const p=_createError(t,"network-request-failed"),m=_window().setTimeout(()=>{o(p)},PING_TIMEOUT.get());function y(){_window().clearTimeout(m),u(a)}a.ping(y).then(y,()=>{o(p)})}))}const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(t,e,n,a=DEFAULT_WIDTH,u=DEFAULT_HEIGHT){const o=Math.max((window.screen.availHeight-u)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const y=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:a.toString(),height:u.toString(),top:o,left:p}),w=getUA().toLowerCase();n&&(m=_isChromeIOS(w)?TARGET_BLANK:n),_isFirefox(w)&&(e=e||FIREFOX_EMPTY_URL,y.scrollbars="yes");const _=Object.entries(y).reduce((T,[B,P])=>`${T}${B}=${P},`,"");if(_isIOSStandalone(w)&&m!=="_self")return openAsNewWindowIOS(e||"",m),new AuthPopup(null);const M=window.open(e||"",m,_);_assert$1(M,t,"popup-blocked");try{M.focus()}catch{}return new AuthPopup(M)}function openAsNewWindowIOS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(t,e,n,a,u,o){_assert$1(t.config.authDomain,t,"auth-domain-config-required"),_assert$1(t.config.apiKey,t,"invalid-api-key");const p={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:a,v:SDK_VERSION,eventId:u};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(t.languageCode),p.providerId=e.providerId||"",isEmpty(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,M]of Object.entries(o||{}))p[_]=M}if(e instanceof BaseOAuthProvider){const _=e.getScopes().filter(M=>M!=="");_.length>0&&(p.scopes=_.join(","))}t.tenantId&&(p.tid=t.tenantId);const m=p;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const y=await t._getAppCheckToken(),w=y?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(y)}`:"";return`${getHandlerBase(t)}?${querystring(m).slice(1)}${w}`}function getHandlerBase({config:t}){return t.emulator?_emulatorUrl(t,EMULATOR_WIDGET_PATH):`https://${t.authDomain}/${WIDGET_PATH}`}const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,n,a,u){var o;debugAssert((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const p=await _getRedirectUrl(e,n,a,_getCurrentUrl(),u);return _open(e,p,_generateEventId())}async _openRedirect(e,n,a,u){await this._originValidation(e);const o=await _getRedirectUrl(e,n,a,_getCurrentUrl(),u);return _setWindowLocation(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:u,promise:o}=this.eventManagers[n];return u?Promise.resolve(u):(debugAssert(o,"If manager is not set, promise should be"),o)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await _openIframe(e),a=new AuthEventManager(e);return n.register("authEvent",u=>(_assert$1(u?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},u=>{var o;const p=(o=u?.[0])===null||o===void 0?void 0:o[WEB_STORAGE_SUPPORT_KEY];p!==void 0&&n(!!p),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_validateOrigin(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$3="@firebase/auth",version$s="1.7.0";class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert$1(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function getVersionForPlatform(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(t){_registerComponent(new Component("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),u=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:p,authDomain:m}=a.options;_assert$1(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:p,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(t)},w=new AuthImpl(a,u,o,y);return _initializeAuthInstance(w,n),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const n=_castAuth(e.getProvider("auth").getImmediate());return(a=>new AuthInterop(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$3,version$s,getVersionForPlatform(t)),registerVersion(name$3,version$s,"esm2017")}const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=t=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>authIdTokenMaxAge)return;const u=n?.token;lastPostedIdToken!==u&&(lastPostedIdToken=u,await fetch(t,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))};function getAuth(t=getApp()){const e=_getProvider(t,"auth");if(e.isInitialized())return e.getImmediate();const n=initializeAuth(t,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),a=getExperimentalSetting("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(a,location.origin);if(location.origin===o.origin){const p=mintCookieFactory(o.toString());beforeAuthStateChanged(n,p,()=>p(n.currentUser)),onIdTokenChanged(n,m=>p(m))}}const u=getDefaultEmulatorHost("auth");return u&&connectAuthEmulator(n,`http://${u}`),n}function getScriptParentElement(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_setExternalJSProvider({loadJS(t){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",t),a.onload=e,a.onerror=u=>{const o=_createError("internal-error");o.customData=u,n(o)},a.type="text/javascript",a.charset="UTF-8",getScriptParentElement().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");let auth$1;const signinWithGoogle=async()=>{const t=new GoogleAuthProvider;return(await signInWithPopup(auth$1,t,browserPopupRedirectResolver)).user},sendLinkToEmail=async t=>{const n={url:`${window.location.origin}/?${KEYS.URL_QUERYPARAM_FINISH_SIGNUP}=true`,handleCodeInApp:!0};await sendSignInLinkToEmail(auth$1,t,n),window.localStorage.setItem(KEYS.STORAGE_EMAIL_FOR_SIGNIN_KEY,t)},signInWithLink=async()=>{if(!isSignInWithEmailLink(auth$1,window.location.href))return;console.log("[INFO] FirebaseWeb3Connect - signInWithLink: ",window.location.href);let t=window.localStorage.getItem(KEYS.STORAGE_EMAIL_FOR_SIGNIN_KEY);if(t||(t=window.prompt("Please provide your email for confirmation")),!t)throw new Error("No email provided");const e=await signInWithEmailLink(auth$1,t,window.location.href);return window.localStorage.removeItem(KEYS.STORAGE_EMAIL_FOR_SIGNIN_KEY),e},signInAsAnonymous=async()=>await signInAnonymously(auth$1),signInWithEmailPwd=async(t,e)=>{try{return(await createUserWithEmailAndPassword(auth$1,t,e)).user}catch(n){if(n?.code==="auth/email-already-in-use")return(await signInWithEmailAndPassword(auth$1,t,e)).user;throw n}},signOut=async()=>{await signOut$1(auth$1)},initialize=t=>{auth$1=t},getOnAuthStateChanged=t=>onAuthStateChanged(auth$1,e=>t(e)),getCurrentUserAuth=async()=>auth$1.currentUser,FirebaseAuthProvider={signinWithGoogle,sendLinkToEmail,signInWithLink,signInAsAnonymous,signInWithEmailPwd,signOut,getOnAuthStateChanged,getCurrentUserAuth,initialize};class Crypto{static iteration=1e3;static encryptionAlgorithm="AES-GCM";static ivLength=12;static saltLength=16;static digest="SHA-256";static enc=new TextEncoder;static dec=new TextDecoder;static base64Encode(e){return btoa(String.fromCharCode.apply(void 0,[...e]))}static base64Decode(e){return Uint8Array.from(atob(e),n=>n.charCodeAt(0))}static getPasswordKey(e){return window.crypto.subtle.importKey("raw",Crypto.enc.encode(e),"PBKDF2",!1,["deriveKey"])}static deriveKey(e,n,a,u,o,p){return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:n,iterations:a,hash:u},e,{name:o,length:256},!1,p)}static async encrypt(e,n){try{const a=window.crypto.getRandomValues(new Uint8Array(Crypto.saltLength)),u=window.crypto.getRandomValues(new Uint8Array(Crypto.ivLength)),o=await Crypto.getPasswordKey(e),p=await Crypto.deriveKey(o,a,Crypto.iteration,Crypto.digest,Crypto.encryptionAlgorithm,["encrypt"]),m=await window.crypto.subtle.encrypt({name:Crypto.encryptionAlgorithm,iv:u},p,Crypto.enc.encode(n)),y=new Uint8Array(m),w=new Uint8Array(a.byteLength+u.byteLength+y.byteLength);return w.set(a,0),w.set(u,a.byteLength),w.set(y,a.byteLength+u.byteLength),Crypto.base64Encode(w)}catch(a){return console.error(`Error - ${a}`),""}}static async decrypt(e,n){try{const a=Crypto.base64Decode(n),u=a.slice(0,Crypto.saltLength),o=a.slice(Crypto.saltLength,Crypto.saltLength+Crypto.ivLength),p=a.slice(Crypto.saltLength+Crypto.ivLength),m=await Crypto.getPasswordKey(e),y=await Crypto.deriveKey(m,u,Crypto.iteration,Crypto.digest,Crypto.encryptionAlgorithm,["decrypt"]),w=await window.crypto.subtle.decrypt({name:Crypto.encryptionAlgorithm,iv:o},y,p);return Crypto.dec.decode(w)}catch(a){throw new Error(a?.message||"Error while decrypting data. <br/>Invalid secret or content.")}}static async signMessageFromPassword(e,n){const a=await window.crypto.subtle.importKey("raw",Crypto.enc.encode(e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),u=await window.crypto.subtle.sign({name:"HMAC",hash:{name:"SHA-256"}},a,Crypto.enc.encode(n));return Crypto.base64Encode(new Uint8Array(u))}static async verifySignatureFromPassword(e,n,a){const u=await window.crypto.subtle.importKey("raw",Crypto.enc.encode(e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["verify"]);return await window.crypto.subtle.verify({name:"HMAC",hash:{name:"SHA-256"}},u,new Uint8Array(Crypto.base64Decode(a)),Crypto.enc.encode(n))}static async generatePrivateKeyFromPassword(e){const n=await window.crypto.subtle.importKey("raw",Crypto.enc.encode(e),"PBKDF2",!1,["deriveBits"]),a=window.crypto.getRandomValues(new Uint8Array(Crypto.saltLength)),u=await window.crypto.subtle.deriveBits({name:"PBKDF2",salt:a,iterations:Crypto.iteration,hash:Crypto.digest},n,256);return Crypto.base64Encode(new Uint8Array(u))}}const generateBucketNameUsingWebGlSignature=()=>{const t=[],n=document.createElement("canvas").getContext("webgl2");t.push(n?.getParameter(n.RENDERER)),t.push(n?.getParameter(n.VENDOR));const a=n?.getExtension("WEBGL_debug_renderer_info");t.push(a?.UNMASKED_RENDERER_WEBGL),t.push(a?.UNMASKED_VENDOR_WEBGL);const u=new TextEncoder().encode(t.join(""));return btoa(String.fromCharCode(...u))},generateUIDUsingCanvasID=()=>{const t=document.createElement("canvas");t.height=100,t.width=800;const e=t.getContext("2d");return e!==null&&(e.font="30px Arial",e?.fillText("Hello World",20,90)),t.toDataURL().split(",").pop()},Environment=Object.freeze({applyEncryption:()=>!0,bucketName:generateBucketNameUsingWebGlSignature()}),isStringified=Object.freeze((t="")=>{try{return JSON.parse(t)}catch{return t}});class LocalStorage{_uid;_inMemoryDB;async initialize(){const e=generateUIDUsingCanvasID().slice(0,16);this._uid=e,await this._getDatabase()}async _getDatabase(){if(!this._inMemoryDB){const e=window.localStorage.getItem(Environment.bucketName)||void 0,n=Environment.applyEncryption()&&this._uid&&e?await Crypto.decrypt(this._uid,e):e,a=isStringified(n);this._inMemoryDB=new Map(a)}return this._inMemoryDB}async _saveDatabase(){if(!this._inMemoryDB)throw new Error("Database not initialized");const e=JSON.stringify(Array.from(this._inMemoryDB.entries())),n=Environment.applyEncryption()&&this._uid&&e?await Crypto.encrypt(this._uid,e):e;window.localStorage.setItem(Environment.bucketName,n)}getUniqueID(){return this._uid}async getItem(e){return await this._getDatabase().then(a=>a.get(e))||null}async setItem(e,n){if(!this._inMemoryDB)throw new Error("Database not initialized");this._inMemoryDB.set(e,n),await this._saveDatabase()}async removeItem(e){if(!this._inMemoryDB)throw new Error("Database not initialized");this._inMemoryDB.delete(e),await this._saveDatabase(),this._inMemoryDB.size===0&&window.localStorage.removeItem(Environment.bucketName)}async removeItems(e){for(const n of e)await this.removeItem(n)}async clear(){this._inMemoryDB=new Map,window.localStorage.clear()}}const storageProvider=new LocalStorage,html=`<dialog class="dialog">
	<form method="dialog">
		<button type="reset" id="cancel">
			<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg">
				<path
					d="M12 10.586L15.879 6.707a1 1 0 011.414 1.414L13.414 12l3.879 3.879a1 1 0 01-1.414 1.414L12 13.414l-3.879 3.879a1 1 0 01-1.414-1.414L10.586 12 6.707 8.121a1 1 0 111.414-1.414L12 10.586z"
					class="app-icon"
				></path>
			</svg>
		</button>
		<p class="title">{{integrator}}</p>
		<div id="logo">
			<svg width="49" height="51" xmlns="http://www.w3.org/2000/svg">
				<path
					d="M3.9468 10.0288L20.5548.995c2.4433-1.3267 5.45-1.3267 7.8936 0l16.6078 9.0338C47.4966 11.3585 49 13.8102 49 16.4666V34.534c0 2.6537-1.5034 5.1082-3.9438 6.438l-16.6078 9.0307c-2.4435 1.3297-5.4503 1.3297-7.8937 0L3.9467 40.972C1.5035 39.642 0 37.1876 0 34.534V16.4667c0-2.6564 1.5034-5.108 3.9468-6.4378z"
					class="app-icon"
				></path>
			</svg>
		</div>

		<div id="dialog__auth_provider_methods">
			<div class="buttonsList">
				<button type="reset" id="connect-google">
					<svg
						width="28px"
						height="28px"
						viewBox="-3 0 262 262"
						xmlns="http://www.w3.org/2000/svg"
						preserveAspectRatio="xMidYMid"
					>
						<path
							d="M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"
							fill="#4285F4"
						/>
						<path
							d="M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"
							fill="#34A853"
						/>
						<path
							d="M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"
							fill="#FBBC05"
						/>
						<path
							d="M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"
							fill="#EB4335"
						/>
					</svg>
					Connect with Google
				</button>

				<p class="or">or</p>

				<button type="reset" id="connect-email">Email</button>

				<button type="reset" id="connect-wallet">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						class="ionicon"
						viewBox="0 0 512 512"
						width="28px"
						height="28px"
					>
						<rect
							x="48"
							y="144"
							width="416"
							height="288"
							rx="48"
							ry="48"
							fill="none"
							stroke="currentColor"
							stroke-linejoin="round"
							stroke-width="32"
						/>
						<path
							d="M411.36 144v-30A50 50 0 00352 64.9L88.64 109.85A50 50 0 0048 159v49"
							fill="none"
							stroke="currentColor"
							stroke-linejoin="round"
							stroke-width="32"
						/>
						<path d="M368 320a32 32 0 1132-32 32 32 0 01-32 32z" />
					</svg>
					Connect wallet
				</button>

				<button type="reset" id="create-new-wallet">
					<small>Create new Wallet</small>
				</button>
			</div>

			<div id="spinner" style="display: none"></div>
		</div>
		<p class="policy"><a href="#">Privacy Policy</a> - <a href="#">Terms</a></p>
		<p class="powered-by">
			Powered by
			<a href="https://hexaonelabs.com" target="_blank" rel="noopener"
				>HexaOne Labs</a
			>
		</p>
	</form>
</dialog>
`,css$2=`:host([theme='light']) {
	--icon-color: #180d68;
	--dialog-box-shadow: 0 0 2rem 0 rgba(0, 0, 0, '0.1');
	--dialog-background-color: #fff;
	--text-color: #242424;
	--text-link: #646cff;
	--text-link-hover: #747bff;
	--dialog-border: solid 1px #ccc;
	--button-background: #fff;
	--button-hover-background: #f5f5f5;
}

:host([theme='dark']) {
	--icon-color: #fff;
	--dialog-box-shadow: 0 0 2rem 0 rgba(0, 0, 0, '0.3');
	--dialog-background-color: #242424;
	--text-color: #fff;
	--text-link: #646cff;
	--text-link-hover: #535bf2;
	--dialog-border: solid 1px #2c2c2c;
	--button-background: #1a1a1a;
	--button-hover-background: #333333;
}

@keyframes slide-in-up {
	0% {
		transform: translateY(100%);
	}
}
@keyframes scale-down {
	to {
		transform: scale(0.35);
	}
}

:host .app-icon {
	fill: var(--icon-color);
}

:host {
	--animation-scale-down: scale-down 0.125s var(--ease);
	--animation-slide-in-up: slide-in-up 0.125s var(--ease);
	--ease: cubic-bezier(0.25, 0, 0.3, 1);
	--ease-elastic-in-out: cubic-bezier(0.5, -0.5, 0.1, 1.5);
	--ease-squish: var(--ease-elastic-in-out);

	font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
	line-height: 1.5;
	font-weight: 400;
	color-scheme: light dark;
	box-sizing: border-box;
}

:host * {
	box-sizing: border-box;
}

:host dialog {
	z-index: 9999;
	overflow: hidden;
	transition: all 0.125s;
	box-shadow: var(--dialog-box-shadow);
	display: block;
	inset: 0;
	background-color: var(--dialog-background-color);
	color: var(--text-color);
	position: fixed;
	border: var(--dialog-border);
	border-radius: 32px;
	padding: 0px;
	text-align: center;
	width: 80vw;
	max-width: 400px;
	box-sizing: border-box;
	cursor: default;
	font-synthesis: none;
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	animation: var(--animation-scale-down) forwards;
	animation-timing-function: var(--ease-squish);
}

:host dialog:not([open]) {
	pointer-events: none;
	opacity: 0;
}
:host dialog[open] {
	animation: slide-in-up 0.225s var(--ease) forwards;
}

:host dialog::backdrop {
	background-color: rgba(0, 0, 0, 0.2);
	-webkit-backdrop-filter: blur(1px);
	backdrop-filter: blur(1px);
}

:host dialog form {
	width: 100%;
}

:host dialog #logo svg,
:host dialog #logo img {
	margin: 2em auto 3rem;
	display: block;
	transform: scale(1.5);
}

:host dialog #logo img {
	width: 58px;
}

a {
	color: #646cff;
	text-decoration: inherit;
}

:host a:hover {
	color: var(--text-link-hover);
}

:host p {
	font-size: 0.8rem;
	font-weight: 400;
	margin: 12px auto 0rem;
	max-width: 300px;
}

:host dialog p.title {
	font-size: 0.6rem;
	margin: 1rem auto;
}
:host dialog p.or {
	font-size: 0.8rem;
	opacity: 0.8;
}

:host p.policy {
	font-size: 0.6rem;
	margin: 1.5rem auto 0rem;
	border-top: solid 1px var(--button-hover-background);
	padding-top: 1rem;
	width: 100%;
	max-width: 100%;
}
:host p.powered-by {
	font-size: 0.5rem;
	margin: 0.2rem auto 1rem;
	opacity: 0.8;
}

:host .buttonsList {
	position: relative;
	padding: 0 16px;
}

:host *:focus-visible {
	outline: none;
	outline-offset: 2px;
}

:host dialog button {
	max-width: 300px;
	margin-left: auto;
	margin-right: auto;
}

:host dialog button:not(#cancel) {
	text-align: center;
	background-color: var(--button-background);
	color: var(--text-color);
	border: var(--dialog-border);
	border-radius: 24px;
	cursor: pointer;
	font-size: 16px;
	font-weight: 600;
	margin-top: 16px;
	padding: 12px 16px;
	display: flex;
	justify-content: center;
	width: 100%;
	min-width: 280px;
	min-height: 54px;
	align-items: center;
	font-family: 'Roboto', sans-serif;
	font-weight: 400;
}

:host dialog button:not(#cancel):not([disabled]):hover {
	background-color: var(--button-hover-background);
}

:host dialog button[disabled] {
	opacity: 0.6;
	cursor: not-allowed !important;
}

:host dialog button:not(#cancel) svg {
	margin-right: 8px;
}

:host .buttonsList button#create-new-wallet {
	border: none;
	background: transparent;
	padding: 0;
	margin: 0 auto;
	opacity: 0.6;
}
:host .buttonsList button#create-new-wallet:hover {
	background-color: transparent !important;
}

:host #cancel {
	background-color: transparent;
	border: none;
	color: var(--text-color);
	cursor: pointer;
	position: absolute;
	right: 16px;
	top: 16px;
}

@media (max-width: 600px) {
	:host dialog {
		width: 100vw;
		height: 100vh;
		max-width: 100vw;
		min-height: 100vh;
		border-radius: 0;
		border: none;
		margin: 0;
		display: flex;
		align-items: start;
		justify-content: center;
		overflow-y: scroll;
	}
}
`;class StorageService{_storageProvider;constructor(){}async initialize(e,n){return this._storageProvider=e,this._storageProvider.initialize(n)}async getItem(e){return this._storageProvider.getItem(e)}async setItem(e,n){return this._storageProvider.setItem(e,n)}async removeItem(e){return this._storageProvider.removeItem(e)}async clear(){return this._storageProvider.clear()}async isExistingPrivateKeyStored(){return!!window.localStorage.getItem(Environment.bucketName)}async executeBackup(e,n){console.log("[INFO] Execute Backup request:",{requestBackup:e,secret:n});const a=await this._getBackup(),u=e===!0;if(!n&&u)throw new Error("Secret is required to decrypt the private key");const o=!u&&n?await Crypto.decrypt(n,a):a;console.log("[INFO] Backup data:",{data:o,withEncryption:u,encriptedPrivateKey:a});const p=new Blob([o],{type:"text/plain"}),m=URL.createObjectURL(p),y=document.createElement("a");y.href=m,y.download=`hexa-backup-${new Date().toISOString().replace(/:/g,"-").split(".")[0]}.txt`,y.click(),URL.revokeObjectURL(m),await new Promise(w=>setTimeout(w,500)),localStorage.removeItem(KEYS.STORAGE_BACKUP_KEY),await this._storageProvider.removeItem(KEYS.STORAGE_SKIP_BACKUP_KEY)}getUniqueID(){return this._storageProvider.getUniqueID()}async _getBackup(){if(!window.localStorage.getItem(Environment.bucketName))throw new Error("Database empty");const n=await this._storageProvider.getItem(KEYS.STORAGE_PRIVATEKEY_KEY);if(!n)throw new Error("Private key not found");return n}}const storageService=new StorageService,promptPasswordElement=async(t,e)=>{const u=e?.requestPwd||!1,o=!await storageService.isExistingPrivateKeyStored()&&u!==!0;console.log("isCreating",o,u);const p=(m,y)=>y?m.value.length>0&&y.value.length>0&&m.value===y.value:m.value.length>0;return new Promise(m=>{const y=document.createElement("div");y.classList.add("prompt-container");const w=`
    <style>
      .prompt-container {
        background: var(--dialog-background-color);
        height: 100%;
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 0rem;
        box-sizing: border-box;
      }

      .prompt__input {
        display: block;
        min-height: 50px;
        width: 100%;
        max-width: 300px;
        margin: 0rem auto 0.5rem;
        text-align: center;
        color: var(--text-color);
        background: var(--button-background);
        border: var(--dialog-border);
        border-radius: 12px;
        padding: 12px 16px;
        font-size: 1em;
        text-align: center;
      }
      .prompt__message { 
        margin-bottom: 1.5rem;
      }
			.prompt__message h4 {
				margin: 0 auto -0.7rem;
				font-size: 1.3em;
			}
      .prompt__button {
        margin-top: 1rem;
      }

    </style>
      <div class="prompt__message">
				${o?"<h4>Create a new Wallet</h4>":"<h4>Connect you Wallet</h4>"}
        <p><b>${o?"Protect your Wallet with a password":"Welcome back!"}</b></p>
        <p>
          ${o?"The password you enter encrypts your private key and gives access to your funds. Please store your password in a safe place. We dont keep your information and cant restore it.":"Unlock your wallet with your password."}
        </p>
      </div>
      <input 
        class="prompt__input password" 
        name="password"
        type="password" 
        minLength="4"
        maxLength="32"
        autocomplet="${o?"new-password":"current-password"}"
        placeholder="password" />
      ${o?`
            <input 
              class="prompt__input confirme" 
              name="confirme"
              type="password" 
              minLength="4"
              maxLength="32"
              autocomplet="new-password"
              placeholder="confirme password" />
              `:""}
      <button disabled class="prompt__button">OK</button>
    `;y.innerHTML=w,t.after(y),t.style.display="none";const _=y.querySelector(".prompt__input.password"),M=y.querySelector(".prompt__input.confirme"),T=y.querySelector(".prompt__button");T.addEventListener("click",()=>{m(_.value),y.remove(),o||(t.style.display="block")}),_.addEventListener("input",()=>{const B=p(_,M);T.disabled=!B}),o&&M.addEventListener("input",()=>{const B=p(_,M);T.disabled=!B})})},isValideInputs=(t,e)=>!e||!t?!1:t.value.length>0&&e.value.length>0,promptEmailPasswordElement=async t=>{const a=!await storageService.isExistingPrivateKeyStored();return new Promise(u=>{const o=document.createElement("div");o.classList.add("prompt-container");const p=`
    <style>
      .prompt-container {
        background: var(--dialog-background-color);
        height: 100%;
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 0rem;
        box-sizing: border-box;
      }

      .prompt__input {
        display: block;
        min-height: 50px;
        width: 100%;
        max-width: 300px;
        margin: 0rem auto 0.5rem;
        text-align: center;
        color: var(--text-color);
        background: var(--button-background);
        border: var(--dialog-border);
        border-radius: 12px;
        padding: 12px 16px;
        font-size: 1em;
        text-align: center;
      }
      .prompt__message { 
        margin-bottom: 1.5rem;
      }			
      .prompt__message h4 {
				margin: 0 auto -0.7rem;
				font-size: 1.3em;
			}
      .prompt__button {
        margin-top: 1rem;
      }

    </style>
    <div class="prompt__message">
      ${a?"<h4>Create a new Wallet</h4>":"<h4>Connect you Wallet</h4>"}
      <p><b>${a?"Protect your Wallet with a password":"Welcome back!"}</b></p>
      <p>
        ${a?"The password you enter encrypts your private key and gives access to your funds. Please store your password in a safe place. We dont keep your information and cant restore it.":"Unlock Wallet with email & password."}
      </p>
    </div>
    <input 
      class="prompt__input email" 
      name="email"
      type="email" 
      minLength="4"
      placeholder="email" />
    <input 
      class="prompt__input password" 
      name="password"
      type="password" 
      minLength="4"
      maxLength="32"
      autocomplet="current-password"
      placeholder="password" />
    <button disabled class="prompt__button">Connect</button>
    `;o.innerHTML=p,t.after(o),t.style.display="none";const m=o.querySelector(".prompt__input.password"),y=o.querySelector(".prompt__input.email"),w=o.querySelector(".prompt__button");m.addEventListener("input",()=>{const _=isValideInputs(m,y);w.disabled=!_}),w.addEventListener("click",()=>{u({password:m.value,email:y.value}),o.remove(),t.style.display="block"})})},CheckboxElement=t=>`
    <style>
    
      .checkbox__container {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 1rem auto 0;
        font-size: 0.8rem;
      }

      input[type='checkbox'] {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border: var(--dialog-border);
        display: grid;
        place-content: center;
        background-color: var(--dialog-background-color);
        border-radius: 4px;
        cursor: pointer;
        transition: all 125ms ease-in-out;
      }

      input[type='checkbox']::after {
        content: '';
        width: 20px;
        height: 20px;
        transform: scale(0);
        background-color: var(--dialog-background-color);
        clip-path: polygon(17% 54%, 28% 43%, 38% 54%, 70% 22%, 81% 33%, 38% 75%, 17% 54%);
      }

      input[type='checkbox']:checked {
        background-color: var(--dialog-background-color);
      }

      input[type='checkbox']::after {
        transform: scale(1);
      }

      input[type='checkbox']:checked::after {
        background-color: var(--text-color);
      }
    </style>
    <div class="checkbox__container">
      <input type="checkbox" id="toggle__encription" name="toggle__encription" checked="true">
      <label for="toggle__encription">${t||"Encrypt backup file"}</label>
    </div>
  `,css$1=`.button__skip {
	cursor: pointer;
}
`,promptToDownloadElement=async t=>{const e=document.createElement("div");return e.classList.add("prompt-container"),t.after(e),t.style.display="none",new Promise(n=>{e.innerHTML=`
      <style>${css$1}</style>
      <p>
        <b>
          Backup your wallet PrivateKey
        </b>
      </p>
      <p>
        Download your backup file. We don't keep any copies of your private key, so make sure to keep it safe! 
        It's the only way to recover your wallet if you lose your device.
      </p>

      ${CheckboxElement()}

      <button id="button__download">Download backup file</button>
      
      <p><a class="button__skip">skip</a></p>
    `;const a=e.querySelector("#toggle__encription");e.querySelector(".button__skip").addEventListener("click",p=>{p.preventDefault(),n({skip:!0}),e.remove(),t.style.display="block"}),e.querySelector("#button__download").addEventListener("click",async()=>{n({withEncryption:a.checked}),e.remove(),t.style.display="block"})})},SpinnerElement=()=>`
  <style>

  .circular-loader {
    -webkit-animation: rotate 2s linear infinite;
            animation: rotate 2s linear infinite;
    height: 100%;
    -webkit-transform-origin: center center;
        -ms-transform-origin: center center;
            transform-origin: center center;
    width: 100%;
    position: relative;
    top: 0;
    left: 0;
    margin: auto;
    max-width: 115px
  }
  
  .loader-path {
    stroke-dasharray: 150,200;
    stroke-dashoffset: -10;
    -webkit-animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;
            animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;
    stroke-linecap: round;
  }
  
  @-webkit-keyframes rotate {
    100% {
      -webkit-transform: rotate(360deg);
              transform: rotate(360deg);
    }
  }
  
  @keyframes rotate {
    100% {
      -webkit-transform: rotate(360deg);
              transform: rotate(360deg);
    }
  }
  @-webkit-keyframes dash {
    0% {
      stroke-dasharray: 1,200;
      stroke-dashoffset: 0;
    }
    50% {
      stroke-dasharray: 89,200;
      stroke-dashoffset: -35;
    }
    100% {
      stroke-dasharray: 89,200;
      stroke-dashoffset: -124;
    }
  }
  @keyframes dash {
    0% {
      stroke-dasharray: 1,200;
      stroke-dashoffset: 0;
    }
    50% {
      stroke-dasharray: 89,200;
      stroke-dashoffset: -35;
    }
    100% {
      stroke-dasharray: 89,200;
      stroke-dashoffset: -124;
    }
  }
  @-webkit-keyframes color {
    0% {
      stroke: var(--icon-color);
    }
    40% {
      stroke: var(--icon-color);
    }
    66% {
      stroke: var(--icon-color);
    }
    80%, 90% {
      stroke: var(--icon-color);
    }
  }
  @keyframes color {
    0% {
      stroke: var(--icon-color);
    }
    40% {
      stroke: var(--icon-color);
    }
    66% {
      stroke: var(--icon-color);
    }
    80%, 90% {
      stroke: var(--icon-color);
    }
  }
  
  </style>
  <svg class="circular-loader"viewBox="25 25 50 50" >
      <circle class="loader-path" cx="50" cy="50" r="20" fill="none" stroke="var(--icon-color)" stroke-width="2" />
  </svg>
  `,extensionIcon='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M413.66 246.1H386a2 2 0 01-2-2v-77.24A38.86 38.86 0 00345.14 128H267.9a2 2 0 01-2-2V98.34c0-27.14-21.5-49.86-48.64-50.33a49.53 49.53 0 00-50.4 49.51V126a2 2 0 01-2 2H87.62A39.74 39.74 0 0048 167.62V238a2 2 0 002 2h26.91c29.37 0 53.68 25.48 54.09 54.85.42 29.87-23.51 57.15-53.29 57.15H50a2 2 0 00-2 2v70.38A39.74 39.74 0 0087.62 464H158a2 2 0 002-2v-20.93c0-30.28 24.75-56.35 55-57.06 30.1-.7 57 20.31 57 50.28V462a2 2 0 002 2h71.14A38.86 38.86 0 00384 425.14v-78a2 2 0 012-2h28.48c27.63 0 49.52-22.67 49.52-50.4s-23.2-48.64-50.34-48.64z"/></svg>',downloadIcon='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M176 272l80 80 80-80M256 48v288"/></svg>',css=`
.prompt__wallet_type button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

.prompt__wallet_type button svg {
  width: 28px;
  height: 28px;
  color: var(--text-color);
}
`,promptWalletTypeElement=async t=>{const e=document.createElement("div");e.classList.add("prompt-container"),t.after(e),t.style.display="none",e.innerHTML=`
      <style>
        ${css}
      </style>
      <div class="prompt__wallet_type">
        <button id="button__external_wallet">
          ${extensionIcon}
          <span>Browser extension</span>
        </button>
        <button id="button__import_wallet">
          ${downloadIcon}
          <span>import wallet</span>
        </button>
      </div>
    `;const n=e.querySelector("#button__external_wallet"),a=e.querySelector("#button__import_wallet");return new Promise(u=>{n.addEventListener("click",()=>{u("browser-extension"),e.remove(),t.style.display="block"}),a.addEventListener("click",()=>{u("import-privatekey"),e.remove()})})};class HexaSigninDialogElement extends HTMLElement{_ops;get ops(){return this._ops}set ops(e){const n=e?.enabledSigninMethods?.filter(o=>o!==void 0)||DEFAULT_SIGNIN_METHODS,a=e?.integrator?"Sign in to "+e.integrator:"Sign in using FirebaseWeb3Connect",u=(this.ops?.logoUrl?.length||0)>0?this.ops?.logoUrl:void 0;if(this._ops={...e,logoUrl:u,integrator:a,enabledSigninMethods:n},console.log("[INFO] ops: ",this.ops),this.shadowRoot?.innerHTML==="")this._render();else throw new Error("ShadowDOM already initialized")}constructor(){if(super(),!this.attachShadow({mode:"open"}))throw new Error("ShadowDOM not supported")}_render(){const e=document.createElement("template");if(e.innerHTML=`
        <style>${css$2}</style>
        ${html}
    `,e.content.querySelector("#spinner").innerHTML=SpinnerElement(),e.content.querySelectorAll(".buttonsList button").forEach(u=>{!this.ops?.enabledSigninMethods?.includes(u.id)&&u.id.startsWith("connect")&&u.remove()}),(!this.ops?.enabledSigninMethods?.includes(SigninMethod.Google)||this.ops.enabledSigninMethods.includes(SigninMethod.Google)&&this.ops.enabledSigninMethods.length===1)&&e.content.querySelector(".or")?.remove(),this.ops?.logoUrl&&(console.log("[INFO] Logo URL: ",this.ops.logoUrl),e.content.querySelector("#logo").innerHTML=`
				<img src="${this.ops.logoUrl}" alt="logo" />	
			`),!this.shadowRoot)throw new Error("ShadowRoot not found. Webcomponent not initialized.");this.setAttribute("theme",this.ops?.isLightMode?"light":"dark"),this.shadowRoot.appendChild(e.content.cloneNode(!0)),[{tag:"integrator",value:`${this.ops?.integrator}`}].forEach(u=>{if(!this.shadowRoot)throw new Error("ShadowRoot not found while replacing variables");this.shadowRoot.innerHTML=this.shadowRoot.innerHTML.replace(new RegExp(`{{${u.tag}}}`,"g"),u.value)})}showModal(){this.shadowRoot?.querySelector("dialog")?.showModal()}hideModal(){this.shadowRoot?.querySelector("dialog")?.close()}connectedCallback(){this.shadowRoot?.querySelector("dialog")?.addEventListener("click",async e=>{const n=e.target.closest("button");if(!n)return;if(n.id==="cancel"){this.dispatchEvent(new CustomEvent("connect",{detail:n.id}));return}if(n.id==="create-new-wallet"){this.dispatchEvent(new CustomEvent("reset"));return}if(!n.id.includes("connect"))return;const a=this.shadowRoot?.querySelector("dialog .buttonsList"),u=this.shadowRoot?.querySelector("dialog #spinner");switch(a.style.display="none",u.style.display="block",n.id){case"connect-google":this.dispatchEvent(new CustomEvent("connect",{detail:n.id}));break;case"connect-email":this.dispatchEvent(new CustomEvent("connect",{detail:n.id}));break;case"connect-wallet":this.dispatchEvent(new CustomEvent("connect",{detail:n.id}));break}})}async toggleSpinnerAsCheck(){await new Promise(n=>{const a=setTimeout(()=>{clearTimeout(a),n(!0)},1500)});const e=this.shadowRoot?.querySelector("dialog #spinner");return e.innerHTML=`
    <style>
    #check-group {
      animation: 0.32s ease-in-out 1.03s check-group;
      transform-origin: center;
    }
    
    #check-group #check {
        animation: 0.34s cubic-bezier(0.65, 0, 1, 1) 0.8s forwards check;
        stroke-dasharray: 0, 75px;
        stroke-linecap: round;
        stroke-linejoin: round;
    }
    
    #check-group #outline {
        animation: 0.38s ease-in outline;
        transform: rotate(0deg);
        transform-origin: center;
    }
    
    #check-group #white-circle {
        animation: 0.35s ease-in 0.35s forwards circle;
        transform: none;
        transform-origin: center;
    }
    
    @keyframes outline {
      from {
        stroke-dasharray: 0, 345.576px;
      }
      to {
        stroke-dasharray: 345.576px, 345.576px;
      }
    }
    @keyframes circle {
      from {
        transform: scale(1);
      }
      to {
        transform: scale(0);
      }
    }
    @keyframes check {
      from {
        stroke-dasharray: 0, 75px;
      }
      to {
        stroke-dasharray: 75px, 75px;
      }
    }
    @keyframes check-group {
      from {
        transform: scale(1);
      }
      50% {
        transform: scale(1.09);
      }
      to {
        transform: scale(1);
      }
    }
    </style>
  
    <svg
      width="115px"
      height="115px"
      viewBox="0 0 133 133"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <g
          id="check-group"
          stroke="none"
          stroke-width="4"
          fill="none"
          fill-rule="evenodd"
      >
              <circle
              id="filled-circle"
              fill="#07b481"
              cx="66.5"
              cy="66.5"
              r="54.5"
          />
          <circle
              id="white-circle"
              fill="var(--dialog-background-color)"
              cx="66.5"
              cy="66.5"
              r="55.5"
          />
          <circle
              id="outline"
              stroke="#07b481"
              stroke-width="4"
              cx="66.5"
              cy="66.5"
              r="54.5"
          />
          <polyline
              id="check"
              stroke="var(--dialog-background-color)"
              stroke-width="6.5"
              points="41 70 56 85 92 49"
          />
      </g>
    </svg>
    `,new Promise(n=>{const a=setTimeout(()=>{clearTimeout(a),n(!0)},1800)})}async toggleSpinnerAsCross(e="An error occured. Please try again."){await new Promise(a=>{const u=setTimeout(()=>{clearTimeout(u),a(!0)},1500)});const n=this.shadowRoot?.querySelector("dialog #spinner");return n.innerHTML=`
    <style>
    @keyframes stroke {
      100% {
        stroke-dashoffset: 0;
      }
    }
    .cross__svg {
        border-radius: 50%;
        display: block;
        height: 111px;
        margin: 1rem auto;
        stroke-width: 4;
        width: 111px;
    }

    .cross__circle {
        animation: 0.6s ease 0s normal forwards 1 running stroke;
        fill: none;
        margin: 0 auto;
        stroke: #e55454;
        stroke-dasharray: 166;
        stroke-dashoffset: 166;
        stroke-width: 3;
    }

    .cross__path {
        stroke: #e55454;
        stroke-dasharray: 48;
        stroke-dashoffset: 48;
        transform-origin: 50% 50% 0;
    }
    .cross__path.cross__path--right {
      animation: 0.3s ease 0.8s normal forwards 1 running stroke;
    }
    .cross__path.cross__path--left {
      animation: 1s ease 0.8s normal forwards 1 running stroke;
    }
    p.cross__message {
      color: #e55454;
      font-size: 0.8rem;
      text-align: center;
    }


    </style>
  
    <svg class="cross__svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
      <circle class="cross__circle" cx="26" cy="26" r="25" fill="none"/>
      <path class="cross__path cross__path--right" fill="none" d="M16,16 l20,20" />
      <path class="cross__path cross__path--right" fill="none" d="M16,36 l20,-20" />
    </svg>
    <p class="cross__message">${e}</p>
    `,new Promise(a=>{const u=setTimeout(()=>{clearTimeout(u),a(!0)},1800)})}async promptPassword(){return await promptPasswordElement(this.shadowRoot?.querySelector("dialog #spinner"))}async promptEmailPassword(){return await promptEmailPasswordElement(this.shadowRoot?.querySelector("dialog #spinner"))}async promptBackup(){return await promptToDownloadElement(this.shadowRoot?.querySelector("dialog #spinner"))}async promptWalletType(){return await promptWalletTypeElement(this.shadowRoot?.querySelector("dialog #spinner"))}async promptAuthMethods(){(this.shadowRoot?.querySelector("dialog #spinner")).style.display="none",(this.shadowRoot?.querySelector("dialog .buttonsList")).style.display="block"}async reset(){if(!window.confirm("You are about to clear all data to create new Wallet. This will remove all your existing data and we will not be able to recover it if you don't have backup. You are confirming that you want to clear all data and create new Wallet?"))return;this.shadowRoot?.innerHTML&&(this.shadowRoot.innerHTML=""),this._ops={...this._ops,enabledSigninMethods:DEFAULT_SIGNIN_METHODS},this._render(),this.connectedCallback(),await storageService.getItem(KEYS.STORAGE_AUTH_METHOD_KEY)||this.shadowRoot?.querySelector("#create-new-wallet")?.remove(),this.showModal()}}const passwordValidationOrSignature=t=>({execute:async()=>{const e=await storageService.isExistingPrivateKeyStored(),n=await storageService.getItem(KEYS.AUTH_SIGNATURE_KEY);if(e&&n){if(!await Crypto.verifySignatureFromPassword(t,KEYS.AUTH_SIGNATURE_VALUE,n))throw new Error("Invalid password")}else{const a=await Crypto.signMessageFromPassword(t,KEYS.AUTH_SIGNATURE_VALUE);await storageService.setItem(KEYS.AUTH_SIGNATURE_KEY,a)}}}),authWithGoogle=async t=>{const{password:e,skip:n,withEncryption:a}=t;await passwordValidationOrSignature(e).execute(),!await storageService.getItem(KEYS.STORAGE_PRIVATEKEY_KEY)&&!n&&localStorage.setItem(KEYS.STORAGE_BACKUP_KEY,a?"true":"false");const o=await Crypto.encrypt(storageService.getUniqueID(),e);return await storageService.setItem(KEYS.STORAGE_SECRET_KEY,o),n===!0&&await storageService.setItem(KEYS.STORAGE_SKIP_BACKUP_KEY,`${Date.now()}`),await FirebaseAuthProvider.signinWithGoogle()},authWithEmailPwd=async t=>{const{password:e,skip:n,withEncryption:a}=t;await passwordValidationOrSignature(e).execute(),!await storageService.getItem(KEYS.STORAGE_PRIVATEKEY_KEY)&&!n&&localStorage.setItem(KEYS.STORAGE_BACKUP_KEY,a?"true":"false");const o=await Crypto.encrypt(storageService.getUniqueID(),e);return await storageService.setItem(KEYS.STORAGE_SECRET_KEY,o),await FirebaseAuthProvider.signInWithEmailPwd(t.email,t.password).catch(m=>{const{code:y="",message:w=""}=m;switch(!0){case y==="auth/email-already-in-use":case y==="auth/weak-password":case y==="auth/invalid-email":{console.error(`[ERROR] Signin Step: ${y}: ${w}`),storageService.clear(),localStorage.removeItem(KEYS.STORAGE_BACKUP_KEY);break}case y==="auth/invalid-credential":throw console.error(`[ERROR] Signin Step: ${y}: ${w}`),storageService.clear(),localStorage.removeItem(KEYS.STORAGE_BACKUP_KEY),new Error('This email is already used and connected to other device. Import your private key instead using: "Connect Wallet -> Import Wallet".')}throw m})},authWithExternalWallet=async(t=CHAIN_DEFAULT.id)=>{console.log("authWithExternalWallet:",{networkId:t});const{user:{uid:e}}=await FirebaseAuthProvider.signInAsAnonymous();return{uid:e}},authByImportPrivateKey=async t=>{const{password:e,privateKey:n}=t,a=await Crypto.encrypt(e,n);await storageService.setItem(KEYS.STORAGE_PRIVATEKEY_KEY,a);const{uid:u}=await authWithGoogle({password:e});return{uid:u}},promptImportPrivatekeyElement=async t=>{const e=document.createElement("div");e.classList.add("prompt-container"),t.after(e),t.style.display="none",e.innerHTML=`
    <div class="prompt__import_file">
      <p>
				<b>Import Privatekey backup file</b><br/>
				& Authenticate with Google to continue
      </p>
      <div class="prompt__import_file__result"></div>
      ${CheckboxElement("Encrypted backup file")}
      <button id="button__import_privatekey">
        <span>Import</span>
      </button>
      <input type="file" id="input__import_file" accept=".txt" style="display: none;">
    </div>
  `;const n=e.querySelector("#button__import_privatekey"),a=e.querySelector("#input__import_file"),u=e.querySelector("#toggle__encription");return await new Promise((p,m)=>{n.addEventListener("click",y=>{y.preventDefault(),a.click()}),a.addEventListener("change",async()=>{const y=a.files?.[0];if(y)try{const w=await y.text();if(u.checked){const M=await promptPasswordElement(e,{requestPwd:!0}),T=await Crypto.decrypt(M,w);p({secret:M,privateKey:T})}else{const M=await promptPasswordElement(e);p({secret:M,privateKey:w})}e.remove(),t.style.display="block"}catch(w){m(w),e.remove(),t.style.display="block"}})})},setupSigninDialogElement=async(t=document.body,e)=>{customElements.get("firebase-web3connect-dialog")||customElements.define("firebase-web3connect-dialog",HexaSigninDialogElement);const n=document.createElement("firebase-web3connect-dialog");return n.ops=e,t.appendChild(n),await storageService.getItem(KEYS.STORAGE_AUTH_METHOD_KEY)||n.shadowRoot?.querySelector("#create-new-wallet")?.remove(),n},addAndWaitUIEventsResult=t=>new Promise((e,n)=>{t.addEventListener("connect",async a=>{const u=a.detail;if(console.log("[INFO] connect event: ",u),u==="cancel"){t.hideModal(),await new Promise(o=>setTimeout(o,225)),t.remove(),e(void 0);return}if(u==="connect-google")try{const o=await t.promptPassword(),p=await storageService.getItem(KEYS.STORAGE_PRIVATEKEY_KEY),{withEncryption:m,skip:y}=p?{withEncryption:void 0,skip:void 0}:await t.promptBackup(),{uid:w}=await authWithGoogle({password:o,skip:y,withEncryption:m});await t.toggleSpinnerAsCheck(),e({uid:w,password:o,authMethod:u})}catch(o){const p=o?.message||"An error occured. Please try again.";n(new Error(`${p}`));return}if(u==="connect-email")try{const{password:o,email:p}=await t.promptEmailPassword(),m=await storageService.getItem(KEYS.STORAGE_PRIVATEKEY_KEY),{withEncryption:y,skip:w}=m?{withEncryption:!1,skip:!0}:await t.promptBackup(),{uid:_}=await authWithEmailPwd({email:p,password:o,skip:w,withEncryption:y});await t.toggleSpinnerAsCheck(),e({uid:_,password:o,authMethod:u})}catch(o){const p=o?.message||"An error occured. Please try again.";n(new Error(`${p}`));return}if(u==="connect-wallet")try{const o=await t.promptWalletType();switch(console.log("[INFO] Wallet type: ",o),o){case"browser-extension":{const{uid:p}=await authWithExternalWallet();await t.toggleSpinnerAsCheck(),e({uid:p,isAnonymous:!0,authMethod:u});break}case"import-seed":throw new Error("Method not implemented yet!");case"import-privatekey":{const{privateKey:p,secret:m}=await promptImportPrivatekeyElement(t?.shadowRoot?.querySelector("#spinner"));if(console.log("[INFO] Import private key: ",{privateKey:p,secret:m}),!p)throw new Error("Private key is required to connect");const{uid:y}=await authByImportPrivateKey({password:m,privateKey:p});e({uid:y,password:m,authMethod:u});break}default:throw new Error("Invalid wallet type")}}catch(o){const p=o?.message||"An error occured. Please try again.";n(new Error(`Error while connecting: ${p}`))}}),t.addEventListener("reset",async()=>{await storageService.clear(),t.reset()})});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var u=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,u.get?u:{enumerable:!0,get:function(){return t[a]}})}),n}var bn$7={exports:{}},buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var a=n===e?0:4-n%4;return[n,a]}function byteLength(t){var e=getLens(t),n=e[0],a=e[1];return(n+a)*3/4-a}function _byteLength(t,e,n){return(e+n)*3/4-n}function toByteArray(t){var e,n=getLens(t),a=n[0],u=n[1],o=new Arr(_byteLength(t,a,u)),p=0,m=u>0?a-4:a,y;for(y=0;y<m;y+=4)e=revLookup[t.charCodeAt(y)]<<18|revLookup[t.charCodeAt(y+1)]<<12|revLookup[t.charCodeAt(y+2)]<<6|revLookup[t.charCodeAt(y+3)],o[p++]=e>>16&255,o[p++]=e>>8&255,o[p++]=e&255;return u===2&&(e=revLookup[t.charCodeAt(y)]<<2|revLookup[t.charCodeAt(y+1)]>>4,o[p++]=e&255),u===1&&(e=revLookup[t.charCodeAt(y)]<<10|revLookup[t.charCodeAt(y+1)]<<4|revLookup[t.charCodeAt(y+2)]>>2,o[p++]=e>>8&255,o[p++]=e&255),o}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[t&63]}function encodeChunk(t,e,n){for(var a,u=[],o=e;o<n;o+=3)a=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),u.push(tripletToBase64(a));return u.join("")}function fromByteArray(t){for(var e,n=t.length,a=n%3,u=[],o=16383,p=0,m=n-a;p<m;p+=o)u.push(encodeChunk(t,p,p+o>m?m:p+o));return a===1?(e=t[n-1],u.push(lookup[e>>2]+lookup[e<<4&63]+"==")):a===2&&(e=(t[n-2]<<8)+t[n-1],u.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),u.join("")}var ieee754={};ieee754.read=function(t,e,n,a,u){var o,p,m=u*8-a-1,y=(1<<m)-1,w=y>>1,_=-7,M=n?u-1:0,T=n?-1:1,B=t[e+M];for(M+=T,o=B&(1<<-_)-1,B>>=-_,_+=m;_>0;o=o*256+t[e+M],M+=T,_-=8);for(p=o&(1<<-_)-1,o>>=-_,_+=a;_>0;p=p*256+t[e+M],M+=T,_-=8);if(o===0)o=1-w;else{if(o===y)return p?NaN:(B?-1:1)*(1/0);p=p+Math.pow(2,a),o=o-w}return(B?-1:1)*p*Math.pow(2,o-a)};ieee754.write=function(t,e,n,a,u,o){var p,m,y,w=o*8-u-1,_=(1<<w)-1,M=_>>1,T=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=a?0:o-1,P=a?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(m=isNaN(e)?1:0,p=_):(p=Math.floor(Math.log(e)/Math.LN2),e*(y=Math.pow(2,-p))<1&&(p--,y*=2),p+M>=1?e+=T/y:e+=T*Math.pow(2,1-M),e*y>=2&&(p++,y/=2),p+M>=_?(m=0,p=_):p+M>=1?(m=(e*y-1)*Math.pow(2,u),p=p+M):(m=e*Math.pow(2,M-1)*Math.pow(2,u),p=0));u>=8;t[n+B]=m&255,B+=P,m/=256,u-=8);for(p=p<<u|m,w+=u;w>0;t[n+B]=p&255,B+=P,p/=256,w-=8);t[n+B-P]|=C*128};(function(t){const e=base64Js,n=ieee754,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=_,t.SlowBuffer=te,t.INSPECT_MAX_BYTES=50;const u=2147483647;t.kMaxLength=u;const{Uint8Array:o,ArrayBuffer:p,SharedArrayBuffer:m}=globalThis;_.TYPED_ARRAY_SUPPORT=y(),!_.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function y(){try{const ae=new o(1),J={foo:function(){return 42}};return Object.setPrototypeOf(J,o.prototype),Object.setPrototypeOf(ae,J),ae.foo()===42}catch{return!1}}Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}});function w(ae){if(ae>u)throw new RangeError('The value "'+ae+'" is invalid for option "size"');const J=new o(ae);return Object.setPrototypeOf(J,_.prototype),J}function _(ae,J,re){if(typeof ae=="number"){if(typeof J=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(ae)}return M(ae,J,re)}_.poolSize=8192;function M(ae,J,re){if(typeof ae=="string")return C(ae,J);if(p.isView(ae))return U(ae);if(ae==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae);if(Ne(ae,p)||ae&&Ne(ae.buffer,p)||typeof m<"u"&&(Ne(ae,m)||ae&&Ne(ae.buffer,m)))return q(ae,J,re);if(typeof ae=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=ae.valueOf&&ae.valueOf();if(le!=null&&le!==ae)return _.from(le,J,re);const be=G(ae);if(be)return be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ae[Symbol.toPrimitive]=="function")return _.from(ae[Symbol.toPrimitive]("string"),J,re);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae)}_.from=function(ae,J,re){return M(ae,J,re)},Object.setPrototypeOf(_.prototype,o.prototype),Object.setPrototypeOf(_,o);function T(ae){if(typeof ae!="number")throw new TypeError('"size" argument must be of type number');if(ae<0)throw new RangeError('The value "'+ae+'" is invalid for option "size"')}function B(ae,J,re){return T(ae),ae<=0?w(ae):J!==void 0?typeof re=="string"?w(ae).fill(J,re):w(ae).fill(J):w(ae)}_.alloc=function(ae,J,re){return B(ae,J,re)};function P(ae){return T(ae),w(ae<0?0:X(ae)|0)}_.allocUnsafe=function(ae){return P(ae)},_.allocUnsafeSlow=function(ae){return P(ae)};function C(ae,J){if((typeof J!="string"||J==="")&&(J="utf8"),!_.isEncoding(J))throw new TypeError("Unknown encoding: "+J);const re=ne(ae,J)|0;let le=w(re);const be=le.write(ae,J);return be!==re&&(le=le.slice(0,be)),le}function L(ae){const J=ae.length<0?0:X(ae.length)|0,re=w(J);for(let le=0;le<J;le+=1)re[le]=ae[le]&255;return re}function U(ae){if(Ne(ae,o)){const J=new o(ae);return q(J.buffer,J.byteOffset,J.byteLength)}return L(ae)}function q(ae,J,re){if(J<0||ae.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(ae.byteLength<J+(re||0))throw new RangeError('"length" is outside of buffer bounds');let le;return J===void 0&&re===void 0?le=new o(ae):re===void 0?le=new o(ae,J):le=new o(ae,J,re),Object.setPrototypeOf(le,_.prototype),le}function G(ae){if(_.isBuffer(ae)){const J=X(ae.length)|0,re=w(J);return re.length===0||ae.copy(re,0,0,J),re}if(ae.length!==void 0)return typeof ae.length!="number"||_t(ae.length)?w(0):L(ae);if(ae.type==="Buffer"&&Array.isArray(ae.data))return L(ae.data)}function X(ae){if(ae>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return ae|0}function te(ae){return+ae!=ae&&(ae=0),_.alloc(+ae)}_.isBuffer=function(J){return J!=null&&J._isBuffer===!0&&J!==_.prototype},_.compare=function(J,re){if(Ne(J,o)&&(J=_.from(J,J.offset,J.byteLength)),Ne(re,o)&&(re=_.from(re,re.offset,re.byteLength)),!_.isBuffer(J)||!_.isBuffer(re))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===re)return 0;let le=J.length,be=re.length;for(let Be=0,ve=Math.min(le,be);Be<ve;++Be)if(J[Be]!==re[Be]){le=J[Be],be=re[Be];break}return le<be?-1:be<le?1:0},_.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(J,re){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(J.length===0)return _.alloc(0);let le;if(re===void 0)for(re=0,le=0;le<J.length;++le)re+=J[le].length;const be=_.allocUnsafe(re);let Be=0;for(le=0;le<J.length;++le){let ve=J[le];if(Ne(ve,o))Be+ve.length>be.length?(_.isBuffer(ve)||(ve=_.from(ve)),ve.copy(be,Be)):o.prototype.set.call(be,ve,Be);else if(_.isBuffer(ve))ve.copy(be,Be);else throw new TypeError('"list" argument must be an Array of Buffers');Be+=ve.length}return be};function ne(ae,J){if(_.isBuffer(ae))return ae.length;if(p.isView(ae)||Ne(ae,p))return ae.byteLength;if(typeof ae!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ae);const re=ae.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&re===0)return 0;let be=!1;for(;;)switch(J){case"ascii":case"latin1":case"binary":return re;case"utf8":case"utf-8":return Et(ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re*2;case"hex":return re>>>1;case"base64":return wt(ae).length;default:if(be)return le?-1:Et(ae).length;J=(""+J).toLowerCase(),be=!0}}_.byteLength=ne;function ge(ae,J,re){let le=!1;if((J===void 0||J<0)&&(J=0),J>this.length||((re===void 0||re>this.length)&&(re=this.length),re<=0)||(re>>>=0,J>>>=0,re<=J))return"";for(ae||(ae="utf8");;)switch(ae){case"hex":return O(this,J,re);case"utf8":case"utf-8":return $(this,J,re);case"ascii":return l(this,J,re);case"latin1":case"binary":return E(this,J,re);case"base64":return A(this,J,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,J,re);default:if(le)throw new TypeError("Unknown encoding: "+ae);ae=(ae+"").toLowerCase(),le=!0}}_.prototype._isBuffer=!0;function pe(ae,J,re){const le=ae[J];ae[J]=ae[re],ae[re]=le}_.prototype.swap16=function(){const J=this.length;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let re=0;re<J;re+=2)pe(this,re,re+1);return this},_.prototype.swap32=function(){const J=this.length;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let re=0;re<J;re+=4)pe(this,re,re+3),pe(this,re+1,re+2);return this},_.prototype.swap64=function(){const J=this.length;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let re=0;re<J;re+=8)pe(this,re,re+7),pe(this,re+1,re+6),pe(this,re+2,re+5),pe(this,re+3,re+4);return this},_.prototype.toString=function(){const J=this.length;return J===0?"":arguments.length===0?$(this,0,J):ge.apply(this,arguments)},_.prototype.toLocaleString=_.prototype.toString,_.prototype.equals=function(J){if(!_.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J?!0:_.compare(this,J)===0},_.prototype.inspect=function(){let J="";const re=t.INSPECT_MAX_BYTES;return J=this.toString("hex",0,re).replace(/(.{2})/g,"$1 ").trim(),this.length>re&&(J+=" ... "),"<Buffer "+J+">"},a&&(_.prototype[a]=_.prototype.inspect),_.prototype.compare=function(J,re,le,be,Be){if(Ne(J,o)&&(J=_.from(J,J.offset,J.byteLength)),!_.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof J);if(re===void 0&&(re=0),le===void 0&&(le=J?J.length:0),be===void 0&&(be=0),Be===void 0&&(Be=this.length),re<0||le>J.length||be<0||Be>this.length)throw new RangeError("out of range index");if(be>=Be&&re>=le)return 0;if(be>=Be)return-1;if(re>=le)return 1;if(re>>>=0,le>>>=0,be>>>=0,Be>>>=0,this===J)return 0;let ve=Be-be,Te=le-re;const vt=Math.min(ve,Te),ke=this.slice(be,Be),Ue=J.slice(re,le);for(let gt=0;gt<vt;++gt)if(ke[gt]!==Ue[gt]){ve=ke[gt],Te=Ue[gt];break}return ve<Te?-1:Te<ve?1:0};function se(ae,J,re,le,be){if(ae.length===0)return-1;if(typeof re=="string"?(le=re,re=0):re>2147483647?re=2147483647:re<-2147483648&&(re=-2147483648),re=+re,_t(re)&&(re=be?0:ae.length-1),re<0&&(re=ae.length+re),re>=ae.length){if(be)return-1;re=ae.length-1}else if(re<0)if(be)re=0;else return-1;if(typeof J=="string"&&(J=_.from(J,le)),_.isBuffer(J))return J.length===0?-1:Se(ae,J,re,le,be);if(typeof J=="number")return J=J&255,typeof o.prototype.indexOf=="function"?be?o.prototype.indexOf.call(ae,J,re):o.prototype.lastIndexOf.call(ae,J,re):Se(ae,[J],re,le,be);throw new TypeError("val must be string, number or Buffer")}function Se(ae,J,re,le,be){let Be=1,ve=ae.length,Te=J.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(ae.length<2||J.length<2)return-1;Be=2,ve/=2,Te/=2,re/=2}function vt(Ue,gt){return Be===1?Ue[gt]:Ue.readUInt16BE(gt*Be)}let ke;if(be){let Ue=-1;for(ke=re;ke<ve;ke++)if(vt(ae,ke)===vt(J,Ue===-1?0:ke-Ue)){if(Ue===-1&&(Ue=ke),ke-Ue+1===Te)return Ue*Be}else Ue!==-1&&(ke-=ke-Ue),Ue=-1}else for(re+Te>ve&&(re=ve-Te),ke=re;ke>=0;ke--){let Ue=!0;for(let gt=0;gt<Te;gt++)if(vt(ae,ke+gt)!==vt(J,gt)){Ue=!1;break}if(Ue)return ke}return-1}_.prototype.includes=function(J,re,le){return this.indexOf(J,re,le)!==-1},_.prototype.indexOf=function(J,re,le){return se(this,J,re,le,!0)},_.prototype.lastIndexOf=function(J,re,le){return se(this,J,re,le,!1)};function k(ae,J,re,le){re=Number(re)||0;const be=ae.length-re;le?(le=Number(le),le>be&&(le=be)):le=be;const Be=J.length;le>Be/2&&(le=Be/2);let ve;for(ve=0;ve<le;++ve){const Te=parseInt(J.substr(ve*2,2),16);if(_t(Te))return ve;ae[re+ve]=Te}return ve}function c(ae,J,re,le){return Ie(Et(J,ae.length-re),ae,re,le)}function d(ae,J,re,le){return Ie(Ce(J),ae,re,le)}function b(ae,J,re,le){return Ie(wt(J),ae,re,le)}function v(ae,J,re,le){return Ie(ze(J,ae.length-re),ae,re,le)}_.prototype.write=function(J,re,le,be){if(re===void 0)be="utf8",le=this.length,re=0;else if(le===void 0&&typeof re=="string")be=re,le=this.length,re=0;else if(isFinite(re))re=re>>>0,isFinite(le)?(le=le>>>0,be===void 0&&(be="utf8")):(be=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Be=this.length-re;if((le===void 0||le>Be)&&(le=Be),J.length>0&&(le<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");let ve=!1;for(;;)switch(be){case"hex":return k(this,J,re,le);case"utf8":case"utf-8":return c(this,J,re,le);case"ascii":case"latin1":case"binary":return d(this,J,re,le);case"base64":return b(this,J,re,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,J,re,le);default:if(ve)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),ve=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(ae,J,re){return J===0&&re===ae.length?e.fromByteArray(ae):e.fromByteArray(ae.slice(J,re))}function $(ae,J,re){re=Math.min(ae.length,re);const le=[];let be=J;for(;be<re;){const Be=ae[be];let ve=null,Te=Be>239?4:Be>223?3:Be>191?2:1;if(be+Te<=re){let vt,ke,Ue,gt;switch(Te){case 1:Be<128&&(ve=Be);break;case 2:vt=ae[be+1],(vt&192)===128&&(gt=(Be&31)<<6|vt&63,gt>127&&(ve=gt));break;case 3:vt=ae[be+1],ke=ae[be+2],(vt&192)===128&&(ke&192)===128&&(gt=(Be&15)<<12|(vt&63)<<6|ke&63,gt>2047&&(gt<55296||gt>57343)&&(ve=gt));break;case 4:vt=ae[be+1],ke=ae[be+2],Ue=ae[be+3],(vt&192)===128&&(ke&192)===128&&(Ue&192)===128&&(gt=(Be&15)<<18|(vt&63)<<12|(ke&63)<<6|Ue&63,gt>65535&&gt<1114112&&(ve=gt))}}ve===null?(ve=65533,Te=1):ve>65535&&(ve-=65536,le.push(ve>>>10&1023|55296),ve=56320|ve&1023),le.push(ve),be+=Te}return S(le)}const I=4096;function S(ae){const J=ae.length;if(J<=I)return String.fromCharCode.apply(String,ae);let re="",le=0;for(;le<J;)re+=String.fromCharCode.apply(String,ae.slice(le,le+=I));return re}function l(ae,J,re){let le="";re=Math.min(ae.length,re);for(let be=J;be<re;++be)le+=String.fromCharCode(ae[be]&127);return le}function E(ae,J,re){let le="";re=Math.min(ae.length,re);for(let be=J;be<re;++be)le+=String.fromCharCode(ae[be]);return le}function O(ae,J,re){const le=ae.length;(!J||J<0)&&(J=0),(!re||re<0||re>le)&&(re=le);let be="";for(let Be=J;Be<re;++Be)be+=Pe[ae[Be]];return be}function D(ae,J,re){const le=ae.slice(J,re);let be="";for(let Be=0;Be<le.length-1;Be+=2)be+=String.fromCharCode(le[Be]+le[Be+1]*256);return be}_.prototype.slice=function(J,re){const le=this.length;J=~~J,re=re===void 0?le:~~re,J<0?(J+=le,J<0&&(J=0)):J>le&&(J=le),re<0?(re+=le,re<0&&(re=0)):re>le&&(re=le),re<J&&(re=J);const be=this.subarray(J,re);return Object.setPrototypeOf(be,_.prototype),be};function Y(ae,J,re){if(ae%1!==0||ae<0)throw new RangeError("offset is not uint");if(ae+J>re)throw new RangeError("Trying to access beyond buffer length")}_.prototype.readUintLE=_.prototype.readUIntLE=function(J,re,le){J=J>>>0,re=re>>>0,le||Y(J,re,this.length);let be=this[J],Be=1,ve=0;for(;++ve<re&&(Be*=256);)be+=this[J+ve]*Be;return be},_.prototype.readUintBE=_.prototype.readUIntBE=function(J,re,le){J=J>>>0,re=re>>>0,le||Y(J,re,this.length);let be=this[J+--re],Be=1;for(;re>0&&(Be*=256);)be+=this[J+--re]*Be;return be},_.prototype.readUint8=_.prototype.readUInt8=function(J,re){return J=J>>>0,re||Y(J,1,this.length),this[J]},_.prototype.readUint16LE=_.prototype.readUInt16LE=function(J,re){return J=J>>>0,re||Y(J,2,this.length),this[J]|this[J+1]<<8},_.prototype.readUint16BE=_.prototype.readUInt16BE=function(J,re){return J=J>>>0,re||Y(J,2,this.length),this[J]<<8|this[J+1]},_.prototype.readUint32LE=_.prototype.readUInt32LE=function(J,re){return J=J>>>0,re||Y(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+this[J+3]*16777216},_.prototype.readUint32BE=_.prototype.readUInt32BE=function(J,re){return J=J>>>0,re||Y(J,4,this.length),this[J]*16777216+(this[J+1]<<16|this[J+2]<<8|this[J+3])},_.prototype.readBigUInt64LE=Le(function(J){J=J>>>0,xe(J,"offset");const re=this[J],le=this[J+7];(re===void 0||le===void 0)&&Xe(J,this.length-8);const be=re+this[++J]*2**8+this[++J]*2**16+this[++J]*2**24,Be=this[++J]+this[++J]*2**8+this[++J]*2**16+le*2**24;return BigInt(be)+(BigInt(Be)<<BigInt(32))}),_.prototype.readBigUInt64BE=Le(function(J){J=J>>>0,xe(J,"offset");const re=this[J],le=this[J+7];(re===void 0||le===void 0)&&Xe(J,this.length-8);const be=re*2**24+this[++J]*2**16+this[++J]*2**8+this[++J],Be=this[++J]*2**24+this[++J]*2**16+this[++J]*2**8+le;return(BigInt(be)<<BigInt(32))+BigInt(Be)}),_.prototype.readIntLE=function(J,re,le){J=J>>>0,re=re>>>0,le||Y(J,re,this.length);let be=this[J],Be=1,ve=0;for(;++ve<re&&(Be*=256);)be+=this[J+ve]*Be;return Be*=128,be>=Be&&(be-=Math.pow(2,8*re)),be},_.prototype.readIntBE=function(J,re,le){J=J>>>0,re=re>>>0,le||Y(J,re,this.length);let be=re,Be=1,ve=this[J+--be];for(;be>0&&(Be*=256);)ve+=this[J+--be]*Be;return Be*=128,ve>=Be&&(ve-=Math.pow(2,8*re)),ve},_.prototype.readInt8=function(J,re){return J=J>>>0,re||Y(J,1,this.length),this[J]&128?(255-this[J]+1)*-1:this[J]},_.prototype.readInt16LE=function(J,re){J=J>>>0,re||Y(J,2,this.length);const le=this[J]|this[J+1]<<8;return le&32768?le|4294901760:le},_.prototype.readInt16BE=function(J,re){J=J>>>0,re||Y(J,2,this.length);const le=this[J+1]|this[J]<<8;return le&32768?le|4294901760:le},_.prototype.readInt32LE=function(J,re){return J=J>>>0,re||Y(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},_.prototype.readInt32BE=function(J,re){return J=J>>>0,re||Y(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},_.prototype.readBigInt64LE=Le(function(J){J=J>>>0,xe(J,"offset");const re=this[J],le=this[J+7];(re===void 0||le===void 0)&&Xe(J,this.length-8);const be=this[J+4]+this[J+5]*2**8+this[J+6]*2**16+(le<<24);return(BigInt(be)<<BigInt(32))+BigInt(re+this[++J]*2**8+this[++J]*2**16+this[++J]*2**24)}),_.prototype.readBigInt64BE=Le(function(J){J=J>>>0,xe(J,"offset");const re=this[J],le=this[J+7];(re===void 0||le===void 0)&&Xe(J,this.length-8);const be=(re<<24)+this[++J]*2**16+this[++J]*2**8+this[++J];return(BigInt(be)<<BigInt(32))+BigInt(this[++J]*2**24+this[++J]*2**16+this[++J]*2**8+le)}),_.prototype.readFloatLE=function(J,re){return J=J>>>0,re||Y(J,4,this.length),n.read(this,J,!0,23,4)},_.prototype.readFloatBE=function(J,re){return J=J>>>0,re||Y(J,4,this.length),n.read(this,J,!1,23,4)},_.prototype.readDoubleLE=function(J,re){return J=J>>>0,re||Y(J,8,this.length),n.read(this,J,!0,52,8)},_.prototype.readDoubleBE=function(J,re){return J=J>>>0,re||Y(J,8,this.length),n.read(this,J,!1,52,8)};function F(ae,J,re,le,be,Be){if(!_.isBuffer(ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>be||J<Be)throw new RangeError('"value" argument is out of bounds');if(re+le>ae.length)throw new RangeError("Index out of range")}_.prototype.writeUintLE=_.prototype.writeUIntLE=function(J,re,le,be){if(J=+J,re=re>>>0,le=le>>>0,!be){const Te=Math.pow(2,8*le)-1;F(this,J,re,le,Te,0)}let Be=1,ve=0;for(this[re]=J&255;++ve<le&&(Be*=256);)this[re+ve]=J/Be&255;return re+le},_.prototype.writeUintBE=_.prototype.writeUIntBE=function(J,re,le,be){if(J=+J,re=re>>>0,le=le>>>0,!be){const Te=Math.pow(2,8*le)-1;F(this,J,re,le,Te,0)}let Be=le-1,ve=1;for(this[re+Be]=J&255;--Be>=0&&(ve*=256);)this[re+Be]=J/ve&255;return re+le},_.prototype.writeUint8=_.prototype.writeUInt8=function(J,re,le){return J=+J,re=re>>>0,le||F(this,J,re,1,255,0),this[re]=J&255,re+1},_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(J,re,le){return J=+J,re=re>>>0,le||F(this,J,re,2,65535,0),this[re]=J&255,this[re+1]=J>>>8,re+2},_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(J,re,le){return J=+J,re=re>>>0,le||F(this,J,re,2,65535,0),this[re]=J>>>8,this[re+1]=J&255,re+2},_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(J,re,le){return J=+J,re=re>>>0,le||F(this,J,re,4,4294967295,0),this[re+3]=J>>>24,this[re+2]=J>>>16,this[re+1]=J>>>8,this[re]=J&255,re+4},_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(J,re,le){return J=+J,re=re>>>0,le||F(this,J,re,4,4294967295,0),this[re]=J>>>24,this[re+1]=J>>>16,this[re+2]=J>>>8,this[re+3]=J&255,re+4};function V(ae,J,re,le,be){_e(J,le,be,ae,re,7);let Be=Number(J&BigInt(4294967295));ae[re++]=Be,Be=Be>>8,ae[re++]=Be,Be=Be>>8,ae[re++]=Be,Be=Be>>8,ae[re++]=Be;let ve=Number(J>>BigInt(32)&BigInt(4294967295));return ae[re++]=ve,ve=ve>>8,ae[re++]=ve,ve=ve>>8,ae[re++]=ve,ve=ve>>8,ae[re++]=ve,re}function H(ae,J,re,le,be){_e(J,le,be,ae,re,7);let Be=Number(J&BigInt(4294967295));ae[re+7]=Be,Be=Be>>8,ae[re+6]=Be,Be=Be>>8,ae[re+5]=Be,Be=Be>>8,ae[re+4]=Be;let ve=Number(J>>BigInt(32)&BigInt(4294967295));return ae[re+3]=ve,ve=ve>>8,ae[re+2]=ve,ve=ve>>8,ae[re+1]=ve,ve=ve>>8,ae[re]=ve,re+8}_.prototype.writeBigUInt64LE=Le(function(J,re=0){return V(this,J,re,BigInt(0),BigInt("0xffffffffffffffff"))}),_.prototype.writeBigUInt64BE=Le(function(J,re=0){return H(this,J,re,BigInt(0),BigInt("0xffffffffffffffff"))}),_.prototype.writeIntLE=function(J,re,le,be){if(J=+J,re=re>>>0,!be){const vt=Math.pow(2,8*le-1);F(this,J,re,le,vt-1,-vt)}let Be=0,ve=1,Te=0;for(this[re]=J&255;++Be<le&&(ve*=256);)J<0&&Te===0&&this[re+Be-1]!==0&&(Te=1),this[re+Be]=(J/ve>>0)-Te&255;return re+le},_.prototype.writeIntBE=function(J,re,le,be){if(J=+J,re=re>>>0,!be){const vt=Math.pow(2,8*le-1);F(this,J,re,le,vt-1,-vt)}let Be=le-1,ve=1,Te=0;for(this[re+Be]=J&255;--Be>=0&&(ve*=256);)J<0&&Te===0&&this[re+Be+1]!==0&&(Te=1),this[re+Be]=(J/ve>>0)-Te&255;return re+le},_.prototype.writeInt8=function(J,re,le){return J=+J,re=re>>>0,le||F(this,J,re,1,127,-128),J<0&&(J=255+J+1),this[re]=J&255,re+1},_.prototype.writeInt16LE=function(J,re,le){return J=+J,re=re>>>0,le||F(this,J,re,2,32767,-32768),this[re]=J&255,this[re+1]=J>>>8,re+2},_.prototype.writeInt16BE=function(J,re,le){return J=+J,re=re>>>0,le||F(this,J,re,2,32767,-32768),this[re]=J>>>8,this[re+1]=J&255,re+2},_.prototype.writeInt32LE=function(J,re,le){return J=+J,re=re>>>0,le||F(this,J,re,4,2147483647,-2147483648),this[re]=J&255,this[re+1]=J>>>8,this[re+2]=J>>>16,this[re+3]=J>>>24,re+4},_.prototype.writeInt32BE=function(J,re,le){return J=+J,re=re>>>0,le||F(this,J,re,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),this[re]=J>>>24,this[re+1]=J>>>16,this[re+2]=J>>>8,this[re+3]=J&255,re+4},_.prototype.writeBigInt64LE=Le(function(J,re=0){return V(this,J,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),_.prototype.writeBigInt64BE=Le(function(J,re=0){return H(this,J,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee(ae,J,re,le,be,Be){if(re+le>ae.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("Index out of range")}function ie(ae,J,re,le,be){return J=+J,re=re>>>0,be||ee(ae,J,re,4),n.write(ae,J,re,le,23,4),re+4}_.prototype.writeFloatLE=function(J,re,le){return ie(this,J,re,!0,le)},_.prototype.writeFloatBE=function(J,re,le){return ie(this,J,re,!1,le)};function de(ae,J,re,le,be){return J=+J,re=re>>>0,be||ee(ae,J,re,8),n.write(ae,J,re,le,52,8),re+8}_.prototype.writeDoubleLE=function(J,re,le){return de(this,J,re,!0,le)},_.prototype.writeDoubleBE=function(J,re,le){return de(this,J,re,!1,le)},_.prototype.copy=function(J,re,le,be){if(!_.isBuffer(J))throw new TypeError("argument should be a Buffer");if(le||(le=0),!be&&be!==0&&(be=this.length),re>=J.length&&(re=J.length),re||(re=0),be>0&&be<le&&(be=le),be===le||J.length===0||this.length===0)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),J.length-re<be-le&&(be=J.length-re+le);const Be=be-le;return this===J&&typeof o.prototype.copyWithin=="function"?this.copyWithin(re,le,be):o.prototype.set.call(J,this.subarray(le,be),re),Be},_.prototype.fill=function(J,re,le,be){if(typeof J=="string"){if(typeof re=="string"?(be=re,re=0,le=this.length):typeof le=="string"&&(be=le,le=this.length),be!==void 0&&typeof be!="string")throw new TypeError("encoding must be a string");if(typeof be=="string"&&!_.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(J.length===1){const ve=J.charCodeAt(0);(be==="utf8"&&ve<128||be==="latin1")&&(J=ve)}}else typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=Number(J));if(re<0||this.length<re||this.length<le)throw new RangeError("Out of range index");if(le<=re)return this;re=re>>>0,le=le===void 0?this.length:le>>>0,J||(J=0);let Be;if(typeof J=="number")for(Be=re;Be<le;++Be)this[Be]=J;else{const ve=_.isBuffer(J)?J:_.from(J,be),Te=ve.length;if(Te===0)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for(Be=0;Be<le-re;++Be)this[Be+re]=ve[Be%Te]}return this};const Z={};function j(ae,J,re){Z[ae]=class extends re{constructor(){super(),Object.defineProperty(this,"message",{value:J.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ae}]`,this.stack,delete this.name}get code(){return ae}set code(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}toString(){return`${this.name} [${ae}]: ${this.message}`}}}j("ERR_BUFFER_OUT_OF_BOUNDS",function(ae){return ae?`${ae} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),j("ERR_INVALID_ARG_TYPE",function(ae,J){return`The "${ae}" argument must be of type number. Received type ${typeof J}`},TypeError),j("ERR_OUT_OF_RANGE",function(ae,J,re){let le=`The value of "${ae}" is out of range.`,be=re;return Number.isInteger(re)&&Math.abs(re)>2**32?be=he(String(re)):typeof re=="bigint"&&(be=String(re),(re>BigInt(2)**BigInt(32)||re<-(BigInt(2)**BigInt(32)))&&(be=he(be)),be+="n"),le+=` It must be ${J}. Received ${be}`,le},RangeError);function he(ae){let J="",re=ae.length;const le=ae[0]==="-"?1:0;for(;re>=le+4;re-=3)J=`_${ae.slice(re-3,re)}${J}`;return`${ae.slice(0,re)}${J}`}function Ae(ae,J,re){xe(J,"offset"),(ae[J]===void 0||ae[J+re]===void 0)&&Xe(J,ae.length-(re+1))}function _e(ae,J,re,le,be,Be){if(ae>re||ae<J){const ve=typeof J=="bigint"?"n":"";let Te;throw Be>3?J===0||J===BigInt(0)?Te=`>= 0${ve} and < 2${ve} ** ${(Be+1)*8}${ve}`:Te=`>= -(2${ve} ** ${(Be+1)*8-1}${ve}) and < 2 ** ${(Be+1)*8-1}${ve}`:Te=`>= ${J}${ve} and <= ${re}${ve}`,new Z.ERR_OUT_OF_RANGE("value",Te,ae)}Ae(le,be,Be)}function xe(ae,J){if(typeof ae!="number")throw new Z.ERR_INVALID_ARG_TYPE(J,"number",ae)}function Xe(ae,J,re){throw Math.floor(ae)!==ae?(xe(ae,re),new Z.ERR_OUT_OF_RANGE(re||"offset","an integer",ae)):J<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE(re||"offset",`>= ${re?1:0} and <= ${J}`,ae)}const Re=/[^+/0-9A-Za-z-_]/g;function we(ae){if(ae=ae.split("=")[0],ae=ae.trim().replace(Re,""),ae.length<2)return"";for(;ae.length%4!==0;)ae=ae+"=";return ae}function Et(ae,J){J=J||1/0;let re;const le=ae.length;let be=null;const Be=[];for(let ve=0;ve<le;++ve){if(re=ae.charCodeAt(ve),re>55295&&re<57344){if(!be){if(re>56319){(J-=3)>-1&&Be.push(239,191,189);continue}else if(ve+1===le){(J-=3)>-1&&Be.push(239,191,189);continue}be=re;continue}if(re<56320){(J-=3)>-1&&Be.push(239,191,189),be=re;continue}re=(be-55296<<10|re-56320)+65536}else be&&(J-=3)>-1&&Be.push(239,191,189);if(be=null,re<128){if((J-=1)<0)break;Be.push(re)}else if(re<2048){if((J-=2)<0)break;Be.push(re>>6|192,re&63|128)}else if(re<65536){if((J-=3)<0)break;Be.push(re>>12|224,re>>6&63|128,re&63|128)}else if(re<1114112){if((J-=4)<0)break;Be.push(re>>18|240,re>>12&63|128,re>>6&63|128,re&63|128)}else throw new Error("Invalid code point")}return Be}function Ce(ae){const J=[];for(let re=0;re<ae.length;++re)J.push(ae.charCodeAt(re)&255);return J}function ze(ae,J){let re,le,be;const Be=[];for(let ve=0;ve<ae.length&&!((J-=2)<0);++ve)re=ae.charCodeAt(ve),le=re>>8,be=re%256,Be.push(be),Be.push(le);return Be}function wt(ae){return e.toByteArray(we(ae))}function Ie(ae,J,re,le){let be;for(be=0;be<le&&!(be+re>=J.length||be>=ae.length);++be)J[be+re]=ae[be];return be}function Ne(ae,J){return ae instanceof J||ae!=null&&ae.constructor!=null&&ae.constructor.name!=null&&ae.constructor.name===J.name}function _t(ae){return ae!==ae}const Pe=function(){const ae="0123456789abcdef",J=new Array(256);for(let re=0;re<16;++re){const le=re*16;for(let be=0;be<16;++be)J[le+be]=ae[re]+ae[be]}return J}();function Le(ae){return typeof BigInt>"u"?At:ae}function At(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer$g=buffer$1.Buffer,Blob$2=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1$1=buffer$1.Buffer,File=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$1=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist$2=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$2,BlobOptions,Buffer:Buffer$1$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$1,default:Buffer$g,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"})),require$$0$4=getAugmentedNamespace(dist$2);bn$7.exports;(function(t){(function(e,n){function a(d,b){if(!d)throw new Error(b||"Assertion failed")}function u(d,b){d.super_=b;var v=function(){};v.prototype=b.prototype,d.prototype=new v,d.prototype.constructor=d}function o(d,b,v){if(o.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((b==="le"||b==="be")&&(v=b,b=10),this._init(d||0,b||10,v||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$4.Buffer}catch{}o.isBN=function(b){return b instanceof o?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===o.wordSize&&Array.isArray(b.words)},o.max=function(b,v){return b.cmp(v)>0?b:v},o.min=function(b,v){return b.cmp(v)<0?b:v},o.prototype._init=function(b,v,A){if(typeof b=="number")return this._initNumber(b,v,A);if(typeof b=="object")return this._initArray(b,v,A);v==="hex"&&(v=16),a(v===(v|0)&&v>=2&&v<=36),b=b.toString().replace(/\s+/g,"");var $=0;b[0]==="-"&&($++,this.negative=1),$<b.length&&(v===16?this._parseHex(b,$,A):(this._parseBase(b,v,$),A==="le"&&this._initArray(this.toArray(),v,A)))},o.prototype._initNumber=function(b,v,A){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(a(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),v,A)},o.prototype._initArray=function(b,v,A){if(a(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var I,S,l=0;if(A==="be")for($=b.length-1,I=0;$>=0;$-=3)S=b[$]|b[$-1]<<8|b[$-2]<<16,this.words[I]|=S<<l&67108863,this.words[I+1]=S>>>26-l&67108863,l+=24,l>=26&&(l-=26,I++);else if(A==="le")for($=0,I=0;$<b.length;$+=3)S=b[$]|b[$+1]<<8|b[$+2]<<16,this.words[I]|=S<<l&67108863,this.words[I+1]=S>>>26-l&67108863,l+=24,l>=26&&(l-=26,I++);return this._strip()};function m(d,b){var v=d.charCodeAt(b);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;a(!1,"Invalid character in "+d)}function y(d,b,v){var A=m(d,v);return v-1>=b&&(A|=m(d,v-1)<<4),A}o.prototype._parseHex=function(b,v,A){this.length=Math.ceil((b.length-v)/6),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var I=0,S=0,l;if(A==="be")for($=b.length-1;$>=v;$-=2)l=y(b,v,$)<<I,this.words[S]|=l&67108863,I>=18?(I-=18,S+=1,this.words[S]|=l>>>26):I+=8;else{var E=b.length-v;for($=E%2===0?v+1:v;$<b.length;$+=2)l=y(b,v,$)<<I,this.words[S]|=l&67108863,I>=18?(I-=18,S+=1,this.words[S]|=l>>>26):I+=8}this._strip()};function w(d,b,v,A){for(var $=0,I=0,S=Math.min(d.length,v),l=b;l<S;l++){var E=d.charCodeAt(l)-48;$*=A,E>=49?I=E-49+10:E>=17?I=E-17+10:I=E,a(E>=0&&I<A,"Invalid character"),$+=I}return $}o.prototype._parseBase=function(b,v,A){this.words=[0],this.length=1;for(var $=0,I=1;I<=67108863;I*=v)$++;$--,I=I/v|0;for(var S=b.length-A,l=S%$,E=Math.min(S,S-l)+A,O=0,D=A;D<E;D+=$)O=w(b,D,D+$,v),this.imuln(I),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(l!==0){var Y=1;for(O=w(b,D,b.length,v),D=0;D<l;D++)Y*=v;this.imuln(Y),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this._strip()},o.prototype.copy=function(b){b.words=new Array(this.length);for(var v=0;v<this.length;v++)b.words[v]=this.words[v];b.length=this.length,b.negative=this.negative,b.red=this.red};function _(d,b){d.words=b.words,d.length=b.length,d.negative=b.negative,d.red=b.red}if(o.prototype._move=function(b){_(b,this)},o.prototype.clone=function(){var b=new o(null);return this.copy(b),b},o.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=M}catch{o.prototype.inspect=M}else o.prototype.inspect=M;function M(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],B=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(b,v){b=b||10,v=v|0||1;var A;if(b===16||b==="hex"){A="";for(var $=0,I=0,S=0;S<this.length;S++){var l=this.words[S],E=((l<<$|I)&16777215).toString(16);I=l>>>24-$&16777215,$+=2,$>=26&&($-=26,S--),I!==0||S!==this.length-1?A=T[6-E.length]+E+A:A=E+A}for(I!==0&&(A=I.toString(16)+A);A.length%v!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(b===(b|0)&&b>=2&&b<=36){var O=B[b],D=P[b];A="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var F=Y.modrn(D).toString(b);Y=Y.idivn(D),Y.isZero()?A=F+A:A=T[O-F.length]+F+A}for(this.isZero()&&(A="0"+A);A.length%v!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}a(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},o.prototype.toJSON=function(){return this.toString(16,2)},p&&(o.prototype.toBuffer=function(b,v){return this.toArrayLike(p,b,v)}),o.prototype.toArray=function(b,v){return this.toArrayLike(Array,b,v)};var C=function(b,v){return b.allocUnsafe?b.allocUnsafe(v):new b(v)};o.prototype.toArrayLike=function(b,v,A){this._strip();var $=this.byteLength(),I=A||Math.max(1,$);a($<=I,"byte array longer than desired length"),a(I>0,"Requested array length <= 0");var S=C(b,I),l=v==="le"?"LE":"BE";return this["_toArrayLike"+l](S,$),S},o.prototype._toArrayLikeLE=function(b,v){for(var A=0,$=0,I=0,S=0;I<this.length;I++){var l=this.words[I]<<S|$;b[A++]=l&255,A<b.length&&(b[A++]=l>>8&255),A<b.length&&(b[A++]=l>>16&255),S===6?(A<b.length&&(b[A++]=l>>24&255),$=0,S=0):($=l>>>24,S+=2)}if(A<b.length)for(b[A++]=$;A<b.length;)b[A++]=0},o.prototype._toArrayLikeBE=function(b,v){for(var A=b.length-1,$=0,I=0,S=0;I<this.length;I++){var l=this.words[I]<<S|$;b[A--]=l&255,A>=0&&(b[A--]=l>>8&255),A>=0&&(b[A--]=l>>16&255),S===6?(A>=0&&(b[A--]=l>>24&255),$=0,S=0):($=l>>>24,S+=2)}if(A>=0)for(b[A--]=$;A>=0;)b[A--]=0},Math.clz32?o.prototype._countBits=function(b){return 32-Math.clz32(b)}:o.prototype._countBits=function(b){var v=b,A=0;return v>=4096&&(A+=13,v>>>=13),v>=64&&(A+=7,v>>>=7),v>=8&&(A+=4,v>>>=4),v>=2&&(A+=2,v>>>=2),A+v},o.prototype._zeroBits=function(b){if(b===0)return 26;var v=b,A=0;return v&8191||(A+=13,v>>>=13),v&127||(A+=7,v>>>=7),v&15||(A+=4,v>>>=4),v&3||(A+=2,v>>>=2),v&1||A++,A},o.prototype.bitLength=function(){var b=this.words[this.length-1],v=this._countBits(b);return(this.length-1)*26+v};function L(d){for(var b=new Array(d.bitLength()),v=0;v<b.length;v++){var A=v/26|0,$=v%26;b[v]=d.words[A]>>>$&1}return b}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,v=0;v<this.length;v++){var A=this._zeroBits(this.words[v]);if(b+=A,A!==26)break}return b},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},o.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var v=0;v<b.length;v++)this.words[v]=this.words[v]|b.words[v];return this._strip()},o.prototype.ior=function(b){return a((this.negative|b.negative)===0),this.iuor(b)},o.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},o.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},o.prototype.iuand=function(b){var v;this.length>b.length?v=b:v=this;for(var A=0;A<v.length;A++)this.words[A]=this.words[A]&b.words[A];return this.length=v.length,this._strip()},o.prototype.iand=function(b){return a((this.negative|b.negative)===0),this.iuand(b)},o.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},o.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},o.prototype.iuxor=function(b){var v,A;this.length>b.length?(v=this,A=b):(v=b,A=this);for(var $=0;$<A.length;$++)this.words[$]=v.words[$]^A.words[$];if(this!==v)for(;$<v.length;$++)this.words[$]=v.words[$];return this.length=v.length,this._strip()},o.prototype.ixor=function(b){return a((this.negative|b.negative)===0),this.iuxor(b)},o.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},o.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},o.prototype.inotn=function(b){a(typeof b=="number"&&b>=0);var v=Math.ceil(b/26)|0,A=b%26;this._expand(v),A>0&&v--;for(var $=0;$<v;$++)this.words[$]=~this.words[$]&67108863;return A>0&&(this.words[$]=~this.words[$]&67108863>>26-A),this._strip()},o.prototype.notn=function(b){return this.clone().inotn(b)},o.prototype.setn=function(b,v){a(typeof b=="number"&&b>=0);var A=b/26|0,$=b%26;return this._expand(A+1),v?this.words[A]=this.words[A]|1<<$:this.words[A]=this.words[A]&~(1<<$),this._strip()},o.prototype.iadd=function(b){var v;if(this.negative!==0&&b.negative===0)return this.negative=0,v=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,v=this.isub(b),b.negative=1,v._normSign();var A,$;this.length>b.length?(A=this,$=b):(A=b,$=this);for(var I=0,S=0;S<$.length;S++)v=(A.words[S]|0)+($.words[S]|0)+I,this.words[S]=v&67108863,I=v>>>26;for(;I!==0&&S<A.length;S++)v=(A.words[S]|0)+I,this.words[S]=v&67108863,I=v>>>26;if(this.length=A.length,I!==0)this.words[this.length]=I,this.length++;else if(A!==this)for(;S<A.length;S++)this.words[S]=A.words[S];return this},o.prototype.add=function(b){var v;return b.negative!==0&&this.negative===0?(b.negative=0,v=this.sub(b),b.negative^=1,v):b.negative===0&&this.negative!==0?(this.negative=0,v=b.sub(this),this.negative=1,v):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},o.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var v=this.iadd(b);return b.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var A=this.cmp(b);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $,I;A>0?($=this,I=b):($=b,I=this);for(var S=0,l=0;l<I.length;l++)v=($.words[l]|0)-(I.words[l]|0)+S,S=v>>26,this.words[l]=v&67108863;for(;S!==0&&l<$.length;l++)v=($.words[l]|0)+S,S=v>>26,this.words[l]=v&67108863;if(S===0&&l<$.length&&$!==this)for(;l<$.length;l++)this.words[l]=$.words[l];return this.length=Math.max(this.length,l),$!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(b){return this.clone().isub(b)};function U(d,b,v){v.negative=b.negative^d.negative;var A=d.length+b.length|0;v.length=A,A=A-1|0;var $=d.words[0]|0,I=b.words[0]|0,S=$*I,l=S&67108863,E=S/67108864|0;v.words[0]=l;for(var O=1;O<A;O++){for(var D=E>>>26,Y=E&67108863,F=Math.min(O,b.length-1),V=Math.max(0,O-d.length+1);V<=F;V++){var H=O-V|0;$=d.words[H]|0,I=b.words[V]|0,S=$*I+Y,D+=S/67108864|0,Y=S&67108863}v.words[O]=Y|0,E=D|0}return E!==0?v.words[O]=E|0:v.length--,v._strip()}var q=function(b,v,A){var $=b.words,I=v.words,S=A.words,l=0,E,O,D,Y=$[0]|0,F=Y&8191,V=Y>>>13,H=$[1]|0,ee=H&8191,ie=H>>>13,de=$[2]|0,Z=de&8191,j=de>>>13,he=$[3]|0,Ae=he&8191,_e=he>>>13,xe=$[4]|0,Xe=xe&8191,Re=xe>>>13,we=$[5]|0,Et=we&8191,Ce=we>>>13,ze=$[6]|0,wt=ze&8191,Ie=ze>>>13,Ne=$[7]|0,_t=Ne&8191,Pe=Ne>>>13,Le=$[8]|0,At=Le&8191,ae=Le>>>13,J=$[9]|0,re=J&8191,le=J>>>13,be=I[0]|0,Be=be&8191,ve=be>>>13,Te=I[1]|0,vt=Te&8191,ke=Te>>>13,Ue=I[2]|0,gt=Ue&8191,qe=Ue>>>13,Ve=I[3]|0,St=Ve&8191,Fe=Ve>>>13,je=I[4]|0,$t=je&8191,De=je>>>13,We=I[5]|0,kt=We&8191,Oe=We>>>13,Ge=I[6]|0,fe=Ge&8191,oe=Ge>>>13,ce=I[7]|0,Q=ce&8191,ue=ce>>>13,me=I[8]|0,$e=me&8191,ye=me>>>13,Ee=I[9]|0,Ze=Ee&8191,Ye=Ee>>>13;A.negative=b.negative^v.negative,A.length=19,E=Math.imul(F,Be),O=Math.imul(F,ve),O=O+Math.imul(V,Be)|0,D=Math.imul(V,ve);var xt=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(xt>>>26)|0,xt&=67108863,E=Math.imul(ee,Be),O=Math.imul(ee,ve),O=O+Math.imul(ie,Be)|0,D=Math.imul(ie,ve),E=E+Math.imul(F,vt)|0,O=O+Math.imul(F,ke)|0,O=O+Math.imul(V,vt)|0,D=D+Math.imul(V,ke)|0;var rt=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(rt>>>26)|0,rt&=67108863,E=Math.imul(Z,Be),O=Math.imul(Z,ve),O=O+Math.imul(j,Be)|0,D=Math.imul(j,ve),E=E+Math.imul(ee,vt)|0,O=O+Math.imul(ee,ke)|0,O=O+Math.imul(ie,vt)|0,D=D+Math.imul(ie,ke)|0,E=E+Math.imul(F,gt)|0,O=O+Math.imul(F,qe)|0,O=O+Math.imul(V,gt)|0,D=D+Math.imul(V,qe)|0;var lt=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(lt>>>26)|0,lt&=67108863,E=Math.imul(Ae,Be),O=Math.imul(Ae,ve),O=O+Math.imul(_e,Be)|0,D=Math.imul(_e,ve),E=E+Math.imul(Z,vt)|0,O=O+Math.imul(Z,ke)|0,O=O+Math.imul(j,vt)|0,D=D+Math.imul(j,ke)|0,E=E+Math.imul(ee,gt)|0,O=O+Math.imul(ee,qe)|0,O=O+Math.imul(ie,gt)|0,D=D+Math.imul(ie,qe)|0,E=E+Math.imul(F,St)|0,O=O+Math.imul(F,Fe)|0,O=O+Math.imul(V,St)|0,D=D+Math.imul(V,Fe)|0;var dt=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(dt>>>26)|0,dt&=67108863,E=Math.imul(Xe,Be),O=Math.imul(Xe,ve),O=O+Math.imul(Re,Be)|0,D=Math.imul(Re,ve),E=E+Math.imul(Ae,vt)|0,O=O+Math.imul(Ae,ke)|0,O=O+Math.imul(_e,vt)|0,D=D+Math.imul(_e,ke)|0,E=E+Math.imul(Z,gt)|0,O=O+Math.imul(Z,qe)|0,O=O+Math.imul(j,gt)|0,D=D+Math.imul(j,qe)|0,E=E+Math.imul(ee,St)|0,O=O+Math.imul(ee,Fe)|0,O=O+Math.imul(ie,St)|0,D=D+Math.imul(ie,Fe)|0,E=E+Math.imul(F,$t)|0,O=O+Math.imul(F,De)|0,O=O+Math.imul(V,$t)|0,D=D+Math.imul(V,De)|0;var ht=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(ht>>>26)|0,ht&=67108863,E=Math.imul(Et,Be),O=Math.imul(Et,ve),O=O+Math.imul(Ce,Be)|0,D=Math.imul(Ce,ve),E=E+Math.imul(Xe,vt)|0,O=O+Math.imul(Xe,ke)|0,O=O+Math.imul(Re,vt)|0,D=D+Math.imul(Re,ke)|0,E=E+Math.imul(Ae,gt)|0,O=O+Math.imul(Ae,qe)|0,O=O+Math.imul(_e,gt)|0,D=D+Math.imul(_e,qe)|0,E=E+Math.imul(Z,St)|0,O=O+Math.imul(Z,Fe)|0,O=O+Math.imul(j,St)|0,D=D+Math.imul(j,Fe)|0,E=E+Math.imul(ee,$t)|0,O=O+Math.imul(ee,De)|0,O=O+Math.imul(ie,$t)|0,D=D+Math.imul(ie,De)|0,E=E+Math.imul(F,kt)|0,O=O+Math.imul(F,Oe)|0,O=O+Math.imul(V,kt)|0,D=D+Math.imul(V,Oe)|0;var yt=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(yt>>>26)|0,yt&=67108863,E=Math.imul(wt,Be),O=Math.imul(wt,ve),O=O+Math.imul(Ie,Be)|0,D=Math.imul(Ie,ve),E=E+Math.imul(Et,vt)|0,O=O+Math.imul(Et,ke)|0,O=O+Math.imul(Ce,vt)|0,D=D+Math.imul(Ce,ke)|0,E=E+Math.imul(Xe,gt)|0,O=O+Math.imul(Xe,qe)|0,O=O+Math.imul(Re,gt)|0,D=D+Math.imul(Re,qe)|0,E=E+Math.imul(Ae,St)|0,O=O+Math.imul(Ae,Fe)|0,O=O+Math.imul(_e,St)|0,D=D+Math.imul(_e,Fe)|0,E=E+Math.imul(Z,$t)|0,O=O+Math.imul(Z,De)|0,O=O+Math.imul(j,$t)|0,D=D+Math.imul(j,De)|0,E=E+Math.imul(ee,kt)|0,O=O+Math.imul(ee,Oe)|0,O=O+Math.imul(ie,kt)|0,D=D+Math.imul(ie,Oe)|0,E=E+Math.imul(F,fe)|0,O=O+Math.imul(F,oe)|0,O=O+Math.imul(V,fe)|0,D=D+Math.imul(V,oe)|0;var pt=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(pt>>>26)|0,pt&=67108863,E=Math.imul(_t,Be),O=Math.imul(_t,ve),O=O+Math.imul(Pe,Be)|0,D=Math.imul(Pe,ve),E=E+Math.imul(wt,vt)|0,O=O+Math.imul(wt,ke)|0,O=O+Math.imul(Ie,vt)|0,D=D+Math.imul(Ie,ke)|0,E=E+Math.imul(Et,gt)|0,O=O+Math.imul(Et,qe)|0,O=O+Math.imul(Ce,gt)|0,D=D+Math.imul(Ce,qe)|0,E=E+Math.imul(Xe,St)|0,O=O+Math.imul(Xe,Fe)|0,O=O+Math.imul(Re,St)|0,D=D+Math.imul(Re,Fe)|0,E=E+Math.imul(Ae,$t)|0,O=O+Math.imul(Ae,De)|0,O=O+Math.imul(_e,$t)|0,D=D+Math.imul(_e,De)|0,E=E+Math.imul(Z,kt)|0,O=O+Math.imul(Z,Oe)|0,O=O+Math.imul(j,kt)|0,D=D+Math.imul(j,Oe)|0,E=E+Math.imul(ee,fe)|0,O=O+Math.imul(ee,oe)|0,O=O+Math.imul(ie,fe)|0,D=D+Math.imul(ie,oe)|0,E=E+Math.imul(F,Q)|0,O=O+Math.imul(F,ue)|0,O=O+Math.imul(V,Q)|0,D=D+Math.imul(V,ue)|0;var mt=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(mt>>>26)|0,mt&=67108863,E=Math.imul(At,Be),O=Math.imul(At,ve),O=O+Math.imul(ae,Be)|0,D=Math.imul(ae,ve),E=E+Math.imul(_t,vt)|0,O=O+Math.imul(_t,ke)|0,O=O+Math.imul(Pe,vt)|0,D=D+Math.imul(Pe,ke)|0,E=E+Math.imul(wt,gt)|0,O=O+Math.imul(wt,qe)|0,O=O+Math.imul(Ie,gt)|0,D=D+Math.imul(Ie,qe)|0,E=E+Math.imul(Et,St)|0,O=O+Math.imul(Et,Fe)|0,O=O+Math.imul(Ce,St)|0,D=D+Math.imul(Ce,Fe)|0,E=E+Math.imul(Xe,$t)|0,O=O+Math.imul(Xe,De)|0,O=O+Math.imul(Re,$t)|0,D=D+Math.imul(Re,De)|0,E=E+Math.imul(Ae,kt)|0,O=O+Math.imul(Ae,Oe)|0,O=O+Math.imul(_e,kt)|0,D=D+Math.imul(_e,Oe)|0,E=E+Math.imul(Z,fe)|0,O=O+Math.imul(Z,oe)|0,O=O+Math.imul(j,fe)|0,D=D+Math.imul(j,oe)|0,E=E+Math.imul(ee,Q)|0,O=O+Math.imul(ee,ue)|0,O=O+Math.imul(ie,Q)|0,D=D+Math.imul(ie,ue)|0,E=E+Math.imul(F,$e)|0,O=O+Math.imul(F,ye)|0,O=O+Math.imul(V,$e)|0,D=D+Math.imul(V,ye)|0;var bt=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(bt>>>26)|0,bt&=67108863,E=Math.imul(re,Be),O=Math.imul(re,ve),O=O+Math.imul(le,Be)|0,D=Math.imul(le,ve),E=E+Math.imul(At,vt)|0,O=O+Math.imul(At,ke)|0,O=O+Math.imul(ae,vt)|0,D=D+Math.imul(ae,ke)|0,E=E+Math.imul(_t,gt)|0,O=O+Math.imul(_t,qe)|0,O=O+Math.imul(Pe,gt)|0,D=D+Math.imul(Pe,qe)|0,E=E+Math.imul(wt,St)|0,O=O+Math.imul(wt,Fe)|0,O=O+Math.imul(Ie,St)|0,D=D+Math.imul(Ie,Fe)|0,E=E+Math.imul(Et,$t)|0,O=O+Math.imul(Et,De)|0,O=O+Math.imul(Ce,$t)|0,D=D+Math.imul(Ce,De)|0,E=E+Math.imul(Xe,kt)|0,O=O+Math.imul(Xe,Oe)|0,O=O+Math.imul(Re,kt)|0,D=D+Math.imul(Re,Oe)|0,E=E+Math.imul(Ae,fe)|0,O=O+Math.imul(Ae,oe)|0,O=O+Math.imul(_e,fe)|0,D=D+Math.imul(_e,oe)|0,E=E+Math.imul(Z,Q)|0,O=O+Math.imul(Z,ue)|0,O=O+Math.imul(j,Q)|0,D=D+Math.imul(j,ue)|0,E=E+Math.imul(ee,$e)|0,O=O+Math.imul(ee,ye)|0,O=O+Math.imul(ie,$e)|0,D=D+Math.imul(ie,ye)|0,E=E+Math.imul(F,Ze)|0,O=O+Math.imul(F,Ye)|0,O=O+Math.imul(V,Ze)|0,D=D+Math.imul(V,Ye)|0;var nt=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(nt>>>26)|0,nt&=67108863,E=Math.imul(re,vt),O=Math.imul(re,ke),O=O+Math.imul(le,vt)|0,D=Math.imul(le,ke),E=E+Math.imul(At,gt)|0,O=O+Math.imul(At,qe)|0,O=O+Math.imul(ae,gt)|0,D=D+Math.imul(ae,qe)|0,E=E+Math.imul(_t,St)|0,O=O+Math.imul(_t,Fe)|0,O=O+Math.imul(Pe,St)|0,D=D+Math.imul(Pe,Fe)|0,E=E+Math.imul(wt,$t)|0,O=O+Math.imul(wt,De)|0,O=O+Math.imul(Ie,$t)|0,D=D+Math.imul(Ie,De)|0,E=E+Math.imul(Et,kt)|0,O=O+Math.imul(Et,Oe)|0,O=O+Math.imul(Ce,kt)|0,D=D+Math.imul(Ce,Oe)|0,E=E+Math.imul(Xe,fe)|0,O=O+Math.imul(Xe,oe)|0,O=O+Math.imul(Re,fe)|0,D=D+Math.imul(Re,oe)|0,E=E+Math.imul(Ae,Q)|0,O=O+Math.imul(Ae,ue)|0,O=O+Math.imul(_e,Q)|0,D=D+Math.imul(_e,ue)|0,E=E+Math.imul(Z,$e)|0,O=O+Math.imul(Z,ye)|0,O=O+Math.imul(j,$e)|0,D=D+Math.imul(j,ye)|0,E=E+Math.imul(ee,Ze)|0,O=O+Math.imul(ee,Ye)|0,O=O+Math.imul(ie,Ze)|0,D=D+Math.imul(ie,Ye)|0;var ct=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(ct>>>26)|0,ct&=67108863,E=Math.imul(re,gt),O=Math.imul(re,qe),O=O+Math.imul(le,gt)|0,D=Math.imul(le,qe),E=E+Math.imul(At,St)|0,O=O+Math.imul(At,Fe)|0,O=O+Math.imul(ae,St)|0,D=D+Math.imul(ae,Fe)|0,E=E+Math.imul(_t,$t)|0,O=O+Math.imul(_t,De)|0,O=O+Math.imul(Pe,$t)|0,D=D+Math.imul(Pe,De)|0,E=E+Math.imul(wt,kt)|0,O=O+Math.imul(wt,Oe)|0,O=O+Math.imul(Ie,kt)|0,D=D+Math.imul(Ie,Oe)|0,E=E+Math.imul(Et,fe)|0,O=O+Math.imul(Et,oe)|0,O=O+Math.imul(Ce,fe)|0,D=D+Math.imul(Ce,oe)|0,E=E+Math.imul(Xe,Q)|0,O=O+Math.imul(Xe,ue)|0,O=O+Math.imul(Re,Q)|0,D=D+Math.imul(Re,ue)|0,E=E+Math.imul(Ae,$e)|0,O=O+Math.imul(Ae,ye)|0,O=O+Math.imul(_e,$e)|0,D=D+Math.imul(_e,ye)|0,E=E+Math.imul(Z,Ze)|0,O=O+Math.imul(Z,Ye)|0,O=O+Math.imul(j,Ze)|0,D=D+Math.imul(j,Ye)|0;var it=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(it>>>26)|0,it&=67108863,E=Math.imul(re,St),O=Math.imul(re,Fe),O=O+Math.imul(le,St)|0,D=Math.imul(le,Fe),E=E+Math.imul(At,$t)|0,O=O+Math.imul(At,De)|0,O=O+Math.imul(ae,$t)|0,D=D+Math.imul(ae,De)|0,E=E+Math.imul(_t,kt)|0,O=O+Math.imul(_t,Oe)|0,O=O+Math.imul(Pe,kt)|0,D=D+Math.imul(Pe,Oe)|0,E=E+Math.imul(wt,fe)|0,O=O+Math.imul(wt,oe)|0,O=O+Math.imul(Ie,fe)|0,D=D+Math.imul(Ie,oe)|0,E=E+Math.imul(Et,Q)|0,O=O+Math.imul(Et,ue)|0,O=O+Math.imul(Ce,Q)|0,D=D+Math.imul(Ce,ue)|0,E=E+Math.imul(Xe,$e)|0,O=O+Math.imul(Xe,ye)|0,O=O+Math.imul(Re,$e)|0,D=D+Math.imul(Re,ye)|0,E=E+Math.imul(Ae,Ze)|0,O=O+Math.imul(Ae,Ye)|0,O=O+Math.imul(_e,Ze)|0,D=D+Math.imul(_e,Ye)|0;var at=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(at>>>26)|0,at&=67108863,E=Math.imul(re,$t),O=Math.imul(re,De),O=O+Math.imul(le,$t)|0,D=Math.imul(le,De),E=E+Math.imul(At,kt)|0,O=O+Math.imul(At,Oe)|0,O=O+Math.imul(ae,kt)|0,D=D+Math.imul(ae,Oe)|0,E=E+Math.imul(_t,fe)|0,O=O+Math.imul(_t,oe)|0,O=O+Math.imul(Pe,fe)|0,D=D+Math.imul(Pe,oe)|0,E=E+Math.imul(wt,Q)|0,O=O+Math.imul(wt,ue)|0,O=O+Math.imul(Ie,Q)|0,D=D+Math.imul(Ie,ue)|0,E=E+Math.imul(Et,$e)|0,O=O+Math.imul(Et,ye)|0,O=O+Math.imul(Ce,$e)|0,D=D+Math.imul(Ce,ye)|0,E=E+Math.imul(Xe,Ze)|0,O=O+Math.imul(Xe,Ye)|0,O=O+Math.imul(Re,Ze)|0,D=D+Math.imul(Re,Ye)|0;var st=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(st>>>26)|0,st&=67108863,E=Math.imul(re,kt),O=Math.imul(re,Oe),O=O+Math.imul(le,kt)|0,D=Math.imul(le,Oe),E=E+Math.imul(At,fe)|0,O=O+Math.imul(At,oe)|0,O=O+Math.imul(ae,fe)|0,D=D+Math.imul(ae,oe)|0,E=E+Math.imul(_t,Q)|0,O=O+Math.imul(_t,ue)|0,O=O+Math.imul(Pe,Q)|0,D=D+Math.imul(Pe,ue)|0,E=E+Math.imul(wt,$e)|0,O=O+Math.imul(wt,ye)|0,O=O+Math.imul(Ie,$e)|0,D=D+Math.imul(Ie,ye)|0,E=E+Math.imul(Et,Ze)|0,O=O+Math.imul(Et,Ye)|0,O=O+Math.imul(Ce,Ze)|0,D=D+Math.imul(Ce,Ye)|0;var tt=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(tt>>>26)|0,tt&=67108863,E=Math.imul(re,fe),O=Math.imul(re,oe),O=O+Math.imul(le,fe)|0,D=Math.imul(le,oe),E=E+Math.imul(At,Q)|0,O=O+Math.imul(At,ue)|0,O=O+Math.imul(ae,Q)|0,D=D+Math.imul(ae,ue)|0,E=E+Math.imul(_t,$e)|0,O=O+Math.imul(_t,ye)|0,O=O+Math.imul(Pe,$e)|0,D=D+Math.imul(Pe,ye)|0,E=E+Math.imul(wt,Ze)|0,O=O+Math.imul(wt,Ye)|0,O=O+Math.imul(Ie,Ze)|0,D=D+Math.imul(Ie,Ye)|0;var He=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(He>>>26)|0,He&=67108863,E=Math.imul(re,Q),O=Math.imul(re,ue),O=O+Math.imul(le,Q)|0,D=Math.imul(le,ue),E=E+Math.imul(At,$e)|0,O=O+Math.imul(At,ye)|0,O=O+Math.imul(ae,$e)|0,D=D+Math.imul(ae,ye)|0,E=E+Math.imul(_t,Ze)|0,O=O+Math.imul(_t,Ye)|0,O=O+Math.imul(Pe,Ze)|0,D=D+Math.imul(Pe,Ye)|0;var Ke=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,E=Math.imul(re,$e),O=Math.imul(re,ye),O=O+Math.imul(le,$e)|0,D=Math.imul(le,ye),E=E+Math.imul(At,Ze)|0,O=O+Math.imul(At,Ye)|0,O=O+Math.imul(ae,Ze)|0,D=D+Math.imul(ae,Ye)|0;var et=(l+E|0)+((O&8191)<<13)|0;l=(D+(O>>>13)|0)+(et>>>26)|0,et&=67108863,E=Math.imul(re,Ze),O=Math.imul(re,Ye),O=O+Math.imul(le,Ze)|0,D=Math.imul(le,Ye);var Je=(l+E|0)+((O&8191)<<13)|0;return l=(D+(O>>>13)|0)+(Je>>>26)|0,Je&=67108863,S[0]=xt,S[1]=rt,S[2]=lt,S[3]=dt,S[4]=ht,S[5]=yt,S[6]=pt,S[7]=mt,S[8]=bt,S[9]=nt,S[10]=ct,S[11]=it,S[12]=at,S[13]=st,S[14]=tt,S[15]=He,S[16]=Ke,S[17]=et,S[18]=Je,l!==0&&(S[19]=l,A.length++),A};Math.imul||(q=U);function G(d,b,v){v.negative=b.negative^d.negative,v.length=d.length+b.length;for(var A=0,$=0,I=0;I<v.length-1;I++){var S=$;$=0;for(var l=A&67108863,E=Math.min(I,b.length-1),O=Math.max(0,I-d.length+1);O<=E;O++){var D=I-O,Y=d.words[D]|0,F=b.words[O]|0,V=Y*F,H=V&67108863;S=S+(V/67108864|0)|0,H=H+l|0,l=H&67108863,S=S+(H>>>26)|0,$+=S>>>26,S&=67108863}v.words[I]=l,A=S,S=$}return A!==0?v.words[I]=A:v.length--,v._strip()}function X(d,b,v){return G(d,b,v)}o.prototype.mulTo=function(b,v){var A,$=this.length+b.length;return this.length===10&&b.length===10?A=q(this,b,v):$<63?A=U(this,b,v):$<1024?A=G(this,b,v):A=X(this,b,v),A},o.prototype.mul=function(b){var v=new o(null);return v.words=new Array(this.length+b.length),this.mulTo(b,v)},o.prototype.mulf=function(b){var v=new o(null);return v.words=new Array(this.length+b.length),X(this,b,v)},o.prototype.imul=function(b){return this.clone().mulTo(b,this)},o.prototype.imuln=function(b){var v=b<0;v&&(b=-b),a(typeof b=="number"),a(b<67108864);for(var A=0,$=0;$<this.length;$++){var I=(this.words[$]|0)*b,S=(I&67108863)+(A&67108863);A>>=26,A+=I/67108864|0,A+=S>>>26,this.words[$]=S&67108863}return A!==0&&(this.words[$]=A,this.length++),v?this.ineg():this},o.prototype.muln=function(b){return this.clone().imuln(b)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(b){var v=L(b);if(v.length===0)return new o(1);for(var A=this,$=0;$<v.length&&v[$]===0;$++,A=A.sqr());if(++$<v.length)for(var I=A.sqr();$<v.length;$++,I=I.sqr())v[$]!==0&&(A=A.mul(I));return A},o.prototype.iushln=function(b){a(typeof b=="number"&&b>=0);var v=b%26,A=(b-v)/26,$=67108863>>>26-v<<26-v,I;if(v!==0){var S=0;for(I=0;I<this.length;I++){var l=this.words[I]&$,E=(this.words[I]|0)-l<<v;this.words[I]=E|S,S=l>>>26-v}S&&(this.words[I]=S,this.length++)}if(A!==0){for(I=this.length-1;I>=0;I--)this.words[I+A]=this.words[I];for(I=0;I<A;I++)this.words[I]=0;this.length+=A}return this._strip()},o.prototype.ishln=function(b){return a(this.negative===0),this.iushln(b)},o.prototype.iushrn=function(b,v,A){a(typeof b=="number"&&b>=0);var $;v?$=(v-v%26)/26:$=0;var I=b%26,S=Math.min((b-I)/26,this.length),l=67108863^67108863>>>I<<I,E=A;if($-=S,$=Math.max(0,$),E){for(var O=0;O<S;O++)E.words[O]=this.words[O];E.length=S}if(S!==0)if(this.length>S)for(this.length-=S,O=0;O<this.length;O++)this.words[O]=this.words[O+S];else this.words[0]=0,this.length=1;var D=0;for(O=this.length-1;O>=0&&(D!==0||O>=$);O--){var Y=this.words[O]|0;this.words[O]=D<<26-I|Y>>>I,D=Y&l}return E&&D!==0&&(E.words[E.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(b,v,A){return a(this.negative===0),this.iushrn(b,v,A)},o.prototype.shln=function(b){return this.clone().ishln(b)},o.prototype.ushln=function(b){return this.clone().iushln(b)},o.prototype.shrn=function(b){return this.clone().ishrn(b)},o.prototype.ushrn=function(b){return this.clone().iushrn(b)},o.prototype.testn=function(b){a(typeof b=="number"&&b>=0);var v=b%26,A=(b-v)/26,$=1<<v;if(this.length<=A)return!1;var I=this.words[A];return!!(I&$)},o.prototype.imaskn=function(b){a(typeof b=="number"&&b>=0);var v=b%26,A=(b-v)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(v!==0&&A++,this.length=Math.min(A,this.length),v!==0){var $=67108863^67108863>>>v<<v;this.words[this.length-1]&=$}return this._strip()},o.prototype.maskn=function(b){return this.clone().imaskn(b)},o.prototype.iaddn=function(b){return a(typeof b=="number"),a(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},o.prototype._iaddn=function(b){this.words[0]+=b;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},o.prototype.isubn=function(b){if(a(typeof b=="number"),a(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},o.prototype.addn=function(b){return this.clone().iaddn(b)},o.prototype.subn=function(b){return this.clone().isubn(b)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(b,v,A){var $=b.length+A,I;this._expand($);var S,l=0;for(I=0;I<b.length;I++){S=(this.words[I+A]|0)+l;var E=(b.words[I]|0)*v;S-=E&67108863,l=(S>>26)-(E/67108864|0),this.words[I+A]=S&67108863}for(;I<this.length-A;I++)S=(this.words[I+A]|0)+l,l=S>>26,this.words[I+A]=S&67108863;if(l===0)return this._strip();for(a(l===-1),l=0,I=0;I<this.length;I++)S=-(this.words[I]|0)+l,l=S>>26,this.words[I]=S&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(b,v){var A=this.length-b.length,$=this.clone(),I=b,S=I.words[I.length-1]|0,l=this._countBits(S);A=26-l,A!==0&&(I=I.ushln(A),$.iushln(A),S=I.words[I.length-1]|0);var E=$.length-I.length,O;if(v!=="mod"){O=new o(null),O.length=E+1,O.words=new Array(O.length);for(var D=0;D<O.length;D++)O.words[D]=0}var Y=$.clone()._ishlnsubmul(I,1,E);Y.negative===0&&($=Y,O&&(O.words[E]=1));for(var F=E-1;F>=0;F--){var V=($.words[I.length+F]|0)*67108864+($.words[I.length+F-1]|0);for(V=Math.min(V/S|0,67108863),$._ishlnsubmul(I,V,F);$.negative!==0;)V--,$.negative=0,$._ishlnsubmul(I,1,F),$.isZero()||($.negative^=1);O&&(O.words[F]=V)}return O&&O._strip(),$._strip(),v!=="div"&&A!==0&&$.iushrn(A),{div:O||null,mod:$}},o.prototype.divmod=function(b,v,A){if(a(!b.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var $,I,S;return this.negative!==0&&b.negative===0?(S=this.neg().divmod(b,v),v!=="mod"&&($=S.div.neg()),v!=="div"&&(I=S.mod.neg(),A&&I.negative!==0&&I.iadd(b)),{div:$,mod:I}):this.negative===0&&b.negative!==0?(S=this.divmod(b.neg(),v),v!=="mod"&&($=S.div.neg()),{div:$,mod:S.mod}):this.negative&b.negative?(S=this.neg().divmod(b.neg(),v),v!=="div"&&(I=S.mod.neg(),A&&I.negative!==0&&I.isub(b)),{div:S.div,mod:I}):b.length>this.length||this.cmp(b)<0?{div:new o(0),mod:this}:b.length===1?v==="div"?{div:this.divn(b.words[0]),mod:null}:v==="mod"?{div:null,mod:new o(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new o(this.modrn(b.words[0]))}:this._wordDiv(b,v)},o.prototype.div=function(b){return this.divmod(b,"div",!1).div},o.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},o.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},o.prototype.divRound=function(b){var v=this.divmod(b);if(v.mod.isZero())return v.div;var A=v.div.negative!==0?v.mod.isub(b):v.mod,$=b.ushrn(1),I=b.andln(1),S=A.cmp($);return S<0||I===1&&S===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},o.prototype.modrn=function(b){var v=b<0;v&&(b=-b),a(b<=67108863);for(var A=(1<<26)%b,$=0,I=this.length-1;I>=0;I--)$=(A*$+(this.words[I]|0))%b;return v?-$:$},o.prototype.modn=function(b){return this.modrn(b)},o.prototype.idivn=function(b){var v=b<0;v&&(b=-b),a(b<=67108863);for(var A=0,$=this.length-1;$>=0;$--){var I=(this.words[$]|0)+A*67108864;this.words[$]=I/b|0,A=I%b}return this._strip(),v?this.ineg():this},o.prototype.divn=function(b){return this.clone().idivn(b)},o.prototype.egcd=function(b){a(b.negative===0),a(!b.isZero());var v=this,A=b.clone();v.negative!==0?v=v.umod(b):v=v.clone();for(var $=new o(1),I=new o(0),S=new o(0),l=new o(1),E=0;v.isEven()&&A.isEven();)v.iushrn(1),A.iushrn(1),++E;for(var O=A.clone(),D=v.clone();!v.isZero();){for(var Y=0,F=1;!(v.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(v.iushrn(Y);Y-- >0;)($.isOdd()||I.isOdd())&&($.iadd(O),I.isub(D)),$.iushrn(1),I.iushrn(1);for(var V=0,H=1;!(A.words[0]&H)&&V<26;++V,H<<=1);if(V>0)for(A.iushrn(V);V-- >0;)(S.isOdd()||l.isOdd())&&(S.iadd(O),l.isub(D)),S.iushrn(1),l.iushrn(1);v.cmp(A)>=0?(v.isub(A),$.isub(S),I.isub(l)):(A.isub(v),S.isub($),l.isub(I))}return{a:S,b:l,gcd:A.iushln(E)}},o.prototype._invmp=function(b){a(b.negative===0),a(!b.isZero());var v=this,A=b.clone();v.negative!==0?v=v.umod(b):v=v.clone();for(var $=new o(1),I=new o(0),S=A.clone();v.cmpn(1)>0&&A.cmpn(1)>0;){for(var l=0,E=1;!(v.words[0]&E)&&l<26;++l,E<<=1);if(l>0)for(v.iushrn(l);l-- >0;)$.isOdd()&&$.iadd(S),$.iushrn(1);for(var O=0,D=1;!(A.words[0]&D)&&O<26;++O,D<<=1);if(O>0)for(A.iushrn(O);O-- >0;)I.isOdd()&&I.iadd(S),I.iushrn(1);v.cmp(A)>=0?(v.isub(A),$.isub(I)):(A.isub(v),I.isub($))}var Y;return v.cmpn(1)===0?Y=$:Y=I,Y.cmpn(0)<0&&Y.iadd(b),Y},o.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var v=this.clone(),A=b.clone();v.negative=0,A.negative=0;for(var $=0;v.isEven()&&A.isEven();$++)v.iushrn(1),A.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;A.isEven();)A.iushrn(1);var I=v.cmp(A);if(I<0){var S=v;v=A,A=S}else if(I===0||A.cmpn(1)===0)break;v.isub(A)}while(!0);return A.iushln($)},o.prototype.invm=function(b){return this.egcd(b).a.umod(b)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(b){return this.words[0]&b},o.prototype.bincn=function(b){a(typeof b=="number");var v=b%26,A=(b-v)/26,$=1<<v;if(this.length<=A)return this._expand(A+1),this.words[A]|=$,this;for(var I=$,S=A;I!==0&&S<this.length;S++){var l=this.words[S]|0;l+=I,I=l>>>26,l&=67108863,this.words[S]=l}return I!==0&&(this.words[S]=I,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(b){var v=b<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var A;if(this.length>1)A=1;else{v&&(b=-b),a(b<=67108863,"Number is too big");var $=this.words[0]|0;A=$===b?0:$<b?-1:1}return this.negative!==0?-A|0:A},o.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var v=this.ucmp(b);return this.negative!==0?-v|0:v},o.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var v=0,A=this.length-1;A>=0;A--){var $=this.words[A]|0,I=b.words[A]|0;if($!==I){$<I?v=-1:$>I&&(v=1);break}}return v},o.prototype.gtn=function(b){return this.cmpn(b)===1},o.prototype.gt=function(b){return this.cmp(b)===1},o.prototype.gten=function(b){return this.cmpn(b)>=0},o.prototype.gte=function(b){return this.cmp(b)>=0},o.prototype.ltn=function(b){return this.cmpn(b)===-1},o.prototype.lt=function(b){return this.cmp(b)===-1},o.prototype.lten=function(b){return this.cmpn(b)<=0},o.prototype.lte=function(b){return this.cmp(b)<=0},o.prototype.eqn=function(b){return this.cmpn(b)===0},o.prototype.eq=function(b){return this.cmp(b)===0},o.red=function(b){return new k(b)},o.prototype.toRed=function(b){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},o.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(b){return this.red=b,this},o.prototype.forceRed=function(b){return a(!this.red,"Already a number in reduction context"),this._forceRed(b)},o.prototype.redAdd=function(b){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},o.prototype.redIAdd=function(b){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},o.prototype.redSub=function(b){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},o.prototype.redISub=function(b){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},o.prototype.redShl=function(b){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},o.prototype.redMul=function(b){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},o.prototype.redIMul=function(b){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},o.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(b){return a(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var te={k256:null,p224:null,p192:null,p25519:null};function ne(d,b){this.name=d,this.p=new o(b,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ne.prototype._tmp=function(){var b=new o(null);return b.words=new Array(Math.ceil(this.n/13)),b},ne.prototype.ireduce=function(b){var v=b,A;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),A=v.bitLength();while(A>this.n);var $=A<this.n?-1:v.ucmp(this.p);return $===0?(v.words[0]=0,v.length=1):$>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},ne.prototype.split=function(b,v){b.iushrn(this.n,0,v)},ne.prototype.imulK=function(b){return b.imul(this.k)};function ge(){ne.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(ge,ne),ge.prototype.split=function(b,v){for(var A=4194303,$=Math.min(b.length,9),I=0;I<$;I++)v.words[I]=b.words[I];if(v.length=$,b.length<=9){b.words[0]=0,b.length=1;return}var S=b.words[9];for(v.words[v.length++]=S&A,I=10;I<b.length;I++){var l=b.words[I]|0;b.words[I-10]=(l&A)<<4|S>>>22,S=l}S>>>=22,b.words[I-10]=S,S===0&&b.length>10?b.length-=10:b.length-=9},ge.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var v=0,A=0;A<b.length;A++){var $=b.words[A]|0;v+=$*977,b.words[A]=v&67108863,v=$*64+(v/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function pe(){ne.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(pe,ne);function se(){ne.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(se,ne);function Se(){ne.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(Se,ne),Se.prototype.imulK=function(b){for(var v=0,A=0;A<b.length;A++){var $=(b.words[A]|0)*19+v,I=$&67108863;$>>>=26,b.words[A]=I,v=$}return v!==0&&(b.words[b.length++]=v),b},o._prime=function(b){if(te[b])return te[b];var v;if(b==="k256")v=new ge;else if(b==="p224")v=new pe;else if(b==="p192")v=new se;else if(b==="p25519")v=new Se;else throw new Error("Unknown prime "+b);return te[b]=v,v};function k(d){if(typeof d=="string"){var b=o._prime(d);this.m=b.p,this.prime=b}else a(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}k.prototype._verify1=function(b){a(b.negative===0,"red works only with positives"),a(b.red,"red works only with red numbers")},k.prototype._verify2=function(b,v){a((b.negative|v.negative)===0,"red works only with positives"),a(b.red&&b.red===v.red,"red works only with red numbers")},k.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(_(b,b.umod(this.m)._forceRed(this)),b)},k.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},k.prototype.add=function(b,v){this._verify2(b,v);var A=b.add(v);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},k.prototype.iadd=function(b,v){this._verify2(b,v);var A=b.iadd(v);return A.cmp(this.m)>=0&&A.isub(this.m),A},k.prototype.sub=function(b,v){this._verify2(b,v);var A=b.sub(v);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},k.prototype.isub=function(b,v){this._verify2(b,v);var A=b.isub(v);return A.cmpn(0)<0&&A.iadd(this.m),A},k.prototype.shl=function(b,v){return this._verify1(b),this.imod(b.ushln(v))},k.prototype.imul=function(b,v){return this._verify2(b,v),this.imod(b.imul(v))},k.prototype.mul=function(b,v){return this._verify2(b,v),this.imod(b.mul(v))},k.prototype.isqr=function(b){return this.imul(b,b.clone())},k.prototype.sqr=function(b){return this.mul(b,b)},k.prototype.sqrt=function(b){if(b.isZero())return b.clone();var v=this.m.andln(3);if(a(v%2===1),v===3){var A=this.m.add(new o(1)).iushrn(2);return this.pow(b,A)}for(var $=this.m.subn(1),I=0;!$.isZero()&&$.andln(1)===0;)I++,$.iushrn(1);a(!$.isZero());var S=new o(1).toRed(this),l=S.redNeg(),E=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new o(2*O*O).toRed(this);this.pow(O,E).cmp(l)!==0;)O.redIAdd(l);for(var D=this.pow(O,$),Y=this.pow(b,$.addn(1).iushrn(1)),F=this.pow(b,$),V=I;F.cmp(S)!==0;){for(var H=F,ee=0;H.cmp(S)!==0;ee++)H=H.redSqr();a(ee<V);var ie=this.pow(D,new o(1).iushln(V-ee-1));Y=Y.redMul(ie),D=ie.redSqr(),F=F.redMul(D),V=ee}return Y},k.prototype.invm=function(b){var v=b._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},k.prototype.pow=function(b,v){if(v.isZero())return new o(1).toRed(this);if(v.cmpn(1)===0)return b.clone();var A=4,$=new Array(1<<A);$[0]=new o(1).toRed(this),$[1]=b;for(var I=2;I<$.length;I++)$[I]=this.mul($[I-1],b);var S=$[0],l=0,E=0,O=v.bitLength()%26;for(O===0&&(O=26),I=v.length-1;I>=0;I--){for(var D=v.words[I],Y=O-1;Y>=0;Y--){var F=D>>Y&1;if(S!==$[0]&&(S=this.sqr(S)),F===0&&l===0){E=0;continue}l<<=1,l|=F,E++,!(E!==A&&(I!==0||Y!==0))&&(S=this.mul(S,$[l]),E=0,l=0)}O=26}return S},k.prototype.convertTo=function(b){var v=b.umod(this.m);return v===b?v.clone():v},k.prototype.convertFrom=function(b){var v=b.clone();return v.red=null,v},o.mont=function(b){return new c(b)};function c(d){k.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(c,k),c.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},c.prototype.convertFrom=function(b){var v=this.imod(b.mul(this.rinv));return v.red=null,v},c.prototype.imul=function(b,v){if(b.isZero()||v.isZero())return b.words[0]=0,b.length=1,b;var A=b.imul(v),$=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=A.isub($).iushrn(this.shift),S=I;return I.cmp(this.m)>=0?S=I.isub(this.m):I.cmpn(0)<0&&(S=I.iadd(this.m)),S._forceRed(this)},c.prototype.mul=function(b,v){if(b.isZero()||v.isZero())return new o(0)._forceRed(this);var A=b.mul(v),$=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=A.isub($).iushrn(this.shift),S=I;return I.cmp(this.m)>=0?S=I.isub(this.m):I.cmpn(0)<0&&(S=I.iadd(this.m)),S._forceRed(this)},c.prototype.invm=function(b){var v=this.imod(b._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(t,commonjsGlobal)})(bn$7);var bnExports=bn$7.exports;const BN$1=getDefaultExportFromCjs$1(bnExports),version$r="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("\xe9".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const a=e.toLowerCase();LogLevels[a]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(_logLevel>LogLevels[a])&&console.log.apply(console,n)}debug(...e){this._log(Logger.levels.DEBUG,e)}info(...e){this._log(Logger.levels.INFO,e)}warn(...e){this._log(Logger.levels.WARNING,e)}makeError(e,n,a){if(_censorErrors)return this.makeError("censored error",n,{});n||(n=Logger.errors.UNKNOWN_ERROR),a||(a={});const u=[];Object.keys(a).forEach(y=>{const w=a[y];try{if(w instanceof Uint8Array){let _="";for(let M=0;M<w.length;M++)_+=HEX[w[M]>>4],_+=HEX[w[M]&15];u.push(y+"=Uint8Array(0x"+_+")")}else u.push(y+"="+JSON.stringify(w))}catch{u.push(y+"="+JSON.stringify(a[y].toString()))}}),u.push(`code=${n}`),u.push(`version=${this.version}`);const o=e;let p="";switch(n){case ErrorCode.NUMERIC_FAULT:{p="NUMERIC_FAULT";const y=e;switch(y){case"overflow":case"underflow":case"division-by-zero":p+="-"+y;break;case"negative-power":case"negative-width":p+="-unsupported";break;case"unbound-bitwise-result":p+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:p=n;break}p&&(e+=" [ See: https://links.ethers.org/v5-errors-"+p+" ]"),u.length&&(e+=" ("+u.join(", ")+")");const m=new Error(e);return m.reason=o,m.code=n,Object.keys(a).forEach(function(y){m[y]=a[y]}),m}throwError(e,n,a){throw this.makeError(e,n,a)}throwArgumentError(e,n,a){return this.throwError(e,Logger.errors.INVALID_ARGUMENT,{argument:n,value:a})}assert(e,n,a,u){e||this.throwError(n,a,u)}assertArgument(e,n,a,u){e||this.throwArgumentError(n,a,u)}checkNormalize(e){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,a){a?a=": "+a:a="",e<n&&this.throwError("missing argument"+a,Logger.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+a,Logger.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$r)),_globalLogger}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!e,_permanentCensorErrors=!!n}static setLogLevel(e){const n=LogLevels[e.toLowerCase()];if(n==null){Logger.globalLogger().warn("invalid log level - "+e);return}_logLevel=n}static from(e){return new Logger(e)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const version$q="bytes/5.7.0",logger$w=new Logger(version$q);function isHexable(t){return!!t.toHexString}function addSlice(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function isBytesLike(t){return isHexString(t)&&!(t.length%2)||isBytes$2(t)}function isInteger(t){return typeof t=="number"&&t==t&&t%1===0}function isBytes$2(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!isInteger(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!isInteger(n)||n<0||n>=256)return!1}return!0}function arrayify(t,e){if(e||(e={}),typeof t=="number"){logger$w.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),addSlice(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),isHexable(t)&&(t=t.toHexString()),isHexString(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":logger$w.throwArgumentError("hex data is odd-length","value",t));const a=[];for(let u=0;u<n.length;u+=2)a.push(parseInt(n.substring(u,u+2),16));return addSlice(new Uint8Array(a))}return isBytes$2(t)?addSlice(new Uint8Array(t)):logger$w.throwArgumentError("invalid arrayify value","value",t)}function concat(t){const e=t.map(u=>arrayify(u)),n=e.reduce((u,o)=>u+o.length,0),a=new Uint8Array(n);return e.reduce((u,o)=>(a.set(o,u),u+o.length),0),addSlice(a)}function stripZeros(t){let e=arrayify(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function zeroPad(t,e){t=arrayify(t),t.length>e&&logger$w.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),addSlice(n)}function isHexString(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const HexCharacters="0123456789abcdef";function hexlify(t,e){if(e||(e={}),typeof t=="number"){logger$w.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=HexCharacters[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),isHexable(t))return t.toHexString();if(isHexString(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":logger$w.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(isBytes$2(t)){let n="0x";for(let a=0;a<t.length;a++){let u=t[a];n+=HexCharacters[(u&240)>>4]+HexCharacters[u&15]}return n}return logger$w.throwArgumentError("invalid hexlify value","value",t)}function hexDataLength(t){if(typeof t!="string")t=hexlify(t);else if(!isHexString(t)||t.length%2)return null;return(t.length-2)/2}function hexDataSlice(t,e,n){return typeof t!="string"?t=hexlify(t):(!isHexString(t)||t.length%2)&&logger$w.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function hexConcat(t){let e="0x";return t.forEach(n=>{e+=hexlify(n).substring(2)}),e}function hexValue(t){const e=hexStripZeros(hexlify(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function hexStripZeros(t){typeof t!="string"&&(t=hexlify(t)),isHexString(t)||logger$w.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function hexZeroPad(t,e){for(typeof t!="string"?t=hexlify(t):isHexString(t)||logger$w.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&logger$w.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function splitSignature(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(t)){let n=arrayify(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=hexlify(n.slice(0,32)),e.s=hexlify(n.slice(32,64))):n.length===65?(e.r=hexlify(n.slice(0,32)),e.s=hexlify(n.slice(32,64)),e.v=n[64]):logger$w.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:logger$w.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=hexlify(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const u=zeroPad(arrayify(e._vs),32);e._vs=hexlify(u);const o=u[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&logger$w.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),u[0]&=127;const p=hexlify(u);e.s==null?e.s=p:e.s!==p&&logger$w.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?logger$w.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const u=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==u&&logger$w.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!isHexString(e.r)?logger$w.throwArgumentError("signature missing or invalid r","signature",t):e.r=hexZeroPad(e.r,32),e.s==null||!isHexString(e.s)?logger$w.throwArgumentError("signature missing or invalid s","signature",t):e.s=hexZeroPad(e.s,32);const n=arrayify(e.s);n[0]>=128&&logger$w.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const a=hexlify(n);e._vs&&(isHexString(e._vs)||logger$w.throwArgumentError("signature invalid _vs","signature",t),e._vs=hexZeroPad(e._vs,32)),e._vs==null?e._vs=a:e._vs!==a&&logger$w.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function joinSignature(t){return t=splitSignature(t),hexlify(concat([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const version$p="bignumber/5.7.0";var BN=BN$1.BN;const logger$v=new Logger(version$p),_constructorGuard$4={},MAX_SAFE=9007199254740991;function isBigNumberish(t){return t!=null&&(BigNumber.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||isHexString(t)||typeof t=="bigint"||isBytes$2(t))}let _warnedToStringRadix=!1;class BigNumber{constructor(e,n){e!==_constructorGuard$4&&logger$v.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return toBigNumber(toBN(this).fromTwos(e))}toTwos(e){return toBigNumber(toBN(this).toTwos(e))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(e){return toBigNumber(toBN(this).add(toBN(e)))}sub(e){return toBigNumber(toBN(this).sub(toBN(e)))}div(e){return BigNumber.from(e).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(e)))}mul(e){return toBigNumber(toBN(this).mul(toBN(e)))}mod(e){const n=toBN(e);return n.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber(toBN(this).umod(n))}pow(e){const n=toBN(e);return n.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber(toBN(this).pow(n))}and(e){const n=toBN(e);return(this.isNegative()||n.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(n))}or(e){const n=toBN(e);return(this.isNegative()||n.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(n))}xor(e){const n=toBN(e);return(this.isNegative()||n.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&throwFault$1("negative-width","mask"),toBigNumber(toBN(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&throwFault$1("negative-width","shl"),toBigNumber(toBN(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&throwFault$1("negative-width","shr"),toBigNumber(toBN(this).shrn(e))}eq(e){return toBN(this).eq(toBN(e))}lt(e){return toBN(this).lt(toBN(e))}lte(e){return toBN(this).lte(toBN(e))}gt(e){return toBN(this).gt(toBN(e))}gte(e){return toBN(this).gte(toBN(e))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$v.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$v.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$v.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$v.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof BigNumber)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$4,toHex$1(e)):e.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$4,toHex$1(new BN(e))):logger$v.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&throwFault$1("underflow","BigNumber.from",e),(e>=MAX_SAFE||e<=-MAX_SAFE)&&throwFault$1("overflow","BigNumber.from",e),BigNumber.from(String(e));const n=e;if(typeof n=="bigint")return BigNumber.from(n.toString());if(isBytes$2(n))return BigNumber.from(hexlify(n));if(n)if(n.toHexString){const a=n.toHexString();if(typeof a=="string")return BigNumber.from(a)}else{let a=n._hex;if(a==null&&n.type==="BigNumber"&&(a=n.hex),typeof a=="string"&&(isHexString(a)||a[0]==="-"&&isHexString(a.substring(1))))return BigNumber.from(a)}return logger$v.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function toHex$1(t){if(typeof t!="string")return toHex$1(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&logger$v.throwArgumentError("invalid hex","value",t),t=toHex$1(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function toBigNumber(t){return BigNumber.from(toHex$1(t))}function toBN(t){const e=BigNumber.from(t).toHexString();return e[0]==="-"?new BN("-"+e.substring(3),16):new BN(e.substring(2),16)}function throwFault$1(t,e,n){const a={fault:t,operation:e};return n!=null&&(a.value=n),logger$v.throwError(t,Logger.errors.NUMERIC_FAULT,a)}function _base36To16(t){return new BN(t,36).toString(16)}const logger$u=new Logger(version$p),_constructorGuard$3={},Zero$2=BigNumber.from(0),NegativeOne$2=BigNumber.from(-1);function throwFault(t,e,n,a){const u={fault:e,operation:n};return a!==void 0&&(u.value=a),logger$u.throwError(t,Logger.errors.NUMERIC_FAULT,u)}let zeros="0";for(;zeros.length<256;)zeros+=zeros;function getMultiplier(t){if(typeof t!="number")try{t=BigNumber.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+zeros.substring(0,t):logger$u.throwArgumentError("invalid decimal size","decimals",t)}function formatFixed(t,e){e==null&&(e=0);const n=getMultiplier(e);t=BigNumber.from(t);const a=t.lt(Zero$2);a&&(t=t.mul(NegativeOne$2));let u=t.mod(n).toString();for(;u.length<n.length-1;)u="0"+u;u=u.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(n).toString();return n.length===1?t=o:t=o+"."+u,a&&(t="-"+t),t}function parseFixed(t,e){e==null&&(e=0);const n=getMultiplier(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&logger$u.throwArgumentError("invalid decimal value","value",t);const a=t.substring(0,1)==="-";a&&(t=t.substring(1)),t==="."&&logger$u.throwArgumentError("missing value","value",t);const u=t.split(".");u.length>2&&logger$u.throwArgumentError("too many decimal points","value",t);let o=u[0],p=u[1];for(o||(o="0"),p||(p="0");p[p.length-1]==="0";)p=p.substring(0,p.length-1);for(p.length>n.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed"),p===""&&(p="0");p.length<n.length-1;)p+="0";const m=BigNumber.from(o),y=BigNumber.from(p);let w=m.mul(n).add(y);return a&&(w=w.mul(NegativeOne$2)),w}class FixedFormat{constructor(e,n,a,u){e!==_constructorGuard$3&&logger$u.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=a,this.decimals=u,this.name=(n?"":"u")+"fixed"+String(a)+"x"+String(u),this._multiplier=getMultiplier(u),Object.freeze(this)}static from(e){if(e instanceof FixedFormat)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,a=128,u=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||logger$u.throwArgumentError("invalid fixed format","format",e),n=o[1]!=="u",a=parseInt(o[2]),u=parseInt(o[3])}}else if(e){const o=(p,m,y)=>e[p]==null?y:(typeof e[p]!==m&&logger$u.throwArgumentError("invalid fixed format ("+p+" not "+m+")","format."+p,e[p]),e[p]);n=o("signed","boolean",n),a=o("width","number",a),u=o("decimals","number",u)}return a%8&&logger$u.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",a),u>80&&logger$u.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",u),new FixedFormat(_constructorGuard$3,n,a,u)}}class FixedNumber{constructor(e,n,a,u){e!==_constructorGuard$3&&logger$u.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=u,this._hex=n,this._value=a,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&logger$u.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=parseFixed(this._value,this.format.decimals),a=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(n.add(a),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=parseFixed(this._value,this.format.decimals),a=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(n.sub(a),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=parseFixed(this._value,this.format.decimals),a=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(n.mul(a).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=parseFixed(this._value,this.format.decimals),a=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(n.mul(this.format._multiplier).div(a),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=FixedNumber.from(e[0],this.format);const a=!e[1].match(/^(0*)$/);return this.isNegative()&&a&&(n=n.subUnsafe(ONE$1.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=FixedNumber.from(e[0],this.format);const a=!e[1].match(/^(0*)$/);return!this.isNegative()&&a&&(n=n.addUnsafe(ONE$1.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&logger$u.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const a=FixedNumber.from("1"+zeros.substring(0,e),this.format),u=BUMP.toFormat(this.format);return this.mulUnsafe(a).addUnsafe(u).floor().divUnsafe(a)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&logger$u.throwArgumentError("invalid byte width","width",e);const n=BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return hexZeroPad(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return FixedNumber.fromString(this._value,e)}static fromValue(e,n,a){return a==null&&n!=null&&!isBigNumberish(n)&&(a=n,n=null),n==null&&(n=0),a==null&&(a="fixed"),FixedNumber.fromString(formatFixed(e,n),FixedFormat.from(a))}static fromString(e,n){n==null&&(n="fixed");const a=FixedFormat.from(n),u=parseFixed(e,a.decimals);!a.signed&&u.lt(Zero$2)&&throwFault("unsigned value cannot be negative","overflow","value",e);let o=null;a.signed?o=u.toTwos(a.width).toHexString():(o=u.toHexString(),o=hexZeroPad(o,a.width/8));const p=formatFixed(u,a.decimals);return new FixedNumber(_constructorGuard$3,o,p,a)}static fromBytes(e,n){n==null&&(n="fixed");const a=FixedFormat.from(n);if(arrayify(e).length>a.width/8)throw new Error("overflow");let u=BigNumber.from(e);a.signed&&(u=u.fromTwos(a.width));const o=u.toTwos((a.signed?0:1)+a.width).toHexString(),p=formatFixed(u,a.decimals);return new FixedNumber(_constructorGuard$3,o,p,a)}static from(e,n){if(typeof e=="string")return FixedNumber.fromString(e,n);if(isBytes$2(e))return FixedNumber.fromBytes(e,n);try{return FixedNumber.fromValue(e,0,n)}catch(a){if(a.code!==Logger.errors.INVALID_ARGUMENT)throw a}return logger$u.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const ONE$1=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$o="properties/5.7.0";var __awaiter$a=function(t,e,n,a){function u(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function m(_){try{w(a.next(_))}catch(M){p(M)}}function y(_){try{w(a.throw(_))}catch(M){p(M)}}function w(_){_.done?o(_.value):u(_.value).then(m,y)}w((a=a.apply(t,e||[])).next())})};const logger$t=new Logger(version$o);function defineReadOnly(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function getStatic(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function resolveProperties(t){return __awaiter$a(this,void 0,void 0,function*(){const e=Object.keys(t).map(a=>{const u=t[a];return Promise.resolve(u).then(o=>({key:a,value:o}))});return(yield Promise.all(e)).reduce((a,u)=>(a[u.key]=u.value,a),{})})}function checkProperties(t,e){(!t||typeof t!="object")&&logger$t.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||logger$t.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function shallowCopy(t){const e={};for(const n in t)e[n]=t[n];return e}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(t){if(t==null||opaque[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let a=null;try{a=t[e[n]]}catch{continue}if(!_isFrozen(a))return!1}return!0}return logger$t.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function _deepCopy(t){if(_isFrozen(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>deepCopy(e)));if(typeof t=="object"){const e={};for(const n in t){const a=t[n];a!==void 0&&defineReadOnly(e,n,deepCopy(a))}return e}return logger$t.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function deepCopy(t){return _deepCopy(t)}class Description{constructor(e){for(const n in e)this[n]=deepCopy(e[n])}}const version$n="abi/5.7.0",logger$s=new Logger(version$n),_constructorGuard$2={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(t,e){if(t==="bytes"||t==="string"){if(ModifiersBytes[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&ModifiersNest[e])return!0;return(ModifiersBytes[e]||e==="payable")&&logger$s.throwArgumentError("invalid modifier","name",e),!1}function parseParamType(t,e){let n=t;function a(m){logger$s.throwArgumentError(`unexpected character at position ${m}`,"param",t)}t=t.replace(/\s/g," ");function u(m){let y={type:"",name:"",parent:m,state:{allowType:!0}};return e&&(y.indexed=!1),y}let o={type:"",name:"",state:{allowType:!0}},p=o;for(let m=0;m<t.length;m++){let y=t[m];switch(y){case"(":p.state.allowType&&p.type===""?p.type="tuple":p.state.allowParams||a(m),p.state.allowType=!1,p.type=verifyType(p.type),p.components=[u(p)],p=p.components[0];break;case")":delete p.state,p.name==="indexed"&&(e||a(m),p.indexed=!0,p.name=""),checkModifier(p.type,p.name)&&(p.name=""),p.type=verifyType(p.type);let w=p;p=p.parent,p||a(m),delete w.parent,p.state.allowParams=!1,p.state.allowName=!0,p.state.allowArray=!0;break;case",":delete p.state,p.name==="indexed"&&(e||a(m),p.indexed=!0,p.name=""),checkModifier(p.type,p.name)&&(p.name=""),p.type=verifyType(p.type);let _=u(p.parent);p.parent.components.push(_),delete p.parent,p=_;break;case" ":p.state.allowType&&p.type!==""&&(p.type=verifyType(p.type),delete p.state.allowType,p.state.allowName=!0,p.state.allowParams=!0),p.state.allowName&&p.name!==""&&(p.name==="indexed"?(e||a(m),p.indexed&&a(m),p.indexed=!0,p.name=""):checkModifier(p.type,p.name)?p.name="":p.state.allowName=!1);break;case"[":p.state.allowArray||a(m),p.type+=y,p.state.allowArray=!1,p.state.allowName=!1,p.state.readArray=!0;break;case"]":p.state.readArray||a(m),p.type+=y,p.state.readArray=!1,p.state.allowArray=!0,p.state.allowName=!0;break;default:p.state.allowType?(p.type+=y,p.state.allowParams=!0,p.state.allowArray=!0):p.state.allowName?(p.name+=y,delete p.state.allowArray):p.state.readArray?p.type+=y:a(m)}}return p.parent&&logger$s.throwArgumentError("unexpected eof","param",t),delete o.state,p.name==="indexed"?(e||a(n.length-7),p.indexed&&a(n.length-7),p.indexed=!0,p.name=""):checkModifier(p.type,p.name)&&(p.name=""),o.type=verifyType(o.type),o}function populate(t,e){for(let n in e)defineReadOnly(t,n,e[n])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(e,n){e!==_constructorGuard$2&&logger$s.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,n);let a=this.type.match(paramTypeArray);a?populate(this,{arrayLength:parseInt(a[2]||"-1"),arrayChildren:ParamType.fromObject({type:a[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$s.throwArgumentError("invalid format type","format",e),e===FormatTypes.json){let a={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(a.indexed=this.indexed),this.components&&(a.components=this.components.map(u=>JSON.parse(u.format(e)))),JSON.stringify(a)}let n="";return this.baseType==="array"?(n+=this.arrayChildren.format(e),n+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==FormatTypes.sighash&&(n+=this.type),n+="("+this.components.map(a=>a.format(e)).join(e===FormatTypes.full?", ":",")+")"):n+=this.type,e!==FormatTypes.sighash&&(this.indexed===!0&&(n+=" indexed"),e===FormatTypes.full&&this.name&&(n+=" "+this.name)),n}static from(e,n){return typeof e=="string"?ParamType.fromString(e,n):ParamType.fromObject(e)}static fromObject(e){return ParamType.isParamType(e)?e:new ParamType(_constructorGuard$2,{name:e.name||null,type:verifyType(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(ParamType.fromObject):null})}static fromString(e,n){function a(u){return ParamType.fromObject({name:u.name,type:u.type,indexed:u.indexed,components:u.components})}return a(parseParamType(e,!!n))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function parseParams(t,e){return splitNesting(t).map(n=>ParamType.fromString(n,e))}class Fragment{constructor(e,n){e!==_constructorGuard$2&&logger$s.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,n),this._isFragment=!0,Object.freeze(this)}static from(e){return Fragment.isFragment(e)?e:typeof e=="string"?Fragment.fromString(e):Fragment.fromObject(e)}static fromObject(e){if(Fragment.isFragment(e))return e;switch(e.type){case"function":return FunctionFragment.fromObject(e);case"event":return EventFragment.fromObject(e);case"constructor":return ConstructorFragment.fromObject(e);case"error":return ErrorFragment.fromObject(e);case"fallback":case"receive":return null}return logger$s.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?EventFragment.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?FunctionFragment.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(e.trim()):e.split(" ")[0]==="error"?ErrorFragment.fromString(e.substring(5).trim()):logger$s.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class EventFragment extends Fragment{format(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$s.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});let n="";return e!==FormatTypes.sighash&&(n+="event "),n+=this.name+"("+this.inputs.map(a=>a.format(e)).join(e===FormatTypes.full?", ":",")+") ",e!==FormatTypes.sighash&&this.anonymous&&(n+="anonymous "),n.trim()}static from(e){return typeof e=="string"?EventFragment.fromString(e):EventFragment.fromObject(e)}static fromObject(e){if(EventFragment.isEventFragment(e))return e;e.type!=="event"&&logger$s.throwArgumentError("invalid event object","value",e);const n={name:verifyIdentifier(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$2,n)}static fromString(e){let n=e.match(regexParen);n||logger$s.throwArgumentError("invalid event string","value",e);let a=!1;return n[3].split(" ").forEach(u=>{switch(u.trim()){case"anonymous":a=!0;break;case"":break;default:logger$s.warn("unknown modifier: "+u)}}),EventFragment.fromObject({name:n[1].trim(),anonymous:a,inputs:parseParams(n[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function parseGas(t,e){e.gas=null;let n=t.split("@");return n.length!==1?(n.length>2&&logger$s.throwArgumentError("invalid human-readable ABI signature","value",t),n[1].match(/^[0-9]+$/)||logger$s.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=BigNumber.from(n[1]),n[0]):t}function parseModifiers(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(n=>{switch(n.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+n)}})}function verifyState(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&logger$s.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&logger$s.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&logger$s.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&logger$s.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&logger$s.throwArgumentError("unable to determine stateMutability","value",t),e}class ConstructorFragment extends Fragment{format(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$s.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});e===FormatTypes.sighash&&logger$s.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let n="constructor("+this.inputs.map(a=>a.format(e)).join(e===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "),n.trim()}static from(e){return typeof e=="string"?ConstructorFragment.fromString(e):ConstructorFragment.fromObject(e)}static fromObject(e){if(ConstructorFragment.isConstructorFragment(e))return e;e.type!=="constructor"&&logger$s.throwArgumentError("invalid constructor object","value",e);let n=verifyState(e);n.constant&&logger$s.throwArgumentError("constructor cannot be constant","value",e);const a={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?BigNumber.from(e.gas):null};return new ConstructorFragment(_constructorGuard$2,a)}static fromString(e){let n={type:"constructor"};e=parseGas(e,n);let a=e.match(regexParen);return(!a||a[1].trim()!=="constructor")&&logger$s.throwArgumentError("invalid constructor string","value",e),n.inputs=parseParams(a[2].trim(),!1),parseModifiers(a[3].trim(),n),ConstructorFragment.fromObject(n)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$s.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(e))),outputs:this.outputs.map(a=>JSON.parse(a.format(e)))});let n="";return e!==FormatTypes.sighash&&(n+="function "),n+=this.name+"("+this.inputs.map(a=>a.format(e)).join(e===FormatTypes.full?", ":",")+") ",e!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "):this.constant&&(n+="view "),this.outputs&&this.outputs.length&&(n+="returns ("+this.outputs.map(a=>a.format(e)).join(", ")+") "),this.gas!=null&&(n+="@"+this.gas.toString()+" ")),n.trim()}static from(e){return typeof e=="string"?FunctionFragment.fromString(e):FunctionFragment.fromObject(e)}static fromObject(e){if(FunctionFragment.isFunctionFragment(e))return e;e.type!=="function"&&logger$s.throwArgumentError("invalid function object","value",e);let n=verifyState(e);const a={type:e.type,name:verifyIdentifier(e.name),constant:n.constant,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],outputs:e.outputs?e.outputs.map(ParamType.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?BigNumber.from(e.gas):null};return new FunctionFragment(_constructorGuard$2,a)}static fromString(e){let n={type:"function"};e=parseGas(e,n);let a=e.split(" returns ");a.length>2&&logger$s.throwArgumentError("invalid function string","value",e);let u=a[0].match(regexParen);if(u||logger$s.throwArgumentError("invalid function signature","value",e),n.name=u[1].trim(),n.name&&verifyIdentifier(n.name),n.inputs=parseParams(u[2],!1),parseModifiers(u[3].trim(),n),a.length>1){let o=a[1].match(regexParen);(o[1].trim()!=""||o[3].trim()!="")&&logger$s.throwArgumentError("unexpected tokens","value",e),n.outputs=parseParams(o[2],!1)}else n.outputs=[];return FunctionFragment.fromObject(n)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function checkForbidden(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&logger$s.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class ErrorFragment extends Fragment{format(e){if(e||(e=FormatTypes.sighash),FormatTypes[e]||logger$s.throwArgumentError("invalid format type","format",e),e===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});let n="";return e!==FormatTypes.sighash&&(n+="error "),n+=this.name+"("+this.inputs.map(a=>a.format(e)).join(e===FormatTypes.full?", ":",")+") ",n.trim()}static from(e){return typeof e=="string"?ErrorFragment.fromString(e):ErrorFragment.fromObject(e)}static fromObject(e){if(ErrorFragment.isErrorFragment(e))return e;e.type!=="error"&&logger$s.throwArgumentError("invalid error object","value",e);const n={type:e.type,name:verifyIdentifier(e.name),inputs:e.inputs?e.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$2,n))}static fromString(e){let n={type:"error"},a=e.match(regexParen);return a||logger$s.throwArgumentError("invalid error signature","value",e),n.name=a[1].trim(),n.name&&verifyIdentifier(n.name),n.inputs=parseParams(a[2],!1),checkForbidden(ErrorFragment.fromObject(n))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function verifyType(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(t){return(!t||!t.match(regexIdentifier))&&logger$s.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(t){t=t.trim();let e=[],n="",a=0;for(let u=0;u<t.length;u++){let o=t[u];o===","&&a===0?(e.push(n),n=""):(n+=o,o==="("?a++:o===")"&&(a--,a===-1&&logger$s.throwArgumentError("unbalanced parenthesis","value",t)))}return n&&e.push(n),e}const logger$r=new Logger(version$n);function checkResultErrors(t){const e=[],n=function(a,u){if(Array.isArray(u))for(let o in u){const p=a.slice();p.push(o);try{n(p,u[o])}catch(m){e.push({path:p,error:m})}}};return n([],t),e}class Coder{constructor(e,n,a,u){this.name=e,this.type=n,this.localName=a,this.dynamic=u}_throwError(e,n){logger$r.throwArgumentError(e,this.localName,n)}}class Writer{constructor(e){defineReadOnly(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(concat(e._data))}writeBytes(e){let n=arrayify(e);const a=n.length%this.wordSize;return a&&(n=concat([n,this._padding.slice(a)])),this._writeData(n)}_getValue(e){let n=arrayify(BigNumber.from(e));return n.length>this.wordSize&&logger$r.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:n.length}),n.length%this.wordSize&&(n=concat([this._padding.slice(n.length%this.wordSize),n])),n}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,n=>{this._data[e]=this._getValue(n)}}}class Reader{constructor(e,n,a,u){defineReadOnly(this,"_data",arrayify(e)),defineReadOnly(this,"wordSize",n||32),defineReadOnly(this,"_coerceFunc",a),defineReadOnly(this,"allowLoose",u),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(e,n){let a=e.match("^u?int([0-9]+)$");return a&&parseInt(a[1])<=48&&(n=n.toNumber()),n}coerce(e,n){return this._coerceFunc?this._coerceFunc(e,n):Reader.coerce(e,n)}_peekBytes(e,n,a){let u=Math.ceil(n/this.wordSize)*this.wordSize;return this._offset+u>this._data.length&&(this.allowLoose&&a&&this._offset+n<=this._data.length?u=n:logger$r.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+u})),this._data.slice(this._offset,this._offset+u)}subReader(e){return new Reader(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,n){let a=this._peekBytes(0,e,!!n);return this._offset+=a.length,a.slice(0,e)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}}var sha3$1={exports:{}};(function(t){(function(){var e="input is invalid type",n="finalize already called",a=typeof window=="object",u=a?window:{};u.JS_SHA3_NO_WINDOW&&(a=!1);var o=!a&&typeof self=="object",p=!u.JS_SHA3_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;p?u=commonjsGlobal:o&&(u=self);var m=!u.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,y=!u.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",w="0123456789abcdef".split(""),_=[31,7936,2031616,520093696],M=[4,1024,262144,67108864],T=[1,256,65536,16777216],B=[6,1536,393216,100663296],P=[0,8,16,24],C=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],L=[224,256,384,512],U=[128,256],q=["hex","buffer","arrayBuffer","array","digest"],G={128:168,256:136};(u.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(F){return Object.prototype.toString.call(F)==="[object Array]"}),y&&(u.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(F){return typeof F=="object"&&F.buffer&&F.buffer.constructor===ArrayBuffer});for(var X=function(F,V,H){return function(ee){return new O(F,V,F).update(ee)[H]()}},te=function(F,V,H){return function(ee,ie){return new O(F,V,ie).update(ee)[H]()}},ne=function(F,V,H){return function(ee,ie,de,Z){return b["cshake"+F].update(ee,ie,de,Z)[H]()}},ge=function(F,V,H){return function(ee,ie,de,Z){return b["kmac"+F].update(ee,ie,de,Z)[H]()}},pe=function(F,V,H,ee){for(var ie=0;ie<q.length;++ie){var de=q[ie];F[de]=V(H,ee,de)}return F},se=function(F,V){var H=X(F,V,"hex");return H.create=function(){return new O(F,V,F)},H.update=function(ee){return H.create().update(ee)},pe(H,X,F,V)},Se=function(F,V){var H=te(F,V,"hex");return H.create=function(ee){return new O(F,V,ee)},H.update=function(ee,ie){return H.create(ie).update(ee)},pe(H,te,F,V)},k=function(F,V){var H=G[F],ee=ne(F,V,"hex");return ee.create=function(ie,de,Z){return!de&&!Z?b["shake"+F].create(ie):new O(F,V,ie).bytepad([de,Z],H)},ee.update=function(ie,de,Z,j){return ee.create(de,Z,j).update(ie)},pe(ee,ne,F,V)},c=function(F,V){var H=G[F],ee=ge(F,V,"hex");return ee.create=function(ie,de,Z){return new D(F,V,de).bytepad(["KMAC",Z],H).bytepad([ie],H)},ee.update=function(ie,de,Z,j){return ee.create(ie,Z,j).update(de)},pe(ee,ge,F,V)},d=[{name:"keccak",padding:T,bits:L,createMethod:se},{name:"sha3",padding:B,bits:L,createMethod:se},{name:"shake",padding:_,bits:U,createMethod:Se},{name:"cshake",padding:M,bits:U,createMethod:k},{name:"kmac",padding:M,bits:U,createMethod:c}],b={},v=[],A=0;A<d.length;++A)for(var $=d[A],I=$.bits,S=0;S<I.length;++S){var l=$.name+"_"+I[S];if(v.push(l),b[l]=$.createMethod(I[S],$.padding),$.name!=="sha3"){var E=$.name+I[S];v.push(E),b[E]=b[l]}}function O(F,V,H){this.blocks=[],this.s=[],this.padding=V,this.outputBits=H,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(F<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=H>>5,this.extraBytes=(H&31)>>3;for(var ee=0;ee<50;++ee)this.s[ee]=0}O.prototype.update=function(F){if(this.finalized)throw new Error(n);var V,H=typeof F;if(H!=="string"){if(H==="object"){if(F===null)throw new Error(e);if(y&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!Array.isArray(F)&&(!y||!ArrayBuffer.isView(F)))throw new Error(e)}else throw new Error(e);V=!0}for(var ee=this.blocks,ie=this.byteCount,de=F.length,Z=this.blockCount,j=0,he=this.s,Ae,_e;j<de;){if(this.reset)for(this.reset=!1,ee[0]=this.block,Ae=1;Ae<Z+1;++Ae)ee[Ae]=0;if(V)for(Ae=this.start;j<de&&Ae<ie;++j)ee[Ae>>2]|=F[j]<<P[Ae++&3];else for(Ae=this.start;j<de&&Ae<ie;++j)_e=F.charCodeAt(j),_e<128?ee[Ae>>2]|=_e<<P[Ae++&3]:_e<2048?(ee[Ae>>2]|=(192|_e>>6)<<P[Ae++&3],ee[Ae>>2]|=(128|_e&63)<<P[Ae++&3]):_e<55296||_e>=57344?(ee[Ae>>2]|=(224|_e>>12)<<P[Ae++&3],ee[Ae>>2]|=(128|_e>>6&63)<<P[Ae++&3],ee[Ae>>2]|=(128|_e&63)<<P[Ae++&3]):(_e=65536+((_e&1023)<<10|F.charCodeAt(++j)&1023),ee[Ae>>2]|=(240|_e>>18)<<P[Ae++&3],ee[Ae>>2]|=(128|_e>>12&63)<<P[Ae++&3],ee[Ae>>2]|=(128|_e>>6&63)<<P[Ae++&3],ee[Ae>>2]|=(128|_e&63)<<P[Ae++&3]);if(this.lastByteIndex=Ae,Ae>=ie){for(this.start=Ae-ie,this.block=ee[Z],Ae=0;Ae<Z;++Ae)he[Ae]^=ee[Ae];Y(he),this.reset=!0}else this.start=Ae}return this},O.prototype.encode=function(F,V){var H=F&255,ee=1,ie=[H];for(F=F>>8,H=F&255;H>0;)ie.unshift(H),F=F>>8,H=F&255,++ee;return V?ie.push(ee):ie.unshift(ee),this.update(ie),ie.length},O.prototype.encodeString=function(F){var V,H=typeof F;if(H!=="string"){if(H==="object"){if(F===null)throw new Error(e);if(y&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!Array.isArray(F)&&(!y||!ArrayBuffer.isView(F)))throw new Error(e)}else throw new Error(e);V=!0}var ee=0,ie=F.length;if(V)ee=ie;else for(var de=0;de<F.length;++de){var Z=F.charCodeAt(de);Z<128?ee+=1:Z<2048?ee+=2:Z<55296||Z>=57344?ee+=3:(Z=65536+((Z&1023)<<10|F.charCodeAt(++de)&1023),ee+=4)}return ee+=this.encode(ee*8),this.update(F),ee},O.prototype.bytepad=function(F,V){for(var H=this.encode(V),ee=0;ee<F.length;++ee)H+=this.encodeString(F[ee]);var ie=V-H%V,de=[];return de.length=ie,this.update(de),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var F=this.blocks,V=this.lastByteIndex,H=this.blockCount,ee=this.s;if(F[V>>2]|=this.padding[V&3],this.lastByteIndex===this.byteCount)for(F[0]=F[H],V=1;V<H+1;++V)F[V]=0;for(F[H-1]|=2147483648,V=0;V<H;++V)ee[V]^=F[V];Y(ee)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var F=this.blockCount,V=this.s,H=this.outputBlocks,ee=this.extraBytes,ie=0,de=0,Z="",j;de<H;){for(ie=0;ie<F&&de<H;++ie,++de)j=V[ie],Z+=w[j>>4&15]+w[j&15]+w[j>>12&15]+w[j>>8&15]+w[j>>20&15]+w[j>>16&15]+w[j>>28&15]+w[j>>24&15];de%F===0&&(Y(V),ie=0)}return ee&&(j=V[ie],Z+=w[j>>4&15]+w[j&15],ee>1&&(Z+=w[j>>12&15]+w[j>>8&15]),ee>2&&(Z+=w[j>>20&15]+w[j>>16&15])),Z},O.prototype.arrayBuffer=function(){this.finalize();var F=this.blockCount,V=this.s,H=this.outputBlocks,ee=this.extraBytes,ie=0,de=0,Z=this.outputBits>>3,j;ee?j=new ArrayBuffer(H+1<<2):j=new ArrayBuffer(Z);for(var he=new Uint32Array(j);de<H;){for(ie=0;ie<F&&de<H;++ie,++de)he[de]=V[ie];de%F===0&&Y(V)}return ee&&(he[ie]=V[ie],j=j.slice(0,Z)),j},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var F=this.blockCount,V=this.s,H=this.outputBlocks,ee=this.extraBytes,ie=0,de=0,Z=[],j,he;de<H;){for(ie=0;ie<F&&de<H;++ie,++de)j=de<<2,he=V[ie],Z[j]=he&255,Z[j+1]=he>>8&255,Z[j+2]=he>>16&255,Z[j+3]=he>>24&255;de%F===0&&Y(V)}return ee&&(j=de<<2,he=V[ie],Z[j]=he&255,ee>1&&(Z[j+1]=he>>8&255),ee>2&&(Z[j+2]=he>>16&255)),Z};function D(F,V,H){O.call(this,F,V,H)}D.prototype=new O,D.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var Y=function(F){var V,H,ee,ie,de,Z,j,he,Ae,_e,xe,Xe,Re,we,Et,Ce,ze,wt,Ie,Ne,_t,Pe,Le,At,ae,J,re,le,be,Be,ve,Te,vt,ke,Ue,gt,qe,Ve,St,Fe,je,$t,De,We,kt,Oe,Ge,fe,oe,ce,Q,ue,me,$e,ye,Ee,Ze,Ye,xt,rt,lt,dt,ht;for(ee=0;ee<48;ee+=2)ie=F[0]^F[10]^F[20]^F[30]^F[40],de=F[1]^F[11]^F[21]^F[31]^F[41],Z=F[2]^F[12]^F[22]^F[32]^F[42],j=F[3]^F[13]^F[23]^F[33]^F[43],he=F[4]^F[14]^F[24]^F[34]^F[44],Ae=F[5]^F[15]^F[25]^F[35]^F[45],_e=F[6]^F[16]^F[26]^F[36]^F[46],xe=F[7]^F[17]^F[27]^F[37]^F[47],Xe=F[8]^F[18]^F[28]^F[38]^F[48],Re=F[9]^F[19]^F[29]^F[39]^F[49],V=Xe^(Z<<1|j>>>31),H=Re^(j<<1|Z>>>31),F[0]^=V,F[1]^=H,F[10]^=V,F[11]^=H,F[20]^=V,F[21]^=H,F[30]^=V,F[31]^=H,F[40]^=V,F[41]^=H,V=ie^(he<<1|Ae>>>31),H=de^(Ae<<1|he>>>31),F[2]^=V,F[3]^=H,F[12]^=V,F[13]^=H,F[22]^=V,F[23]^=H,F[32]^=V,F[33]^=H,F[42]^=V,F[43]^=H,V=Z^(_e<<1|xe>>>31),H=j^(xe<<1|_e>>>31),F[4]^=V,F[5]^=H,F[14]^=V,F[15]^=H,F[24]^=V,F[25]^=H,F[34]^=V,F[35]^=H,F[44]^=V,F[45]^=H,V=he^(Xe<<1|Re>>>31),H=Ae^(Re<<1|Xe>>>31),F[6]^=V,F[7]^=H,F[16]^=V,F[17]^=H,F[26]^=V,F[27]^=H,F[36]^=V,F[37]^=H,F[46]^=V,F[47]^=H,V=_e^(ie<<1|de>>>31),H=xe^(de<<1|ie>>>31),F[8]^=V,F[9]^=H,F[18]^=V,F[19]^=H,F[28]^=V,F[29]^=H,F[38]^=V,F[39]^=H,F[48]^=V,F[49]^=H,we=F[0],Et=F[1],Oe=F[11]<<4|F[10]>>>28,Ge=F[10]<<4|F[11]>>>28,le=F[20]<<3|F[21]>>>29,be=F[21]<<3|F[20]>>>29,rt=F[31]<<9|F[30]>>>23,lt=F[30]<<9|F[31]>>>23,$t=F[40]<<18|F[41]>>>14,De=F[41]<<18|F[40]>>>14,ke=F[2]<<1|F[3]>>>31,Ue=F[3]<<1|F[2]>>>31,Ce=F[13]<<12|F[12]>>>20,ze=F[12]<<12|F[13]>>>20,fe=F[22]<<10|F[23]>>>22,oe=F[23]<<10|F[22]>>>22,Be=F[33]<<13|F[32]>>>19,ve=F[32]<<13|F[33]>>>19,dt=F[42]<<2|F[43]>>>30,ht=F[43]<<2|F[42]>>>30,$e=F[5]<<30|F[4]>>>2,ye=F[4]<<30|F[5]>>>2,gt=F[14]<<6|F[15]>>>26,qe=F[15]<<6|F[14]>>>26,wt=F[25]<<11|F[24]>>>21,Ie=F[24]<<11|F[25]>>>21,ce=F[34]<<15|F[35]>>>17,Q=F[35]<<15|F[34]>>>17,Te=F[45]<<29|F[44]>>>3,vt=F[44]<<29|F[45]>>>3,At=F[6]<<28|F[7]>>>4,ae=F[7]<<28|F[6]>>>4,Ee=F[17]<<23|F[16]>>>9,Ze=F[16]<<23|F[17]>>>9,Ve=F[26]<<25|F[27]>>>7,St=F[27]<<25|F[26]>>>7,Ne=F[36]<<21|F[37]>>>11,_t=F[37]<<21|F[36]>>>11,ue=F[47]<<24|F[46]>>>8,me=F[46]<<24|F[47]>>>8,We=F[8]<<27|F[9]>>>5,kt=F[9]<<27|F[8]>>>5,J=F[18]<<20|F[19]>>>12,re=F[19]<<20|F[18]>>>12,Ye=F[29]<<7|F[28]>>>25,xt=F[28]<<7|F[29]>>>25,Fe=F[38]<<8|F[39]>>>24,je=F[39]<<8|F[38]>>>24,Pe=F[48]<<14|F[49]>>>18,Le=F[49]<<14|F[48]>>>18,F[0]=we^~Ce&wt,F[1]=Et^~ze&Ie,F[10]=At^~J&le,F[11]=ae^~re&be,F[20]=ke^~gt&Ve,F[21]=Ue^~qe&St,F[30]=We^~Oe&fe,F[31]=kt^~Ge&oe,F[40]=$e^~Ee&Ye,F[41]=ye^~Ze&xt,F[2]=Ce^~wt&Ne,F[3]=ze^~Ie&_t,F[12]=J^~le&Be,F[13]=re^~be&ve,F[22]=gt^~Ve&Fe,F[23]=qe^~St&je,F[32]=Oe^~fe&ce,F[33]=Ge^~oe&Q,F[42]=Ee^~Ye&rt,F[43]=Ze^~xt&lt,F[4]=wt^~Ne&Pe,F[5]=Ie^~_t&Le,F[14]=le^~Be&Te,F[15]=be^~ve&vt,F[24]=Ve^~Fe&$t,F[25]=St^~je&De,F[34]=fe^~ce&ue,F[35]=oe^~Q&me,F[44]=Ye^~rt&dt,F[45]=xt^~lt&ht,F[6]=Ne^~Pe&we,F[7]=_t^~Le&Et,F[16]=Be^~Te&At,F[17]=ve^~vt&ae,F[26]=Fe^~$t&ke,F[27]=je^~De&Ue,F[36]=ce^~ue&We,F[37]=Q^~me&kt,F[46]=rt^~dt&$e,F[47]=lt^~ht&ye,F[8]=Pe^~we&Ce,F[9]=Le^~Et&ze,F[18]=Te^~At&J,F[19]=vt^~ae&re,F[28]=$t^~ke&gt,F[29]=De^~Ue&qe,F[38]=ue^~We&Oe,F[39]=me^~kt&Ge,F[48]=dt^~$e&Ee,F[49]=ht^~ye&Ze,F[0]^=C[ee],F[1]^=C[ee+1]};if(m)t.exports=b;else for(A=0;A<v.length;++A)u[v[A]]=b[v[A]]})()})(sha3$1);var sha3Exports=sha3$1.exports;const sha3=getDefaultExportFromCjs$1(sha3Exports);function keccak256(t){return"0x"+sha3.keccak_256(arrayify(t))}const version$m="rlp/5.7.0",logger$q=new Logger(version$m);function arrayifyInteger(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function unarrayifyInteger(t,e,n){let a=0;for(let u=0;u<n;u++)a=a*256+t[e+u];return a}function _encode(t){if(Array.isArray(t)){let a=[];if(t.forEach(function(o){a=a.concat(_encode(o))}),a.length<=55)return a.unshift(192+a.length),a;const u=arrayifyInteger(a.length);return u.unshift(247+u.length),u.concat(a)}isBytesLike(t)||logger$q.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(arrayify(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=arrayifyInteger(e.length);return n.unshift(183+n.length),n.concat(e)}function encode$n(t){return hexlify(_encode(t))}function _decodeChildren(t,e,n,a){const u=[];for(;n<e+1+a;){const o=_decode(t,n);u.push(o.result),n+=o.consumed,n>e+1+a&&logger$q.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+a,result:u}}function _decode(t,e){if(t.length===0&&logger$q.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&logger$q.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const a=unarrayifyInteger(t,e+1,n);return e+1+n+a>t.length&&logger$q.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(t,e,e+1+n,n+a)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&logger$q.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&logger$q.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const a=unarrayifyInteger(t,e+1,n);e+1+n+a>t.length&&logger$q.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const u=hexlify(t.slice(e+1+n,e+1+n+a));return{consumed:1+n+a,result:u}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&logger$q.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const a=hexlify(t.slice(e+1,e+1+n));return{consumed:1+n,result:a}}return{consumed:1,result:hexlify(t[e])}}function decode$m(t){const e=arrayify(t),n=_decode(e,0);return n.consumed!==e.length&&logger$q.throwArgumentError("invalid rlp data","data",t),n.result}const version$l="address/5.7.0",logger$p=new Logger(version$l);function getChecksumAddress(t){isHexString(t,20)||logger$p.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let u=0;u<40;u++)n[u]=e[u].charCodeAt(0);const a=arrayify(keccak256(n));for(let u=0;u<40;u+=2)a[u>>1]>>4>=8&&(e[u]=e[u].toUpperCase()),(a[u>>1]&15)>=8&&(e[u+1]=e[u+1].toUpperCase());return"0x"+e.join("")}const MAX_SAFE_INTEGER$2=9007199254740991;function log10(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const ibanLookup={};for(let t=0;t<10;t++)ibanLookup[String(t)]=String(t);for(let t=0;t<26;t++)ibanLookup[String.fromCharCode(65+t)]=String(10+t);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER$2));function ibanChecksum(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(a=>ibanLookup[a]).join("");for(;e.length>=safeDigits;){let a=e.substring(0,safeDigits);e=parseInt(a,10)%97+e.substring(a.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function getAddress(t){let e=null;if(typeof t!="string"&&logger$p.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=getChecksumAddress(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&logger$p.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==ibanChecksum(t)&&logger$p.throwArgumentError("bad icap checksum","address",t),e=_base36To16(t.substring(4));e.length<40;)e="0"+e;e=getChecksumAddress("0x"+e)}else logger$p.throwArgumentError("invalid address","address",t);return e}function getContractAddress(t){let e=null;try{e=getAddress(t.from)}catch{logger$p.throwArgumentError("missing from address","transaction",t)}const n=stripZeros(arrayify(BigNumber.from(t.nonce).toHexString()));return getAddress(hexDataSlice(keccak256(encode$n([e,n])),12))}class AddressCoder extends Coder{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){try{n=getAddress(n)}catch(a){this._throwError(a.message,n)}return e.writeValue(n)}decode(e){return getAddress(hexZeroPad(e.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}const logger$o=new Logger(version$n);function pack(t,e,n){let a=null;if(Array.isArray(n))a=n;else if(n&&typeof n=="object"){let y={};a=e.map(w=>{const _=w.localName;return _||logger$o.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:w,value:n}),y[_]&&logger$o.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:w,value:n}),y[_]=!0,n[_]})}else logger$o.throwArgumentError("invalid tuple value","tuple",n);e.length!==a.length&&logger$o.throwArgumentError("types/value length mismatch","tuple",n);let u=new Writer(t.wordSize),o=new Writer(t.wordSize),p=[];e.forEach((y,w)=>{let _=a[w];if(y.dynamic){let M=o.length;y.encode(o,_);let T=u.writeUpdatableValue();p.push(B=>{T(B+M)})}else y.encode(u,_)}),p.forEach(y=>{y(u.length)});let m=t.appendWriter(u);return m+=t.appendWriter(o),m}function unpack(t,e){let n=[],a=t.subReader(0);e.forEach(o=>{let p=null;if(o.dynamic){let m=t.readValue(),y=a.subReader(m.toNumber());try{p=o.decode(y)}catch(w){if(w.code===Logger.errors.BUFFER_OVERRUN)throw w;p=w,p.baseType=o.name,p.name=o.localName,p.type=o.type}}else try{p=o.decode(t)}catch(m){if(m.code===Logger.errors.BUFFER_OVERRUN)throw m;p=m,p.baseType=o.name,p.name=o.localName,p.type=o.type}p!=null&&n.push(p)});const u=e.reduce((o,p)=>{const m=p.localName;return m&&(o[m]||(o[m]=0),o[m]++),o},{});e.forEach((o,p)=>{let m=o.localName;if(!m||u[m]!==1||(m==="length"&&(m="_length"),n[m]!=null))return;const y=n[p];y instanceof Error?Object.defineProperty(n,m,{enumerable:!0,get:()=>{throw y}}):n[m]=y});for(let o=0;o<n.length;o++){const p=n[o];p instanceof Error&&Object.defineProperty(n,o,{enumerable:!0,get:()=>{throw p}})}return Object.freeze(n)}class ArrayCoder extends Coder{constructor(e,n,a){const u=e.type+"["+(n>=0?n:"")+"]",o=n===-1||e.dynamic;super("array",u,a,o),this.coder=e,this.length=n}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let a=0;a<this.length;a++)n.push(e);return n}encode(e,n){Array.isArray(n)||this._throwError("expected array value",n);let a=this.length;a===-1&&(a=n.length,e.writeValue(n.length)),logger$o.checkArgumentCount(n.length,a,"coder array"+(this.localName?" "+this.localName:""));let u=[];for(let o=0;o<n.length;o++)u.push(this.coder);return pack(e,u,n)}decode(e){let n=this.length;n===-1&&(n=e.readValue().toNumber(),n*32>e._data.length&&logger$o.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:n}));let a=[];for(let u=0;u<n;u++)a.push(new AnonymousCoder(this.coder));return e.coerce(this.name,unpack(e,a))}}class BooleanCoder extends Coder{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){return e.writeValue(n?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=arrayify(n);let a=e.writeValue(n.length);return a+=e.writeBytes(n),a}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,hexlify(super.decode(e)))}}class FixedBytesCoder extends Coder{constructor(e,n){let a="bytes"+String(e);super(a,a,n,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let a=arrayify(n);return a.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(a)}decode(e){return e.coerce(this.name,hexlify(e.readBytes(this.size)))}}class NullCoder extends Coder{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const AddressZero="0x0000000000000000000000000000000000000000",NegativeOne$1=BigNumber.from(-1),Zero$1=BigNumber.from(0),One$1=BigNumber.from(1),MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";class NumberCoder extends Coder{constructor(e,n,a){const u=(n?"int":"uint")+e*8;super(u,u,a,!1),this.size=e,this.signed=n}defaultValue(){return 0}encode(e,n){let a=BigNumber.from(n),u=MaxUint256$1.mask(e.wordSize*8);if(this.signed){let o=u.mask(this.size*8-1);(a.gt(o)||a.lt(o.add(One$1).mul(NegativeOne$1)))&&this._throwError("value out-of-bounds",n)}else(a.lt(Zero$1)||a.gt(u.mask(this.size*8)))&&this._throwError("value out-of-bounds",n);return a=a.toTwos(this.size*8).mask(this.size*8),this.signed&&(a=a.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(a)}decode(e){let n=e.readValue().mask(this.size*8);return this.signed&&(n=n.fromTwos(this.size*8)),e.coerce(this.name,n)}}const version$k="strings/5.7.0",logger$n=new Logger(version$k);var UnicodeNormalizationForm;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(t,e,n,a,u){return logger$n.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function ignoreFunc(t,e,n,a,u){if(t===Utf8ErrorReason.BAD_PREFIX||t===Utf8ErrorReason.UNEXPECTED_CONTINUE){let o=0;for(let p=e+1;p<n.length&&n[p]>>6===2;p++)o++;return o}return t===Utf8ErrorReason.OVERRUN?n.length-e-1:0}function replaceFunc(t,e,n,a,u){return t===Utf8ErrorReason.OVERLONG?(a.push(u),0):(a.push(65533),ignoreFunc(t,e,n))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(t,e){e==null&&(e=Utf8ErrorFuncs.error),t=arrayify(t);const n=[];let a=0;for(;a<t.length;){const u=t[a++];if(!(u>>7)){n.push(u);continue}let o=null,p=null;if((u&224)===192)o=1,p=127;else if((u&240)===224)o=2,p=2047;else if((u&248)===240)o=3,p=65535;else{(u&192)===128?a+=e(Utf8ErrorReason.UNEXPECTED_CONTINUE,a-1,t,n):a+=e(Utf8ErrorReason.BAD_PREFIX,a-1,t,n);continue}if(a-1+o>=t.length){a+=e(Utf8ErrorReason.OVERRUN,a-1,t,n);continue}let m=u&(1<<8-o-1)-1;for(let y=0;y<o;y++){let w=t[a];if((w&192)!=128){a+=e(Utf8ErrorReason.MISSING_CONTINUE,a,t,n),m=null;break}m=m<<6|w&63,a++}if(m!==null){if(m>1114111){a+=e(Utf8ErrorReason.OUT_OF_RANGE,a-1-o,t,n,m);continue}if(m>=55296&&m<=57343){a+=e(Utf8ErrorReason.UTF16_SURROGATE,a-1-o,t,n,m);continue}if(m<=p){a+=e(Utf8ErrorReason.OVERLONG,a-1-o,t,n,m);continue}n.push(m)}}return n}function toUtf8Bytes(t,e=UnicodeNormalizationForm.current){e!=UnicodeNormalizationForm.current&&(logger$n.checkNormalize(),t=t.normalize(e));let n=[];for(let a=0;a<t.length;a++){const u=t.charCodeAt(a);if(u<128)n.push(u);else if(u<2048)n.push(u>>6|192),n.push(u&63|128);else if((u&64512)==55296){a++;const o=t.charCodeAt(a);if(a>=t.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");const p=65536+((u&1023)<<10)+(o&1023);n.push(p>>18|240),n.push(p>>12&63|128),n.push(p>>6&63|128),n.push(p&63|128)}else n.push(u>>12|224),n.push(u>>6&63|128),n.push(u&63|128)}return arrayify(n)}function _toUtf8String(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function toUtf8String(t,e){return _toUtf8String(getUtf8CodePoints(t,e))}function toUtf8CodePoints(t,e=UnicodeNormalizationForm.current){return getUtf8CodePoints(toUtf8Bytes(t,e))}class StringCoder extends DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,toUtf8Bytes(n))}decode(e){return toUtf8String(super.decode(e))}}class TupleCoder extends Coder{constructor(e,n){let a=!1;const u=[];e.forEach(p=>{p.dynamic&&(a=!0),u.push(p.type)});const o="tuple("+u.join(",")+")";super("tuple",o,n,a),this.coders=e}defaultValue(){const e=[];this.coders.forEach(a=>{e.push(a.defaultValue())});const n=this.coders.reduce((a,u)=>{const o=u.localName;return o&&(a[o]||(a[o]=0),a[o]++),a},{});return this.coders.forEach((a,u)=>{let o=a.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[u]))}),Object.freeze(e)}encode(e,n){return pack(e,this.coders,n)}decode(e){return e.coerce(this.name,unpack(e,this.coders))}}const logger$m=new Logger(version$n),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(e){defineReadOnly(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new AddressCoder(e.name);case"bool":return new BooleanCoder(e.name);case"string":return new StringCoder(e.name);case"bytes":return new BytesCoder(e.name);case"array":return new ArrayCoder(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new TupleCoder((e.components||[]).map(a=>this._getCoder(a)),e.name);case"":return new NullCoder(e.name)}let n=e.type.match(paramTypeNumber);if(n){let a=parseInt(n[2]||"256");return(a===0||a>256||a%8!==0)&&logger$m.throwArgumentError("invalid "+n[1]+" bit length","param",e),new NumberCoder(a/8,n[1]==="int",e.name)}if(n=e.type.match(paramTypeBytes),n){let a=parseInt(n[1]);return(a===0||a>32)&&logger$m.throwArgumentError("invalid bytes length","param",e),new FixedBytesCoder(a,e.name)}return logger$m.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,n){return new Reader(e,this._getWordSize(),this.coerceFunc,n)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(e){const n=e.map(u=>this._getCoder(ParamType.from(u)));return new TupleCoder(n,"_").defaultValue()}encode(e,n){e.length!==n.length&&logger$m.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:n.length},value:{types:e,values:n}});const a=e.map(p=>this._getCoder(ParamType.from(p))),u=new TupleCoder(a,"_"),o=this._getWriter();return u.encode(o,n),o.data}decode(e,n,a){const u=e.map(p=>this._getCoder(ParamType.from(p)));return new TupleCoder(u,"_").decode(this._getReader(arrayify(n),a))}}const defaultAbiCoder=new AbiCoder;function id(t){return keccak256(toUtf8Bytes(t))}const version$j="hash/5.7.0";function decode$l(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return arrayify(e)}function encode$m(t){t=arrayify(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function flat(t,e){e==null&&(e=1);const n=[],a=n.forEach,u=function(o,p){a.call(o,function(m){p>0&&Array.isArray(m)?u(m,p-1):n.push(m)})};return u(t,e),n}function fromEntries(t){const e={};for(let n=0;n<t.length;n++){const a=t[n];e[a[0]]=a[1]}return e}function decode_arithmetic(t){let e=0;function n(){return t[e++]<<8|t[e++]}let a=n(),u=1,o=[0,1];for(let te=1;te<a;te++)o.push(u+=n());let p=n(),m=e;e+=p;let y=0,w=0;function _(){return y==0&&(w=w<<8|t[e++],y=8),w>>--y&1}const M=31,T=Math.pow(2,M),B=T>>>1,P=B>>1,C=T-1;let L=0;for(let te=0;te<M;te++)L=L<<1|_();let U=[],q=0,G=T;for(;;){let te=Math.floor(((L-q+1)*u-1)/G),ne=0,ge=a;for(;ge-ne>1;){let Se=ne+ge>>>1;te<o[Se]?ge=Se:ne=Se}if(ne==0)break;U.push(ne);let pe=q+Math.floor(G*o[ne]/u),se=q+Math.floor(G*o[ne+1]/u)-1;for(;!((pe^se)&B);)L=L<<1&C|_(),pe=pe<<1&C,se=se<<1&C|1;for(;pe&~se&P;)L=L&B|L<<1&C>>>1|_(),pe=pe<<1^B,se=(se^B)<<1|B|1;q=pe,G=1+se-pe}let X=a-4;return U.map(te=>{switch(te-X){case 3:return X+65792+(t[m++]<<16|t[m++]<<8|t[m++]);case 2:return X+256+(t[m++]<<8|t[m++]);case 1:return X+t[m++];default:return te-1}})}function read_payload(t){let e=0;return()=>t[e++]}function read_compressed_payload(t){return read_payload(decode_arithmetic(t))}function signed(t){return t&1?~t>>1:t>>1}function read_counts(t,e){let n=Array(t);for(let a=0;a<t;a++)n[a]=1+e();return n}function read_ascending(t,e){let n=Array(t);for(let a=0,u=-1;a<t;a++)n[a]=u+=1+e();return n}function read_deltas(t,e){let n=Array(t);for(let a=0,u=0;a<t;a++)n[a]=u+=signed(e());return n}function read_member_array(t,e){let n=read_ascending(t(),t),a=t(),u=read_ascending(a,t),o=read_counts(a,t);for(let p=0;p<a;p++)for(let m=0;m<o[p];m++)n.push(u[p]+m);return e?n.map(p=>e[p]):n}function read_mapped_map(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(read_linear_table(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(read_replacement_table(n,t))}return fromEntries(flat(e))}function read_zero_terminated_array(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function read_transposed(t,e,n){let a=Array(t).fill(void 0).map(()=>[]);for(let u=0;u<e;u++)read_deltas(t,n).forEach((o,p)=>a[p].push(o));return a}function read_linear_table(t,e){let n=1+e(),a=e(),u=read_zero_terminated_array(e),o=read_transposed(u.length,1+t,e);return flat(o.map((p,m)=>{const y=p[0],w=p.slice(1);return Array(u[m]).fill(void 0).map((_,M)=>{let T=M*a;return[y+M*n,w.map(B=>B+T)]})}))}function read_replacement_table(t,e){let n=1+e();return read_transposed(n,1+t,e).map(u=>[u[0],u.slice(1)])}function read_emoji_trie(t){let e=read_member_array(t).sort((a,u)=>a-u);return n();function n(){let a=[];for(;;){let w=read_member_array(t,e);if(w.length==0)break;a.push({set:new Set(w),node:n()})}a.sort((w,_)=>_.set.size-w.set.size);let u=t(),o=u%3;u=u/3|0;let p=!!(u&1);u>>=1;let m=u==1,y=u==2;return{branches:a,valid:o,fe0f:p,save:m,check:y}}}function getData(){return read_compressed_payload(decode$l("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const r$1=getData(),VALID=new Set(read_member_array(r$1)),IGNORED=new Set(read_member_array(r$1)),MAPPED=read_mapped_map(r$1),EMOJI_ROOT=read_emoji_trie(r$1),HYPHEN=45,UNDERSCORE=95;function explode_cp(t){return toUtf8CodePoints(t)}function filter_fe0f(t){return t.filter(e=>e!=65039)}function ens_normalize_post_check(t){for(let e of t.split(".")){let n=explode_cp(e);try{for(let a=n.lastIndexOf(UNDERSCORE)-1;a>=0;a--)if(n[a]!==UNDERSCORE)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(a=>a<128)&&n[2]===HYPHEN&&n[3]===HYPHEN)throw new Error("invalid label extension")}catch(a){throw new Error(`Invalid label "${e}": ${a.message}`)}}return t}function ens_normalize(t){return ens_normalize_post_check(normalize$1(t,filter_fe0f))}function normalize$1(t,e){let n=explode_cp(t).reverse(),a=[];for(;n.length;){let u=consume_emoji_reversed(n);if(u){a.push(...e(u));continue}let o=n.pop();if(VALID.has(o)){a.push(o);continue}if(IGNORED.has(o))continue;let p=MAPPED[o];if(p){a.push(...p);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return ens_normalize_post_check(nfc(String.fromCodePoint(...a)))}function nfc(t){return t.normalize("NFC")}function consume_emoji_reversed(t,e){var n;let a=EMOJI_ROOT,u,o,p=[],m=t.length;for(e&&(e.length=0);m;){let y=t[--m];if(a=(n=a.branches.find(w=>w.set.has(y)))===null||n===void 0?void 0:n.node,!a)break;if(a.save)o=y;else if(a.check&&y===o)break;p.push(y),a.fe0f&&(p.push(65039),m>0&&t[m-1]==65039&&m--),a.valid&&(u=p.slice(),a.valid==2&&u.splice(1,1),e&&e.push(...t.slice(m).reverse()),t.length=m)}return u}const logger$l=new Logger(version$j),Zeros=new Uint8Array(32);Zeros.fill(0);function checkComponent(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function ensNameSplit(t){const e=toUtf8Bytes(ens_normalize(t)),n=[];if(t.length===0)return n;let a=0;for(let u=0;u<e.length;u++)e[u]===46&&(n.push(checkComponent(e.slice(a,u))),a=u+1);if(a>=e.length)throw new Error("invalid ENS name; empty component");return n.push(checkComponent(e.slice(a))),n}function namehash(t){typeof t!="string"&&logger$l.throwArgumentError("invalid ENS name; not a string","name",t);let e=Zeros;const n=ensNameSplit(t);for(;n.length;)e=keccak256(concat([e,keccak256(n.pop())]));return hexlify(e)}function dnsEncode(t){return hexlify(concat(ensNameSplit(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}const messagePrefix=`Ethereum Signed Message:
`;function hashMessage(t){return typeof t=="string"&&(t=toUtf8Bytes(t)),keccak256(concat([toUtf8Bytes(messagePrefix),toUtf8Bytes(String(t.length)),t]))}var __awaiter$9=function(t,e,n,a){function u(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function m(_){try{w(a.next(_))}catch(M){p(M)}}function y(_){try{w(a.throw(_))}catch(M){p(M)}}function w(_){_.done?o(_.value):u(_.value).then(m,y)}w((a=a.apply(t,e||[])).next())})};const logger$k=new Logger(version$j),padding=new Uint8Array(32);padding.fill(0);const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(t){const e=arrayify(t),n=e.length%32;return n?hexConcat([e,padding.slice(n)]):hexlify(e)}const hexTrue=hexZeroPad(One.toHexString(),32),hexFalse=hexZeroPad(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(t){return function(e){return typeof e!="string"&&logger$k.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(t){try{return BigNumber.from(t).toString()}catch{}return logger$k.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return getAddress(t).toLowerCase()}catch{}return logger$k.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=arrayify(t);if(e.length!==32)throw new Error("bad length");return hexlify(e)}catch{}return logger$k.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function getBaseEncoder(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",a=parseInt(e[2]||"256");(a%8!==0||a>256||e[2]&&e[2]!==String(a))&&logger$k.throwArgumentError("invalid numeric width","type",t);const u=MaxUint256.mask(n?a-1:a),o=n?u.add(One).mul(NegativeOne):Zero;return function(p){const m=BigNumber.from(p);return(m.lt(o)||m.gt(u))&&logger$k.throwArgumentError(`value out-of-bounds for ${t}`,"value",p),hexZeroPad(m.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&logger$k.throwArgumentError("invalid bytes width","type",t),function(a){return arrayify(a).length!==n&&logger$k.throwArgumentError(`invalid length for ${t}`,"value",a),hexPadRight(a)}}}switch(t){case"address":return function(e){return hexZeroPad(getAddress(e),32)};case"bool":return function(e){return e?hexTrue:hexFalse};case"bytes":return function(e){return keccak256(e)};case"string":return function(e){return id(e)}}return null}function encodeType(t,e){return`${t}(${e.map(({name:n,type:a})=>a+" "+n).join(",")})`}class TypedDataEncoder{constructor(e){defineReadOnly(this,"types",Object.freeze(deepCopy(e))),defineReadOnly(this,"_encoderCache",{}),defineReadOnly(this,"_types",{});const n={},a={},u={};Object.keys(e).forEach(m=>{n[m]={},a[m]=[],u[m]={}});for(const m in e){const y={};e[m].forEach(w=>{y[w.name]&&logger$k.throwArgumentError(`duplicate variable name ${JSON.stringify(w.name)} in ${JSON.stringify(m)}`,"types",e),y[w.name]=!0;const _=w.type.match(/^([^\x5b]*)(\x5b|$)/)[1];_===m&&logger$k.throwArgumentError(`circular type reference to ${JSON.stringify(_)}`,"types",e),!getBaseEncoder(_)&&(a[_]||logger$k.throwArgumentError(`unknown type ${JSON.stringify(_)}`,"types",e),a[_].push(m),n[m][_]=!0)})}const o=Object.keys(a).filter(m=>a[m].length===0);o.length===0?logger$k.throwArgumentError("missing primary type","types",e):o.length>1&&logger$k.throwArgumentError(`ambiguous primary types or unused types: ${o.map(m=>JSON.stringify(m)).join(", ")}`,"types",e),defineReadOnly(this,"primaryType",o[0]);function p(m,y){y[m]&&logger$k.throwArgumentError(`circular type reference to ${JSON.stringify(m)}`,"types",e),y[m]=!0,Object.keys(n[m]).forEach(w=>{a[w]&&(p(w,y),Object.keys(y).forEach(_=>{u[_][w]=!0}))}),delete y[m]}p(this.primaryType,{});for(const m in u){const y=Object.keys(u[m]);y.sort(),this._types[m]=encodeType(m,e[m])+y.map(w=>encodeType(w,e[w])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const u=getBaseEncoder(e);if(u)return u}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const u=n[1],o=this.getEncoder(u),p=parseInt(n[3]);return m=>{p>=0&&m.length!==p&&logger$k.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",m);let y=m.map(o);return this._types[u]&&(y=y.map(keccak256)),keccak256(hexConcat(y))}}const a=this.types[e];if(a){const u=id(this._types[e]);return o=>{const p=a.map(({name:m,type:y})=>{const w=this.getEncoder(y)(o[m]);return this._types[y]?keccak256(w):w});return p.unshift(u),hexConcat(p)}}return logger$k.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||logger$k.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return keccak256(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,a){if(getBaseEncoder(e))return a(e,n);const u=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(u){const p=u[1],m=parseInt(u[3]);return m>=0&&n.length!==m&&logger$k.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(y=>this._visit(p,y,a))}const o=this.types[e];return o?o.reduce((p,{name:m,type:y})=>(p[m]=this._visit(y,n[m],a),p),{}):logger$k.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new TypedDataEncoder(e)}static getPrimaryType(e){return TypedDataEncoder.from(e).primaryType}static hashStruct(e,n,a){return TypedDataEncoder.from(n).hashStruct(e,a)}static hashDomain(e){const n=[];for(const a in e){const u=domainFieldTypes[a];u||logger$k.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(a)}`,"domain",e),n.push({name:a,type:u})}return n.sort((a,u)=>domainFieldNames.indexOf(a.name)-domainFieldNames.indexOf(u.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,a){return hexConcat(["0x1901",TypedDataEncoder.hashDomain(e),TypedDataEncoder.from(n).hash(a)])}static hash(e,n,a){return keccak256(TypedDataEncoder.encode(e,n,a))}static resolveNames(e,n,a,u){return __awaiter$9(this,void 0,void 0,function*(){e=shallowCopy(e);const o={};e.verifyingContract&&!isHexString(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const p=TypedDataEncoder.from(n);p.visit(a,(m,y)=>(m==="address"&&!isHexString(y,20)&&(o[y]="0x"),y));for(const m in o)o[m]=yield u(m);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),a=p.visit(a,(m,y)=>m==="address"&&o[y]?o[y]:y),{domain:e,value:a}})}static getPayload(e,n,a){TypedDataEncoder.hashDomain(e);const u={},o=[];domainFieldNames.forEach(y=>{const w=e[y];w!=null&&(u[y]=domainChecks[y](w),o.push({name:y,type:domainFieldTypes[y]}))});const p=TypedDataEncoder.from(n),m=shallowCopy(n);return m.EIP712Domain?logger$k.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):m.EIP712Domain=o,p.encode(a),{types:m,domain:u,primaryType:p.primaryType,message:p.visit(a,(y,w)=>{if(y.match(/^bytes(\d*)/))return hexlify(arrayify(w));if(y.match(/^u?int/))return BigNumber.from(w).toString();switch(y){case"address":return w.toLowerCase();case"bool":return!!w;case"string":return typeof w!="string"&&logger$k.throwArgumentError("invalid string","value",w),w}return logger$k.throwArgumentError("unsupported type","type",y)})}}}const logger$j=new Logger(version$n);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(e){return!!(e&&e._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return n.error=e,n}class Interface{constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,defineReadOnly(this,"fragments",n.map(a=>Fragment.from(a)).filter(a=>a!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(a=>{let u=null;switch(a.type){case"constructor":if(this.deploy){logger$j.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",a);return;case"function":u=this.functions;break;case"event":u=this.events;break;case"error":u=this.errors;break;default:return}let o=a.format();if(u[o]){logger$j.warn("duplicate definition - "+o);return}u[o]=a}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(e){e||(e=FormatTypes.full),e===FormatTypes.sighash&&logger$j.throwArgumentError("interface does not support formatting sighash","format",e);const n=this.fragments.map(a=>a.format(e));return e===FormatTypes.json?JSON.stringify(n.map(a=>JSON.parse(a))):n}static getAbiCoder(){return defaultAbiCoder}static getAddress(e){return getAddress(e)}static getSighash(e){return hexDataSlice(id(e.format()),0,4)}static getEventTopic(e){return id(e.format())}getFunction(e){if(isHexString(e)){for(const a in this.functions)if(e===this.getSighash(a))return this.functions[a];logger$j.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const a=e.trim(),u=Object.keys(this.functions).filter(o=>o.split("(")[0]===a);return u.length===0?logger$j.throwArgumentError("no matching function","name",a):u.length>1&&logger$j.throwArgumentError("multiple matching functions","name",a),this.functions[u[0]]}const n=this.functions[FunctionFragment.fromString(e).format()];return n||logger$j.throwArgumentError("no matching function","signature",e),n}getEvent(e){if(isHexString(e)){const a=e.toLowerCase();for(const u in this.events)if(a===this.getEventTopic(u))return this.events[u];logger$j.throwArgumentError("no matching event","topichash",a)}if(e.indexOf("(")===-1){const a=e.trim(),u=Object.keys(this.events).filter(o=>o.split("(")[0]===a);return u.length===0?logger$j.throwArgumentError("no matching event","name",a):u.length>1&&logger$j.throwArgumentError("multiple matching events","name",a),this.events[u[0]]}const n=this.events[EventFragment.fromString(e).format()];return n||logger$j.throwArgumentError("no matching event","signature",e),n}getError(e){if(isHexString(e)){const a=getStatic(this.constructor,"getSighash");for(const u in this.errors){const o=this.errors[u];if(e===a(o))return this.errors[u]}logger$j.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const a=e.trim(),u=Object.keys(this.errors).filter(o=>o.split("(")[0]===a);return u.length===0?logger$j.throwArgumentError("no matching error","name",a):u.length>1&&logger$j.throwArgumentError("multiple matching errors","name",a),this.errors[u[0]]}const n=this.errors[FunctionFragment.fromString(e).format()];return n||logger$j.throwArgumentError("no matching error","signature",e),n}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(n){try{e=this.getError(e)}catch{throw n}}return getStatic(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),getStatic(this.constructor,"getEventTopic")(e)}_decodeParams(e,n){return this._abiCoder.decode(e,n)}_encodeParams(e,n){return this._abiCoder.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){typeof e=="string"&&(e=this.getError(e));const a=arrayify(n);return hexlify(a.slice(0,4))!==this.getSighash(e)&&logger$j.throwArgumentError(`data signature does not match error ${e.name}.`,"data",hexlify(a)),this._decodeParams(e.inputs,a.slice(4))}encodeErrorResult(e,n){return typeof e=="string"&&(e=this.getError(e)),hexlify(concat([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionData(e,n){typeof e=="string"&&(e=this.getFunction(e));const a=arrayify(n);return hexlify(a.slice(0,4))!==this.getSighash(e)&&logger$j.throwArgumentError(`data signature does not match function ${e.name}.`,"data",hexlify(a)),this._decodeParams(e.inputs,a.slice(4))}encodeFunctionData(e,n){return typeof e=="string"&&(e=this.getFunction(e)),hexlify(concat([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionResult(e,n){typeof e=="string"&&(e=this.getFunction(e));let a=arrayify(n),u=null,o="",p=null,m=null,y=null;switch(a.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,a)}catch{}break;case 4:{const w=hexlify(a.slice(0,4)),_=BuiltinErrors[w];if(_)p=this._abiCoder.decode(_.inputs,a.slice(4)),m=_.name,y=_.signature,_.reason&&(u=p[0]),m==="Error"?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(p[0])}`:m==="Panic"&&(o=`; VM Exception while processing transaction: reverted with panic code ${p[0]}`);else try{const M=this.getError(w);p=this._abiCoder.decode(M.inputs,a.slice(4)),m=M.name,y=M.format()}catch{}break}}return logger$j.throwError("call revert exception"+o,Logger.errors.CALL_EXCEPTION,{method:e.format(),data:hexlify(n),errorArgs:p,errorName:m,errorSignature:y,reason:u})}encodeFunctionResult(e,n){return typeof e=="string"&&(e=this.getFunction(e)),hexlify(this._abiCoder.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){typeof e=="string"&&(e=this.getEvent(e)),n.length>e.inputs.length&&logger$j.throwError("too many arguments for "+e.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:n});let a=[];e.anonymous||a.push(this.getEventTopic(e));const u=(o,p)=>o.type==="string"?id(p):o.type==="bytes"?keccak256(hexlify(p)):(o.type==="bool"&&typeof p=="boolean"&&(p=p?"0x01":"0x00"),o.type.match(/^u?int/)&&(p=BigNumber.from(p).toHexString()),o.type==="address"&&this._abiCoder.encode(["address"],[p]),hexZeroPad(hexlify(p),32));for(n.forEach((o,p)=>{let m=e.inputs[p];if(!m.indexed){o!=null&&logger$j.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+m.name,o);return}o==null?a.push(null):m.baseType==="array"||m.baseType==="tuple"?logger$j.throwArgumentError("filtering with tuples or arrays not supported","contract."+m.name,o):Array.isArray(o)?a.push(o.map(y=>u(m,y))):a.push(u(m,o))});a.length&&a[a.length-1]===null;)a.pop();return a}encodeEventLog(e,n){typeof e=="string"&&(e=this.getEvent(e));const a=[],u=[],o=[];return e.anonymous||a.push(this.getEventTopic(e)),n.length!==e.inputs.length&&logger$j.throwArgumentError("event arguments/values mismatch","values",n),e.inputs.forEach((p,m)=>{const y=n[m];if(p.indexed)if(p.type==="string")a.push(id(y));else if(p.type==="bytes")a.push(keccak256(y));else{if(p.baseType==="tuple"||p.baseType==="array")throw new Error("not implemented");a.push(this._abiCoder.encode([p.type],[y]))}else u.push(p),o.push(y)}),{data:this._abiCoder.encode(u,o),topics:a}}decodeEventLog(e,n,a){if(typeof e=="string"&&(e=this.getEvent(e)),a!=null&&!e.anonymous){let T=this.getEventTopic(e);(!isHexString(a[0],32)||a[0].toLowerCase()!==T)&&logger$j.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:T,value:a[0]}),a=a.slice(1)}let u=[],o=[],p=[];e.inputs.forEach((T,B)=>{T.indexed?T.type==="string"||T.type==="bytes"||T.baseType==="tuple"||T.baseType==="array"?(u.push(ParamType.fromObject({type:"bytes32",name:T.name})),p.push(!0)):(u.push(T),p.push(!1)):(o.push(T),p.push(!1))});let m=a!=null?this._abiCoder.decode(u,concat(a)):null,y=this._abiCoder.decode(o,n,!0),w=[],_=0,M=0;e.inputs.forEach((T,B)=>{if(T.indexed)if(m==null)w[B]=new Indexed({_isIndexed:!0,hash:null});else if(p[B])w[B]=new Indexed({_isIndexed:!0,hash:m[M++]});else try{w[B]=m[M++]}catch(P){w[B]=P}else try{w[B]=y[_++]}catch(P){w[B]=P}if(T.name&&w[T.name]==null){const P=w[B];P instanceof Error?Object.defineProperty(w,T.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(T.name)}`,P)}}):w[T.name]=P}});for(let T=0;T<w.length;T++){const B=w[T];B instanceof Error&&Object.defineProperty(w,T,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${T}`,B)}})}return Object.freeze(w)}parseTransaction(e){let n=this.getFunction(e.data.substring(0,10).toLowerCase());return n?new TransactionDescription({args:this._abiCoder.decode(n.inputs,"0x"+e.data.substring(10)),functionFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n),value:BigNumber.from(e.value||"0")}):null}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new LogDescription({eventFragment:n,name:n.name,signature:n.format(),topic:this.getEventTopic(n),args:this.decodeEventLog(n,e.data,e.topics)})}parseError(e){const n=hexlify(e);let a=this.getError(n.substring(0,10).toLowerCase());return a?new ErrorDescription({args:this._abiCoder.decode(a.inputs,"0x"+n.substring(10)),errorFragment:a,name:a.name,signature:a.format(),sighash:this.getSighash(a)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const version$i="abstract-provider/5.7.0";var __awaiter$8=function(t,e,n,a){function u(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function m(_){try{w(a.next(_))}catch(M){p(M)}}function y(_){try{w(a.throw(_))}catch(M){p(M)}}function w(_){_.done?o(_.value):u(_.value).then(m,y)}w((a=a.apply(t,e||[])).next())})};const logger$i=new Logger(version$i);class ForkEvent extends Description{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Provider{constructor(){logger$i.checkAbstract(new.target,Provider),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$8(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(p=>null)});let a=null,u=null,o=null;return e&&e.baseFeePerGas&&(a=e.baseFeePerGas,o=BigNumber.from("1500000000"),u=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:a,maxFeePerGas:u,maxPriorityFeePerGas:o,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const version$h="abstract-signer/5.7.0";var __awaiter$7=function(t,e,n,a){function u(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function m(_){try{w(a.next(_))}catch(M){p(M)}}function y(_){try{w(a.throw(_))}catch(M){p(M)}}function w(_){_.done?o(_.value):u(_.value).then(m,y)}w((a=a.apply(t,e||[])).next())})};const logger$h=new Logger(version$h),allowedTransactionKeys$2=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$h.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(e){return __awaiter$7(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return __awaiter$7(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return __awaiter$7(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield resolveProperties(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return __awaiter$7(this,void 0,void 0,function*(){this._checkProvider("call");const a=yield resolveProperties(this.checkTransaction(e));return yield this.provider.call(a,n)})}sendTransaction(e){return __awaiter$7(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),a=yield this.signTransaction(n);return yield this.provider.sendTransaction(a)})}getChainId(){return __awaiter$7(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$7(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$7(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return __awaiter$7(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const a in e)allowedTransactionKeys$2.indexOf(a)===-1&&logger$h.throwArgumentError("invalid transaction key: "+a,"transaction",e);const n=shallowCopy(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(a=>(a[0].toLowerCase()!==a[1].toLowerCase()&&logger$h.throwArgumentError("from address mismatch","transaction",e),a[0])),n}populateTransaction(e){return __awaiter$7(this,void 0,void 0,function*(){const n=yield resolveProperties(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(u=>__awaiter$7(this,void 0,void 0,function*(){if(u==null)return null;const o=yield this.resolveName(u);return o==null&&logger$h.throwArgumentError("provided ENS name resolves to null","tx.to",u),o})),n.to.catch(u=>{}));const a=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||a)?logger$h.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&a&&logger$h.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const u=yield this.getFeeData();if(n.type==null)if(u.maxFeePerGas!=null&&u.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const o=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=o,n.maxPriorityFeePerGas=o}else n.maxFeePerGas==null&&(n.maxFeePerGas=u.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=u.maxPriorityFeePerGas);else u.gasPrice!=null?(a&&logger$h.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=u.gasPrice),n.type=0):logger$h.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=u.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=u.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(u=>{if(forwardErrors.indexOf(u.code)>=0)throw u;return logger$h.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:u,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(u=>(u[1]!==0&&u[0]!==u[1]&&logger$h.throwArgumentError("chainId address mismatch","transaction",e),u[0])),yield resolveProperties(n)})}_checkProvider(e){this.provider||logger$h.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class VoidSigner extends Signer{constructor(e,n){super(),defineReadOnly(this,"address",e),defineReadOnly(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{logger$h.throwError(e,Logger.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,a){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new VoidSigner(this.address,e)}}var hash$3={},utils$h={},minimalisticAssert$1=assert$b;function assert$b(t,e){if(!t)throw new Error(e||"Assertion failed")}assert$b.equal=function(e,n,a){if(e!=n)throw new Error(a||"Assertion failed: "+e+" != "+n)};var inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(e,n){if(n){e.super_=n;var a=function(){};a.prototype=n.prototype,e.prototype=new a,e.prototype.constructor=e}};var inherits_browserExports=inherits_browser$1.exports,assert$a=minimalisticAssert$1,inherits$e=inherits_browserExports;utils$h.inherits=inherits$e;function isSurrogatePair(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function toArray(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),u=0;u<t.length;u+=2)n.push(parseInt(t[u]+t[u+1],16))}else for(var a=0,u=0;u<t.length;u++){var o=t.charCodeAt(u);o<128?n[a++]=o:o<2048?(n[a++]=o>>6|192,n[a++]=o&63|128):isSurrogatePair(t,u)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++u)&1023),n[a++]=o>>18|240,n[a++]=o>>12&63|128,n[a++]=o>>6&63|128,n[a++]=o&63|128):(n[a++]=o>>12|224,n[a++]=o>>6&63|128,n[a++]=o&63|128)}else for(u=0;u<t.length;u++)n[u]=t[u]|0;return n}utils$h.toArray=toArray;function toHex(t){for(var e="",n=0;n<t.length;n++)e+=zero2(t[n].toString(16));return e}utils$h.toHex=toHex;function htonl(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}utils$h.htonl=htonl;function toHex32(t,e){for(var n="",a=0;a<t.length;a++){var u=t[a];e==="little"&&(u=htonl(u)),n+=zero8(u.toString(16))}return n}utils$h.toHex32=toHex32;function zero2(t){return t.length===1?"0"+t:t}utils$h.zero2=zero2;function zero8(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}utils$h.zero8=zero8;function join32(t,e,n,a){var u=n-e;assert$a(u%4===0);for(var o=new Array(u/4),p=0,m=e;p<o.length;p++,m+=4){var y;a==="big"?y=t[m]<<24|t[m+1]<<16|t[m+2]<<8|t[m+3]:y=t[m+3]<<24|t[m+2]<<16|t[m+1]<<8|t[m],o[p]=y>>>0}return o}utils$h.join32=join32;function split32(t,e){for(var n=new Array(t.length*4),a=0,u=0;a<t.length;a++,u+=4){var o=t[a];e==="big"?(n[u]=o>>>24,n[u+1]=o>>>16&255,n[u+2]=o>>>8&255,n[u+3]=o&255):(n[u+3]=o>>>24,n[u+2]=o>>>16&255,n[u+1]=o>>>8&255,n[u]=o&255)}return n}utils$h.split32=split32;function rotr32$1(t,e){return t>>>e|t<<32-e}utils$h.rotr32=rotr32$1;function rotl32$2(t,e){return t<<e|t>>>32-e}utils$h.rotl32=rotl32$2;function sum32$3(t,e){return t+e>>>0}utils$h.sum32=sum32$3;function sum32_3$1(t,e,n){return t+e+n>>>0}utils$h.sum32_3=sum32_3$1;function sum32_4$2(t,e,n,a){return t+e+n+a>>>0}utils$h.sum32_4=sum32_4$2;function sum32_5$2(t,e,n,a,u){return t+e+n+a+u>>>0}utils$h.sum32_5=sum32_5$2;function sum64$1(t,e,n,a){var u=t[e],o=t[e+1],p=a+o>>>0,m=(p<a?1:0)+n+u;t[e]=m>>>0,t[e+1]=p}utils$h.sum64=sum64$1;function sum64_hi$1(t,e,n,a){var u=e+a>>>0,o=(u<e?1:0)+t+n;return o>>>0}utils$h.sum64_hi=sum64_hi$1;function sum64_lo$1(t,e,n,a){var u=e+a;return u>>>0}utils$h.sum64_lo=sum64_lo$1;function sum64_4_hi$1(t,e,n,a,u,o,p,m){var y=0,w=e;w=w+a>>>0,y+=w<e?1:0,w=w+o>>>0,y+=w<o?1:0,w=w+m>>>0,y+=w<m?1:0;var _=t+n+u+p+y;return _>>>0}utils$h.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(t,e,n,a,u,o,p,m){var y=e+a+o+m;return y>>>0}utils$h.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(t,e,n,a,u,o,p,m,y,w){var _=0,M=e;M=M+a>>>0,_+=M<e?1:0,M=M+o>>>0,_+=M<o?1:0,M=M+m>>>0,_+=M<m?1:0,M=M+w>>>0,_+=M<w?1:0;var T=t+n+u+p+y+_;return T>>>0}utils$h.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(t,e,n,a,u,o,p,m,y,w){var _=e+a+o+m+w;return _>>>0}utils$h.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(t,e,n){var a=e<<32-n|t>>>n;return a>>>0}utils$h.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(t,e,n){var a=t<<32-n|e>>>n;return a>>>0}utils$h.rotr64_lo=rotr64_lo$1;function shr64_hi$1(t,e,n){return t>>>n}utils$h.shr64_hi=shr64_hi$1;function shr64_lo$1(t,e,n){var a=t<<32-n|e>>>n;return a>>>0}utils$h.shr64_lo=shr64_lo$1;var common$5={},utils$g=utils$h,assert$9=minimalisticAssert$1;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(e,n){if(e=utils$g.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var a=e.length%this._delta8;this.pending=e.slice(e.length-a,e.length),this.pending.length===0&&(this.pending=null),e=utils$g.join32(e,0,e.length-a,this.endian);for(var u=0;u<e.length;u+=this._delta32)this._update(e,u,u+this._delta32)}return this};BlockHash$4.prototype.digest=function(e){return this.update(this._pad()),assert$9(this.pending===null),this._digest(e)};BlockHash$4.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,a=n-(e+this.padLength)%n,u=new Array(a+this.padLength);u[0]=128;for(var o=1;o<a;o++)u[o]=0;if(e<<=3,this.endian==="big"){for(var p=8;p<this.padLength;p++)u[o++]=0;u[o++]=0,u[o++]=0,u[o++]=0,u[o++]=0,u[o++]=e>>>24&255,u[o++]=e>>>16&255,u[o++]=e>>>8&255,u[o++]=e&255}else for(u[o++]=e&255,u[o++]=e>>>8&255,u[o++]=e>>>16&255,u[o++]=e>>>24&255,u[o++]=0,u[o++]=0,u[o++]=0,u[o++]=0,p=8;p<this.padLength;p++)u[o++]=0;return u};var sha$3={},common$4={},utils$f=utils$h,rotr32=utils$f.rotr32;function ft_1$1(t,e,n,a){if(t===0)return ch32$1(e,n,a);if(t===1||t===3)return p32(e,n,a);if(t===2)return maj32$1(e,n,a)}common$4.ft_1=ft_1$1;function ch32$1(t,e,n){return t&e^~t&n}common$4.ch32=ch32$1;function maj32$1(t,e,n){return t&e^t&n^e&n}common$4.maj32=maj32$1;function p32(t,e,n){return t^e^n}common$4.p32=p32;function s0_256$1(t){return rotr32(t,2)^rotr32(t,13)^rotr32(t,22)}common$4.s0_256=s0_256$1;function s1_256$1(t){return rotr32(t,6)^rotr32(t,11)^rotr32(t,25)}common$4.s1_256=s1_256$1;function g0_256$1(t){return rotr32(t,7)^rotr32(t,18)^t>>>3}common$4.g0_256=g0_256$1;function g1_256$1(t){return rotr32(t,17)^rotr32(t,19)^t>>>10}common$4.g1_256=g1_256$1;var utils$e=utils$h,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$e.rotl32,sum32$2=utils$e.sum32,sum32_5$1=utils$e.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1$1(){if(!(this instanceof SHA1$1))return new SHA1$1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$e.inherits(SHA1$1,BlockHash$3);var _1=SHA1$1;SHA1$1.blockSize=512;SHA1$1.outSize=160;SHA1$1.hmacStrength=80;SHA1$1.padLength=64;SHA1$1.prototype._update=function(e,n){for(var a=this.W,u=0;u<16;u++)a[u]=e[n+u];for(;u<a.length;u++)a[u]=rotl32$1(a[u-3]^a[u-8]^a[u-14]^a[u-16],1);var o=this.h[0],p=this.h[1],m=this.h[2],y=this.h[3],w=this.h[4];for(u=0;u<a.length;u++){var _=~~(u/20),M=sum32_5$1(rotl32$1(o,5),ft_1(_,p,m,y),w,a[u],sha1_K[_]);w=y,y=m,m=rotl32$1(p,30),p=o,o=M}this.h[0]=sum32$2(this.h[0],o),this.h[1]=sum32$2(this.h[1],p),this.h[2]=sum32$2(this.h[2],m),this.h[3]=sum32$2(this.h[3],y),this.h[4]=sum32$2(this.h[4],w)};SHA1$1.prototype._digest=function(e){return e==="hex"?utils$e.toHex32(this.h,"big"):utils$e.split32(this.h,"big")};var utils$d=utils$h,common$2=common$5,shaCommon=common$4,assert$8=minimalisticAssert$1,sum32$1=utils$d.sum32,sum32_4$1=utils$d.sum32_4,sum32_5=utils$d.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$2(){if(!(this instanceof SHA256$2))return new SHA256$2;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$d.inherits(SHA256$2,BlockHash$2);var _256=SHA256$2;SHA256$2.blockSize=512;SHA256$2.outSize=256;SHA256$2.hmacStrength=192;SHA256$2.padLength=64;SHA256$2.prototype._update=function(e,n){for(var a=this.W,u=0;u<16;u++)a[u]=e[n+u];for(;u<a.length;u++)a[u]=sum32_4$1(g1_256(a[u-2]),a[u-7],g0_256(a[u-15]),a[u-16]);var o=this.h[0],p=this.h[1],m=this.h[2],y=this.h[3],w=this.h[4],_=this.h[5],M=this.h[6],T=this.h[7];for(assert$8(this.k.length===a.length),u=0;u<a.length;u++){var B=sum32_5(T,s1_256(w),ch32(w,_,M),this.k[u],a[u]),P=sum32$1(s0_256(o),maj32(o,p,m));T=M,M=_,_=w,w=sum32$1(y,B),y=m,m=p,p=o,o=sum32$1(B,P)}this.h[0]=sum32$1(this.h[0],o),this.h[1]=sum32$1(this.h[1],p),this.h[2]=sum32$1(this.h[2],m),this.h[3]=sum32$1(this.h[3],y),this.h[4]=sum32$1(this.h[4],w),this.h[5]=sum32$1(this.h[5],_),this.h[6]=sum32$1(this.h[6],M),this.h[7]=sum32$1(this.h[7],T)};SHA256$2.prototype._digest=function(e){return e==="hex"?utils$d.toHex32(this.h,"big"):utils$d.split32(this.h,"big")};var utils$c=utils$h,SHA256$1=_256;function SHA224$1(){if(!(this instanceof SHA224$1))return new SHA224$1;SHA256$1.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$c.inherits(SHA224$1,SHA256$1);var _224=SHA224$1;SHA224$1.blockSize=512;SHA224$1.outSize=224;SHA224$1.hmacStrength=192;SHA224$1.padLength=64;SHA224$1.prototype._digest=function(e){return e==="hex"?utils$c.toHex32(this.h.slice(0,7),"big"):utils$c.split32(this.h.slice(0,7),"big")};var utils$b=utils$h,common$1=common$5,assert$7=minimalisticAssert$1,rotr64_hi=utils$b.rotr64_hi,rotr64_lo=utils$b.rotr64_lo,shr64_hi=utils$b.shr64_hi,shr64_lo=utils$b.shr64_lo,sum64=utils$b.sum64,sum64_hi=utils$b.sum64_hi,sum64_lo=utils$b.sum64_lo,sum64_4_hi=utils$b.sum64_4_hi,sum64_4_lo=utils$b.sum64_4_lo,sum64_5_hi=utils$b.sum64_5_hi,sum64_5_lo=utils$b.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$3(){if(!(this instanceof SHA512$3))return new SHA512$3;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$b.inherits(SHA512$3,BlockHash$1);var _512=SHA512$3;SHA512$3.blockSize=1024;SHA512$3.outSize=512;SHA512$3.hmacStrength=192;SHA512$3.padLength=128;SHA512$3.prototype._prepareBlock=function(e,n){for(var a=this.W,u=0;u<32;u++)a[u]=e[n+u];for(;u<a.length;u+=2){var o=g1_512_hi(a[u-4],a[u-3]),p=g1_512_lo(a[u-4],a[u-3]),m=a[u-14],y=a[u-13],w=g0_512_hi(a[u-30],a[u-29]),_=g0_512_lo(a[u-30],a[u-29]),M=a[u-32],T=a[u-31];a[u]=sum64_4_hi(o,p,m,y,w,_,M,T),a[u+1]=sum64_4_lo(o,p,m,y,w,_,M,T)}};SHA512$3.prototype._update=function(e,n){this._prepareBlock(e,n);var a=this.W,u=this.h[0],o=this.h[1],p=this.h[2],m=this.h[3],y=this.h[4],w=this.h[5],_=this.h[6],M=this.h[7],T=this.h[8],B=this.h[9],P=this.h[10],C=this.h[11],L=this.h[12],U=this.h[13],q=this.h[14],G=this.h[15];assert$7(this.k.length===a.length);for(var X=0;X<a.length;X+=2){var te=q,ne=G,ge=s1_512_hi(T,B),pe=s1_512_lo(T,B),se=ch64_hi(T,B,P,C,L),Se=ch64_lo(T,B,P,C,L,U),k=this.k[X],c=this.k[X+1],d=a[X],b=a[X+1],v=sum64_5_hi(te,ne,ge,pe,se,Se,k,c,d,b),A=sum64_5_lo(te,ne,ge,pe,se,Se,k,c,d,b);te=s0_512_hi(u,o),ne=s0_512_lo(u,o),ge=maj64_hi(u,o,p,m,y),pe=maj64_lo(u,o,p,m,y,w);var $=sum64_hi(te,ne,ge,pe),I=sum64_lo(te,ne,ge,pe);q=L,G=U,L=P,U=C,P=T,C=B,T=sum64_hi(_,M,v,A),B=sum64_lo(M,M,v,A),_=y,M=w,y=p,w=m,p=u,m=o,u=sum64_hi(v,A,$,I),o=sum64_lo(v,A,$,I)}sum64(this.h,0,u,o),sum64(this.h,2,p,m),sum64(this.h,4,y,w),sum64(this.h,6,_,M),sum64(this.h,8,T,B),sum64(this.h,10,P,C),sum64(this.h,12,L,U),sum64(this.h,14,q,G)};SHA512$3.prototype._digest=function(e){return e==="hex"?utils$b.toHex32(this.h,"big"):utils$b.split32(this.h,"big")};function ch64_hi(t,e,n,a,u){var o=t&n^~t&u;return o<0&&(o+=4294967296),o}function ch64_lo(t,e,n,a,u,o){var p=e&a^~e&o;return p<0&&(p+=4294967296),p}function maj64_hi(t,e,n,a,u){var o=t&n^t&u^n&u;return o<0&&(o+=4294967296),o}function maj64_lo(t,e,n,a,u,o){var p=e&a^e&o^a&o;return p<0&&(p+=4294967296),p}function s0_512_hi(t,e){var n=rotr64_hi(t,e,28),a=rotr64_hi(e,t,2),u=rotr64_hi(e,t,7),o=n^a^u;return o<0&&(o+=4294967296),o}function s0_512_lo(t,e){var n=rotr64_lo(t,e,28),a=rotr64_lo(e,t,2),u=rotr64_lo(e,t,7),o=n^a^u;return o<0&&(o+=4294967296),o}function s1_512_hi(t,e){var n=rotr64_hi(t,e,14),a=rotr64_hi(t,e,18),u=rotr64_hi(e,t,9),o=n^a^u;return o<0&&(o+=4294967296),o}function s1_512_lo(t,e){var n=rotr64_lo(t,e,14),a=rotr64_lo(t,e,18),u=rotr64_lo(e,t,9),o=n^a^u;return o<0&&(o+=4294967296),o}function g0_512_hi(t,e){var n=rotr64_hi(t,e,1),a=rotr64_hi(t,e,8),u=shr64_hi(t,e,7),o=n^a^u;return o<0&&(o+=4294967296),o}function g0_512_lo(t,e){var n=rotr64_lo(t,e,1),a=rotr64_lo(t,e,8),u=shr64_lo(t,e,7),o=n^a^u;return o<0&&(o+=4294967296),o}function g1_512_hi(t,e){var n=rotr64_hi(t,e,19),a=rotr64_hi(e,t,29),u=shr64_hi(t,e,6),o=n^a^u;return o<0&&(o+=4294967296),o}function g1_512_lo(t,e){var n=rotr64_lo(t,e,19),a=rotr64_lo(e,t,29),u=shr64_lo(t,e,6),o=n^a^u;return o<0&&(o+=4294967296),o}var utils$a=utils$h,SHA512$2=_512;function SHA384$1(){if(!(this instanceof SHA384$1))return new SHA384$1;SHA512$2.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$a.inherits(SHA384$1,SHA512$2);var _384=SHA384$1;SHA384$1.blockSize=1024;SHA384$1.outSize=384;SHA384$1.hmacStrength=192;SHA384$1.padLength=128;SHA384$1.prototype._digest=function(e){return e==="hex"?utils$a.toHex32(this.h.slice(0,12),"big"):utils$a.split32(this.h.slice(0,12),"big")};sha$3.sha1=_1;sha$3.sha224=_224;sha$3.sha256=_256;sha$3.sha384=_384;sha$3.sha512=_512;var ripemd={},utils$9=utils$h,common=common$5,rotl32=utils$9.rotl32,sum32=utils$9.sum32,sum32_3=utils$9.sum32_3,sum32_4=utils$9.sum32_4,BlockHash=common.BlockHash;function RIPEMD160$4(){if(!(this instanceof RIPEMD160$4))return new RIPEMD160$4;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$9.inherits(RIPEMD160$4,BlockHash);ripemd.ripemd160=RIPEMD160$4;RIPEMD160$4.blockSize=512;RIPEMD160$4.outSize=160;RIPEMD160$4.hmacStrength=192;RIPEMD160$4.padLength=64;RIPEMD160$4.prototype._update=function(e,n){for(var a=this.h[0],u=this.h[1],o=this.h[2],p=this.h[3],m=this.h[4],y=a,w=u,_=o,M=p,T=m,B=0;B<80;B++){var P=sum32(rotl32(sum32_4(a,f$2(B,u,o,p),e[r[B]+n],K$4(B)),s[B]),m);a=m,m=p,p=rotl32(o,10),o=u,u=P,P=sum32(rotl32(sum32_4(y,f$2(79-B,w,_,M),e[rh[B]+n],Kh(B)),sh[B]),T),y=T,T=M,M=rotl32(_,10),_=w,w=P}P=sum32_3(this.h[1],o,M),this.h[1]=sum32_3(this.h[2],p,T),this.h[2]=sum32_3(this.h[3],m,y),this.h[3]=sum32_3(this.h[4],a,w),this.h[4]=sum32_3(this.h[0],u,_),this.h[0]=P};RIPEMD160$4.prototype._digest=function(e){return e==="hex"?utils$9.toHex32(this.h,"little"):utils$9.split32(this.h,"little")};function f$2(t,e,n,a){return t<=15?e^n^a:t<=31?e&n|~e&a:t<=47?(e|~n)^a:t<=63?e&a|n&~a:e^(n|~a)}function K$4(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Kh(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$8=utils$h,assert$6=minimalisticAssert$1;function Hmac$2(t,e,n){if(!(this instanceof Hmac$2))return new Hmac$2(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(utils$8.toArray(e,n))}var hmac$1=Hmac$2;Hmac$2.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),assert$6(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};Hmac$2.prototype.update=function(e,n){return this.inner.update(e,n),this};Hmac$2.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=utils$h,e.common=common$5,e.sha=sha$3,e.ripemd=ripemd,e.hmac=hmac$1,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(hash$3);const hash$2=getDefaultExportFromCjs$1(hash$3);function createCommonjsModule(t,e,n){return n={path:e,exports:{},require:function(a,u){return commonjsRequire$1(a,u??n.path)}},t(n,n.exports),n.exports}function commonjsRequire$1(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert$5;function assert$5(t,e){if(!t)throw new Error(e||"Assertion failed")}assert$5.equal=function(e,n,a){if(e!=n)throw new Error(a||"Assertion failed: "+e+" != "+n)};var utils_1$4=createCommonjsModule(function(t,e){var n=e;function a(p,m){if(Array.isArray(p))return p.slice();if(!p)return[];var y=[];if(typeof p!="string"){for(var w=0;w<p.length;w++)y[w]=p[w]|0;return y}if(m==="hex"){p=p.replace(/[^a-z0-9]+/ig,""),p.length%2!==0&&(p="0"+p);for(var w=0;w<p.length;w+=2)y.push(parseInt(p[w]+p[w+1],16))}else for(var w=0;w<p.length;w++){var _=p.charCodeAt(w),M=_>>8,T=_&255;M?y.push(M,T):y.push(T)}return y}n.toArray=a;function u(p){return p.length===1?"0"+p:p}n.zero2=u;function o(p){for(var m="",y=0;y<p.length;y++)m+=u(p[y].toString(16));return m}n.toHex=o,n.encode=function(m,y){return y==="hex"?o(m):m}}),utils_1$1$1=createCommonjsModule(function(t,e){var n=e;n.assert=minimalisticAssert,n.toArray=utils_1$4.toArray,n.zero2=utils_1$4.zero2,n.toHex=utils_1$4.toHex,n.encode=utils_1$4.encode;function a(y,w,_){var M=new Array(Math.max(y.bitLength(),_)+1);M.fill(0);for(var T=1<<w+1,B=y.clone(),P=0;P<M.length;P++){var C,L=B.andln(T-1);B.isOdd()?(L>(T>>1)-1?C=(T>>1)-L:C=L,B.isubn(C)):C=0,M[P]=C,B.iushrn(1)}return M}n.getNAF=a;function u(y,w){var _=[[],[]];y=y.clone(),w=w.clone();for(var M=0,T=0,B;y.cmpn(-M)>0||w.cmpn(-T)>0;){var P=y.andln(3)+M&3,C=w.andln(3)+T&3;P===3&&(P=-1),C===3&&(C=-1);var L;P&1?(B=y.andln(7)+M&7,(B===3||B===5)&&C===2?L=-P:L=P):L=0,_[0].push(L);var U;C&1?(B=w.andln(7)+T&7,(B===3||B===5)&&P===2?U=-C:U=C):U=0,_[1].push(U),2*M===L+1&&(M=1-M),2*T===U+1&&(T=1-T),y.iushrn(1),w.iushrn(1)}return _}n.getJSF=u;function o(y,w,_){var M="_"+w;y.prototype[w]=function(){return this[M]!==void 0?this[M]:this[M]=_.call(this)}}n.cachedProperty=o;function p(y){return typeof y=="string"?n.toArray(y,"hex"):y}n.parseBytes=p;function m(y){return new BN$1(y,"hex","le")}n.intFromLE=m}),getNAF=utils_1$1$1.getNAF,getJSF=utils_1$1$1.getJSF,assert$1$1=utils_1$1$1.assert;function BaseCurve(t,e){this.type=t,this.p=new BN$1(e.p,16),this.red=e.prime?BN$1.red(e.prime):BN$1.mont(this.p),this.zero=new BN$1(0).toRed(this.red),this.one=new BN$1(1).toRed(this.red),this.two=new BN$1(2).toRed(this.red),this.n=e.n&&new BN$1(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$9=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(e,n){assert$1$1(e.precomputed);var a=e._getDoubles(),u=getNAF(n,1,this._bitLength),o=(1<<a.step+1)-(a.step%2===0?2:1);o/=3;var p=[],m,y;for(m=0;m<u.length;m+=a.step){y=0;for(var w=m+a.step-1;w>=m;w--)y=(y<<1)+u[w];p.push(y)}for(var _=this.jpoint(null,null,null),M=this.jpoint(null,null,null),T=o;T>0;T--){for(m=0;m<p.length;m++)y=p[m],y===T?M=M.mixedAdd(a.points[m]):y===-T&&(M=M.mixedAdd(a.points[m].neg()));_=_.add(M)}return _.toP()};BaseCurve.prototype._wnafMul=function(e,n){var a=4,u=e._getNAFPoints(a);a=u.wnd;for(var o=u.points,p=getNAF(n,a,this._bitLength),m=this.jpoint(null,null,null),y=p.length-1;y>=0;y--){for(var w=0;y>=0&&p[y]===0;y--)w++;if(y>=0&&w++,m=m.dblp(w),y<0)break;var _=p[y];assert$1$1(_!==0),e.type==="affine"?_>0?m=m.mixedAdd(o[_-1>>1]):m=m.mixedAdd(o[-_-1>>1].neg()):_>0?m=m.add(o[_-1>>1]):m=m.add(o[-_-1>>1].neg())}return e.type==="affine"?m.toP():m};BaseCurve.prototype._wnafMulAdd=function(e,n,a,u,o){var p=this._wnafT1,m=this._wnafT2,y=this._wnafT3,w=0,_,M,T;for(_=0;_<u;_++){T=n[_];var B=T._getNAFPoints(e);p[_]=B.wnd,m[_]=B.points}for(_=u-1;_>=1;_-=2){var P=_-1,C=_;if(p[P]!==1||p[C]!==1){y[P]=getNAF(a[P],p[P],this._bitLength),y[C]=getNAF(a[C],p[C],this._bitLength),w=Math.max(y[P].length,w),w=Math.max(y[C].length,w);continue}var L=[n[P],null,null,n[C]];n[P].y.cmp(n[C].y)===0?(L[1]=n[P].add(n[C]),L[2]=n[P].toJ().mixedAdd(n[C].neg())):n[P].y.cmp(n[C].y.redNeg())===0?(L[1]=n[P].toJ().mixedAdd(n[C]),L[2]=n[P].add(n[C].neg())):(L[1]=n[P].toJ().mixedAdd(n[C]),L[2]=n[P].toJ().mixedAdd(n[C].neg()));var U=[-3,-1,-5,-7,0,7,5,1,3],q=getJSF(a[P],a[C]);for(w=Math.max(q[0].length,w),y[P]=new Array(w),y[C]=new Array(w),M=0;M<w;M++){var G=q[0][M]|0,X=q[1][M]|0;y[P][M]=U[(G+1)*3+(X+1)],y[C][M]=0,m[P]=L}}var te=this.jpoint(null,null,null),ne=this._wnafT4;for(_=w;_>=0;_--){for(var ge=0;_>=0;){var pe=!0;for(M=0;M<u;M++)ne[M]=y[M][_]|0,ne[M]!==0&&(pe=!1);if(!pe)break;ge++,_--}if(_>=0&&ge++,te=te.dblp(ge),_<0)break;for(M=0;M<u;M++){var se=ne[M];se!==0&&(se>0?T=m[M][se-1>>1]:se<0&&(T=m[M][-se-1>>1].neg()),T.type==="affine"?te=te.mixedAdd(T):te=te.add(T))}}for(_=0;_<u;_++)m[_]=null;return o?te:te.toP()};function BasePoint(t,e){this.curve=t,this.type=e,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(e,n){e=utils_1$1$1.toArray(e,n);var a=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*a){e[0]===6?assert$1$1(e[e.length-1]%2===0):e[0]===7&&assert$1$1(e[e.length-1]%2===1);var u=this.point(e.slice(1,1+a),e.slice(1+a,1+2*a));return u}else if((e[0]===2||e[0]===3)&&e.length-1===a)return this.pointFromX(e.slice(1,1+a),e[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(e){return this.encode(e,!0)};BasePoint.prototype._encode=function(e){var n=this.curve.p.byteLength(),a=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(a):[4].concat(a,this.getY().toArray("be",n))};BasePoint.prototype.encode=function(e,n){return utils_1$1$1.encode(this._encode(n),e)};BasePoint.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};BasePoint.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};BasePoint.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var a=[this],u=this,o=0;o<n;o+=e){for(var p=0;p<e;p++)u=u.dbl();a.push(u)}return{step:e,points:a}};BasePoint.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],a=(1<<e)-1,u=a===1?null:this.dbl(),o=1;o<a;o++)n[o]=n[o-1].add(u);return{wnd:e,points:n}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(e){for(var n=this,a=0;a<e;a++)n=n.dbl();return n};var inherits_browser=createCommonjsModule(function(t){typeof Object.create=="function"?t.exports=function(n,a){a&&(n.super_=a,n.prototype=Object.create(a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,a){if(a){n.super_=a;var u=function(){};u.prototype=a.prototype,n.prototype=new u,n.prototype.constructor=n}}}),assert$2$1=utils_1$1$1.assert;function ShortCurve(t){base$9.call(this,"short",t),this.a=new BN$1(t.a,16).toRed(this.red),this.b=new BN$1(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve,base$9);var short_1=ShortCurve;ShortCurve.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,a;if(e.beta)n=new BN$1(e.beta,16).toRed(this.red);else{var u=this._getEndoRoots(this.p);n=u[0].cmp(u[1])<0?u[0]:u[1],n=n.toRed(this.red)}if(e.lambda)a=new BN$1(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(n))===0?a=o[0]:(a=o[1],assert$2$1(this.g.mul(a).x.cmp(this.g.x.redMul(n))===0))}var p;return e.basis?p=e.basis.map(function(m){return{a:new BN$1(m.a,16),b:new BN$1(m.b,16)}}):p=this._getEndoBasis(a),{beta:n,lambda:a,basis:p}}};ShortCurve.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:BN$1.mont(e),a=new BN$1(2).toRed(n).redInvm(),u=a.redNeg(),o=new BN$1(3).toRed(n).redNeg().redSqrt().redMul(a),p=u.redAdd(o).fromRed(),m=u.redSub(o).fromRed();return[p,m]};ShortCurve.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),a=e,u=this.n.clone(),o=new BN$1(1),p=new BN$1(0),m=new BN$1(0),y=new BN$1(1),w,_,M,T,B,P,C,L=0,U,q;a.cmpn(0)!==0;){var G=u.div(a);U=u.sub(G.mul(a)),q=m.sub(G.mul(o));var X=y.sub(G.mul(p));if(!M&&U.cmp(n)<0)w=C.neg(),_=o,M=U.neg(),T=q;else if(M&&++L===2)break;C=U,u=a,a=U,m=o,o=q,y=p,p=X}B=U.neg(),P=q;var te=M.sqr().add(T.sqr()),ne=B.sqr().add(P.sqr());return ne.cmp(te)>=0&&(B=w,P=_),M.negative&&(M=M.neg(),T=T.neg()),B.negative&&(B=B.neg(),P=P.neg()),[{a:M,b:T},{a:B,b:P}]};ShortCurve.prototype._endoSplit=function(e){var n=this.endo.basis,a=n[0],u=n[1],o=u.b.mul(e).divRound(this.n),p=a.b.neg().mul(e).divRound(this.n),m=o.mul(a.a),y=p.mul(u.a),w=o.mul(a.b),_=p.mul(u.b),M=e.sub(m).sub(y),T=w.add(_).neg();return{k1:M,k2:T}};ShortCurve.prototype.pointFromX=function(e,n){e=new BN$1(e,16),e.red||(e=e.toRed(this.red));var a=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),u=a.redSqrt();if(u.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var o=u.fromRed().isOdd();return(n&&!o||!n&&o)&&(u=u.redNeg()),this.point(e,u)};ShortCurve.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,a=e.y,u=this.a.redMul(n),o=n.redSqr().redMul(n).redIAdd(u).redIAdd(this.b);return a.redSqr().redISub(o).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(e,n,a){for(var u=this._endoWnafT1,o=this._endoWnafT2,p=0;p<e.length;p++){var m=this._endoSplit(n[p]),y=e[p],w=y._getBeta();m.k1.negative&&(m.k1.ineg(),y=y.neg(!0)),m.k2.negative&&(m.k2.ineg(),w=w.neg(!0)),u[p*2]=y,u[p*2+1]=w,o[p*2]=m.k1,o[p*2+1]=m.k2}for(var _=this._wnafMulAdd(1,u,o,p*2,a),M=0;M<p*2;M++)u[M]=null,o[M]=null;return _};function Point(t,e,n,a){base$9.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$1(e,16),this.y=new BN$1(n,16),a&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser(Point,base$9.BasePoint);ShortCurve.prototype.point=function(e,n,a){return new Point(this,e,n,a)};ShortCurve.prototype.pointFromJSON=function(e,n){return Point.fromJSON(this,e,n)};Point.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var a=this.curve,u=function(o){return a.point(o.x.redMul(a.endo.beta),o.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(u)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(u)}}}return n}};Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point.fromJSON=function(e,n,a){typeof n=="string"&&(n=JSON.parse(n));var u=e.point(n[0],n[1],a);if(!n[2])return u;function o(m){return e.point(m[0],m[1],a)}var p=n[2];return u.precomputed={beta:null,doubles:p.doubles&&{step:p.doubles.step,points:[u].concat(p.doubles.points.map(o))},naf:p.naf&&{wnd:p.naf.wnd,points:[u].concat(p.naf.points.map(o))}},u};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.inf};Point.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var a=n.redSqr().redISub(this.x).redISub(e.x),u=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,u)};Point.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,a=this.x.redSqr(),u=e.redInvm(),o=a.redAdd(a).redIAdd(a).redIAdd(n).redMul(u),p=o.redSqr().redISub(this.x.redAdd(this.x)),m=o.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,m)};Point.prototype.getX=function(){return this.x.fromRed()};Point.prototype.getY=function(){return this.y.fromRed()};Point.prototype.mul=function(e){return e=new BN$1(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Point.prototype.mulAdd=function(e,n,a){var u=[this,n],o=[e,a];return this.curve.endo?this.curve._endoWnafMulAdd(u,o):this.curve._wnafMulAdd(1,u,o,2)};Point.prototype.jmulAdd=function(e,n,a){var u=[this,n],o=[e,a];return this.curve.endo?this.curve._endoWnafMulAdd(u,o,!0):this.curve._wnafMulAdd(1,u,o,2,!0)};Point.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Point.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var a=this.precomputed,u=function(o){return o.neg()};n.precomputed={naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(u)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(u)}}}return n};Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function JPoint(t,e,n,a){base$9.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&a===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$1(0)):(this.x=new BN$1(e,16),this.y=new BN$1(n,16),this.z=new BN$1(a,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser(JPoint,base$9.BasePoint);ShortCurve.prototype.jpoint=function(e,n,a){return new JPoint(this,e,n,a)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),a=this.x.redMul(n),u=this.y.redMul(n).redMul(e);return this.curve.point(a,u)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),a=this.z.redSqr(),u=this.x.redMul(n),o=e.x.redMul(a),p=this.y.redMul(n.redMul(e.z)),m=e.y.redMul(a.redMul(this.z)),y=u.redSub(o),w=p.redSub(m);if(y.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var _=y.redSqr(),M=_.redMul(y),T=u.redMul(_),B=w.redSqr().redIAdd(M).redISub(T).redISub(T),P=w.redMul(T.redISub(B)).redISub(p.redMul(M)),C=this.z.redMul(e.z).redMul(y);return this.curve.jpoint(B,P,C)};JPoint.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),a=this.x,u=e.x.redMul(n),o=this.y,p=e.y.redMul(n).redMul(this.z),m=a.redSub(u),y=o.redSub(p);if(m.cmpn(0)===0)return y.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=m.redSqr(),_=w.redMul(m),M=a.redMul(w),T=y.redSqr().redIAdd(_).redISub(M).redISub(M),B=y.redMul(M.redISub(T)).redISub(o.redMul(_)),P=this.z.redMul(m);return this.curve.jpoint(T,B,P)};JPoint.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var a=this;for(n=0;n<e;n++)a=a.dbl();return a}var u=this.curve.a,o=this.curve.tinv,p=this.x,m=this.y,y=this.z,w=y.redSqr().redSqr(),_=m.redAdd(m);for(n=0;n<e;n++){var M=p.redSqr(),T=_.redSqr(),B=T.redSqr(),P=M.redAdd(M).redIAdd(M).redIAdd(u.redMul(w)),C=p.redMul(T),L=P.redSqr().redISub(C.redAdd(C)),U=C.redISub(L),q=P.redMul(U);q=q.redIAdd(q).redISub(B);var G=_.redMul(y);n+1<e&&(w=w.redMul(B)),p=L,y=G,_=q}return this.curve.jpoint(p,_.redMul(o),y)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var e,n,a;if(this.zOne){var u=this.x.redSqr(),o=this.y.redSqr(),p=o.redSqr(),m=this.x.redAdd(o).redSqr().redISub(u).redISub(p);m=m.redIAdd(m);var y=u.redAdd(u).redIAdd(u),w=y.redSqr().redISub(m).redISub(m),_=p.redIAdd(p);_=_.redIAdd(_),_=_.redIAdd(_),e=w,n=y.redMul(m.redISub(w)).redISub(_),a=this.y.redAdd(this.y)}else{var M=this.x.redSqr(),T=this.y.redSqr(),B=T.redSqr(),P=this.x.redAdd(T).redSqr().redISub(M).redISub(B);P=P.redIAdd(P);var C=M.redAdd(M).redIAdd(M),L=C.redSqr(),U=B.redIAdd(B);U=U.redIAdd(U),U=U.redIAdd(U),e=L.redISub(P).redISub(P),n=C.redMul(P.redISub(e)).redISub(U),a=this.y.redMul(this.z),a=a.redIAdd(a)}return this.curve.jpoint(e,n,a)};JPoint.prototype._threeDbl=function(){var e,n,a;if(this.zOne){var u=this.x.redSqr(),o=this.y.redSqr(),p=o.redSqr(),m=this.x.redAdd(o).redSqr().redISub(u).redISub(p);m=m.redIAdd(m);var y=u.redAdd(u).redIAdd(u).redIAdd(this.curve.a),w=y.redSqr().redISub(m).redISub(m);e=w;var _=p.redIAdd(p);_=_.redIAdd(_),_=_.redIAdd(_),n=y.redMul(m.redISub(w)).redISub(_),a=this.y.redAdd(this.y)}else{var M=this.z.redSqr(),T=this.y.redSqr(),B=this.x.redMul(T),P=this.x.redSub(M).redMul(this.x.redAdd(M));P=P.redAdd(P).redIAdd(P);var C=B.redIAdd(B);C=C.redIAdd(C);var L=C.redAdd(C);e=P.redSqr().redISub(L),a=this.y.redAdd(this.z).redSqr().redISub(T).redISub(M);var U=T.redSqr();U=U.redIAdd(U),U=U.redIAdd(U),U=U.redIAdd(U),n=P.redMul(C.redISub(e)).redISub(U)}return this.curve.jpoint(e,n,a)};JPoint.prototype._dbl=function(){var e=this.curve.a,n=this.x,a=this.y,u=this.z,o=u.redSqr().redSqr(),p=n.redSqr(),m=a.redSqr(),y=p.redAdd(p).redIAdd(p).redIAdd(e.redMul(o)),w=n.redAdd(n);w=w.redIAdd(w);var _=w.redMul(m),M=y.redSqr().redISub(_.redAdd(_)),T=_.redISub(M),B=m.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var P=y.redMul(T).redISub(B),C=a.redAdd(a).redMul(u);return this.curve.jpoint(M,P,C)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),a=this.z.redSqr(),u=n.redSqr(),o=e.redAdd(e).redIAdd(e),p=o.redSqr(),m=this.x.redAdd(n).redSqr().redISub(e).redISub(u);m=m.redIAdd(m),m=m.redAdd(m).redIAdd(m),m=m.redISub(p);var y=m.redSqr(),w=u.redIAdd(u);w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var _=o.redIAdd(m).redSqr().redISub(p).redISub(y).redISub(w),M=n.redMul(_);M=M.redIAdd(M),M=M.redIAdd(M);var T=this.x.redMul(y).redISub(M);T=T.redIAdd(T),T=T.redIAdd(T);var B=this.y.redMul(_.redMul(w.redISub(_)).redISub(m.redMul(y)));B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var P=this.z.redAdd(m).redSqr().redISub(a).redISub(y);return this.curve.jpoint(T,B,P)};JPoint.prototype.mul=function(e,n){return e=new BN$1(e,n),this.curve._wnafMul(this,e)};JPoint.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),a=e.z.redSqr();if(this.x.redMul(a).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var u=n.redMul(this.z),o=a.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(u)).cmpn(0)===0};JPoint.prototype.eqXToP=function(e){var n=this.z.redSqr(),a=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(a)===0)return!0;for(var u=e.clone(),o=this.curve.redN.redMul(n);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(a.redIAdd(o),this.x.cmp(a)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule(function(t,e){var n=e;n.base=base$9,n.short=short_1,n.mont=null,n.edwards=null}),curves_1=createCommonjsModule(function(t,e){var n=e,a=utils_1$1$1.assert;function u(m){m.type==="short"?this.curve=new curve_1.short(m):m.type==="edwards"?this.curve=new curve_1.edwards(m):this.curve=new curve_1.mont(m),this.g=this.curve.g,this.n=this.curve.n,this.hash=m.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=u;function o(m,y){Object.defineProperty(n,m,{configurable:!0,enumerable:!0,get:function(){var w=new u(y);return Object.defineProperty(n,m,{configurable:!0,enumerable:!0,value:w}),w}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$2.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$2.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$2.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$2.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$2.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$2.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$2.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var p;try{p=null.crash()}catch{p=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$2.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",p]})});function HmacDRBG(t){if(!(this instanceof HmacDRBG))return new HmacDRBG(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=utils_1$4.toArray(t.entropy,t.entropyEnc||"hex"),n=utils_1$4.toArray(t.nonce,t.nonceEnc||"hex"),a=utils_1$4.toArray(t.pers,t.persEnc||"hex");minimalisticAssert(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,a)}var hmacDrbg$1=HmacDRBG;HmacDRBG.prototype._init=function(e,n,a){var u=e.concat(n).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$2.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(e,n,a,u){typeof n!="string"&&(u=a,a=n,n=null),e=utils_1$4.toArray(e,n),a=utils_1$4.toArray(a,u),minimalisticAssert(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(a||[])),this._reseed=1};HmacDRBG.prototype.generate=function(e,n,a,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(u=a,a=n,n=null),a&&(a=utils_1$4.toArray(a,u||"hex"),this._update(a));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var p=o.slice(0,e);return this._update(a),this._reseed++,utils_1$4.encode(p,n)};var assert$3$1=utils_1$1$1.assert;function KeyPair(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var key$4=KeyPair;KeyPair.fromPublic=function(e,n,a){return n instanceof KeyPair?n:new KeyPair(e,{pub:n,pubEnc:a})};KeyPair.fromPrivate=function(e,n,a){return n instanceof KeyPair?n:new KeyPair(e,{priv:n,privEnc:a})};KeyPair.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};KeyPair.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};KeyPair.prototype._importPrivate=function(e,n){this.priv=new BN$1(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?assert$3$1(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3$1(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};KeyPair.prototype.derive=function(e){return e.validate()||assert$3$1(e.validate(),"public point not validated"),e.mul(this.priv).getX()};KeyPair.prototype.sign=function(e,n,a){return this.ec.sign(e,this,n,a)};KeyPair.prototype.verify=function(e,n){return this.ec.verify(e,n,this)};KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4$1=utils_1$1$1.assert;function Signature(t,e){if(t instanceof Signature)return t;this._importDER(t,e)||(assert$4$1(t.r&&t.s,"Signature without r or s"),this.r=new BN$1(t.r,16),this.s=new BN$1(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var signature$4=Signature;function Position(){this.place=0}function getLength(t,e){var n=t[e.place++];if(!(n&128))return n;var a=n&15;if(a===0||a>4)return!1;for(var u=0,o=0,p=e.place;o<a;o++,p++)u<<=8,u|=t[p],u>>>=0;return u<=127?!1:(e.place=p,u)}function rmPadding(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}Signature.prototype._importDER=function(e,n){e=utils_1$1$1.toArray(e,n);var a=new Position;if(e[a.place++]!==48)return!1;var u=getLength(e,a);if(u===!1||u+a.place!==e.length||e[a.place++]!==2)return!1;var o=getLength(e,a);if(o===!1)return!1;var p=e.slice(a.place,o+a.place);if(a.place+=o,e[a.place++]!==2)return!1;var m=getLength(e,a);if(m===!1||e.length!==m+a.place)return!1;var y=e.slice(a.place,m+a.place);if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;if(y[0]===0)if(y[1]&128)y=y.slice(1);else return!1;return this.r=new BN$1(p),this.s=new BN$1(y),this.recoveryParam=null,!0};function constructLength(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}Signature.prototype.toDER=function(e){var n=this.r.toArray(),a=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),a[0]&128&&(a=[0].concat(a)),n=rmPadding(n),a=rmPadding(a);!a[0]&&!(a[1]&128);)a=a.slice(1);var u=[2];constructLength(u,n.length),u=u.concat(n),u.push(2),constructLength(u,a.length);var o=u.concat(a),p=[48];return constructLength(p,o.length),p=p.concat(o),utils_1$1$1.encode(p,e)};var rand=function(){throw new Error("unsupported")},assert$5$1=utils_1$1$1.assert;function EC(t){if(!(this instanceof EC))return new EC(t);typeof t=="string"&&(assert$5$1(Object.prototype.hasOwnProperty.call(curves_1,t),"Unknown curve "+t),t=curves_1[t]),t instanceof curves_1.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var ec$2=EC;EC.prototype.keyPair=function(e){return new key$4(this,e)};EC.prototype.keyFromPrivate=function(e,n){return key$4.fromPrivate(this,e,n)};EC.prototype.keyFromPublic=function(e,n){return key$4.fromPublic(this,e,n)};EC.prototype.genKeyPair=function(e){e||(e={});for(var n=new hmacDrbg$1({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),a=this.n.byteLength(),u=this.n.sub(new BN$1(2));;){var o=new BN$1(n.generate(a));if(!(o.cmp(u)>0))return o.iaddn(1),this.keyFromPrivate(o)}};EC.prototype._truncateToN=function(e,n){var a=e.byteLength()*8-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};EC.prototype.sign=function(e,n,a,u){typeof a=="object"&&(u=a,a=null),u||(u={}),n=this.keyFromPrivate(n,a),e=this._truncateToN(new BN$1(e,16));for(var o=this.n.byteLength(),p=n.getPrivate().toArray("be",o),m=e.toArray("be",o),y=new hmacDrbg$1({hash:this.hash,entropy:p,nonce:m,pers:u.pers,persEnc:u.persEnc||"utf8"}),w=this.n.sub(new BN$1(1)),_=0;;_++){var M=u.k?u.k(_):new BN$1(y.generate(this.n.byteLength()));if(M=this._truncateToN(M,!0),!(M.cmpn(1)<=0||M.cmp(w)>=0)){var T=this.g.mul(M);if(!T.isInfinity()){var B=T.getX(),P=B.umod(this.n);if(P.cmpn(0)!==0){var C=M.invm(this.n).mul(P.mul(n.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var L=(T.getY().isOdd()?1:0)|(B.cmp(P)!==0?2:0);return u.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),L^=1),new signature$4({r:P,s:C,recoveryParam:L})}}}}}};EC.prototype.verify=function(e,n,a,u){e=this._truncateToN(new BN$1(e,16)),a=this.keyFromPublic(a,u),n=new signature$4(n,"hex");var o=n.r,p=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||p.cmpn(1)<0||p.cmp(this.n)>=0)return!1;var m=p.invm(this.n),y=m.mul(e).umod(this.n),w=m.mul(o).umod(this.n),_;return this.curve._maxwellTrick?(_=this.g.jmulAdd(y,a.getPublic(),w),_.isInfinity()?!1:_.eqXToP(o)):(_=this.g.mulAdd(y,a.getPublic(),w),_.isInfinity()?!1:_.getX().umod(this.n).cmp(o)===0)};EC.prototype.recoverPubKey=function(t,e,n,a){assert$5$1((3&n)===n,"The recovery param is more than two bits"),e=new signature$4(e,a);var u=this.n,o=new BN$1(t),p=e.r,m=e.s,y=n&1,w=n>>1;if(p.cmp(this.curve.p.umod(this.curve.n))>=0&&w)throw new Error("Unable to find sencond key candinate");w?p=this.curve.pointFromX(p.add(this.curve.n),y):p=this.curve.pointFromX(p,y);var _=e.r.invm(u),M=u.sub(o).mul(_).umod(u),T=m.mul(_).umod(u);return this.g.mulAdd(M,p,T)};EC.prototype.getKeyRecoveryParam=function(t,e,n,a){if(e=new signature$4(e,a),e.recoveryParam!==null)return e.recoveryParam;for(var u=0;u<4;u++){var o;try{o=this.recoverPubKey(t,e,u)}catch{continue}if(o.eq(n))return u}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule(function(t,e){var n=e;n.version="6.5.4",n.utils=utils_1$1$1,n.rand=function(){throw new Error("unsupported")},n.curve=curve_1,n.curves=curves_1,n.ec=ec$2,n.eddsa=null}),EC$1=elliptic_1.ec;const version$g="signing-key/5.7.0",logger$g=new Logger(version$g);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1("secp256k1")),_curve}class SigningKey{constructor(e){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify(e)),hexDataLength(this.privateKey)!==32&&logger$g.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=getCurve().keyFromPrivate(arrayify(this.privateKey));defineReadOnly(this,"publicKey","0x"+n.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(e){const n=getCurve().keyFromPublic(arrayify(this.publicKey)),a=getCurve().keyFromPublic(arrayify(e));return"0x"+n.pub.add(a.pub).encodeCompressed("hex")}signDigest(e){const n=getCurve().keyFromPrivate(arrayify(this.privateKey)),a=arrayify(e);a.length!==32&&logger$g.throwArgumentError("bad digest length","digest",e);const u=n.sign(a,{canonical:!0});return splitSignature({recoveryParam:u.recoveryParam,r:hexZeroPad("0x"+u.r.toString(16),32),s:hexZeroPad("0x"+u.s.toString(16),32)})}computeSharedSecret(e){const n=getCurve().keyFromPrivate(arrayify(this.privateKey)),a=getCurve().keyFromPublic(arrayify(computePublicKey(e)));return hexZeroPad("0x"+n.derive(a.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function recoverPublicKey(t,e){const n=splitSignature(e),a={r:arrayify(n.r),s:arrayify(n.s)};return"0x"+getCurve().recoverPubKey(arrayify(t),a,n.recoveryParam).encode("hex",!1)}function computePublicKey(t,e){const n=arrayify(t);if(n.length===32){const a=new SigningKey(n);return e?"0x"+getCurve().keyFromPrivate(n).getPublic(!0,"hex"):a.publicKey}else{if(n.length===33)return e?hexlify(n):"0x"+getCurve().keyFromPublic(n).getPublic(!1,"hex");if(n.length===65)return e?"0x"+getCurve().keyFromPublic(n).getPublic(!0,"hex"):hexlify(n)}return logger$g.throwArgumentError("invalid public or private key","key","[REDACTED]")}const version$f="transactions/5.7.0",logger$f=new Logger(version$f);var TransactionTypes;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress(t){return t==="0x"?null:getAddress(t)}function handleNumber(t){return t==="0x"?Zero$1:BigNumber.from(t)}const transactionFields=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$1={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress(t){const e=computePublicKey(t);return getAddress(hexDataSlice(keccak256(hexDataSlice(e,1)),12))}function recoverAddress(t,e){return computeAddress(recoverPublicKey(arrayify(t),e))}function formatNumber(t,e){const n=stripZeros(BigNumber.from(t).toHexString());return n.length>32&&logger$f.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function accessSetify(t,e){return{address:getAddress(t),storageKeys:(e||[]).map((n,a)=>(hexDataLength(n)!==32&&logger$f.throwArgumentError("invalid access list storageKey",`accessList[${t}:${a}]`,n),n.toLowerCase()))}}function accessListify(t){if(Array.isArray(t))return t.map((n,a)=>Array.isArray(n)?(n.length>2&&logger$f.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${a}]`,n),accessSetify(n[0],n[1])):accessSetify(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const a=t[n].reduce((u,o)=>(u[o]=!0,u),{});return accessSetify(n,Object.keys(a).sort())});return e.sort((n,a)=>n.address.localeCompare(a.address)),e}function formatAccessList(t){return accessListify(t).map(e=>[e.address,e.storageKeys])}function _serializeEip1559(t,e){if(t.gasPrice!=null){const a=BigNumber.from(t.gasPrice),u=BigNumber.from(t.maxFeePerGas||0);a.eq(u)||logger$f.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:a,maxFeePerGas:u})}const n=[formatNumber(t.chainId||0,"chainId"),formatNumber(t.nonce||0,"nonce"),formatNumber(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(t.maxFeePerGas||0,"maxFeePerGas"),formatNumber(t.gasLimit||0,"gasLimit"),t.to!=null?getAddress(t.to):"0x",formatNumber(t.value||0,"value"),t.data||"0x",formatAccessList(t.accessList||[])];if(e){const a=splitSignature(e);n.push(formatNumber(a.recoveryParam,"recoveryParam")),n.push(stripZeros(a.r)),n.push(stripZeros(a.s))}return hexConcat(["0x02",encode$n(n)])}function _serializeEip2930(t,e){const n=[formatNumber(t.chainId||0,"chainId"),formatNumber(t.nonce||0,"nonce"),formatNumber(t.gasPrice||0,"gasPrice"),formatNumber(t.gasLimit||0,"gasLimit"),t.to!=null?getAddress(t.to):"0x",formatNumber(t.value||0,"value"),t.data||"0x",formatAccessList(t.accessList||[])];if(e){const a=splitSignature(e);n.push(formatNumber(a.recoveryParam,"recoveryParam")),n.push(stripZeros(a.r)),n.push(stripZeros(a.s))}return hexConcat(["0x01",encode$n(n)])}function _serialize(t,e){checkProperties(t,allowedTransactionKeys$1);const n=[];transactionFields.forEach(function(p){let m=t[p.name]||[];const y={};p.numeric&&(y.hexPad="left"),m=arrayify(hexlify(m,y)),p.length&&m.length!==p.length&&m.length>0&&logger$f.throwArgumentError("invalid length for "+p.name,"transaction:"+p.name,m),p.maxLength&&(m=stripZeros(m),m.length>p.maxLength&&logger$f.throwArgumentError("invalid length for "+p.name,"transaction:"+p.name,m)),n.push(hexlify(m))});let a=0;if(t.chainId!=null?(a=t.chainId,typeof a!="number"&&logger$f.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!isBytesLike(e)&&e.v>28&&(a=Math.floor((e.v-35)/2)),a!==0&&(n.push(hexlify(a)),n.push("0x"),n.push("0x")),!e)return encode$n(n);const u=splitSignature(e);let o=27+u.recoveryParam;return a!==0?(n.pop(),n.pop(),n.pop(),o+=a*2+8,u.v>28&&u.v!==o&&logger$f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):u.v!==o&&logger$f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),n.push(hexlify(o)),n.push(stripZeros(arrayify(u.r))),n.push(stripZeros(arrayify(u.s))),encode$n(n)}function serialize$1(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&logger$f.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),_serialize(t,e);switch(t.type){case 1:return _serializeEip2930(t,e);case 2:return _serializeEip1559(t,e)}return logger$f.throwError(`unsupported transaction type: ${t.type}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function _parseEipSignature(t,e,n){try{const a=handleNumber(e[0]).toNumber();if(a!==0&&a!==1)throw new Error("bad recid");t.v=a}catch{logger$f.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=hexZeroPad(e[1],32),t.s=hexZeroPad(e[2],32);try{const a=keccak256(n(t));t.from=recoverAddress(a,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function _parseEip1559(t){const e=decode$m(t.slice(1));e.length!==9&&e.length!==12&&logger$f.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(t));const n=handleNumber(e[2]),a=handleNumber(e[3]),u={type:2,chainId:handleNumber(e[0]).toNumber(),nonce:handleNumber(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:a,gasPrice:null,gasLimit:handleNumber(e[4]),to:handleAddress(e[5]),value:handleNumber(e[6]),data:e[7],accessList:accessListify(e[8])};return e.length===9||(u.hash=keccak256(t),_parseEipSignature(u,e.slice(9),_serializeEip1559)),u}function _parseEip2930(t){const e=decode$m(t.slice(1));e.length!==8&&e.length!==11&&logger$f.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(t));const n={type:1,chainId:handleNumber(e[0]).toNumber(),nonce:handleNumber(e[1]).toNumber(),gasPrice:handleNumber(e[2]),gasLimit:handleNumber(e[3]),to:handleAddress(e[4]),value:handleNumber(e[5]),data:e[6],accessList:accessListify(e[7])};return e.length===8||(n.hash=keccak256(t),_parseEipSignature(n,e.slice(8),_serializeEip2930)),n}function _parse(t){const e=decode$m(t);e.length!==9&&e.length!==6&&logger$f.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:handleNumber(e[0]).toNumber(),gasPrice:handleNumber(e[1]),gasLimit:handleNumber(e[2]),to:handleAddress(e[3]),value:handleNumber(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=BigNumber.from(e[6]).toNumber()}catch{return n}if(n.r=hexZeroPad(e[7],32),n.s=hexZeroPad(e[8],32),BigNumber.from(n.r).isZero()&&BigNumber.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let a=n.v-27;const u=e.slice(0,6);n.chainId!==0&&(u.push(hexlify(n.chainId)),u.push("0x"),u.push("0x"),a-=n.chainId*2+8);const o=keccak256(encode$n(u));try{n.from=recoverAddress(o,{r:hexlify(n.r),s:hexlify(n.s),recoveryParam:a})}catch{}n.hash=keccak256(t)}return n.type=null,n}function parse$1(t){const e=arrayify(t);if(e[0]>127)return _parse(e);switch(e[0]){case 1:return _parseEip2930(e);case 2:return _parseEip1559(e)}return logger$f.throwError(`unsupported transaction type: ${e[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const version$e="contracts/5.7.0";var __awaiter$6=function(t,e,n,a){function u(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function m(_){try{w(a.next(_))}catch(M){p(M)}}function y(_){try{w(a.throw(_))}catch(M){p(M)}}function w(_){_.done?o(_.value):u(_.value).then(m,y)}w((a=a.apply(t,e||[])).next())})};const logger$e=new Logger(version$e);function resolveName(t,e){return __awaiter$6(this,void 0,void 0,function*(){const n=yield e;typeof n!="string"&&logger$e.throwArgumentError("invalid address or ENS name","name",n);try{return getAddress(n)}catch{}t||logger$e.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const a=yield t.resolveName(n);return a==null&&logger$e.throwArgumentError("resolver or addr is not configured for ENS name","name",n),a})}function resolveAddresses(t,e,n){return __awaiter$6(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((a,u)=>resolveAddresses(t,Array.isArray(e)?e[u]:e[a.name],a))):n.type==="address"?yield resolveName(t,e):n.type==="tuple"?yield resolveAddresses(t,e,n.components):n.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(a=>resolveAddresses(t,a,n.arrayChildren))):Promise.reject(logger$e.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function populateTransaction(t,e,n){return __awaiter$6(this,void 0,void 0,function*(){let a={};n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"&&(a=shallowCopy(n.pop())),logger$e.checkArgumentCount(n.length,e.inputs.length,"passed to contract"),t.signer?a.from?a.from=resolveProperties({override:resolveName(t.signer,a.from),signer:t.signer.getAddress()}).then(w=>__awaiter$6(this,void 0,void 0,function*(){return getAddress(w.signer)!==w.override&&logger$e.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),w.override})):a.from=t.signer.getAddress():a.from&&(a.from=resolveName(t.provider,a.from));const u=yield resolveProperties({args:resolveAddresses(t.signer||t.provider,n,e.inputs),address:t.resolvedAddress,overrides:resolveProperties(a)||{}}),o=t.interface.encodeFunctionData(e,u.args),p={data:o,to:u.address},m=u.overrides;if(m.nonce!=null&&(p.nonce=BigNumber.from(m.nonce).toNumber()),m.gasLimit!=null&&(p.gasLimit=BigNumber.from(m.gasLimit)),m.gasPrice!=null&&(p.gasPrice=BigNumber.from(m.gasPrice)),m.maxFeePerGas!=null&&(p.maxFeePerGas=BigNumber.from(m.maxFeePerGas)),m.maxPriorityFeePerGas!=null&&(p.maxPriorityFeePerGas=BigNumber.from(m.maxPriorityFeePerGas)),m.from!=null&&(p.from=m.from),m.type!=null&&(p.type=m.type),m.accessList!=null&&(p.accessList=accessListify(m.accessList)),p.gasLimit==null&&e.gas!=null){let w=21e3;const _=arrayify(o);for(let M=0;M<_.length;M++)w+=4,_[M]&&(w+=64);p.gasLimit=BigNumber.from(e.gas).add(w)}if(m.value){const w=BigNumber.from(m.value);!w.isZero()&&!e.payable&&logger$e.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:a.value}),p.value=w}m.customData&&(p.customData=shallowCopy(m.customData)),m.ccipReadEnabled&&(p.ccipReadEnabled=!!m.ccipReadEnabled),delete a.nonce,delete a.gasLimit,delete a.gasPrice,delete a.from,delete a.value,delete a.type,delete a.accessList,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas,delete a.customData,delete a.ccipReadEnabled;const y=Object.keys(a).filter(w=>a[w]!=null);return y.length&&logger$e.throwError(`cannot override ${y.map(w=>JSON.stringify(w)).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:y}),p})}function buildPopulate(t,e){return function(...n){return populateTransaction(t,e,n)}}function buildEstimate(t,e){const n=t.signer||t.provider;return function(...a){return __awaiter$6(this,void 0,void 0,function*(){n||logger$e.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const u=yield populateTransaction(t,e,a);return yield n.estimateGas(u)})}}function addContractWait(t,e){const n=e.wait.bind(e);e.wait=a=>n(a).then(u=>(u.events=u.logs.map(o=>{let p=deepCopy(o),m=null;try{m=t.interface.parseLog(o)}catch{}return m&&(p.args=m.args,p.decode=(y,w)=>t.interface.decodeEventLog(m.eventFragment,y,w),p.event=m.name,p.eventSignature=m.signature),p.removeListener=()=>t.provider,p.getBlock=()=>t.provider.getBlock(u.blockHash),p.getTransaction=()=>t.provider.getTransaction(u.transactionHash),p.getTransactionReceipt=()=>Promise.resolve(u),p}),u))}function buildCall(t,e,n){const a=t.signer||t.provider;return function(...u){return __awaiter$6(this,void 0,void 0,function*(){let o;if(u.length===e.inputs.length+1&&typeof u[u.length-1]=="object"){const y=shallowCopy(u.pop());y.blockTag!=null&&(o=yield y.blockTag),delete y.blockTag,u.push(y)}t.deployTransaction!=null&&(yield t._deployed(o));const p=yield populateTransaction(t,e,u),m=yield a.call(p,o);try{let y=t.interface.decodeFunctionResult(e,m);return n&&e.outputs.length===1&&(y=y[0]),y}catch(y){throw y.code===Logger.errors.CALL_EXCEPTION&&(y.address=t.address,y.args=u,y.transaction=p),y}})}}function buildSend(t,e){return function(...n){return __awaiter$6(this,void 0,void 0,function*(){t.signer||logger$e.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const a=yield populateTransaction(t,e,n),u=yield t.signer.sendTransaction(a);return addContractWait(t,u),u})}}function buildDefault(t,e,n){return e.constant?buildCall(t,e,n):buildSend(t,e)}function getEventTag$1(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class RunningEvent{constructor(e,n){defineReadOnly(this,"tag",e),defineReadOnly(this,"filter",n),this._listeners=[]}addListener(e,n){this._listeners.push({listener:e,once:n})}removeListener(e){let n=!1;this._listeners=this._listeners.filter(a=>n||a.listener!==e?!0:(n=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const n=this.listenerCount();return this._listeners=this._listeners.filter(a=>{const u=e.slice();return setTimeout(()=>{a.listener.apply(this,u)},0),!a.once}),n}prepareEvent(e){}getEmit(e){return[e]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(e,n,a,u){const o={address:e};let p=n.getEventTopic(a);u?(p!==u[0]&&logger$e.throwArgumentError("topic mismatch","topics",u),o.topics=u.slice()):o.topics=[p],super(getEventTag$1(o),o),defineReadOnly(this,"address",e),defineReadOnly(this,"interface",n),defineReadOnly(this,"fragment",a)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(n,a)=>this.interface.decodeEventLog(this.fragment,n,a);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}getEmit(e){const n=checkResultErrors(e.args);if(n.length)throw n[0].error;const a=(e.args||[]).slice();return a.push(e),a}}class WildcardRunningEvent extends RunningEvent{constructor(e,n){super("*",{address:e}),defineReadOnly(this,"address",e),defineReadOnly(this,"interface",n)}prepareEvent(e){super.prepareEvent(e);try{const n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=(a,u)=>this.interface.decodeEventLog(n.eventFragment,a,u),e.args=n.args}catch{}}}class BaseContract{constructor(e,n,a){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(n)),a==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(a)?(defineReadOnly(this,"provider",a.provider||null),defineReadOnly(this,"signer",a)):Provider.isProvider(a)?(defineReadOnly(this,"provider",a),defineReadOnly(this,"signer",null)):logger$e.throwArgumentError("invalid signer or provider","signerOrProvider",a),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const p={};Object.keys(this.interface.events).forEach(m=>{const y=this.interface.events[m];defineReadOnly(this.filters,m,(...w)=>({address:this.address,topics:this.interface.encodeFilterTopics(y,w)})),p[y.name]||(p[y.name]=[]),p[y.name].push(m)}),Object.keys(p).forEach(m=>{const y=p[m];y.length===1?defineReadOnly(this.filters,m,this.filters[y[0]]):logger$e.warn(`Duplicate definition of ${m} (${y.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),e==null&&logger$e.throwArgumentError("invalid contract address or ENS name","addressOrName",e),defineReadOnly(this,"address",e),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,e));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress(e)))}catch{logger$e.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(p=>{});const u={},o={};Object.keys(this.interface.functions).forEach(p=>{const m=this.interface.functions[p];if(o[p]){logger$e.warn(`Duplicate ABI entry for ${JSON.stringify(p)}`);return}o[p]=!0;{const y=m.name;u[`%${y}`]||(u[`%${y}`]=[]),u[`%${y}`].push(p)}this[p]==null&&defineReadOnly(this,p,buildDefault(this,m,!0)),this.functions[p]==null&&defineReadOnly(this.functions,p,buildDefault(this,m,!1)),this.callStatic[p]==null&&defineReadOnly(this.callStatic,p,buildCall(this,m,!0)),this.populateTransaction[p]==null&&defineReadOnly(this.populateTransaction,p,buildPopulate(this,m)),this.estimateGas[p]==null&&defineReadOnly(this.estimateGas,p,buildEstimate(this,m))}),Object.keys(u).forEach(p=>{const m=u[p];if(m.length>1)return;p=p.substring(1);const y=m[0];try{this[p]==null&&defineReadOnly(this,p,this[y])}catch{}this.functions[p]==null&&defineReadOnly(this.functions,p,this.functions[y]),this.callStatic[p]==null&&defineReadOnly(this.callStatic,p,this.callStatic[y]),this.populateTransaction[p]==null&&defineReadOnly(this.populateTransaction,p,this.populateTransaction[y]),this.estimateGas[p]==null&&defineReadOnly(this.estimateGas,p,this.estimateGas[y])})}static getContractAddress(e){return getContractAddress(e)}static getInterface(e){return Interface.isInterface(e)?e:new Interface(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(n=>(n==="0x"&&logger$e.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||logger$e.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const n=shallowCopy(e||{});return["from","to"].forEach(function(a){n[a]!=null&&logger$e.throwError("cannot override "+a,Logger.errors.UNSUPPORTED_OPERATION,{operation:a})}),n.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(n))}connect(e){typeof e=="string"&&(e=new VoidSigner(e,this.provider));const n=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&defineReadOnly(n,"deployTransaction",this.deployTransaction),n}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Indexed.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(e==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(e==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const n=this.interface.getEvent(e);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,n))}if(e.topics&&e.topics.length>0){try{const a=e.topics[0];if(typeof a!="string")throw new Error("invalid topic");const u=this.interface.getEvent(a);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,u,e.topics))}catch{}const n={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag$1(n),n))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const n=this._wrappedEmits[e.tag];n&&e.filter&&(this.provider.off(e.filter,n),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,n,a){const u=deepCopy(n);return u.removeListener=()=>{a&&(e.removeListener(a),this._checkRunningEvents(e))},u.getBlock=()=>this.provider.getBlock(n.blockHash),u.getTransaction=()=>this.provider.getTransaction(n.transactionHash),u.getTransactionReceipt=()=>this.provider.getTransactionReceipt(n.transactionHash),e.prepareEvent(u),u}_addEventListener(e,n,a){if(this.provider||logger$e.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(n,a),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const u=o=>{let p=this._wrapEvent(e,o,n);if(p.decodeError==null)try{const m=e.getEmit(p);this.emit(e.filter,...m)}catch(m){p.decodeError=m.error}e.filter!=null&&this.emit("event",p),p.decodeError!=null&&this.emit("error",p.decodeError,p)};this._wrappedEmits[e.tag]=u,e.filter!=null&&this.provider.on(e.filter,u)}}queryFilter(e,n,a){const u=this._getRunningEvent(e),o=shallowCopy(u.filter);return typeof n=="string"&&isHexString(n,32)?(a!=null&&logger$e.throwArgumentError("cannot specify toBlock with blockhash","toBlock",a),o.blockHash=n):(o.fromBlock=n??0,o.toBlock=a??"latest"),this.provider.getLogs(o).then(p=>p.map(m=>this._wrapEvent(u,m,null)))}on(e,n){return this._addEventListener(this._getRunningEvent(e),n,!1),this}once(e,n){return this._addEventListener(this._getRunningEvent(e),n,!0),this}emit(e,...n){if(!this.provider)return!1;const a=this._getRunningEvent(e),u=a.run(n)>0;return this._checkRunningEvents(a),u}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((n,a)=>n+this._runningEvents[a].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const n=[];for(let a in this._runningEvents)this._runningEvents[a].listeners().forEach(u=>{n.push(u)});return n}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const a in this._runningEvents){const u=this._runningEvents[a];u.removeAllListeners(),this._checkRunningEvents(u)}return this}const n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,n){if(!this.provider)return this;const a=this._getRunningEvent(e);return a.removeListener(n),this._checkRunningEvents(a),this}removeListener(e,n){return this.off(e,n)}}class Contract extends BaseContract{}class BaseX{constructor(e){defineReadOnly(this,"alphabet",e),defineReadOnly(this,"base",e.length),defineReadOnly(this,"_alphabetMap",{}),defineReadOnly(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=arrayify(e);if(n.length===0)return"";let a=[0];for(let o=0;o<n.length;++o){let p=n[o];for(let m=0;m<a.length;++m)p+=a[m]<<8,a[m]=p%this.base,p=p/this.base|0;for(;p>0;)a.push(p%this.base),p=p/this.base|0}let u="";for(let o=0;n[o]===0&&o<n.length-1;++o)u+=this._leader;for(let o=a.length-1;o>=0;--o)u+=this.alphabet[a[o]];return u}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let a=0;a<e.length;a++){let u=this._alphabetMap[e[a]];if(u===void 0)throw new Error("Non-base"+this.base+" character");let o=u;for(let p=0;p<n.length;++p)o+=n[p]*this.base,n[p]=o&255,o>>=8;for(;o>0;)n.push(o&255),o>>=8}for(let a=0;e[a]===this._leader&&a<e.length-1;++a)n.push(0);return arrayify(new Uint8Array(n.reverse()))}}new BaseX("abcdefghijklmnopqrstuvwxyz234567");const Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var SupportedAlgorithm;(function(t){t.sha256="sha256",t.sha512="sha512"})(SupportedAlgorithm||(SupportedAlgorithm={}));const version$d="sha2/5.7.0",logger$d=new Logger(version$d);function ripemd160$2(t){return"0x"+hash$2.ripemd160().update(arrayify(t)).digest("hex")}function sha256$4(t){return"0x"+hash$2.sha256().update(arrayify(t)).digest("hex")}function computeHmac(t,e,n){return SupportedAlgorithm[t]||logger$d.throwError("unsupported algorithm "+t,Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+hash$2.hmac(hash$2[t],arrayify(e)).update(arrayify(n)).digest("hex")}function pbkdf2$3(t,e,n,a,u){t=arrayify(t),e=arrayify(e);let o,p=1;const m=new Uint8Array(a),y=new Uint8Array(e.length+4);y.set(e);let w,_;for(let M=1;M<=p;M++){y[e.length]=M>>24&255,y[e.length+1]=M>>16&255,y[e.length+2]=M>>8&255,y[e.length+3]=M&255;let T=arrayify(computeHmac(u,t,y));o||(o=T.length,_=new Uint8Array(o),p=Math.ceil(a/o),w=a-(p-1)*o),_.set(T);for(let C=1;C<n;C++){T=arrayify(computeHmac(u,t,T));for(let L=0;L<o;L++)_[L]^=T[L]}const B=(M-1)*o,P=M===p?w:o;m.set(arrayify(_).slice(0,P),B)}return hexlify(m)}const version$c="wordlists/5.7.0",logger$c=new Logger(version$c);class Wordlist{constructor(e){logger$c.checkAbstract(new.target,Wordlist),defineReadOnly(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const n=[];for(let a=0;a<2048;a++){const u=e.getWord(a);if(a!==e.getWordIndex(u))return"0x";n.push(u)}return id(n.join(`
`)+`
`)}static register(e,n){n||(n=e.locale)}}const words="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist=null;function loadWords(t){if(wordlist==null&&(wordlist=words.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Wordlist.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw wordlist=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn extends Wordlist{constructor(){super("en")}getWord(e){return loadWords(this),wordlist[e]}getWordIndex(e){return loadWords(this),wordlist.indexOf(e)}}const langEn=new LangEn;Wordlist.register(langEn);const wordlists$1={en:langEn},version$b="hdnode/5.7.0",logger$b=new Logger(version$b),N=BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=toUtf8Bytes("Bitcoin seed"),HardenedBit=2147483648;function getUpperMask(t){return(1<<t)-1<<8-t}function getLowerMask(t){return(1<<t)-1}function bytes32(t){return hexZeroPad(hexlify(t),32)}function base58check(t){return Base58.encode(concat([t,hexDataSlice(sha256$4(sha256$4(t)),0,4)]))}function getWordlist(t){if(t==null)return wordlists$1.en;if(typeof t=="string"){const e=wordlists$1[t];return e==null&&logger$b.throwArgumentError("unknown locale","wordlist",t),e}return t}const _constructorGuard$1={},defaultPath="m/44'/60'/0'/0/0";class HDNode{constructor(e,n,a,u,o,p,m,y){if(e!==_constructorGuard$1)throw new Error("HDNode constructor cannot be called directly");if(n){const w=new SigningKey(n);defineReadOnly(this,"privateKey",w.privateKey),defineReadOnly(this,"publicKey",w.compressedPublicKey)}else defineReadOnly(this,"privateKey",null),defineReadOnly(this,"publicKey",hexlify(a));defineReadOnly(this,"parentFingerprint",u),defineReadOnly(this,"fingerprint",hexDataSlice(ripemd160$2(sha256$4(this.publicKey)),0,4)),defineReadOnly(this,"address",computeAddress(this.publicKey)),defineReadOnly(this,"chainCode",o),defineReadOnly(this,"index",p),defineReadOnly(this,"depth",m),y==null?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",null)):typeof y=="string"?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",y)):(defineReadOnly(this,"mnemonic",y),defineReadOnly(this,"path",y.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check(concat([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",hexlify(this.depth),this.parentFingerprint,hexZeroPad(hexlify(this.index),4),this.chainCode,this.privateKey!=null?concat(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(_constructorGuard$1,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let n=this.path;n&&(n+="/"+(e&~HardenedBit));const a=new Uint8Array(37);if(e&HardenedBit){if(!this.privateKey)throw new Error("cannot derive child of neutered node");a.set(arrayify(this.privateKey),1),n&&(n+="'")}else a.set(arrayify(this.publicKey));for(let M=24;M>=0;M-=8)a[33+(M>>3)]=e>>24-M&255;const u=arrayify(computeHmac(SupportedAlgorithm.sha512,this.chainCode,a)),o=u.slice(0,32),p=u.slice(32);let m=null,y=null;this.privateKey?m=bytes32(BigNumber.from(o).add(this.privateKey).mod(N)):y=new SigningKey(hexlify(o))._addPoint(this.publicKey);let w=n;const _=this.mnemonic;return _&&(w=Object.freeze({phrase:_.phrase,path:n,locale:_.locale||"en"})),new HDNode(_constructorGuard$1,m,y,this.fingerprint,bytes32(p),e,this.depth+1,w)}derivePath(e){const n=e.split("/");if(n.length===0||n[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);n[0]==="m"&&n.shift();let a=this;for(let u=0;u<n.length;u++){const o=n[u];if(o.match(/^[0-9]+'$/)){const p=parseInt(o.substring(0,o.length-1));if(p>=HardenedBit)throw new Error("invalid path index - "+o);a=a._derive(HardenedBit+p)}else if(o.match(/^[0-9]+$/)){const p=parseInt(o);if(p>=HardenedBit)throw new Error("invalid path index - "+o);a=a._derive(p)}else throw new Error("invalid path component - "+o)}return a}static _fromSeed(e,n){const a=arrayify(e);if(a.length<16||a.length>64)throw new Error("invalid seed");const u=arrayify(computeHmac(SupportedAlgorithm.sha512,MasterSecret,a));return new HDNode(_constructorGuard$1,bytes32(u.slice(0,32)),null,"0x00000000",bytes32(u.slice(32)),0,0,n)}static fromMnemonic(e,n,a){return a=getWordlist(a),e=entropyToMnemonic$1(mnemonicToEntropy$1(e,a),a),HDNode._fromSeed(mnemonicToSeed$1(e,n),{phrase:e,path:"m",locale:a.locale})}static fromSeed(e){return HDNode._fromSeed(e,null)}static fromExtendedKey(e){const n=Base58.decode(e);(n.length!==82||base58check(n.slice(0,78))!==e)&&logger$b.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const a=n[4],u=hexlify(n.slice(5,9)),o=parseInt(hexlify(n.slice(9,13)).substring(2),16),p=hexlify(n.slice(13,45)),m=n.slice(45,78);switch(hexlify(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(_constructorGuard$1,null,hexlify(m),u,p,o,a,null);case"0x0488ade4":case"0x04358394 ":if(m[0]!==0)break;return new HDNode(_constructorGuard$1,hexlify(m.slice(1)),null,u,p,o,a,null)}return logger$b.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed$1(t,e){e||(e="");const n=toUtf8Bytes("mnemonic"+e,UnicodeNormalizationForm.NFKD);return pbkdf2$3(toUtf8Bytes(t,UnicodeNormalizationForm.NFKD),n,2048,64,"sha512")}function mnemonicToEntropy$1(t,e){e=getWordlist(e),logger$b.checkNormalize();const n=e.split(t);if(n.length%3!==0)throw new Error("invalid mnemonic");const a=arrayify(new Uint8Array(Math.ceil(11*n.length/8)));let u=0;for(let w=0;w<n.length;w++){let _=e.getWordIndex(n[w].normalize("NFKD"));if(_===-1)throw new Error("invalid mnemonic");for(let M=0;M<11;M++)_&1<<10-M&&(a[u>>3]|=1<<7-u%8),u++}const o=32*n.length/3,p=n.length/3,m=getUpperMask(p);if((arrayify(sha256$4(a.slice(0,o/8)))[0]&m)!==(a[a.length-1]&m))throw new Error("invalid checksum");return hexlify(a.slice(0,o/8))}function entropyToMnemonic$1(t,e){if(e=getWordlist(e),t=arrayify(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const n=[0];let a=11;for(let p=0;p<t.length;p++)a>8?(n[n.length-1]<<=8,n[n.length-1]|=t[p],a-=8):(n[n.length-1]<<=a,n[n.length-1]|=t[p]>>8-a,n.push(t[p]&getLowerMask(8-a)),a+=3);const u=t.length/4,o=arrayify(sha256$4(t))[0]&getUpperMask(u);return n[n.length-1]<<=u,n[n.length-1]|=o>>8-u,e.join(n.map(p=>e.getWord(p)))}const version$a="random/5.7.0",logger$a=new Logger(version$a);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global$1<"u")return global$1;throw new Error("unable to locate global object")}const anyGlobal=getGlobal();let crypto$5=anyGlobal.crypto||anyGlobal.msCrypto;(!crypto$5||!crypto$5.getRandomValues)&&(logger$a.warn("WARNING: Missing strong random number source"),crypto$5={getRandomValues:function(t){return logger$a.throwError("no secure random source avaialble",Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function randomBytes(t){(t<=0||t>1024||t%1||t!=t)&&logger$a.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return crypto$5.getRandomValues(e),arrayify(e)}var aesJs={exports:{}};(function(t,e){(function(n){function a(E){return parseInt(E)===E}function u(E){if(!a(E.length))return!1;for(var O=0;O<E.length;O++)if(!a(E[O])||E[O]<0||E[O]>255)return!1;return!0}function o(E,O){if(E.buffer&&ArrayBuffer.isView(E)&&E.name==="Uint8Array")return O&&(E.slice?E=E.slice():E=Array.prototype.slice.call(E)),E;if(Array.isArray(E)){if(!u(E))throw new Error("Array contains invalid value: "+E);return new Uint8Array(E)}if(a(E.length)&&u(E))return new Uint8Array(E);throw new Error("unsupported array-like object")}function p(E){return new Uint8Array(E)}function m(E,O,D,Y,F){(Y!=null||F!=null)&&(E.slice?E=E.slice(Y,F):E=Array.prototype.slice.call(E,Y,F)),O.set(E,D)}var y=function(){function E(D){var Y=[],F=0;for(D=encodeURI(D);F<D.length;){var V=D.charCodeAt(F++);V===37?(Y.push(parseInt(D.substr(F,2),16)),F+=2):Y.push(V)}return o(Y)}function O(D){for(var Y=[],F=0;F<D.length;){var V=D[F];V<128?(Y.push(String.fromCharCode(V)),F++):V>191&&V<224?(Y.push(String.fromCharCode((V&31)<<6|D[F+1]&63)),F+=2):(Y.push(String.fromCharCode((V&15)<<12|(D[F+1]&63)<<6|D[F+2]&63)),F+=3)}return Y.join("")}return{toBytes:E,fromBytes:O}}(),w=function(){function E(Y){for(var F=[],V=0;V<Y.length;V+=2)F.push(parseInt(Y.substr(V,2),16));return F}var O="0123456789abcdef";function D(Y){for(var F=[],V=0;V<Y.length;V++){var H=Y[V];F.push(O[(H&240)>>4]+O[H&15])}return F.join("")}return{toBytes:E,fromBytes:D}}(),_={16:10,24:12,32:14},M=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],T=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],B=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],P=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],C=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],L=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],U=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],q=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],G=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],X=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],te=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],ne=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],ge=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],pe=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],se=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Se(E){for(var O=[],D=0;D<E.length;D+=4)O.push(E[D]<<24|E[D+1]<<16|E[D+2]<<8|E[D+3]);return O}var k=function(E){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(E,!0)}),this._prepare()};k.prototype._prepare=function(){var E=_[this.key.length];if(E==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var O=0;O<=E;O++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var D=(E+1)*4,Y=this.key.length/4,F=Se(this.key),V,O=0;O<Y;O++)V=O>>2,this._Ke[V][O%4]=F[O],this._Kd[E-V][O%4]=F[O];for(var H=0,ee=Y,ie;ee<D;){if(ie=F[Y-1],F[0]^=T[ie>>16&255]<<24^T[ie>>8&255]<<16^T[ie&255]<<8^T[ie>>24&255]^M[H]<<24,H+=1,Y!=8)for(var O=1;O<Y;O++)F[O]^=F[O-1];else{for(var O=1;O<Y/2;O++)F[O]^=F[O-1];ie=F[Y/2-1],F[Y/2]^=T[ie&255]^T[ie>>8&255]<<8^T[ie>>16&255]<<16^T[ie>>24&255]<<24;for(var O=Y/2+1;O<Y;O++)F[O]^=F[O-1]}for(var O=0,de,Z;O<Y&&ee<D;)de=ee>>2,Z=ee%4,this._Ke[de][Z]=F[O],this._Kd[E-de][Z]=F[O++],ee++}for(var de=1;de<E;de++)for(var Z=0;Z<4;Z++)ie=this._Kd[de][Z],this._Kd[de][Z]=ne[ie>>24&255]^ge[ie>>16&255]^pe[ie>>8&255]^se[ie&255]},k.prototype.encrypt=function(E){if(E.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var O=this._Ke.length-1,D=[0,0,0,0],Y=Se(E),F=0;F<4;F++)Y[F]^=this._Ke[0][F];for(var V=1;V<O;V++){for(var F=0;F<4;F++)D[F]=P[Y[F]>>24&255]^C[Y[(F+1)%4]>>16&255]^L[Y[(F+2)%4]>>8&255]^U[Y[(F+3)%4]&255]^this._Ke[V][F];Y=D.slice()}for(var H=p(16),ee,F=0;F<4;F++)ee=this._Ke[O][F],H[4*F]=(T[Y[F]>>24&255]^ee>>24)&255,H[4*F+1]=(T[Y[(F+1)%4]>>16&255]^ee>>16)&255,H[4*F+2]=(T[Y[(F+2)%4]>>8&255]^ee>>8)&255,H[4*F+3]=(T[Y[(F+3)%4]&255]^ee)&255;return H},k.prototype.decrypt=function(E){if(E.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var O=this._Kd.length-1,D=[0,0,0,0],Y=Se(E),F=0;F<4;F++)Y[F]^=this._Kd[0][F];for(var V=1;V<O;V++){for(var F=0;F<4;F++)D[F]=q[Y[F]>>24&255]^G[Y[(F+3)%4]>>16&255]^X[Y[(F+2)%4]>>8&255]^te[Y[(F+1)%4]&255]^this._Kd[V][F];Y=D.slice()}for(var H=p(16),ee,F=0;F<4;F++)ee=this._Kd[O][F],H[4*F]=(B[Y[F]>>24&255]^ee>>24)&255,H[4*F+1]=(B[Y[(F+3)%4]>>16&255]^ee>>16)&255,H[4*F+2]=(B[Y[(F+2)%4]>>8&255]^ee>>8)&255,H[4*F+3]=(B[Y[(F+1)%4]&255]^ee)&255;return H};var c=function(E){if(!(this instanceof c))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new k(E)};c.prototype.encrypt=function(E){if(E=o(E),E.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var O=p(E.length),D=p(16),Y=0;Y<E.length;Y+=16)m(E,D,0,Y,Y+16),D=this._aes.encrypt(D),m(D,O,Y);return O},c.prototype.decrypt=function(E){if(E=o(E),E.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var O=p(E.length),D=p(16),Y=0;Y<E.length;Y+=16)m(E,D,0,Y,Y+16),D=this._aes.decrypt(D),m(D,O,Y);return O};var d=function(E,O){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!O)O=p(16);else if(O.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=o(O,!0),this._aes=new k(E)};d.prototype.encrypt=function(E){if(E=o(E),E.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var O=p(E.length),D=p(16),Y=0;Y<E.length;Y+=16){m(E,D,0,Y,Y+16);for(var F=0;F<16;F++)D[F]^=this._lastCipherblock[F];this._lastCipherblock=this._aes.encrypt(D),m(this._lastCipherblock,O,Y)}return O},d.prototype.decrypt=function(E){if(E=o(E),E.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var O=p(E.length),D=p(16),Y=0;Y<E.length;Y+=16){m(E,D,0,Y,Y+16),D=this._aes.decrypt(D);for(var F=0;F<16;F++)O[Y+F]=D[F]^this._lastCipherblock[F];m(E,this._lastCipherblock,0,Y,Y+16)}return O};var b=function(E,O,D){if(!(this instanceof b))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!O)O=p(16);else if(O.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");D||(D=1),this.segmentSize=D,this._shiftRegister=o(O,!0),this._aes=new k(E)};b.prototype.encrypt=function(E){if(E.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var O=o(E,!0),D,Y=0;Y<O.length;Y+=this.segmentSize){D=this._aes.encrypt(this._shiftRegister);for(var F=0;F<this.segmentSize;F++)O[Y+F]^=D[F];m(this._shiftRegister,this._shiftRegister,0,this.segmentSize),m(O,this._shiftRegister,16-this.segmentSize,Y,Y+this.segmentSize)}return O},b.prototype.decrypt=function(E){if(E.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var O=o(E,!0),D,Y=0;Y<O.length;Y+=this.segmentSize){D=this._aes.encrypt(this._shiftRegister);for(var F=0;F<this.segmentSize;F++)O[Y+F]^=D[F];m(this._shiftRegister,this._shiftRegister,0,this.segmentSize),m(E,this._shiftRegister,16-this.segmentSize,Y,Y+this.segmentSize)}return O};var v=function(E,O){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!O)O=p(16);else if(O.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=o(O,!0),this._lastPrecipherIndex=16,this._aes=new k(E)};v.prototype.encrypt=function(E){for(var O=o(E,!0),D=0;D<O.length;D++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),O[D]^=this._lastPrecipher[this._lastPrecipherIndex++];return O},v.prototype.decrypt=v.prototype.encrypt;var A=function(E){if(!(this instanceof A))throw Error("Counter must be instanitated with `new`");E!==0&&!E&&(E=1),typeof E=="number"?(this._counter=p(16),this.setValue(E)):this.setBytes(E)};A.prototype.setValue=function(E){if(typeof E!="number"||parseInt(E)!=E)throw new Error("invalid counter value (must be an integer)");for(var O=15;O>=0;--O)this._counter[O]=E%256,E=E>>8},A.prototype.setBytes=function(E){if(E=o(E,!0),E.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=E},A.prototype.increment=function(){for(var E=15;E>=0;E--)if(this._counter[E]===255)this._counter[E]=0;else{this._counter[E]++;break}};var $=function(E,O){if(!(this instanceof $))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",O instanceof A||(O=new A(O)),this._counter=O,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new k(E)};$.prototype.encrypt=function(E){for(var O=o(E,!0),D=0;D<O.length;D++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),O[D]^=this._remainingCounter[this._remainingCounterIndex++];return O},$.prototype.decrypt=$.prototype.encrypt;function I(E){E=o(E,!0);var O=16-E.length%16,D=p(E.length+O);m(E,D);for(var Y=E.length;Y<D.length;Y++)D[Y]=O;return D}function S(E){if(E=o(E,!0),E.length<16)throw new Error("PKCS#7 invalid length");var O=E[E.length-1];if(O>16)throw new Error("PKCS#7 padding byte out of range");for(var D=E.length-O,Y=0;Y<O;Y++)if(E[D+Y]!==O)throw new Error("PKCS#7 invalid padding byte");var F=p(D);return m(E,F,0,0,D),F}var l={AES:k,Counter:A,ModeOfOperation:{ecb:c,cbc:d,cfb:b,ofb:v,ctr:$},utils:{hex:w,utf8:y},padding:{pkcs7:{pad:I,strip:S}},_arrayTest:{coerceArray:o,createArray:p,copyArray:m}};t.exports=l})()})(aesJs);var aesJsExports=aesJs.exports;const aes$1=getDefaultExportFromCjs$1(aesJsExports),version$9="json-wallets/5.7.0";function looseArrayify(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),arrayify(t)}function zpad(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function getPassword(t){return typeof t=="string"?toUtf8Bytes(t,UnicodeNormalizationForm.NFKC):arrayify(t)}function searchPath(t,e){let n=t;const a=e.toLowerCase().split("/");for(let u=0;u<a.length;u++){let o=null;for(const p in n)if(p.toLowerCase()===a[u]){o=n[p];break}if(o===null)return null;n=o}return n}function uuidV4(t){const e=arrayify(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const n=hexlify(e);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}const logger$9=new Logger(version$9);class CrowdsaleAccount extends Description{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function decrypt$1(t,e){const n=JSON.parse(t);e=getPassword(e);const a=getAddress(searchPath(n,"ethaddr")),u=looseArrayify(searchPath(n,"encseed"));(!u||u.length%16!==0)&&logger$9.throwArgumentError("invalid encseed","json",t);const o=arrayify(pbkdf2$3(e,e,2e3,32,"sha256")).slice(0,16),p=u.slice(0,16),m=u.slice(16),y=new aes$1.ModeOfOperation.cbc(o,p),w=aes$1.padding.pkcs7.strip(arrayify(y.decrypt(m)));let _="";for(let B=0;B<w.length;B++)_+=String.fromCharCode(w[B]);const M=toUtf8Bytes(_),T=keccak256(M);return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:a,privateKey:T})}function isCrowdsaleWallet(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function isKeystoreWallet(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var scrypt$1={exports:{}};(function(t,e){(function(n){function u(C){const L=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let U=1779033703,q=3144134277,G=1013904242,X=2773480762,te=1359893119,ne=2600822924,ge=528734635,pe=1541459225;const se=new Uint32Array(64);function Se($){let I=0,S=$.length;for(;S>=64;){let l=U,E=q,O=G,D=X,Y=te,F=ne,V=ge,H=pe,ee,ie,de,Z,j;for(ie=0;ie<16;ie++)de=I+ie*4,se[ie]=($[de]&255)<<24|($[de+1]&255)<<16|($[de+2]&255)<<8|$[de+3]&255;for(ie=16;ie<64;ie++)ee=se[ie-2],Z=(ee>>>17|ee<<15)^(ee>>>19|ee<<13)^ee>>>10,ee=se[ie-15],j=(ee>>>7|ee<<25)^(ee>>>18|ee<<14)^ee>>>3,se[ie]=(Z+se[ie-7]|0)+(j+se[ie-16]|0)|0;for(ie=0;ie<64;ie++)Z=(((Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7))+(Y&F^~Y&V)|0)+(H+(L[ie]+se[ie]|0)|0)|0,j=((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+(l&E^l&O^E&O)|0,H=V,V=F,F=Y,Y=D+Z|0,D=O,O=E,E=l,l=Z+j|0;U=U+l|0,q=q+E|0,G=G+O|0,X=X+D|0,te=te+Y|0,ne=ne+F|0,ge=ge+V|0,pe=pe+H|0,I+=64,S-=64}}Se(C);let k,c=C.length%64,d=C.length/536870912|0,b=C.length<<3,v=c<56?56:120,A=C.slice(C.length-c,C.length);for(A.push(128),k=c+1;k<v;k++)A.push(0);return A.push(d>>>24&255),A.push(d>>>16&255),A.push(d>>>8&255),A.push(d>>>0&255),A.push(b>>>24&255),A.push(b>>>16&255),A.push(b>>>8&255),A.push(b>>>0&255),Se(A),[U>>>24&255,U>>>16&255,U>>>8&255,U>>>0&255,q>>>24&255,q>>>16&255,q>>>8&255,q>>>0&255,G>>>24&255,G>>>16&255,G>>>8&255,G>>>0&255,X>>>24&255,X>>>16&255,X>>>8&255,X>>>0&255,te>>>24&255,te>>>16&255,te>>>8&255,te>>>0&255,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne>>>0&255,ge>>>24&255,ge>>>16&255,ge>>>8&255,ge>>>0&255,pe>>>24&255,pe>>>16&255,pe>>>8&255,pe>>>0&255]}function o(C,L,U){C=C.length<=64?C:u(C);const q=64+L.length+4,G=new Array(q),X=new Array(64);let te,ne=[];for(te=0;te<64;te++)G[te]=54;for(te=0;te<C.length;te++)G[te]^=C[te];for(te=0;te<L.length;te++)G[64+te]=L[te];for(te=q-4;te<q;te++)G[te]=0;for(te=0;te<64;te++)X[te]=92;for(te=0;te<C.length;te++)X[te]^=C[te];function ge(){for(let pe=q-1;pe>=q-4;pe--){if(G[pe]++,G[pe]<=255)return;G[pe]=0}}for(;U>=32;)ge(),ne=ne.concat(u(X.concat(u(G)))),U-=32;return U>0&&(ge(),ne=ne.concat(u(X.concat(u(G))).slice(0,U))),ne}function p(C,L,U,q,G){let X;for(_(C,(2*U-1)*16,G,0,16),X=0;X<2*U;X++)w(C,X*16,G,16),y(G,q),_(G,0,C,L+X*16,16);for(X=0;X<U;X++)_(C,L+X*2*16,C,X*16,16);for(X=0;X<U;X++)_(C,L+(X*2+1)*16,C,(X+U)*16,16)}function m(C,L){return C<<L|C>>>32-L}function y(C,L){_(C,0,L,0,16);for(let U=8;U>0;U-=2)L[4]^=m(L[0]+L[12],7),L[8]^=m(L[4]+L[0],9),L[12]^=m(L[8]+L[4],13),L[0]^=m(L[12]+L[8],18),L[9]^=m(L[5]+L[1],7),L[13]^=m(L[9]+L[5],9),L[1]^=m(L[13]+L[9],13),L[5]^=m(L[1]+L[13],18),L[14]^=m(L[10]+L[6],7),L[2]^=m(L[14]+L[10],9),L[6]^=m(L[2]+L[14],13),L[10]^=m(L[6]+L[2],18),L[3]^=m(L[15]+L[11],7),L[7]^=m(L[3]+L[15],9),L[11]^=m(L[7]+L[3],13),L[15]^=m(L[11]+L[7],18),L[1]^=m(L[0]+L[3],7),L[2]^=m(L[1]+L[0],9),L[3]^=m(L[2]+L[1],13),L[0]^=m(L[3]+L[2],18),L[6]^=m(L[5]+L[4],7),L[7]^=m(L[6]+L[5],9),L[4]^=m(L[7]+L[6],13),L[5]^=m(L[4]+L[7],18),L[11]^=m(L[10]+L[9],7),L[8]^=m(L[11]+L[10],9),L[9]^=m(L[8]+L[11],13),L[10]^=m(L[9]+L[8],18),L[12]^=m(L[15]+L[14],7),L[13]^=m(L[12]+L[15],9),L[14]^=m(L[13]+L[12],13),L[15]^=m(L[14]+L[13],18);for(let U=0;U<16;++U)C[U]+=L[U]}function w(C,L,U,q){for(let G=0;G<q;G++)U[G]^=C[L+G]}function _(C,L,U,q,G){for(;G--;)U[q++]=C[L++]}function M(C){if(!C||typeof C.length!="number")return!1;for(let L=0;L<C.length;L++){const U=C[L];if(typeof U!="number"||U%1||U<0||U>=256)return!1}return!0}function T(C,L){if(typeof C!="number"||C%1)throw new Error("invalid "+L);return C}function B(C,L,U,q,G,X,te){if(U=T(U,"N"),q=T(q,"r"),G=T(G,"p"),X=T(X,"dkLen"),U===0||U&U-1)throw new Error("N must be power of 2");if(U>2147483647/128/q)throw new Error("N too large");if(q>2147483647/128/G)throw new Error("r too large");if(!M(C))throw new Error("password must be an array or buffer");if(C=Array.prototype.slice.call(C),!M(L))throw new Error("salt must be an array or buffer");L=Array.prototype.slice.call(L);let ne=o(C,L,G*128*q);const ge=new Uint32Array(G*32*q);for(let Y=0;Y<ge.length;Y++){const F=Y*4;ge[Y]=(ne[F+3]&255)<<24|(ne[F+2]&255)<<16|(ne[F+1]&255)<<8|(ne[F+0]&255)<<0}const pe=new Uint32Array(64*q),se=new Uint32Array(32*q*U),Se=32*q,k=new Uint32Array(16),c=new Uint32Array(16),d=G*U*2;let b=0,v=null,A=!1,$=0,I=0,S,l;const E=te?parseInt(1e3/q):4294967295,O=typeof setImmediate<"u"?setImmediate:setTimeout,D=function(){if(A)return te(new Error("cancelled"),b/d);let Y;switch($){case 0:l=I*32*q,_(ge,l,pe,0,Se),$=1,S=0;case 1:Y=U-S,Y>E&&(Y=E);for(let V=0;V<Y;V++)_(pe,0,se,(S+V)*Se,Se),p(pe,Se,q,k,c);if(S+=Y,b+=Y,te){const V=parseInt(1e3*b/d);if(V!==v){if(A=te(null,b/d),A)break;v=V}}if(S<U)break;S=0,$=2;case 2:Y=U-S,Y>E&&(Y=E);for(let V=0;V<Y;V++){const H=(2*q-1)*16,ee=pe[H]&U-1;w(se,ee*Se,pe,Se),p(pe,Se,q,k,c)}if(S+=Y,b+=Y,te){const V=parseInt(1e3*b/d);if(V!==v){if(A=te(null,b/d),A)break;v=V}}if(S<U)break;if(_(pe,0,ge,l,Se),I++,I<G){$=0;break}ne=[];for(let V=0;V<ge.length;V++)ne.push(ge[V]>>0&255),ne.push(ge[V]>>8&255),ne.push(ge[V]>>16&255),ne.push(ge[V]>>24&255);const F=o(C,ne,X);return te&&te(null,1,F),F}te&&O(D)};if(!te)for(;;){const Y=D();if(Y!=null)return Y}D()}const P={scrypt:function(C,L,U,q,G,X,te){return new Promise(function(ne,ge){let pe=0;te&&te(0),B(C,L,U,q,G,X,function(se,Se,k){if(se)ge(se);else if(k)te&&pe!==1&&te(1),ne(new Uint8Array(k));else if(te&&Se!==pe)return pe=Se,te(Se)})})},syncScrypt:function(C,L,U,q,G,X){return new Uint8Array(B(C,L,U,q,G,X))}};t.exports=P})()})(scrypt$1);var scryptExports=scrypt$1.exports;const scrypt=getDefaultExportFromCjs$1(scryptExports);var __awaiter$5=function(t,e,n,a){function u(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function m(_){try{w(a.next(_))}catch(M){p(M)}}function y(_){try{w(a.throw(_))}catch(M){p(M)}}function w(_){_.done?o(_.value):u(_.value).then(m,y)}w((a=a.apply(t,e||[])).next())})};const logger$8=new Logger(version$9);function hasMnemonic$1(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class KeystoreAccount extends Description{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function _decrypt(t,e,n){if(searchPath(t,"crypto/cipher")==="aes-128-ctr"){const u=looseArrayify(searchPath(t,"crypto/cipherparams/iv")),o=new aes$1.Counter(u),p=new aes$1.ModeOfOperation.ctr(e,o);return arrayify(p.decrypt(n))}return null}function _getAccount(t,e){const n=looseArrayify(searchPath(t,"crypto/ciphertext"));if(hexlify(keccak256(concat([e.slice(16,32),n]))).substring(2)!==searchPath(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const u=_decrypt(t,e.slice(0,16),n);u||logger$8.throwError("unsupported cipher",Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const o=e.slice(32,64),p=computeAddress(u);if(t.address){let y=t.address.toLowerCase();if(y.substring(0,2)!=="0x"&&(y="0x"+y),getAddress(y)!==p)throw new Error("address mismatch")}const m={_isKeystoreAccount:!0,address:p,privateKey:hexlify(u)};if(searchPath(t,"x-ethers/version")==="0.1"){const y=looseArrayify(searchPath(t,"x-ethers/mnemonicCiphertext")),w=looseArrayify(searchPath(t,"x-ethers/mnemonicCounter")),_=new aes$1.Counter(w),M=new aes$1.ModeOfOperation.ctr(o,_),T=searchPath(t,"x-ethers/path")||defaultPath,B=searchPath(t,"x-ethers/locale")||"en",P=arrayify(M.decrypt(y));try{const C=entropyToMnemonic$1(P,B),L=HDNode.fromMnemonic(C,null,B).derivePath(T);if(L.privateKey!=m.privateKey)throw new Error("mnemonic mismatch");m.mnemonic=L.mnemonic}catch(C){if(C.code!==Logger.errors.INVALID_ARGUMENT||C.argument!=="wordlist")throw C}}return new KeystoreAccount(m)}function pbkdf2Sync(t,e,n,a,u){return arrayify(pbkdf2$3(t,e,n,a,u))}function pbkdf2$2(t,e,n,a,u){return Promise.resolve(pbkdf2Sync(t,e,n,a,u))}function _computeKdfKey(t,e,n,a,u){const o=getPassword(e),p=searchPath(t,"crypto/kdf");if(p&&typeof p=="string"){const m=function(y,w){return logger$8.throwArgumentError("invalid key-derivation function parameters",y,w)};if(p.toLowerCase()==="scrypt"){const y=looseArrayify(searchPath(t,"crypto/kdfparams/salt")),w=parseInt(searchPath(t,"crypto/kdfparams/n")),_=parseInt(searchPath(t,"crypto/kdfparams/r")),M=parseInt(searchPath(t,"crypto/kdfparams/p"));(!w||!_||!M)&&m("kdf",p),w&w-1&&m("N",w);const T=parseInt(searchPath(t,"crypto/kdfparams/dklen"));return T!==32&&m("dklen",T),a(o,y,w,_,M,64,u)}else if(p.toLowerCase()==="pbkdf2"){const y=looseArrayify(searchPath(t,"crypto/kdfparams/salt"));let w=null;const _=searchPath(t,"crypto/kdfparams/prf");_==="hmac-sha256"?w="sha256":_==="hmac-sha512"?w="sha512":m("prf",_);const M=parseInt(searchPath(t,"crypto/kdfparams/c")),T=parseInt(searchPath(t,"crypto/kdfparams/dklen"));return T!==32&&m("dklen",T),n(o,y,M,T,w)}}return logger$8.throwArgumentError("unsupported key-derivation function","kdf",p)}function decryptSync(t,e){const n=JSON.parse(t),a=_computeKdfKey(n,e,pbkdf2Sync,scrypt.syncScrypt);return _getAccount(n,a)}function decrypt(t,e,n){return __awaiter$5(this,void 0,void 0,function*(){const a=JSON.parse(t),u=yield _computeKdfKey(a,e,pbkdf2$2,scrypt.scrypt,n);return _getAccount(a,u)})}function encrypt(t,e,n,a){try{if(getAddress(t.address)!==computeAddress(t.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$1(t)){const L=t.mnemonic;if(HDNode.fromMnemonic(L.phrase,null,L.locale).derivePath(L.path||defaultPath).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(L){return Promise.reject(L)}typeof n=="function"&&!a&&(a=n,n={}),n||(n={});const u=arrayify(t.privateKey),o=getPassword(e);let p=null,m=null,y=null;if(hasMnemonic$1(t)){const L=t.mnemonic;p=arrayify(mnemonicToEntropy$1(L.phrase,L.locale||"en")),m=L.path||defaultPath,y=L.locale||"en"}let w=n.client;w||(w="ethers.js");let _=null;n.salt?_=arrayify(n.salt):_=randomBytes(32);let M=null;if(n.iv){if(M=arrayify(n.iv),M.length!==16)throw new Error("invalid iv")}else M=randomBytes(16);let T=null;if(n.uuid){if(T=arrayify(n.uuid),T.length!==16)throw new Error("invalid uuid")}else T=randomBytes(16);let B=1<<17,P=8,C=1;return n.scrypt&&(n.scrypt.N&&(B=n.scrypt.N),n.scrypt.r&&(P=n.scrypt.r),n.scrypt.p&&(C=n.scrypt.p)),scrypt.scrypt(o,_,B,P,C,64,a).then(L=>{L=arrayify(L);const U=L.slice(0,16),q=L.slice(16,32),G=L.slice(32,64),X=new aes$1.Counter(M),te=new aes$1.ModeOfOperation.ctr(U,X),ne=arrayify(te.encrypt(u)),ge=keccak256(concat([q,ne])),pe={address:t.address.substring(2).toLowerCase(),id:uuidV4(T),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify(M).substring(2)},ciphertext:hexlify(ne).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify(_).substring(2),n:B,dklen:32,p:C,r:P},mac:ge.substring(2)}};if(p){const se=randomBytes(16),Se=new aes$1.Counter(se),k=new aes$1.ModeOfOperation.ctr(G,Se),c=arrayify(k.encrypt(p)),d=new Date,b=d.getUTCFullYear()+"-"+zpad(d.getUTCMonth()+1,2)+"-"+zpad(d.getUTCDate(),2)+"T"+zpad(d.getUTCHours(),2)+"-"+zpad(d.getUTCMinutes(),2)+"-"+zpad(d.getUTCSeconds(),2)+".0Z";pe["x-ethers"]={client:w,gethFilename:"UTC--"+b+"--"+pe.address,mnemonicCounter:hexlify(se).substring(2),mnemonicCiphertext:hexlify(c).substring(2),path:m,locale:y,version:"0.1"}}return JSON.stringify(pe)})}function decryptJsonWallet(t,e,n){if(isCrowdsaleWallet(t)){n&&n(0);const a=decrypt$1(t,e);return n&&n(1),Promise.resolve(a)}return isKeystoreWallet(t)?decrypt(t,e,n):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(t,e){if(isCrowdsaleWallet(t))return decrypt$1(t,e);if(isKeystoreWallet(t))return decryptSync(t,e);throw new Error("invalid JSON wallet")}const version$8="wallet/5.7.0";var __awaiter$4=function(t,e,n,a){function u(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function m(_){try{w(a.next(_))}catch(M){p(M)}}function y(_){try{w(a.throw(_))}catch(M){p(M)}}function w(_){_.done?o(_.value):u(_.value).then(m,y)}w((a=a.apply(t,e||[])).next())})};const logger$7=new Logger(version$8);function isAccount(t){return t!=null&&isHexString(t.privateKey,32)&&t.address!=null}function hasMnemonic(t){const e=t.mnemonic;return e&&e.phrase}class Wallet extends Signer{constructor(e,n){if(super(),isAccount(e)){const a=new SigningKey(e.privateKey);if(defineReadOnly(this,"_signingKey",()=>a),defineReadOnly(this,"address",computeAddress(this.publicKey)),this.address!==getAddress(e.address)&&logger$7.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),hasMnemonic(e)){const u=e.mnemonic;defineReadOnly(this,"_mnemonic",()=>({phrase:u.phrase,path:u.path||defaultPath,locale:u.locale||"en"}));const o=this.mnemonic,p=HDNode.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path);computeAddress(p.privateKey)!==this.address&&logger$7.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else defineReadOnly(this,"_mnemonic",()=>null)}else{if(SigningKey.isSigningKey(e))e.curve!=="secp256k1"&&logger$7.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),defineReadOnly(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const a=new SigningKey(e);defineReadOnly(this,"_signingKey",()=>a)}defineReadOnly(this,"_mnemonic",()=>null),defineReadOnly(this,"address",computeAddress(this.publicKey))}n&&!Provider.isProvider(n)&&logger$7.throwArgumentError("invalid provider","provider",n),defineReadOnly(this,"provider",n||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Wallet(this,e)}signTransaction(e){return resolveProperties(e).then(n=>{n.from!=null&&(getAddress(n.from)!==this.address&&logger$7.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete n.from);const a=this._signingKey().signDigest(keccak256(serialize$1(n)));return serialize$1(n,a)})}signMessage(e){return __awaiter$4(this,void 0,void 0,function*(){return joinSignature(this._signingKey().signDigest(hashMessage(e)))})}_signTypedData(e,n,a){return __awaiter$4(this,void 0,void 0,function*(){const u=yield TypedDataEncoder.resolveNames(e,n,a,o=>(this.provider==null&&logger$7.throwError("cannot resolve ENS names without a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:o}),this.provider.resolveName(o)));return joinSignature(this._signingKey().signDigest(TypedDataEncoder.hash(u.domain,n,u.value)))})}encrypt(e,n,a){if(typeof n=="function"&&!a&&(a=n,n={}),a&&typeof a!="function")throw new Error("invalid callback");return n||(n={}),encrypt(this,e,n,a)}static createRandom(e){let n=randomBytes(16);e||(e={}),e.extraEntropy&&(n=arrayify(hexDataSlice(keccak256(concat([n,e.extraEntropy])),0,16)));const a=entropyToMnemonic$1(n,e.locale);return Wallet.fromMnemonic(a,e.path,e.locale)}static fromEncryptedJson(e,n,a){return decryptJsonWallet(e,n,a).then(u=>new Wallet(u))}static fromEncryptedJsonSync(e,n){return new Wallet(decryptJsonWalletSync(e,n))}static fromMnemonic(e,n,a){return n||(n=defaultPath),new Wallet(HDNode.fromMnemonic(e,null,a).derivePath(n))}}function verifyMessage(t,e){return recoverAddress(hashMessage(t),e)}const version$7="networks/5.7.1",logger$6=new Logger(version$7);function isRenetworkable(t){return t&&typeof t.renetwork=="function"}function ethDefaultProvider(t){const e=function(n,a){a==null&&(a={});const u=[];if(n.InfuraProvider&&a.infura!=="-")try{u.push(new n.InfuraProvider(t,a.infura))}catch{}if(n.EtherscanProvider&&a.etherscan!=="-")try{u.push(new n.EtherscanProvider(t,a.etherscan))}catch{}if(n.AlchemyProvider&&a.alchemy!=="-")try{u.push(new n.AlchemyProvider(t,a.alchemy))}catch{}if(n.PocketProvider&&a.pocket!=="-"){const o=["goerli","ropsten","rinkeby","sepolia"];try{const p=new n.PocketProvider(t,a.pocket);p.network&&o.indexOf(p.network.name)===-1&&u.push(p)}catch{}}if(n.CloudflareProvider&&a.cloudflare!=="-")try{u.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&a.ankr!=="-")try{const o=["ropsten"],p=new n.AnkrProvider(t,a.ankr);p.network&&o.indexOf(p.network.name)===-1&&u.push(p)}catch{}if(u.length===0)return null;if(n.FallbackProvider){let o=1;return a.quorum!=null?o=a.quorum:t==="homestead"&&(o=2),new n.FallbackProvider(u,o)}return u[0]};return e.renetwork=function(n){return ethDefaultProvider(n)},e}function etcDefaultProvider(t,e){const n=function(a,u){return a.JsonRpcProvider?new a.JsonRpcProvider(t,e):null};return n.renetwork=function(a){return etcDefaultProvider(t,a)},n}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks$2={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ethDefaultProvider("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork(t){if(t==null)return null;if(typeof t=="number"){for(const a in networks$2){const u=networks$2[a];if(u.chainId===t)return{name:u.name,chainId:u.chainId,ensAddress:u.ensAddress||null,_defaultProvider:u._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const a=networks$2[t];return a==null?null:{name:a.name,chainId:a.chainId,ensAddress:a.ensAddress,_defaultProvider:a._defaultProvider||null}}const e=networks$2[t.name];if(!e)return typeof t.chainId!="number"&&logger$6.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&logger$6.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(isRenetworkable(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}const version$6="web/5.7.1";var __awaiter$3=function(t,e,n,a){function u(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function m(_){try{w(a.next(_))}catch(M){p(M)}}function y(_){try{w(a.throw(_))}catch(M){p(M)}}function w(_){_.done?o(_.value):u(_.value).then(m,y)}w((a=a.apply(t,e||[])).next())})};function getUrl(t,e){return __awaiter$3(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const p=e.fetchOptions;p.mode&&(n.mode=p.mode),p.cache&&(n.cache=p.cache),p.credentials&&(n.credentials=p.credentials),p.redirect&&(n.redirect=p.redirect),p.referrer&&(n.referrer=p.referrer)}const a=yield fetch(t,n),u=yield a.arrayBuffer(),o={};return a.headers.forEach?a.headers.forEach((p,m)=>{o[m.toLowerCase()]=p}):a.headers.keys().forEach(p=>{o[p.toLowerCase()]=a.headers.get(p)}),{headers:o,statusCode:a.status,statusMessage:a.statusText,body:arrayify(new Uint8Array(u))}})}var __awaiter$2=function(t,e,n,a){function u(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function m(_){try{w(a.next(_))}catch(M){p(M)}}function y(_){try{w(a.throw(_))}catch(M){p(M)}}function w(_){_.done?o(_.value):u(_.value).then(m,y)}w((a=a.apply(t,e||[])).next())})};const logger$5=new Logger(version$6);function staller(t){return new Promise(e=>{setTimeout(e,t)})}function bodyify(t,e){if(t==null)return null;if(typeof t=="string")return t;if(isBytesLike(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return toUtf8String(t)}catch{}return hexlify(t)}return t}function unpercent(t){return toUtf8Bytes(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function _fetchData(t,e,n){const a=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;logger$5.assertArgument(a>0&&a%1===0,"invalid connection throttle limit","connection.throttleLimit",a);const u=typeof t=="object"?t.throttleCallback:null,o=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;logger$5.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const p=typeof t=="object"?!!t.errorPassThrough:!1,m={};let y=null;const w={method:"GET"};let _=!1,M=2*60*1e3;if(typeof t=="string")y=t;else if(typeof t=="object"){if((t==null||t.url==null)&&logger$5.throwArgumentError("missing URL","connection.url",t),y=t.url,typeof t.timeout=="number"&&t.timeout>0&&(M=t.timeout),t.headers)for(const U in t.headers)m[U.toLowerCase()]={key:U,value:String(t.headers[U])},["if-none-match","if-modified-since"].indexOf(U.toLowerCase())>=0&&(_=!0);if(w.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){y.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&logger$5.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:y,user:t.user,password:"[REDACTED]"});const U=t.user+":"+t.password;m.authorization={key:"Authorization",value:"Basic "+encode$m(toUtf8Bytes(U))}}t.skipFetchSetup!=null&&(w.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(w.fetchOptions=shallowCopy(t.fetchOptions))}const T=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),B=y?y.match(T):null;if(B)try{const U={statusCode:200,statusMessage:"OK",headers:{"content-type":B[1]||"text/plain"},body:B[2]?decode$l(B[3]):unpercent(B[3])};let q=U.body;return n&&(q=n(U.body,U)),Promise.resolve(q)}catch(U){logger$5.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(B[1],B[2]),error:U,requestBody:null,requestMethod:"GET",url:y})}e&&(w.method="POST",w.body=e,m["content-type"]==null&&(m["content-type"]={key:"Content-Type",value:"application/octet-stream"}),m["content-length"]==null&&(m["content-length"]={key:"Content-Length",value:String(e.length)}));const P={};Object.keys(m).forEach(U=>{const q=m[U];P[q.key]=q.value}),w.headers=P;const C=function(){let U=null;return{promise:new Promise(function(X,te){M&&(U=setTimeout(()=>{U!=null&&(U=null,te(logger$5.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify(w.body,P["content-type"]),requestMethod:w.method,timeout:M,url:y})))},M))}),cancel:function(){U!=null&&(clearTimeout(U),U=null)}}}(),L=function(){return __awaiter$2(this,void 0,void 0,function*(){for(let U=0;U<a;U++){let q=null;try{if(q=yield getUrl(y,w),U<a){if(q.statusCode===301||q.statusCode===302){const X=q.headers.location||"";if(w.method==="GET"&&X.match(/^https:/)){y=q.headers.location;continue}}else if(q.statusCode===429){let X=!0;if(u&&(X=yield u(U,y)),X){let te=0;const ne=q.headers["retry-after"];typeof ne=="string"&&ne.match(/^[1-9][0-9]*$/)?te=parseInt(ne)*1e3:te=o*parseInt(String(Math.random()*Math.pow(2,U))),yield staller(te);continue}}}}catch(X){q=X.response,q==null&&(C.cancel(),logger$5.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(w.body,P["content-type"]),requestMethod:w.method,serverError:X,url:y}))}let G=q.body;if(_&&q.statusCode===304?G=null:!p&&(q.statusCode<200||q.statusCode>=300)&&(C.cancel(),logger$5.throwError("bad response",Logger.errors.SERVER_ERROR,{status:q.statusCode,headers:q.headers,body:bodyify(G,q.headers?q.headers["content-type"]:null),requestBody:bodyify(w.body,P["content-type"]),requestMethod:w.method,url:y})),n)try{const X=yield n(G,q);return C.cancel(),X}catch(X){if(X.throttleRetry&&U<a){let te=!0;if(u&&(te=yield u(U,y)),te){const ne=o*parseInt(String(Math.random()*Math.pow(2,U)));yield staller(ne);continue}}C.cancel(),logger$5.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(G,q.headers?q.headers["content-type"]:null),error:X,requestBody:bodyify(w.body,P["content-type"]),requestMethod:w.method,url:y})}return C.cancel(),G}return logger$5.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(w.body,P["content-type"]),requestMethod:w.method,url:y})})}();return Promise.race([C.promise,L])}function fetchJson(t,e,n){let a=(o,p)=>{let m=null;if(o!=null)try{m=JSON.parse(toUtf8String(o))}catch(y){logger$5.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:o,error:y})}return n&&(m=n(m,p)),m},u=null;if(e!=null){u=toUtf8Bytes(e);const o=typeof t=="string"?{url:t}:shallowCopy(t);o.headers?Object.keys(o.headers).filter(m=>m.toLowerCase()==="content-type").length!==0||(o.headers=shallowCopy(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},t=o}return _fetchData(t,u,a)}function poll(t,e){return e||(e={}),e=shallowCopy(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,a){let u=null,o=!1;const p=()=>o?!1:(o=!0,u&&clearTimeout(u),!0);e.timeout&&(u=setTimeout(()=>{p()&&a(new Error("timeout"))},e.timeout));const m=e.retryLimit;let y=0;function w(){return t().then(function(_){if(_!==void 0)p()&&n(_);else if(e.oncePoll)e.oncePoll.once("poll",w);else if(e.onceBlock)e.onceBlock.once("block",w);else if(!o){if(y++,y>m){p()&&a(new Error("retry limit reached"));return}let M=e.interval*parseInt(String(Math.random()*Math.pow(2,y)));M<e.floor&&(M=e.floor),M>e.ceiling&&(M=e.ceiling),setTimeout(w,M)}return null},function(_){p()&&a(_)})}w()})}var ALPHABET$5="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP$1={};for(var z=0;z<ALPHABET$5.length;z++){var x=ALPHABET$5.charAt(z);if(ALPHABET_MAP$1[x]!==void 0)throw new TypeError(x+" is ambiguous");ALPHABET_MAP$1[x]=z}function polymodStep$1(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function prefixChk$1(t){for(var e=1,n=0;n<t.length;++n){var a=t.charCodeAt(n);if(a<33||a>126)return"Invalid prefix ("+t+")";e=polymodStep$1(e)^a>>5}for(e=polymodStep$1(e),n=0;n<t.length;++n){var u=t.charCodeAt(n);e=polymodStep$1(e)^u&31}return e}function encode$l(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var a=prefixChk$1(t);if(typeof a=="string")throw new Error(a);for(var u=t+"1",o=0;o<e.length;++o){var p=e[o];if(p>>5)throw new Error("Non 5-bit word");a=polymodStep$1(a)^p,u+=ALPHABET$5.charAt(p)}for(o=0;o<6;++o)a=polymodStep$1(a);for(a^=1,o=0;o<6;++o){var m=a>>(5-o)*5&31;u+=ALPHABET$5.charAt(m)}return u}function __decode(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),a=t.toUpperCase();if(t!==n&&t!==a)return"Mixed-case string "+t;t=n;var u=t.lastIndexOf("1");if(u===-1)return"No separator character for "+t;if(u===0)return"Missing prefix for "+t;var o=t.slice(0,u),p=t.slice(u+1);if(p.length<6)return"Data too short";var m=prefixChk$1(o);if(typeof m=="string")return m;for(var y=[],w=0;w<p.length;++w){var _=p.charAt(w),M=ALPHABET_MAP$1[_];if(M===void 0)return"Unknown character "+_;m=polymodStep$1(m)^M,!(w+6>=p.length)&&y.push(M)}return m!==1?"Invalid checksum for "+t:{prefix:o,words:y}}function decodeUnsafe(){var t=__decode.apply(null,arguments);if(typeof t=="object")return t}function decode$k(t){var e=__decode.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function convert$3(t,e,n,a){for(var u=0,o=0,p=(1<<n)-1,m=[],y=0;y<t.length;++y)for(u=u<<e|t[y],o+=e;o>=n;)o-=n,m.push(u>>o&p);if(a)o>0&&m.push(u<<n-o&p);else{if(o>=e)return"Excess padding";if(u<<n-o&p)return"Non-zero padding"}return m}function toWordsUnsafe(t){var e=convert$3(t,8,5,!0);if(Array.isArray(e))return e}function toWords$1(t){var e=convert$3(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function fromWordsUnsafe$1(t){var e=convert$3(t,5,8,!1);if(Array.isArray(e))return e}function fromWords$1(t){var e=convert$3(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var bech32={decodeUnsafe,decode:decode$k,encode:encode$l,toWordsUnsafe,toWords:toWords$1,fromWordsUnsafe:fromWordsUnsafe$1,fromWords:fromWords$1};const bech32$1=getDefaultExportFromCjs$1(bech32),version$5="providers/5.7.2",logger$4=new Logger(version$5);class Formatter{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),a=this.bigNumber.bind(this),u=this.blockTag.bind(this),o=this.data.bind(this),p=this.hash.bind(this),m=this.hex.bind(this),y=this.number.bind(this),w=this.type.bind(this),_=M=>this.data(M,!0);return e.transaction={hash:p,type:w,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(p,null),blockNumber:Formatter.allowNull(y,null),transactionIndex:Formatter.allowNull(y,null),confirmations:Formatter.allowNull(y,null),from:n,gasPrice:Formatter.allowNull(a),maxPriorityFeePerGas:Formatter.allowNull(a),maxFeePerGas:Formatter.allowNull(a),gasLimit:a,to:Formatter.allowNull(n,null),value:a,nonce:y,data:o,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(y),creates:Formatter.allowNull(n,null),raw:Formatter.allowNull(o)},e.transactionRequest={from:Formatter.allowNull(n),nonce:Formatter.allowNull(y),gasLimit:Formatter.allowNull(a),gasPrice:Formatter.allowNull(a),maxPriorityFeePerGas:Formatter.allowNull(a),maxFeePerGas:Formatter.allowNull(a),to:Formatter.allowNull(n),value:Formatter.allowNull(a),data:Formatter.allowNull(_),type:Formatter.allowNull(y),accessList:Formatter.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:y,blockNumber:y,transactionHash:p,address:n,topics:Formatter.arrayOf(p),data:o,logIndex:y,blockHash:p},e.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(n,null),transactionIndex:y,root:Formatter.allowNull(m),gasUsed:a,logsBloom:Formatter.allowNull(o),blockHash:p,transactionHash:p,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:y,confirmations:Formatter.allowNull(y,null),cumulativeGasUsed:a,effectiveGasPrice:Formatter.allowNull(a),status:Formatter.allowNull(y),type:w},e.block={hash:Formatter.allowNull(p),parentHash:p,number:y,timestamp:y,nonce:Formatter.allowNull(m),difficulty:this.difficulty.bind(this),gasLimit:a,gasUsed:a,miner:Formatter.allowNull(n),extraData:o,transactions:Formatter.allowNull(Formatter.arrayOf(p)),baseFeePerGas:Formatter.allowNull(a)},e.blockWithTransactions=shallowCopy(e.block),e.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Formatter.allowNull(u,void 0),toBlock:Formatter.allowNull(u,void 0),blockHash:Formatter.allowNull(p,void 0),address:Formatter.allowNull(n,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Formatter.allowNull(y),blockHash:Formatter.allowNull(p),transactionIndex:y,removed:Formatter.allowNull(this.boolean.bind(this)),address:n,data:Formatter.allowFalsish(o,"0x"),topics:Formatter.arrayOf(p),transactionHash:p,logIndex:y},e}accessList(e){return accessListify(e||[])}number(e){return e==="0x"?0:BigNumber.from(e).toNumber()}type(e){return e==="0x"||e==null?0:BigNumber.from(e).toNumber()}bigNumber(e){return BigNumber.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),isHexString(e))?e.toLowerCase():logger$4.throwArgumentError("invalid hash","value",e)}data(e,n){const a=this.hex(e,n);if(a.length%2!==0)throw new Error("invalid data; odd-length - "+e);return a}address(e){return getAddress(e)}callAddress(e){if(!isHexString(e,32))return null;const n=getAddress(hexDataSlice(e,12));return n===AddressZero?null:n}contractAddress(e){return getContractAddress(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||isHexString(e))return hexValue(e);throw new Error("invalid blockTag")}hash(e,n){const a=this.hex(e,n);return hexDataLength(a)!==32?logger$4.throwArgumentError("invalid hash","value",e):a}difficulty(e){if(e==null)return null;const n=BigNumber.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!isHexString(e))throw new Error("invalid uint256");return hexZeroPad(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const a=e._difficulty!=null?e._difficulty:e.difficulty,u=Formatter.check(n,e);return u._difficulty=a==null?null:BigNumber.from(a),u}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Formatter.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&BigNumber.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=Formatter.check(this.formats.transaction,e);if(e.chainId!=null){let a=e.chainId;isHexString(a)&&(a=BigNumber.from(a).toNumber()),n.chainId=a}else{let a=e.networkId;a==null&&n.v==null&&(a=e.chainId),isHexString(a)&&(a=BigNumber.from(a).toNumber()),typeof a!="number"&&n.v!=null&&(a=(n.v-35)/2,a<0&&(a=0),a=parseInt(a)),typeof a!="number"&&(a=0),n.chainId=a}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return parse$1(e)}receiptLog(e){return Formatter.check(this.formats.receiptLog,e)}receipt(e){const n=Formatter.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const a=BigNumber.from(n.root).toNumber();a===0||a===1?(n.status!=null&&n.status!==a&&logger$4.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=a,delete n.root):logger$4.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&logger$4.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return Formatter.check(this.formats.filter,e)}filterLog(e){return Formatter.check(this.formats.filterLog,e)}static check(e,n){const a={};for(const u in e)try{const o=e[u](n[u]);o!==void 0&&(a[u]=o)}catch(o){throw o.checkKey=u,o.checkValue=n[u],o}return a}static allowNull(e,n){return function(a){return a==null?n:e(a)}}static allowFalsish(e,n){return function(a){return a?e(a):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const a=[];return n.forEach(function(u){a.push(e(u))}),a}}}var __awaiter$1=function(t,e,n,a){function u(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function m(_){try{w(a.next(_))}catch(M){p(M)}}function y(_){try{w(a.throw(_))}catch(M){p(M)}}function w(_){_.done?o(_.value):u(_.value).then(m,y)}w((a=a.apply(t,e||[])).next())})};const logger$3=new Logger(version$5),MAX_CCIP_REDIRECTS=10;function checkTopic(t){return t==null?"null":(hexDataLength(t)!==32&&logger$3.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function serializeTopics(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(u=>{n[checkTopic(u)]=!0});const a=Object.keys(n);return a.sort(),a.join("|")}else return checkTopic(e)}).join("&")}function deserializeTopics(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(a=>a==="null"?null:a);return n.length===1?n[0]:n})}function getEventTag(t){if(typeof t=="string"){if(t=t.toLowerCase(),hexDataLength(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+serializeTopics(t);if(ForkEvent.isForkEvent(t))throw logger$3.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+serializeTopics(t.topics||[])}throw new Error("invalid event - "+t)}function getTime(){return new Date().getTime()}function stall(t){return new Promise(e=>{setTimeout(e,t)})}const PollableEvents=["block","network","pending","poll"];class Event{constructor(e,n,a){defineReadOnly(this,"tag",e),defineReadOnly(this,"listener",n),defineReadOnly(this,"once",a),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],a=deserializeTopics(e[2]),u={};return a.length>0&&(u.topics=a),n&&n!=="*"&&(u.address=n),u}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify(t){return hexZeroPad(BigNumber.from(t).toHexString(),32)}function base58Encode(t){return Base58.encode(concat([t,hexDataSlice(sha256$4(sha256$4(t)),0,4)]))}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(t,e){try{return toUtf8String(_parseBytes(t,e))}catch{}return null}function _parseBytes(t,e){if(t==="0x")return null;const n=BigNumber.from(hexDataSlice(t,e,e+32)).toNumber(),a=BigNumber.from(hexDataSlice(t,n,n+32)).toNumber();return hexDataSlice(t,n+32,n+32+a)}function getIpfsLink(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):logger$3.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function numPad(t){const e=arrayify(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function bytesPad(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function encodeBytes(t){const e=[];let n=0;for(let a=0;a<t.length;a++)e.push(null),n+=32;for(let a=0;a<t.length;a++){const u=arrayify(t[a]);e[a]=numPad(n),e.push(numPad(u.length)),e.push(bytesPad(u)),n+=32+Math.ceil(u.length/32)*32}return hexConcat(e)}class Resolver{constructor(e,n,a,u){defineReadOnly(this,"provider",e),defineReadOnly(this,"name",a),defineReadOnly(this,"address",e.formatter.address(n)),defineReadOnly(this,"_resolvedAddress",u)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>BigNumber.from(e).eq(1)).catch(e=>{if(e.code===Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return __awaiter$1(this,void 0,void 0,function*(){const a={to:this.address,ccipReadEnabled:!0,data:hexConcat([e,namehash(this.name),n||"0x"])};let u=!1;(yield this.supportsWildcard())&&(u=!0,a.data=hexConcat(["0x9061b923",encodeBytes([dnsEncode(this.name),a.data])]));try{let o=yield this.provider.call(a);return arrayify(o).length%32===4&&logger$3.throwError("resolver threw error",Logger.errors.CALL_EXCEPTION,{transaction:a,data:o}),u&&(o=_parseBytes(o,0)),o}catch(o){if(o.code===Logger.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(e,n){return __awaiter$1(this,void 0,void 0,function*(){const a=yield this._fetch(e,n);return a!=null?_parseBytes(a,0):null})}_getAddress(e,n){const a=coinInfos[String(e)];if(a==null&&logger$3.throwError(`unsupported coin type: ${e}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),a.ilk==="eth")return this.provider.formatter.address(n);const u=arrayify(n);if(a.p2pkh!=null){const o=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){const p=parseInt(o[1],16);if(o[2].length===p*2&&p>=1&&p<=75)return base58Encode(concat([[a.p2pkh],"0x"+o[2]]))}}if(a.p2sh!=null){const o=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){const p=parseInt(o[1],16);if(o[2].length===p*2&&p>=1&&p<=75)return base58Encode(concat([[a.p2sh],"0x"+o[2]]))}}if(a.prefix!=null){const o=u[1];let p=u[0];if(p===0?o!==20&&o!==32&&(p=-1):p=-1,p>=0&&u.length===2+o&&o>=1&&o<=75){const m=bech32$1.toWords(u.slice(2));return m.unshift(p),bech32$1.encode(a.prefix,m)}}return null}getAddress(e){return __awaiter$1(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const u=yield this._fetch("0x3b3b57de");return u==="0x"||u===HashZero?null:this.provider.formatter.callAddress(u)}catch(u){if(u.code===Logger.errors.CALL_EXCEPTION)return null;throw u}const n=yield this._fetchBytes("0xf1cb7e06",bytes32ify(e));if(n==null||n==="0x")return null;const a=this._getAddress(e,n);return a==null&&logger$3.throwError("invalid or unsupported coin data",Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),a})}getAvatar(){return __awaiter$1(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let a=0;a<matchers.length;a++){const u=n.match(matchers[a]);if(u==null)continue;const o=u[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:getIpfsLink(n)};case"erc721":case"erc1155":{const p=o==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:n});const m=this._resolvedAddress||(yield this.getAddress()),y=(u[2]||"").split("/");if(y.length!==2)return null;const w=yield this.provider.formatter.address(y[0]),_=hexZeroPad(BigNumber.from(y[1]).toHexString(),32);if(o==="erc721"){const C=this.provider.formatter.callAddress(yield this.provider.call({to:w,data:hexConcat(["0x6352211e",_])}));if(m!==C)return null;e.push({type:"owner",content:C})}else if(o==="erc1155"){const C=BigNumber.from(yield this.provider.call({to:w,data:hexConcat(["0x00fdd58e",hexZeroPad(m,32),_])}));if(C.isZero())return null;e.push({type:"balance",content:C.toString()})}const M={to:this.provider.formatter.address(y[0]),data:hexConcat([p,_])};let T=_parseString(yield this.provider.call(M),0);if(T==null)return null;e.push({type:"metadata-url-base",content:T}),o==="erc1155"&&(T=T.replace("{id}",_.substring(2)),e.push({type:"metadata-url-expanded",content:T})),T.match(/^ipfs:/i)&&(T=getIpfsLink(T)),e.push({type:"metadata-url",content:T});const B=yield fetchJson(T);if(!B)return null;e.push({type:"metadata",content:JSON.stringify(B)});let P=B.image;if(typeof P!="string")return null;if(!P.match(/^(https:\/\/|data:)/i)){if(P.match(matcherIpfs)==null)return null;e.push({type:"url-ipfs",content:P}),P=getIpfsLink(P)}return e.push({type:"url",content:P}),{linkage:e,url:P}}}}}catch{}return null})}getContentHash(){return __awaiter$1(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const p=parseInt(n[3],16);if(n[4].length===p*2)return"ipfs://"+Base58.encode("0x"+n[1])}const a=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(a){const p=parseInt(a[3],16);if(a[4].length===p*2)return"ipns://"+Base58.encode("0x"+a[1])}const u=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(u&&u[1].length===32*2)return"bzz://"+u[1];const o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&o[1].length===34*2){const p={"=":"","+":"-","/":"_"};return"sia://"+encode$m("0x"+o[1]).replace(/[=+\/]/g,y=>p[y])}return logger$3.throwError("invalid or unsupported content hash data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return __awaiter$1(this,void 0,void 0,function*(){let n=toUtf8Bytes(e);n=concat([bytes32ify(64),bytes32ify(n.length),n]),n.length%32!==0&&(n=concat([n,hexZeroPad("0x",32-e.length%32)]));const a=yield this._fetchBytes("0x59d1d43c",hexlify(n));return a==null||a==="0x"?null:toUtf8String(a)})}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends Provider{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),defineReadOnly(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=getStatic(new.target,"getNetwork")(e);n?(defineReadOnly(this,"_network",n),this.emit("network",n,null)):logger$3.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter$1(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||logger$3.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:defineReadOnly(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return poll(()=>this._ready().then(e=>e,e=>{if(!(e.code===Logger.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return defaultFormatter==null&&(defaultFormatter=new Formatter),defaultFormatter}static getNetwork(e){return getNetwork(e??"homestead")}ccipReadFetch(e,n,a){return __awaiter$1(this,void 0,void 0,function*(){if(this.disableCcipRead||a.length===0)return null;const u=e.to.toLowerCase(),o=n.toLowerCase(),p=[];for(let m=0;m<a.length;m++){const y=a[m],w=y.replace("{sender}",u).replace("{data}",o),_=y.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:u}),M=yield fetchJson({url:w,errorPassThrough:!0},_,(B,P)=>(B.status=P.statusCode,B));if(M.data)return M.data;const T=M.message||"unknown error";if(M.status>=400&&M.status<500)return logger$3.throwError(`response not found during CCIP fetch: ${T}`,Logger.errors.SERVER_ERROR,{url:y,errorMessage:T});p.push(T)}return logger$3.throwError(`error encountered during CCIP fetch: ${p.map(m=>JSON.stringify(m)).join(", ")}`,Logger.errors.SERVER_ERROR,{urls:a,errorMessages:p})})}_getInternalBlockNumber(e){return __awaiter$1(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const u=this._internalBlockNumber;try{const o=yield u;if(getTime()-o.respTime<=e)return o.blockNumber;break}catch{if(this._internalBlockNumber===u)break}}const n=getTime(),a=resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(u=>null,u=>u)}).then(({blockNumber:u,networkError:o})=>{if(o)throw this._internalBlockNumber===a&&(this._internalBlockNumber=null),o;const p=getTime();return u=BigNumber.from(u).toNumber(),u<this._maxInternalBlockNumber&&(u=this._maxInternalBlockNumber),this._maxInternalBlockNumber=u,this._setFastBlockNumber(u),{blockNumber:u,reqTime:n,respTime:p}});return this._internalBlockNumber=a,a.catch(u=>{this._internalBlockNumber===a&&(this._internalBlockNumber=null)}),(yield a).blockNumber})}poll(){return __awaiter$1(this,void 0,void 0,function*(){const e=nextPollId++,n=[];let a=null;try{a=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(u){this.emit("error",u);return}if(this._setFastBlockNumber(a),this.emit("poll",e,a),a===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=a-1),Math.abs(this._emitted.block-a)>1e3)logger$3.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${a})`),this.emit("error",logger$3.makeError("network block skew detected",Logger.errors.NETWORK_ERROR,{blockNumber:a,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",a);else for(let u=this._emitted.block+1;u<=a;u++)this.emit("block",u);this._emitted.block!==a&&(this._emitted.block=a,Object.keys(this._emitted).forEach(u=>{if(u==="block")return;const o=this._emitted[u];o!=="pending"&&a-o>12&&delete this._emitted[u]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=a-1),this._events.forEach(u=>{switch(u.type){case"tx":{const o=u.hash;let p=this.getTransactionReceipt(o).then(m=>(!m||m.blockNumber==null||(this._emitted["t:"+o]=m.blockNumber,this.emit(o,m)),null)).catch(m=>{this.emit("error",m)});n.push(p);break}case"filter":{if(!u._inflight){u._inflight=!0,u._lastBlockNumber===-2&&(u._lastBlockNumber=a-1);const o=u.filter;o.fromBlock=u._lastBlockNumber+1,o.toBlock=a;const p=o.toBlock-this._maxFilterBlockRange;p>o.fromBlock&&(o.fromBlock=p),o.fromBlock<0&&(o.fromBlock=0);const m=this.getLogs(o).then(y=>{u._inflight=!1,y.length!==0&&y.forEach(w=>{w.blockNumber>u._lastBlockNumber&&(u._lastBlockNumber=w.blockNumber),this._emitted["b:"+w.blockHash]=w.blockNumber,this._emitted["t:"+w.transactionHash]=w.blockNumber,this.emit(o,w)})}).catch(y=>{this.emit("error",y),u._inflight=!1});n.push(m)}break}}}),this._lastBlockNumber=a,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(u=>{this.emit("error",u)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter$1(this,void 0,void 0,function*(){return logger$3.throwError("provider does not support network detection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return __awaiter$1(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield stall(0),this._network;const a=logger$3.makeError("underlying network changed",Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",a),a}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=getTime();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=getTime(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,a){return __awaiter$1(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,a||0,null)})}_waitForTransaction(e,n,a,u){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=n?o:new Promise((p,m)=>{const y=[];let w=!1;const _=function(){return w?!0:(w=!0,y.forEach(T=>{T()}),!1)},M=T=>{T.confirmations<n||_()||p(T)};if(this.on(e,M),y.push(()=>{this.removeListener(e,M)}),u){let T=u.startBlock,B=null;const P=C=>__awaiter$1(this,void 0,void 0,function*(){w||(yield stall(1e3),this.getTransactionCount(u.from).then(L=>__awaiter$1(this,void 0,void 0,function*(){if(!w){if(L<=u.nonce)T=C;else{{const U=yield this.getTransaction(e);if(U&&U.blockNumber!=null)return}for(B==null&&(B=T-3,B<u.startBlock&&(B=u.startBlock));B<=C;){if(w)return;const U=yield this.getBlockWithTransactions(B);for(let q=0;q<U.transactions.length;q++){const G=U.transactions[q];if(G.hash===e)return;if(G.from===u.from&&G.nonce===u.nonce){if(w)return;const X=yield this.waitForTransaction(G.hash,n);if(_())return;let te="replaced";G.data===u.data&&G.to===u.to&&G.value.eq(u.value)?te="repriced":G.data==="0x"&&G.from===G.to&&G.value.isZero()&&(te="cancelled"),m(logger$3.makeError("transaction was replaced",Logger.errors.TRANSACTION_REPLACED,{cancelled:te==="replaced"||te==="cancelled",reason:te,replacement:this._wrapTransaction(G),hash:e,receipt:X}));return}}B++}}w||this.once("block",P)}}),L=>{w||this.once("block",P)}))});if(w)return;this.once("block",P),y.push(()=>{this.removeListener("block",P)})}if(typeof a=="number"&&a>0){const T=setTimeout(()=>{_()||m(logger$3.makeError("timeout exceeded",Logger.errors.TIMEOUT,{timeout:a}))},a);T.unref&&T.unref(),y.push(()=>{clearTimeout(T)})}})})}getBlockNumber(){return __awaiter$1(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return BigNumber.from(e)}catch(n){return logger$3.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),u=yield this.perform("getBalance",a);try{return BigNumber.from(u)}catch(o){return logger$3.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getBalance",params:a,result:u,error:o})}})}getTransactionCount(e,n){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),u=yield this.perform("getTransactionCount",a);try{return BigNumber.from(u).toNumber()}catch(o){return logger$3.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:a,result:u,error:o})}})}getCode(e,n){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),u=yield this.perform("getCode",a);try{return hexlify(u)}catch(o){return logger$3.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getCode",params:a,result:u,error:o})}})}getStorageAt(e,n,a){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const u=yield resolveProperties({address:this._getAddress(e),blockTag:this._getBlockTag(a),position:Promise.resolve(n).then(p=>hexValue(p))}),o=yield this.perform("getStorageAt",u);try{return hexlify(o)}catch(p){return logger$3.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:u,result:o,error:p})}})}_wrapTransaction(e,n,a){if(n!=null&&hexDataLength(n)!==32)throw new Error("invalid response - sendTransaction");const u=e;return n!=null&&e.hash!==n&&logger$3.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),u.wait=(o,p)=>__awaiter$1(this,void 0,void 0,function*(){o==null&&(o=1),p==null&&(p=0);let m;o!==0&&a!=null&&(m={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:a});const y=yield this._waitForTransaction(e.hash,o,p,m);return y==null&&o===0?null:(this._emitted["t:"+e.hash]=y.blockNumber,y.status===0&&logger$3.throwError("transaction failed",Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:y}),y)}),u}sendTransaction(e){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(o=>hexlify(o)),a=this.formatter.transaction(e);a.confirmations==null&&(a.confirmations=0);const u=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const o=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(a,o,u)}catch(o){throw o.transaction=a,o.transactionHash=a.hash,o}})}_getTransactionRequest(e){return __awaiter$1(this,void 0,void 0,function*(){const n=yield e,a={};return["from","to"].forEach(u=>{n[u]!=null&&(a[u]=Promise.resolve(n[u]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(u=>{n[u]!=null&&(a[u]=Promise.resolve(n[u]).then(o=>o?BigNumber.from(o):null))}),["type"].forEach(u=>{n[u]!=null&&(a[u]=Promise.resolve(n[u]).then(o=>o??null))}),n.accessList&&(a.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(u=>{n[u]!=null&&(a[u]=Promise.resolve(n[u]).then(o=>o?hexlify(o):null))}),this.formatter.transactionRequest(yield resolveProperties(a))})}_getFilter(e){return __awaiter$1(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(a=>{e[a]!=null&&(n[a]=e[a])}),["fromBlock","toBlock"].forEach(a=>{e[a]!=null&&(n[a]=this._getBlockTag(e[a]))}),this.formatter.filter(yield resolveProperties(n))})}_call(e,n,a){return __awaiter$1(this,void 0,void 0,function*(){a>=MAX_CCIP_REDIRECTS&&logger$3.throwError("CCIP read exceeded maximum redirections",Logger.errors.SERVER_ERROR,{redirects:a,transaction:e});const u=e.to,o=yield this.perform("call",{transaction:e,blockTag:n});if(a>=0&&n==="latest"&&u!=null&&o.substring(0,10)==="0x556f1830"&&hexDataLength(o)%32===4)try{const p=hexDataSlice(o,4),m=hexDataSlice(p,0,32);BigNumber.from(m).eq(u)||logger$3.throwError("CCIP Read sender did not match",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const y=[],w=BigNumber.from(hexDataSlice(p,32,64)).toNumber(),_=BigNumber.from(hexDataSlice(p,w,w+32)).toNumber(),M=hexDataSlice(p,w+32);for(let U=0;U<_;U++){const q=_parseString(M,U*32);q==null&&logger$3.throwError("CCIP Read contained corrupt URL string",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),y.push(q)}const T=_parseBytes(p,64);BigNumber.from(hexDataSlice(p,100,128)).isZero()||logger$3.throwError("CCIP Read callback selector included junk",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const B=hexDataSlice(p,96,100),P=_parseBytes(p,128),C=yield this.ccipReadFetch(e,T,y);C==null&&logger$3.throwError("CCIP Read disabled or provided no URLs",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const L={to:u,data:hexConcat([B,encodeBytes([C,P])])};return this._call(L,n,a+1)}catch(p){if(p.code===Logger.errors.SERVER_ERROR)throw p}try{return hexlify(o)}catch(p){return logger$3.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:o,error:p})}})}call(e,n){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield resolveProperties({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(a.transaction,a.blockTag,a.ccipReadEnabled?0:-1)})}estimateGas(e){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield resolveProperties({transaction:this._getTransactionRequest(e)}),a=yield this.perform("estimateGas",n);try{return BigNumber.from(a)}catch(u){return logger$3.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:a,error:u})}})}_getAddress(e){return __awaiter$1(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&logger$3.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&logger$3.throwError("ENS name not configured",Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let a=-128;const u={includeTransactions:!!n};if(isHexString(e,32))u.blockHash=e;else try{u.blockTag=yield this._getBlockTag(e),isHexString(u.blockTag)&&(a=parseInt(u.blockTag.substring(2),16))}catch{logger$3.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return poll(()=>__awaiter$1(this,void 0,void 0,function*(){const o=yield this.perform("getBlock",u);if(o==null)return u.blockHash!=null&&this._emitted["b:"+u.blockHash]==null||u.blockTag!=null&&a>this._emitted.block?null:void 0;if(n){let p=null;for(let y=0;y<o.transactions.length;y++){const w=o.transactions[y];if(w.blockNumber==null)w.confirmations=0;else if(w.confirmations==null){p==null&&(p=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let _=p-w.blockNumber+1;_<=0&&(_=1),w.confirmations=_}}const m=this.formatter.blockWithTransactions(o);return m.transactions=m.transactions.map(y=>this._wrapTransaction(y)),m}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return poll(()=>__awaiter$1(this,void 0,void 0,function*(){const a=yield this.perform("getTransaction",n);if(a==null)return this._emitted["t:"+e]==null?null:void 0;const u=this.formatter.transactionResponse(a);if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){let p=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-u.blockNumber+1;p<=0&&(p=1),u.confirmations=p}return this._wrapTransaction(u)}),{oncePoll:this})})}getTransactionReceipt(e){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return poll(()=>__awaiter$1(this,void 0,void 0,function*(){const a=yield this.perform("getTransactionReceipt",n);if(a==null)return this._emitted["t:"+e]==null?null:void 0;if(a.blockHash==null)return;const u=this.formatter.receipt(a);if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){let p=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-u.blockNumber+1;p<=0&&(p=1),u.confirmations=p}return u}),{oncePoll:this})})}getLogs(e){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield resolveProperties({filter:this._getFilter(e)}),a=yield this.perform("getLogs",n);return a.forEach(u=>{u.removed==null&&(u.removed=!1)}),Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(a)})}getEtherPrice(){return __awaiter$1(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return __awaiter$1(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&logger$3.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return __awaiter$1(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const a=yield this._getResolver(n,"getResolver");if(a!=null){const u=new Resolver(this,a,e);return n!==e&&!(yield u.supportsWildcard())?null:u}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return __awaiter$1(this,void 0,void 0,function*(){n==null&&(n="ENS");const a=yield this.getNetwork();a.ensAddress||logger$3.throwError("network does not support ENS",Logger.errors.UNSUPPORTED_OPERATION,{operation:n,network:a.name});try{const u=yield this.call({to:a.ensAddress,data:"0x0178b8bf"+namehash(e).substring(2)});return this.formatter.callAddress(u)}catch{}return null})}resolveName(e){return __awaiter$1(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(a){if(isHexString(e))throw a}typeof e!="string"&&logger$3.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return __awaiter$1(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",a=yield this._getResolver(n,"lookupAddress");if(a==null)return null;const u=_parseString(yield this.call({to:a,data:"0x691f3431"+namehash(n).substring(2)}),0);return(yield this.resolveName(u))!=e?null:u})}getAvatar(e){return __awaiter$1(this,void 0,void 0,function*(){let n=null;if(isHexString(e)){const o=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",p=yield this._getResolver(o,"getAvatar");if(!p)return null;n=new Resolver(this,p,o);try{const m=yield n.getAvatar();if(m)return m.url}catch(m){if(m.code!==Logger.errors.CALL_EXCEPTION)throw m}try{const m=_parseString(yield this.call({to:p,data:"0x691f3431"+namehash(o).substring(2)}),0);n=yield this.getResolver(m)}catch(m){if(m.code!==Logger.errors.CALL_EXCEPTION)throw m;return null}}else if(n=yield this.getResolver(e),!n)return null;const a=yield n.getAvatar();return a==null?null:a.url})}perform(e,n){return logger$3.throwError(e+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,a){const u=new Event(getEventTag(e),n,a);return this._events.push(u),this._startEvent(u),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let a=!1,u=[],o=getEventTag(e);return this._events=this._events.filter(p=>p.tag!==o?!0:(setTimeout(()=>{p.listener.apply(this,n)},0),a=!0,p.once?(u.push(p),!1):!0)),u.forEach(p=>{this._stopEvent(p)}),a}listenerCount(e){if(!e)return this._events.length;let n=getEventTag(e);return this._events.filter(a=>a.tag===n).length}listeners(e){if(e==null)return this._events.map(a=>a.listener);let n=getEventTag(e);return this._events.filter(a=>a.tag===n).map(a=>a.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const a=[];let u=!1,o=getEventTag(e);return this._events=this._events.filter(p=>p.tag!==o||p.listener!=n||u?!0:(u=!0,a.push(p),!1)),a.forEach(p=>{this._stopEvent(p)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const a=getEventTag(e);this._events=this._events.filter(u=>u.tag!==a?!0:(n.push(u),!1))}return n.forEach(a=>{this._stopEvent(a)}),this}}var __awaiter=function(t,e,n,a){function u(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function m(_){try{w(a.next(_))}catch(M){p(M)}}function y(_){try{w(a.throw(_))}catch(M){p(M)}}function w(_){_.done?o(_.value):u(_.value).then(m,y)}w((a=a.apply(t,e||[])).next())})};const logger$2=new Logger(version$5),errorGas=["call","estimateGas"];function spelunk(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=isHexString(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const a=spelunk(t[n],e);if(a)return a}return null}if(typeof t=="string")try{return spelunk(JSON.parse(t),e)}catch{}return null}function checkError(t,e,n){const a=n.transaction||n.signedTransaction;if(t==="call"){const o=spelunk(e,!0);if(o)return o.data;logger$2.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:a,error:e})}if(t==="estimateGas"){let o=spelunk(e.body,!1);o==null&&(o=spelunk(e,!1)),o&&logger$2.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:t,transaction:a,error:e})}let u=e.message;throw e.code===Logger.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?u=e.error.message:typeof e.body=="string"?u=e.body:typeof e.responseText=="string"&&(u=e.responseText),u=(u||"").toLowerCase(),u.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&logger$2.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:a}),u.match(/nonce (is )?too low/i)&&logger$2.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:e,method:t,transaction:a}),u.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger$2.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:a}),u.match(/only replay-protected/i)&&logger$2.throwError("legacy pre-eip-155 transactions not supported",Logger.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:a}),errorGas.indexOf(t)>=0&&u.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&logger$2.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:a}),e}function timer(t){return new Promise(function(e){setTimeout(e,t)})}function getResult(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function getLowerCase(t){return t&&t.toLowerCase()}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(e,n,a){if(super(),e!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");defineReadOnly(this,"provider",n),a==null&&(a=0),typeof a=="string"?(defineReadOnly(this,"_address",this.provider.formatter.address(a)),defineReadOnly(this,"_index",null)):typeof a=="number"?(defineReadOnly(this,"_index",a),defineReadOnly(this,"_address",null)):logger$2.throwArgumentError("invalid address or index","addressOrIndex",a)}connect(e){return logger$2.throwError("cannot alter JSON-RPC Signer connection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&logger$2.throwError("unknown account #"+this._index,Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=shallowCopy(e);const n=this.getAddress().then(a=>(a&&(a=a.toLowerCase()),a));if(e.gasLimit==null){const a=shallowCopy(e);a.from=n,e.gasLimit=this.provider.estimateGas(a)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(a=>__awaiter(this,void 0,void 0,function*(){if(a==null)return null;const u=yield this.provider.resolveName(a);return u==null&&logger$2.throwArgumentError("provided ENS name resolves to null","tx.to",a),u}))),resolveProperties({tx:resolveProperties(e),sender:n}).then(({tx:a,sender:u})=>{a.from!=null?a.from.toLowerCase()!==u&&logger$2.throwArgumentError("from address mismatch","transaction",e):a.from=u;const o=this.provider.constructor.hexlifyTransaction(a,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(p=>p,p=>(typeof p.message=="string"&&p.message.match(/user denied/i)&&logger$2.throwError("user rejected transaction",Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:a}),checkError("sendTransaction",p,o)))})}signTransaction(e){return logger$2.throwError("signing transactions is unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return __awaiter(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),a=yield this.sendUncheckedTransaction(e);try{return yield poll(()=>__awaiter(this,void 0,void 0,function*(){const u=yield this.provider.getTransaction(a);if(u!==null)return this.provider._wrapTransaction(u,a,n)}),{oncePoll:this.provider})}catch(u){throw u.transactionHash=a,u}})}signMessage(e){return __awaiter(this,void 0,void 0,function*(){const n=typeof e=="string"?toUtf8Bytes(e):e,a=yield this.getAddress();try{return yield this.provider.send("personal_sign",[hexlify(n),a.toLowerCase()])}catch(u){throw typeof u.message=="string"&&u.message.match(/user denied/i)&&logger$2.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"signMessage",from:a,messageData:e}),u}})}_legacySignMessage(e){return __awaiter(this,void 0,void 0,function*(){const n=typeof e=="string"?toUtf8Bytes(e):e,a=yield this.getAddress();try{return yield this.provider.send("eth_sign",[a.toLowerCase(),hexlify(n)])}catch(u){throw typeof u.message=="string"&&u.message.match(/user denied/i)&&logger$2.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:a,messageData:e}),u}})}_signTypedData(e,n,a){return __awaiter(this,void 0,void 0,function*(){const u=yield TypedDataEncoder.resolveNames(e,n,a,p=>this.provider.resolveName(p)),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(u.domain,n,u.value))])}catch(p){throw typeof p.message=="string"&&p.message.match(/user denied/i)&&logger$2.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:u.domain,types:n,value:u.value}}),p}})}unlock(e){return __awaiter(this,void 0,void 0,function*(){const n=this.provider,a=yield this.getAddress();return n.send("personal_unlockAccount",[a.toLowerCase(),e,null])})}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:a=>this.provider.waitForTransaction(n,a)}))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider extends BaseProvider{constructor(e,n){let a=n;a==null&&(a=new Promise((u,o)=>{setTimeout(()=>{this.detectNetwork().then(p=>{u(p)},p=>{o(p)})},0)})),super(a),e||(e=getStatic(this.constructor,"defaultUrl")()),typeof e=="string"?defineReadOnly(this,"connection",Object.freeze({url:e})):defineReadOnly(this,"connection",Object.freeze(shallowCopy(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter(this,void 0,void 0,function*(){yield timer(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=getStatic(this.constructor,"getNetwork");try{return n(BigNumber.from(e).toNumber())}catch(a){return logger$2.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:a})}}return logger$2.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new JsonRpcSigner(_constructorGuard,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const a={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy(a),provider:this});const u=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(u&&this._cache[e])return this._cache[e];const o=fetchJson(this.connection,JSON.stringify(a),getResult).then(p=>(this.emit("debug",{action:"response",request:a,response:p,provider:this}),p),p=>{throw this.emit("debug",{action:"response",error:p,request:a,provider:this}),p});return u&&(this._cache[e]=o,setTimeout(()=>{this._cache[e]=null},0)),o}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(n.address),n.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(n.address),hexZeroPad(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[getStatic(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[getStatic(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=getLowerCase(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return __awaiter(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const u=n.transaction;if(u&&u.type!=null&&BigNumber.from(u.type).isZero()&&u.maxFeePerGas==null&&u.maxPriorityFeePerGas==null){const o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(n=shallowCopy(n),n.transaction=shallowCopy(u),delete n.transaction.type)}}const a=this.prepareRequest(e,n);a==null&&logger$2.throwError(e+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(a[0],a[1])}catch(u){return checkError(e,u,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(a){function u(){e.send("eth_getFilterChanges",[a]).then(function(o){if(e._pendingFilter!=n)return null;let p=Promise.resolve();return o.forEach(function(m){e._emitted["t:"+m.toLowerCase()]="pending",p=p.then(function(){return e.getTransaction(m).then(function(y){return e.emit("pending",y),null})})}),p.then(function(){return timer(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[a]);return}return setTimeout(function(){u()},0),null}).catch(o=>{})}return u(),a}).catch(a=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const a=shallowCopy(allowedTransactionKeys);if(n)for(const o in n)n[o]&&(a[o]=!0);checkProperties(e,a);const u={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(e[o]==null)return;const p=hexValue(BigNumber.from(e[o]));o==="gasLimit"&&(o="gas"),u[o]=p}),["from","to","data"].forEach(function(o){e[o]!=null&&(u[o]=hexlify(e[o]))}),e.accessList&&(u.accessList=accessListify(e.accessList)),u}}const logger$1=new Logger(version$5);let _nextId=1;function buildWeb3LegacyFetcher(t,e){const n="Web3LegacyFetcher";return function(a,u){const o={method:a,params:u,id:_nextId++,jsonrpc:"2.0"};return new Promise((p,m)=>{this.emit("debug",{action:"request",fetcher:n,request:deepCopy(o),provider:this}),e(o,(y,w)=>{if(y)return this.emit("debug",{action:"response",fetcher:n,error:y,request:o,provider:this}),m(y);if(this.emit("debug",{action:"response",fetcher:n,request:o,response:w,provider:this}),w.error){const _=new Error(w.error.message);return _.code=w.error.code,_.data=w.error.data,m(_)}p(w.result)})})}}function buildEip1193Fetcher(t){return function(e,n){n==null&&(n=[]);const a={method:e,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy(a),provider:this}),t.request(a).then(u=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:a,response:u,provider:this}),u),u=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:a,error:u,provider:this}),u})}}class Web3Provider extends JsonRpcProvider{constructor(e,n){e==null&&logger$1.throwArgumentError("missing provider","provider",e);let a=null,u=null,o=null;typeof e=="function"?(a="unknown:",u=e):(a=e.host||e.path||"",!a&&e.isMetaMask&&(a="metamask"),o=e,e.request?(a===""&&(a="eip-1193:"),u=buildEip1193Fetcher(e)):e.sendAsync?u=buildWeb3LegacyFetcher(e,e.sendAsync.bind(e)):e.send?u=buildWeb3LegacyFetcher(e,e.send.bind(e)):logger$1.throwArgumentError("unsupported provider","provider",e),a||(a="unknown:")),super(a,n),defineReadOnly(this,"jsonRpcFetchFunc",u),defineReadOnly(this,"provider",o)}send(e,n){return this.jsonRpcFetchFunc(e,n)}}const version$4="units/5.7.0",logger=new Logger(version$4),names=["wei","kwei","mwei","gwei","szabo","finney","ether"];function parseUnits(t,e){if(typeof t!="string"&&logger.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=names.indexOf(e);n!==-1&&(e=3*n)}return parseFixed(t,e??18)}var src$6={},sha256$3={},_md={},_assert={};Object.defineProperty(_assert,"__esModule",{value:!0});_assert.output=_assert.exists=_assert.hash=_assert.bytes=_assert.bool=_assert.number=_assert.isBytes=void 0;function number$1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}_assert.number=number$1;function bool$1(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}_assert.bool=bool$1;function isBytes$1(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}_assert.isBytes=isBytes$1;function bytes(t,...e){if(!isBytes$1(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}_assert.bytes=bytes;function hash$1(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(t.outputLen),number$1(t.blockLen)}_assert.hash=hash$1;function exists(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}_assert.exists=exists;function output(t,e){bytes(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}_assert.output=output;const assert$4={number:number$1,bool:bool$1,bytes,hash:hash$1,exists,output};_assert.default=assert$4;var utils$7={},crypto$4={};Object.defineProperty(crypto$4,"__esModule",{value:!0});crypto$4.crypto=void 0;crypto$4.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=crypto$4,n=_assert;function a(c){return c instanceof Uint8Array||c!=null&&typeof c=="object"&&c.constructor.name==="Uint8Array"}t.isBytes=a;const u=c=>new Uint8Array(c.buffer,c.byteOffset,c.byteLength);t.u8=u;const o=c=>new Uint32Array(c.buffer,c.byteOffset,Math.floor(c.byteLength/4));t.u32=o;const p=c=>new DataView(c.buffer,c.byteOffset,c.byteLength);t.createView=p;const m=(c,d)=>c<<32-d|c>>>d;t.rotr=m;const y=(c,d)=>c<<d|c>>>32-d>>>0;t.rotl=y,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const w=c=>c<<24&4278190080|c<<8&16711680|c>>>8&65280|c>>>24&255;t.byteSwap=w,t.byteSwapIfBE=t.isLE?c=>c:c=>(0,t.byteSwap)(c);function _(c){for(let d=0;d<c.length;d++)c[d]=(0,t.byteSwap)(c[d])}t.byteSwap32=_;const M=Array.from({length:256},(c,d)=>d.toString(16).padStart(2,"0"));function T(c){(0,n.bytes)(c);let d="";for(let b=0;b<c.length;b++)d+=M[c[b]];return d}t.bytesToHex=T;const B={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function P(c){if(c>=B._0&&c<=B._9)return c-B._0;if(c>=B._A&&c<=B._F)return c-(B._A-10);if(c>=B._a&&c<=B._f)return c-(B._a-10)}function C(c){if(typeof c!="string")throw new Error("hex string expected, got "+typeof c);const d=c.length,b=d/2;if(d%2)throw new Error("padded hex string expected, got unpadded hex of length "+d);const v=new Uint8Array(b);for(let A=0,$=0;A<b;A++,$+=2){const I=P(c.charCodeAt($)),S=P(c.charCodeAt($+1));if(I===void 0||S===void 0){const l=c[$]+c[$+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+$)}v[A]=I*16+S}return v}t.hexToBytes=C;const L=async()=>{};t.nextTick=L;async function U(c,d,b){let v=Date.now();for(let A=0;A<c;A++){b(A);const $=Date.now()-v;$>=0&&$<d||(await (0,t.nextTick)(),v+=$)}}t.asyncLoop=U;function q(c){if(typeof c!="string")throw new Error(`utf8ToBytes expected string, got ${typeof c}`);return new Uint8Array(new TextEncoder().encode(c))}t.utf8ToBytes=q;function G(c){return typeof c=="string"&&(c=q(c)),(0,n.bytes)(c),c}t.toBytes=G;function X(...c){let d=0;for(let v=0;v<c.length;v++){const A=c[v];(0,n.bytes)(A),d+=A.length}const b=new Uint8Array(d);for(let v=0,A=0;v<c.length;v++){const $=c[v];b.set($,A),A+=$.length}return b}t.concatBytes=X;class te{clone(){return this._cloneInto()}}t.Hash=te;const ne={}.toString;function ge(c,d){if(d!==void 0&&ne.call(d)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(c,d)}t.checkOpts=ge;function pe(c){const d=v=>c().update(G(v)).digest(),b=c();return d.outputLen=b.outputLen,d.blockLen=b.blockLen,d.create=()=>c(),d}t.wrapConstructor=pe;function se(c){const d=(v,A)=>c(A).update(G(v)).digest(),b=c({});return d.outputLen=b.outputLen,d.blockLen=b.blockLen,d.create=v=>c(v),d}t.wrapConstructorWithOpts=se;function Se(c){const d=(v,A)=>c(A).update(G(v)).digest(),b=c({});return d.outputLen=b.outputLen,d.blockLen=b.blockLen,d.create=v=>c(v),d}t.wrapXOFConstructorWithOpts=Se;function k(c=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(c));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=k})(utils$7);Object.defineProperty(_md,"__esModule",{value:!0});_md.HashMD=_md.Maj=_md.Chi=void 0;const _assert_js_1$1=_assert,utils_js_1$5=utils$7;function setBigUint64(t,e,n,a){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,a);const u=BigInt(32),o=BigInt(4294967295),p=Number(n>>u&o),m=Number(n&o),y=a?4:0,w=a?0:4;t.setUint32(e+y,p,a),t.setUint32(e+w,m,a)}const Chi=(t,e,n)=>t&e^~t&n;_md.Chi=Chi;const Maj=(t,e,n)=>t&e^t&n^e&n;_md.Maj=Maj;class HashMD extends utils_js_1$5.Hash{constructor(e,n,a,u){super(),this.blockLen=e,this.outputLen=n,this.padOffset=a,this.isLE=u,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,utils_js_1$5.createView)(this.buffer)}update(e){(0,_assert_js_1$1.exists)(this);const{view:n,buffer:a,blockLen:u}=this;e=(0,utils_js_1$5.toBytes)(e);const o=e.length;for(let p=0;p<o;){const m=Math.min(u-this.pos,o-p);if(m===u){const y=(0,utils_js_1$5.createView)(e);for(;u<=o-p;p+=u)this.process(y,p);continue}a.set(e.subarray(p,p+m),this.pos),this.pos+=m,p+=m,this.pos===u&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,_assert_js_1$1.exists)(this),(0,_assert_js_1$1.output)(e,this),this.finished=!0;const{buffer:n,view:a,blockLen:u,isLE:o}=this;let{pos:p}=this;n[p++]=128,this.buffer.subarray(p).fill(0),this.padOffset>u-p&&(this.process(a,0),p=0);for(let M=p;M<u;M++)n[M]=0;setBigUint64(a,u-8,BigInt(this.length*8),o),this.process(a,0);const m=(0,utils_js_1$5.createView)(e),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=y/4,_=this.get();if(w>_.length)throw new Error("_sha2: outputLen bigger than state");for(let M=0;M<w;M++)m.setUint32(4*M,_[M],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const a=e.slice(0,n);return this.destroy(),a}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:a,length:u,finished:o,destroyed:p,pos:m}=this;return e.length=u,e.pos=m,e.finished=o,e.destroyed=p,u%n&&e.buffer.set(a),e}}_md.HashMD=HashMD;Object.defineProperty(sha256$3,"__esModule",{value:!0});sha256$3.sha224=sha256_1$3=sha256$3.sha256=void 0;const _md_js_1$3=_md,utils_js_1$4=utils$7,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends _md_js_1$3.HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:e,B:n,C:a,D:u,E:o,F:p,G:m,H:y}=this;return[e,n,a,u,o,p,m,y]}set(e,n,a,u,o,p,m,y){this.A=e|0,this.B=n|0,this.C=a|0,this.D=u|0,this.E=o|0,this.F=p|0,this.G=m|0,this.H=y|0}process(e,n){for(let M=0;M<16;M++,n+=4)SHA256_W[M]=e.getUint32(n,!1);for(let M=16;M<64;M++){const T=SHA256_W[M-15],B=SHA256_W[M-2],P=(0,utils_js_1$4.rotr)(T,7)^(0,utils_js_1$4.rotr)(T,18)^T>>>3,C=(0,utils_js_1$4.rotr)(B,17)^(0,utils_js_1$4.rotr)(B,19)^B>>>10;SHA256_W[M]=C+SHA256_W[M-7]+P+SHA256_W[M-16]|0}let{A:a,B:u,C:o,D:p,E:m,F:y,G:w,H:_}=this;for(let M=0;M<64;M++){const T=(0,utils_js_1$4.rotr)(m,6)^(0,utils_js_1$4.rotr)(m,11)^(0,utils_js_1$4.rotr)(m,25),B=_+T+(0,_md_js_1$3.Chi)(m,y,w)+SHA256_K[M]+SHA256_W[M]|0,C=((0,utils_js_1$4.rotr)(a,2)^(0,utils_js_1$4.rotr)(a,13)^(0,utils_js_1$4.rotr)(a,22))+(0,_md_js_1$3.Maj)(a,u,o)|0;_=w,w=y,y=m,m=p+B|0,p=o,o=u,u=a,a=B+C|0}a=a+this.A|0,u=u+this.B|0,o=o+this.C|0,p=p+this.D|0,m=m+this.E|0,y=y+this.F|0,w=w+this.G|0,_=_+this.H|0,this.set(a,u,o,p,m,y,w,_)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}var sha256_1$3=sha256$3.sha256=(0,utils_js_1$4.wrapConstructor)(()=>new SHA256);sha256$3.sha224=(0,utils_js_1$4.wrapConstructor)(()=>new SHA224);var sha512$2={},_u64={};Object.defineProperty(_u64,"__esModule",{value:!0});_u64.add5L=_u64.add5H=_u64.add4H=_u64.add4L=_u64.add3H=_u64.add3L=_u64.add=_u64.rotlBL=_u64.rotlBH=_u64.rotlSL=_u64.rotlSH=_u64.rotr32L=_u64.rotr32H=_u64.rotrBL=_u64.rotrBH=_u64.rotrSL=_u64.rotrSH=_u64.shrSL=_u64.shrSH=_u64.toBig=_u64.split=_u64.fromBig=void 0;const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(t,e=!1){return e?{h:Number(t&U32_MASK64),l:Number(t>>_32n&U32_MASK64)}:{h:Number(t>>_32n&U32_MASK64)|0,l:Number(t&U32_MASK64)|0}}_u64.fromBig=fromBig;function split(t,e=!1){let n=new Uint32Array(t.length),a=new Uint32Array(t.length);for(let u=0;u<t.length;u++){const{h:o,l:p}=fromBig(t[u],e);[n[u],a[u]]=[o,p]}return[n,a]}_u64.split=split;const toBig=(t,e)=>BigInt(t>>>0)<<_32n|BigInt(e>>>0);_u64.toBig=toBig;const shrSH=(t,e,n)=>t>>>n;_u64.shrSH=shrSH;const shrSL=(t,e,n)=>t<<32-n|e>>>n;_u64.shrSL=shrSL;const rotrSH=(t,e,n)=>t>>>n|e<<32-n;_u64.rotrSH=rotrSH;const rotrSL=(t,e,n)=>t<<32-n|e>>>n;_u64.rotrSL=rotrSL;const rotrBH=(t,e,n)=>t<<64-n|e>>>n-32;_u64.rotrBH=rotrBH;const rotrBL=(t,e,n)=>t>>>n-32|e<<64-n;_u64.rotrBL=rotrBL;const rotr32H=(t,e)=>e;_u64.rotr32H=rotr32H;const rotr32L=(t,e)=>t;_u64.rotr32L=rotr32L;const rotlSH=(t,e,n)=>t<<n|e>>>32-n;_u64.rotlSH=rotlSH;const rotlSL=(t,e,n)=>e<<n|t>>>32-n;_u64.rotlSL=rotlSL;const rotlBH=(t,e,n)=>e<<n-32|t>>>64-n;_u64.rotlBH=rotlBH;const rotlBL=(t,e,n)=>t<<n-32|e>>>64-n;_u64.rotlBL=rotlBL;function add(t,e,n,a){const u=(e>>>0)+(a>>>0);return{h:t+n+(u/2**32|0)|0,l:u|0}}_u64.add=add;const add3L=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);_u64.add3L=add3L;const add3H=(t,e,n,a)=>e+n+a+(t/2**32|0)|0;_u64.add3H=add3H;const add4L=(t,e,n,a)=>(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0);_u64.add4L=add4L;const add4H=(t,e,n,a,u)=>e+n+a+u+(t/2**32|0)|0;_u64.add4H=add4H;const add5L=(t,e,n,a,u)=>(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0)+(u>>>0);_u64.add5L=add5L;const add5H=(t,e,n,a,u,o)=>e+n+a+u+o+(t/2**32|0)|0;_u64.add5H=add5H;const u64$2={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};_u64.default=u64$2;Object.defineProperty(sha512$2,"__esModule",{value:!0});sha512$2.sha384=sha512$2.sha512_256=sha512$2.sha512_224=sha512_1$2=sha512$2.sha512=sha512$2.SHA512=void 0;const _md_js_1$2=_md,_u64_js_1=_u64,utils_js_1$3=utils$7,[SHA512_Kh,SHA512_Kl]=_u64_js_1.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);let SHA512$1=class extends _md_js_1$2.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:a,Bl:u,Ch:o,Cl:p,Dh:m,Dl:y,Eh:w,El:_,Fh:M,Fl:T,Gh:B,Gl:P,Hh:C,Hl:L}=this;return[e,n,a,u,o,p,m,y,w,_,M,T,B,P,C,L]}set(e,n,a,u,o,p,m,y,w,_,M,T,B,P,C,L){this.Ah=e|0,this.Al=n|0,this.Bh=a|0,this.Bl=u|0,this.Ch=o|0,this.Cl=p|0,this.Dh=m|0,this.Dl=y|0,this.Eh=w|0,this.El=_|0,this.Fh=M|0,this.Fl=T|0,this.Gh=B|0,this.Gl=P|0,this.Hh=C|0,this.Hl=L|0}process(e,n){for(let G=0;G<16;G++,n+=4)SHA512_W_H[G]=e.getUint32(n),SHA512_W_L[G]=e.getUint32(n+=4);for(let G=16;G<80;G++){const X=SHA512_W_H[G-15]|0,te=SHA512_W_L[G-15]|0,ne=_u64_js_1.default.rotrSH(X,te,1)^_u64_js_1.default.rotrSH(X,te,8)^_u64_js_1.default.shrSH(X,te,7),ge=_u64_js_1.default.rotrSL(X,te,1)^_u64_js_1.default.rotrSL(X,te,8)^_u64_js_1.default.shrSL(X,te,7),pe=SHA512_W_H[G-2]|0,se=SHA512_W_L[G-2]|0,Se=_u64_js_1.default.rotrSH(pe,se,19)^_u64_js_1.default.rotrBH(pe,se,61)^_u64_js_1.default.shrSH(pe,se,6),k=_u64_js_1.default.rotrSL(pe,se,19)^_u64_js_1.default.rotrBL(pe,se,61)^_u64_js_1.default.shrSL(pe,se,6),c=_u64_js_1.default.add4L(ge,k,SHA512_W_L[G-7],SHA512_W_L[G-16]),d=_u64_js_1.default.add4H(c,ne,Se,SHA512_W_H[G-7],SHA512_W_H[G-16]);SHA512_W_H[G]=d|0,SHA512_W_L[G]=c|0}let{Ah:a,Al:u,Bh:o,Bl:p,Ch:m,Cl:y,Dh:w,Dl:_,Eh:M,El:T,Fh:B,Fl:P,Gh:C,Gl:L,Hh:U,Hl:q}=this;for(let G=0;G<80;G++){const X=_u64_js_1.default.rotrSH(M,T,14)^_u64_js_1.default.rotrSH(M,T,18)^_u64_js_1.default.rotrBH(M,T,41),te=_u64_js_1.default.rotrSL(M,T,14)^_u64_js_1.default.rotrSL(M,T,18)^_u64_js_1.default.rotrBL(M,T,41),ne=M&B^~M&C,ge=T&P^~T&L,pe=_u64_js_1.default.add5L(q,te,ge,SHA512_Kl[G],SHA512_W_L[G]),se=_u64_js_1.default.add5H(pe,U,X,ne,SHA512_Kh[G],SHA512_W_H[G]),Se=pe|0,k=_u64_js_1.default.rotrSH(a,u,28)^_u64_js_1.default.rotrBH(a,u,34)^_u64_js_1.default.rotrBH(a,u,39),c=_u64_js_1.default.rotrSL(a,u,28)^_u64_js_1.default.rotrBL(a,u,34)^_u64_js_1.default.rotrBL(a,u,39),d=a&o^a&m^o&m,b=u&p^u&y^p&y;U=C|0,q=L|0,C=B|0,L=P|0,B=M|0,P=T|0,{h:M,l:T}=_u64_js_1.default.add(w|0,_|0,se|0,Se|0),w=m|0,_=y|0,m=o|0,y=p|0,o=a|0,p=u|0;const v=_u64_js_1.default.add3L(Se,c,b);a=_u64_js_1.default.add3H(v,se,k,d),u=v|0}({h:a,l:u}=_u64_js_1.default.add(this.Ah|0,this.Al|0,a|0,u|0)),{h:o,l:p}=_u64_js_1.default.add(this.Bh|0,this.Bl|0,o|0,p|0),{h:m,l:y}=_u64_js_1.default.add(this.Ch|0,this.Cl|0,m|0,y|0),{h:w,l:_}=_u64_js_1.default.add(this.Dh|0,this.Dl|0,w|0,_|0),{h:M,l:T}=_u64_js_1.default.add(this.Eh|0,this.El|0,M|0,T|0),{h:B,l:P}=_u64_js_1.default.add(this.Fh|0,this.Fl|0,B|0,P|0),{h:C,l:L}=_u64_js_1.default.add(this.Gh|0,this.Gl|0,C|0,L|0),{h:U,l:q}=_u64_js_1.default.add(this.Hh|0,this.Hl|0,U|0,q|0),this.set(a,u,o,p,m,y,w,_,M,T,B,P,C,L,U,q)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};sha512$2.SHA512=SHA512$1;class SHA512_224 extends SHA512$1{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class SHA512_256 extends SHA512$1{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512$1{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}var sha512_1$2=sha512$2.sha512=(0,utils_js_1$3.wrapConstructor)(()=>new SHA512$1);sha512$2.sha512_224=(0,utils_js_1$3.wrapConstructor)(()=>new SHA512_224);sha512$2.sha512_256=(0,utils_js_1$3.wrapConstructor)(()=>new SHA512_256);sha512$2.sha384=(0,utils_js_1$3.wrapConstructor)(()=>new SHA384);var pbkdf2$1={},hmac={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=_assert,n=utils$7;class a extends n.Hash{constructor(p,m){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(p);const y=(0,n.toBytes)(m);if(this.iHash=p.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const w=this.blockLen,_=new Uint8Array(w);_.set(y.length>w?p.create().update(y).digest():y);for(let M=0;M<_.length;M++)_[M]^=54;this.iHash.update(_),this.oHash=p.create();for(let M=0;M<_.length;M++)_[M]^=106;this.oHash.update(_),_.fill(0)}update(p){return(0,e.exists)(this),this.iHash.update(p),this}digestInto(p){(0,e.exists)(this),(0,e.bytes)(p,this.outputLen),this.finished=!0,this.iHash.digestInto(p),this.oHash.update(p),this.oHash.digestInto(p),this.destroy()}digest(){const p=new Uint8Array(this.oHash.outputLen);return this.digestInto(p),p}_cloneInto(p){p||(p=Object.create(Object.getPrototypeOf(this),{}));const{oHash:m,iHash:y,finished:w,destroyed:_,blockLen:M,outputLen:T}=this;return p=p,p.finished=w,p.destroyed=_,p.blockLen=M,p.outputLen=T,p.oHash=m._cloneInto(p.oHash),p.iHash=y._cloneInto(p.iHash),p}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=a;const u=(o,p,m)=>new a(o,p).update(m).digest();t.hmac=u,t.hmac.create=(o,p)=>new a(o,p)})(hmac);Object.defineProperty(pbkdf2$1,"__esModule",{value:!0});pbkdf2$1.pbkdf2Async=pbkdf2$1.pbkdf2=void 0;const _assert_js_1=_assert,hmac_js_1=hmac,utils_js_1$2=utils$7;function pbkdf2Init(t,e,n,a){(0,_assert_js_1.hash)(t);const u=(0,utils_js_1$2.checkOpts)({dkLen:32,asyncTick:10},a),{c:o,dkLen:p,asyncTick:m}=u;if((0,_assert_js_1.number)(o),(0,_assert_js_1.number)(p),(0,_assert_js_1.number)(m),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const y=(0,utils_js_1$2.toBytes)(e),w=(0,utils_js_1$2.toBytes)(n),_=new Uint8Array(p),M=hmac_js_1.hmac.create(t,y),T=M._cloneInto().update(w);return{c:o,dkLen:p,asyncTick:m,DK:_,PRF:M,PRFSalt:T}}function pbkdf2Output(t,e,n,a,u){return t.destroy(),e.destroy(),a&&a.destroy(),u.fill(0),n}function pbkdf2(t,e,n,a){const{c:u,dkLen:o,DK:p,PRF:m,PRFSalt:y}=pbkdf2Init(t,e,n,a);let w;const _=new Uint8Array(4),M=(0,utils_js_1$2.createView)(_),T=new Uint8Array(m.outputLen);for(let B=1,P=0;P<o;B++,P+=m.outputLen){const C=p.subarray(P,P+m.outputLen);M.setInt32(0,B,!1),(w=y._cloneInto(w)).update(_).digestInto(T),C.set(T.subarray(0,C.length));for(let L=1;L<u;L++){m._cloneInto(w).update(T).digestInto(T);for(let U=0;U<C.length;U++)C[U]^=T[U]}}return pbkdf2Output(m,y,p,w,T)}pbkdf2$1.pbkdf2=pbkdf2;async function pbkdf2Async(t,e,n,a){const{c:u,dkLen:o,asyncTick:p,DK:m,PRF:y,PRFSalt:w}=pbkdf2Init(t,e,n,a);let _;const M=new Uint8Array(4),T=(0,utils_js_1$2.createView)(M),B=new Uint8Array(y.outputLen);for(let P=1,C=0;C<o;P++,C+=y.outputLen){const L=m.subarray(C,C+y.outputLen);T.setInt32(0,P,!1),(_=w._cloneInto(_)).update(M).digestInto(B),L.set(B.subarray(0,L.length)),await (0,utils_js_1$2.asyncLoop)(u-1,p,()=>{y._cloneInto(_).update(B).digestInto(B);for(let U=0;U<L.length;U++)L[U]^=B[U]})}return pbkdf2Output(y,w,m,_,B)}pbkdf2$1.pbkdf2Async=pbkdf2Async;var _wordlists={};const require$$0$3=["abdikace","abeceda","adresa","agrese","akce","aktovka","alej","alkohol","amputace","ananas","andulka","anekdota","anketa","antika","anulovat","archa","arogance","asfalt","asistent","aspirace","astma","astronom","atlas","atletika","atol","autobus","azyl","babka","bachor","bacil","baculka","badatel","bageta","bagr","bahno","bakterie","balada","baletka","balkon","balonek","balvan","balza","bambus","bankomat","barbar","baret","barman","baroko","barva","baterka","batoh","bavlna","bazalka","bazilika","bazuka","bedna","beran","beseda","bestie","beton","bezinka","bezmoc","beztak","bicykl","bidlo","biftek","bikiny","bilance","biograf","biolog","bitva","bizon","blahobyt","blatouch","blecha","bledule","blesk","blikat","blizna","blokovat","bloudit","blud","bobek","bobr","bodlina","bodnout","bohatost","bojkot","bojovat","bokorys","bolest","borec","borovice","bota","boubel","bouchat","bouda","boule","bourat","boxer","bradavka","brambora","branka","bratr","brepta","briketa","brko","brloh","bronz","broskev","brunetka","brusinka","brzda","brzy","bublina","bubnovat","buchta","buditel","budka","budova","bufet","bujarost","bukvice","buldok","bulva","bunda","bunkr","burza","butik","buvol","buzola","bydlet","bylina","bytovka","bzukot","capart","carevna","cedr","cedule","cejch","cejn","cela","celer","celkem","celnice","cenina","cennost","cenovka","centrum","cenzor","cestopis","cetka","chalupa","chapadlo","charita","chata","chechtat","chemie","chichot","chirurg","chlad","chleba","chlubit","chmel","chmura","chobot","chochol","chodba","cholera","chomout","chopit","choroba","chov","chrapot","chrlit","chrt","chrup","chtivost","chudina","chutnat","chvat","chvilka","chvost","chyba","chystat","chytit","cibule","cigareta","cihelna","cihla","cinkot","cirkus","cisterna","citace","citrus","cizinec","cizost","clona","cokoliv","couvat","ctitel","ctnost","cudnost","cuketa","cukr","cupot","cvaknout","cval","cvik","cvrkot","cyklista","daleko","dareba","datel","datum","dcera","debata","dechovka","decibel","deficit","deflace","dekl","dekret","demokrat","deprese","derby","deska","detektiv","dikobraz","diktovat","dioda","diplom","disk","displej","divadlo","divoch","dlaha","dlouho","dluhopis","dnes","dobro","dobytek","docent","dochutit","dodnes","dohled","dohoda","dohra","dojem","dojnice","doklad","dokola","doktor","dokument","dolar","doleva","dolina","doma","dominant","domluvit","domov","donutit","dopad","dopis","doplnit","doposud","doprovod","dopustit","dorazit","dorost","dort","dosah","doslov","dostatek","dosud","dosyta","dotaz","dotek","dotknout","doufat","doutnat","dovozce","dozadu","doznat","dozorce","drahota","drak","dramatik","dravec","draze","drdol","drobnost","drogerie","drozd","drsnost","drtit","drzost","duben","duchovno","dudek","duha","duhovka","dusit","dusno","dutost","dvojice","dvorec","dynamit","ekolog","ekonomie","elektron","elipsa","email","emise","emoce","empatie","epizoda","epocha","epopej","epos","esej","esence","eskorta","eskymo","etiketa","euforie","evoluce","exekuce","exkurze","expedice","exploze","export","extrakt","facka","fajfka","fakulta","fanatik","fantazie","farmacie","favorit","fazole","federace","fejeton","fenka","fialka","figurant","filozof","filtr","finance","finta","fixace","fjord","flanel","flirt","flotila","fond","fosfor","fotbal","fotka","foton","frakce","freska","fronta","fukar","funkce","fyzika","galeje","garant","genetika","geolog","gilotina","glazura","glejt","golem","golfista","gotika","graf","gramofon","granule","grep","gril","grog","groteska","guma","hadice","hadr","hala","halenka","hanba","hanopis","harfa","harpuna","havran","hebkost","hejkal","hejno","hejtman","hektar","helma","hematom","herec","herna","heslo","hezky","historik","hladovka","hlasivky","hlava","hledat","hlen","hlodavec","hloh","hloupost","hltat","hlubina","hluchota","hmat","hmota","hmyz","hnis","hnojivo","hnout","hoblina","hoboj","hoch","hodiny","hodlat","hodnota","hodovat","hojnost","hokej","holinka","holka","holub","homole","honitba","honorace","horal","horda","horizont","horko","horlivec","hormon","hornina","horoskop","horstvo","hospoda","hostina","hotovost","houba","houf","houpat","houska","hovor","hradba","hranice","hravost","hrazda","hrbolek","hrdina","hrdlo","hrdost","hrnek","hrobka","hromada","hrot","hrouda","hrozen","hrstka","hrubost","hryzat","hubenost","hubnout","hudba","hukot","humr","husita","hustota","hvozd","hybnost","hydrant","hygiena","hymna","hysterik","idylka","ihned","ikona","iluze","imunita","infekce","inflace","inkaso","inovace","inspekce","internet","invalida","investor","inzerce","ironie","jablko","jachta","jahoda","jakmile","jakost","jalovec","jantar","jarmark","jaro","jasan","jasno","jatka","javor","jazyk","jedinec","jedle","jednatel","jehlan","jekot","jelen","jelito","jemnost","jenom","jepice","jeseter","jevit","jezdec","jezero","jinak","jindy","jinoch","jiskra","jistota","jitrnice","jizva","jmenovat","jogurt","jurta","kabaret","kabel","kabinet","kachna","kadet","kadidlo","kahan","kajak","kajuta","kakao","kaktus","kalamita","kalhoty","kalibr","kalnost","kamera","kamkoliv","kamna","kanibal","kanoe","kantor","kapalina","kapela","kapitola","kapka","kaple","kapota","kapr","kapusta","kapybara","karamel","karotka","karton","kasa","katalog","katedra","kauce","kauza","kavalec","kazajka","kazeta","kazivost","kdekoliv","kdesi","kedluben","kemp","keramika","kino","klacek","kladivo","klam","klapot","klasika","klaun","klec","klenba","klepat","klesnout","klid","klima","klisna","klobouk","klokan","klopa","kloub","klubovna","klusat","kluzkost","kmen","kmitat","kmotr","kniha","knot","koalice","koberec","kobka","kobliha","kobyla","kocour","kohout","kojenec","kokos","koktejl","kolaps","koleda","kolize","kolo","komando","kometa","komik","komnata","komora","kompas","komunita","konat","koncept","kondice","konec","konfese","kongres","konina","konkurs","kontakt","konzerva","kopanec","kopie","kopnout","koprovka","korbel","korektor","kormidlo","koroptev","korpus","koruna","koryto","korzet","kosatec","kostka","kotel","kotleta","kotoul","koukat","koupelna","kousek","kouzlo","kovboj","koza","kozoroh","krabice","krach","krajina","kralovat","krasopis","kravata","kredit","krejcar","kresba","kreveta","kriket","kritik","krize","krkavec","krmelec","krmivo","krocan","krok","kronika","kropit","kroupa","krovka","krtek","kruhadlo","krupice","krutost","krvinka","krychle","krypta","krystal","kryt","kudlanka","kufr","kujnost","kukla","kulajda","kulich","kulka","kulomet","kultura","kuna","kupodivu","kurt","kurzor","kutil","kvalita","kvasinka","kvestor","kynolog","kyselina","kytara","kytice","kytka","kytovec","kyvadlo","labrador","lachtan","ladnost","laik","lakomec","lamela","lampa","lanovka","lasice","laso","lastura","latinka","lavina","lebka","leckdy","leden","lednice","ledovka","ledvina","legenda","legie","legrace","lehce","lehkost","lehnout","lektvar","lenochod","lentilka","lepenka","lepidlo","letadlo","letec","letmo","letokruh","levhart","levitace","levobok","libra","lichotka","lidojed","lidskost","lihovina","lijavec","lilek","limetka","linie","linka","linoleum","listopad","litina","litovat","lobista","lodivod","logika","logoped","lokalita","loket","lomcovat","lopata","lopuch","lord","losos","lotr","loudal","louh","louka","louskat","lovec","lstivost","lucerna","lucifer","lump","lusk","lustrace","lvice","lyra","lyrika","lysina","madam","madlo","magistr","mahagon","majetek","majitel","majorita","makak","makovice","makrela","malba","malina","malovat","malvice","maminka","mandle","manko","marnost","masakr","maskot","masopust","matice","matrika","maturita","mazanec","mazivo","mazlit","mazurka","mdloba","mechanik","meditace","medovina","melasa","meloun","mentolka","metla","metoda","metr","mezera","migrace","mihnout","mihule","mikina","mikrofon","milenec","milimetr","milost","mimika","mincovna","minibar","minomet","minulost","miska","mistr","mixovat","mladost","mlha","mlhovina","mlok","mlsat","mluvit","mnich","mnohem","mobil","mocnost","modelka","modlitba","mohyla","mokro","molekula","momentka","monarcha","monokl","monstrum","montovat","monzun","mosaz","moskyt","most","motivace","motorka","motyka","moucha","moudrost","mozaika","mozek","mozol","mramor","mravenec","mrkev","mrtvola","mrzet","mrzutost","mstitel","mudrc","muflon","mulat","mumie","munice","muset","mutace","muzeum","muzikant","myslivec","mzda","nabourat","nachytat","nadace","nadbytek","nadhoz","nadobro","nadpis","nahlas","nahnat","nahodile","nahradit","naivita","najednou","najisto","najmout","naklonit","nakonec","nakrmit","nalevo","namazat","namluvit","nanometr","naoko","naopak","naostro","napadat","napevno","naplnit","napnout","naposled","naprosto","narodit","naruby","narychlo","nasadit","nasekat","naslepo","nastat","natolik","navenek","navrch","navzdory","nazvat","nebe","nechat","necky","nedaleko","nedbat","neduh","negace","nehet","nehoda","nejen","nejprve","neklid","nelibost","nemilost","nemoc","neochota","neonka","nepokoj","nerost","nerv","nesmysl","nesoulad","netvor","neuron","nevina","nezvykle","nicota","nijak","nikam","nikdy","nikl","nikterak","nitro","nocleh","nohavice","nominace","nora","norek","nositel","nosnost","nouze","noviny","novota","nozdra","nuda","nudle","nuget","nutit","nutnost","nutrie","nymfa","obal","obarvit","obava","obdiv","obec","obehnat","obejmout","obezita","obhajoba","obilnice","objasnit","objekt","obklopit","oblast","oblek","obliba","obloha","obluda","obnos","obohatit","obojek","obout","obrazec","obrna","obruba","obrys","obsah","obsluha","obstarat","obuv","obvaz","obvinit","obvod","obvykle","obyvatel","obzor","ocas","ocel","ocenit","ochladit","ochota","ochrana","ocitnout","odboj","odbyt","odchod","odcizit","odebrat","odeslat","odevzdat","odezva","odhadce","odhodit","odjet","odjinud","odkaz","odkoupit","odliv","odluka","odmlka","odolnost","odpad","odpis","odplout","odpor","odpustit","odpykat","odrazka","odsoudit","odstup","odsun","odtok","odtud","odvaha","odveta","odvolat","odvracet","odznak","ofina","ofsajd","ohlas","ohnisko","ohrada","ohrozit","ohryzek","okap","okenice","oklika","okno","okouzlit","okovy","okrasa","okres","okrsek","okruh","okupant","okurka","okusit","olejnina","olizovat","omak","omeleta","omezit","omladina","omlouvat","omluva","omyl","onehdy","opakovat","opasek","operace","opice","opilost","opisovat","opora","opozice","opravdu","oproti","orbital","orchestr","orgie","orlice","orloj","ortel","osada","oschnout","osika","osivo","oslava","oslepit","oslnit","oslovit","osnova","osoba","osolit","ospalec","osten","ostraha","ostuda","ostych","osvojit","oteplit","otisk","otop","otrhat","otrlost","otrok","otruby","otvor","ovanout","ovar","oves","ovlivnit","ovoce","oxid","ozdoba","pachatel","pacient","padouch","pahorek","pakt","palanda","palec","palivo","paluba","pamflet","pamlsek","panenka","panika","panna","panovat","panstvo","pantofle","paprika","parketa","parodie","parta","paruka","paryba","paseka","pasivita","pastelka","patent","patrona","pavouk","pazneht","pazourek","pecka","pedagog","pejsek","peklo","peloton","penalta","pendrek","penze","periskop","pero","pestrost","petarda","petice","petrolej","pevnina","pexeso","pianista","piha","pijavice","pikle","piknik","pilina","pilnost","pilulka","pinzeta","pipeta","pisatel","pistole","pitevna","pivnice","pivovar","placenta","plakat","plamen","planeta","plastika","platit","plavidlo","plaz","plech","plemeno","plenta","ples","pletivo","plevel","plivat","plnit","plno","plocha","plodina","plomba","plout","pluk","plyn","pobavit","pobyt","pochod","pocit","poctivec","podat","podcenit","podepsat","podhled","podivit","podklad","podmanit","podnik","podoba","podpora","podraz","podstata","podvod","podzim","poezie","pohanka","pohnutka","pohovor","pohroma","pohyb","pointa","pojistka","pojmout","pokazit","pokles","pokoj","pokrok","pokuta","pokyn","poledne","polibek","polknout","poloha","polynom","pomalu","pominout","pomlka","pomoc","pomsta","pomyslet","ponechat","ponorka","ponurost","popadat","popel","popisek","poplach","poprosit","popsat","popud","poradce","porce","porod","porucha","poryv","posadit","posed","posila","poskok","poslanec","posoudit","pospolu","postava","posudek","posyp","potah","potkan","potlesk","potomek","potrava","potupa","potvora","poukaz","pouto","pouzdro","povaha","povidla","povlak","povoz","povrch","povstat","povyk","povzdech","pozdrav","pozemek","poznatek","pozor","pozvat","pracovat","prahory","praktika","prales","praotec","praporek","prase","pravda","princip","prkno","probudit","procento","prodej","profese","prohra","projekt","prolomit","promile","pronikat","propad","prorok","prosba","proton","proutek","provaz","prskavka","prsten","prudkost","prut","prvek","prvohory","psanec","psovod","pstruh","ptactvo","puberta","puch","pudl","pukavec","puklina","pukrle","pult","pumpa","punc","pupen","pusa","pusinka","pustina","putovat","putyka","pyramida","pysk","pytel","racek","rachot","radiace","radnice","radon","raft","ragby","raketa","rakovina","rameno","rampouch","rande","rarach","rarita","rasovna","rastr","ratolest","razance","razidlo","reagovat","reakce","recept","redaktor","referent","reflex","rejnok","reklama","rekord","rekrut","rektor","reputace","revize","revma","revolver","rezerva","riskovat","riziko","robotika","rodokmen","rohovka","rokle","rokoko","romaneto","ropovod","ropucha","rorejs","rosol","rostlina","rotmistr","rotoped","rotunda","roubenka","roucho","roup","roura","rovina","rovnice","rozbor","rozchod","rozdat","rozeznat","rozhodce","rozinka","rozjezd","rozkaz","rozloha","rozmar","rozpad","rozruch","rozsah","roztok","rozum","rozvod","rubrika","ruchadlo","rukavice","rukopis","ryba","rybolov","rychlost","rydlo","rypadlo","rytina","ryzost","sadista","sahat","sako","samec","samizdat","samota","sanitka","sardinka","sasanka","satelit","sazba","sazenice","sbor","schovat","sebranka","secese","sedadlo","sediment","sedlo","sehnat","sejmout","sekera","sekta","sekunda","sekvoje","semeno","seno","servis","sesadit","seshora","seskok","seslat","sestra","sesuv","sesypat","setba","setina","setkat","setnout","setrvat","sever","seznam","shoda","shrnout","sifon","silnice","sirka","sirotek","sirup","situace","skafandr","skalisko","skanzen","skaut","skeptik","skica","skladba","sklenice","sklo","skluz","skoba","skokan","skoro","skripta","skrz","skupina","skvost","skvrna","slabika","sladidlo","slanina","slast","slavnost","sledovat","slepec","sleva","slezina","slib","slina","sliznice","slon","sloupek","slovo","sluch","sluha","slunce","slupka","slza","smaragd","smetana","smilstvo","smlouva","smog","smrad","smrk","smrtka","smutek","smysl","snad","snaha","snob","sobota","socha","sodovka","sokol","sopka","sotva","souboj","soucit","soudce","souhlas","soulad","soumrak","souprava","soused","soutok","souviset","spalovna","spasitel","spis","splav","spodek","spojenec","spolu","sponzor","spornost","spousta","sprcha","spustit","sranda","sraz","srdce","srna","srnec","srovnat","srpen","srst","srub","stanice","starosta","statika","stavba","stehno","stezka","stodola","stolek","stopa","storno","stoupat","strach","stres","strhnout","strom","struna","studna","stupnice","stvol","styk","subjekt","subtropy","suchar","sudost","sukno","sundat","sunout","surikata","surovina","svah","svalstvo","svetr","svatba","svazek","svisle","svitek","svoboda","svodidlo","svorka","svrab","sykavka","sykot","synek","synovec","sypat","sypkost","syrovost","sysel","sytost","tabletka","tabule","tahoun","tajemno","tajfun","tajga","tajit","tajnost","taktika","tamhle","tampon","tancovat","tanec","tanker","tapeta","tavenina","tazatel","technika","tehdy","tekutina","telefon","temnota","tendence","tenista","tenor","teplota","tepna","teprve","terapie","termoska","textil","ticho","tiskopis","titulek","tkadlec","tkanina","tlapka","tleskat","tlukot","tlupa","tmel","toaleta","topinka","topol","torzo","touha","toulec","tradice","traktor","tramp","trasa","traverza","trefit","trest","trezor","trhavina","trhlina","trochu","trojice","troska","trouba","trpce","trpitel","trpkost","trubec","truchlit","truhlice","trus","trvat","tudy","tuhnout","tuhost","tundra","turista","turnaj","tuzemsko","tvaroh","tvorba","tvrdost","tvrz","tygr","tykev","ubohost","uboze","ubrat","ubrousek","ubrus","ubytovna","ucho","uctivost","udivit","uhradit","ujednat","ujistit","ujmout","ukazatel","uklidnit","uklonit","ukotvit","ukrojit","ulice","ulita","ulovit","umyvadlo","unavit","uniforma","uniknout","upadnout","uplatnit","uplynout","upoutat","upravit","uran","urazit","usednout","usilovat","usmrtit","usnadnit","usnout","usoudit","ustlat","ustrnout","utahovat","utkat","utlumit","utonout","utopenec","utrousit","uvalit","uvolnit","uvozovka","uzdravit","uzel","uzenina","uzlina","uznat","vagon","valcha","valoun","vana","vandal","vanilka","varan","varhany","varovat","vcelku","vchod","vdova","vedro","vegetace","vejce","velbloud","veletrh","velitel","velmoc","velryba","venkov","veranda","verze","veselka","veskrze","vesnice","vespodu","vesta","veterina","veverka","vibrace","vichr","videohra","vidina","vidle","vila","vinice","viset","vitalita","vize","vizitka","vjezd","vklad","vkus","vlajka","vlak","vlasec","vlevo","vlhkost","vliv","vlnovka","vloupat","vnucovat","vnuk","voda","vodivost","vodoznak","vodstvo","vojensky","vojna","vojsko","volant","volba","volit","volno","voskovka","vozidlo","vozovna","vpravo","vrabec","vracet","vrah","vrata","vrba","vrcholek","vrhat","vrstva","vrtule","vsadit","vstoupit","vstup","vtip","vybavit","vybrat","vychovat","vydat","vydra","vyfotit","vyhledat","vyhnout","vyhodit","vyhradit","vyhubit","vyjasnit","vyjet","vyjmout","vyklopit","vykonat","vylekat","vymazat","vymezit","vymizet","vymyslet","vynechat","vynikat","vynutit","vypadat","vyplatit","vypravit","vypustit","vyrazit","vyrovnat","vyrvat","vyslovit","vysoko","vystavit","vysunout","vysypat","vytasit","vytesat","vytratit","vyvinout","vyvolat","vyvrhel","vyzdobit","vyznat","vzadu","vzbudit","vzchopit","vzdor","vzduch","vzdychat","vzestup","vzhledem","vzkaz","vzlykat","vznik","vzorek","vzpoura","vztah","vztek","xylofon","zabrat","zabydlet","zachovat","zadarmo","zadusit","zafoukat","zahltit","zahodit","zahrada","zahynout","zajatec","zajet","zajistit","zaklepat","zakoupit","zalepit","zamezit","zamotat","zamyslet","zanechat","zanikat","zaplatit","zapojit","zapsat","zarazit","zastavit","zasunout","zatajit","zatemnit","zatknout","zaujmout","zavalit","zavelet","zavinit","zavolat","zavrtat","zazvonit","zbavit","zbrusu","zbudovat","zbytek","zdaleka","zdarma","zdatnost","zdivo","zdobit","zdroj","zdvih","zdymadlo","zelenina","zeman","zemina","zeptat","zezadu","zezdola","zhatit","zhltnout","zhluboka","zhotovit","zhruba","zima","zimnice","zjemnit","zklamat","zkoumat","zkratka","zkumavka","zlato","zlehka","zloba","zlom","zlost","zlozvyk","zmapovat","zmar","zmatek","zmije","zmizet","zmocnit","zmodrat","zmrzlina","zmutovat","znak","znalost","znamenat","znovu","zobrazit","zotavit","zoubek","zoufale","zplodit","zpomalit","zprava","zprostit","zprudka","zprvu","zrada","zranit","zrcadlo","zrnitost","zrno","zrovna","zrychlit","zrzavost","zticha","ztratit","zubovina","zubr","zvednout","zvenku","zvesela","zvon","zvrat","zvukovod","zvyk"],require$$1$2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],require$$2$2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],require$$3=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],require$$4$1=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","academie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acquerir","acronyme","acteur","actif","actuel","adepte","adequat","adhesif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","aerer","aeronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agreable","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","algebre","algue","aliener","aliment","alleger","alliage","allouer","allumer","alourdir","alpaga","altesse","alveole","amateur","ambigu","ambre","amenager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","aneantir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","aperitif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arteriel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","banniere","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","belier","belote","benefice","berceau","berger","berline","bermuda","besace","besogne","betail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","breche","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafeine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","camera","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","cedille","ceinture","celeste","cellule","cendrier","censurer","central","cercle","cerebral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","chequier","chercher","cheval","chien","chiffre","chignon","chimere","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cinema","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohesion","coiffer","coincer","colere","colibri","colline","colmater","colonel","combat","comedie","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","cortege","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","creature","crediter","cremeux","creuser","crevette","cribler","crier","cristal","critere","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuillere","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","debattre","debiter","deborder","debrider","debutant","decaler","decembre","dechirer","decider","declarer","decorer","decrire","decupler","dedale","deductif","deesse","defensif","defiler","defrayer","degager","degivrer","deglutir","degrafer","dejeuner","delice","deloger","demander","demeurer","demolir","denicher","denouer","dentelle","denuder","depart","depenser","dephaser","deplacer","deposer","deranger","derober","desastre","descente","desert","designer","desobeir","dessiner","destrier","detacher","detester","detourer","detresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","differer","digerer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","eblouir","ecarter","echarpe","echelle","eclairer","eclipse","eclore","ecluse","ecole","economie","ecorce","ecouter","ecraser","ecremer","ecrivain","ecrou","ecume","ecureuil","edifier","eduquer","effacer","effectif","effigie","effort","effrayer","effusion","egaliser","egarer","ejecter","elaborer","elargir","electron","elegant","elephant","eleve","eligible","elitisme","eloge","elucider","eluder","emballer","embellir","embryon","emeraude","emission","emmener","emotion","emouvoir","empereur","employer","emporter","emprise","emulsion","encadrer","enchere","enclave","encoche","endiguer","endosser","endroit","enduire","energie","enfance","enfermer","enfouir","engager","engin","englober","enigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","enumerer","envahir","enviable","envoyer","enzyme","eolien","epaissir","epargne","epatant","epaule","epicerie","epidemie","epier","epilogue","epine","episode","epitaphe","epoque","epreuve","eprouver","epuisant","equerre","equipe","eriger","erosion","erreur","eruption","escalier","espadon","espece","espiegle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","etagere","etaler","etanche","etatique","eteindre","etendoir","eternel","ethanol","ethique","ethnie","etirer","etoffer","etoile","etonnant","etourdir","etrange","etroit","etude","euphorie","evaluer","evasion","eventail","evidence","eviter","evolutif","evoquer","exact","exagerer","exaucer","exceller","excitant","exclusif","excuse","executer","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expedier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","febrile","feconder","federer","felin","femme","femur","fendoir","feodal","fermer","feroce","ferveur","festival","feuille","feutre","fevrier","fiasco","ficeler","fictif","fidele","figure","filature","filetage","filiere","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fleau","fleche","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fougere","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fregate","freiner","frelon","fremir","frenesie","frere","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","geant","gelatine","gelule","gendarme","general","genie","genou","gentil","geologie","geometre","geranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruyere","guepard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","helium","hematome","herbe","herisson","hermine","heron","hesiter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homogene","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygiene","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","imperial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","inedit","ineptie","inexact","infini","infliger","informer","infusion","ingerer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irreel","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juvenile","kayak","kimono","kiosque","label","labial","labourer","lacerer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","legal","leger","legume","lessive","lettre","levier","lexique","lezard","liasse","liberer","libre","licence","licorne","liege","lievre","ligature","ligoter","ligue","limer","limite","limonade","limpide","lineaire","lingot","lionceau","liquide","lisiere","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumiere","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","malefice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","materiel","matiere","matraque","maudire","maussade","mauve","maximal","mechant","meconnu","medaille","medecin","mediter","meduse","meilleur","melange","melodie","membre","memoire","menacer","mener","menhir","mensonge","mentor","mercredi","merite","merle","messager","mesure","metal","meteore","methode","metier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mineral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","murene","murmure","muscle","museum","musicien","mutation","muter","mutuel","myriade","myrtille","mystere","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","nebuleux","nectar","nefaste","negation","negliger","negocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","numero","nuptial","nuque","nutritif","obeir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","ocean","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","onereux","onirique","opale","opaque","operer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxygene","ozone","paisible","palace","palmares","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","pasteque","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pelican","pelle","pelouse","peluche","pendule","penetrer","penible","pensif","penurie","pepite","peplum","perdrix","perforer","periode","permuter","perplexe","persil","perte","peser","petale","petit","petrir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","piece","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poesie","poete","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponderer","poney","portique","position","posseder","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","precieux","predire","prefixe","prelude","prenom","presence","pretexte","prevoir","primitif","prince","prison","priver","probleme","proceder","prodige","profond","progres","proie","projeter","prologue","promener","propre","prospere","proteger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quietude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","reactif","reagir","realiser","reanimer","recevoir","reciter","reclamer","recolter","recruter","reculer","recycler","rediger","redouter","refaire","reflexe","reformer","refrain","refuge","regalien","region","reglage","regulier","reiterer","rejeter","rejouer","relatif","relever","relief","remarque","remede","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","reserve","resineux","resoudre","respect","rester","resultat","retablir","retenir","reticule","retomber","retracer","reunion","reussir","revanche","revivre","revolte","revulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","riviere","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","scelerat","scenario","sceptre","schema","science","scinder","score","scrutin","sculpter","seance","secable","secher","secouer","secreter","sedatif","seduire","seigneur","sejour","selectif","semaine","sembler","semence","seminal","senateur","sensible","sentence","separer","sequence","serein","sergent","serieux","serrure","serum","service","sesame","sevir","sevrage","sextuple","sideral","siecle","sieger","siffler","sigle","signal","silence","silicium","simple","sincere","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","special","sphere","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succes","sucre","suffixe","suggerer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","symetrie","synapse","syntaxe","systeme","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","temoin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","tetine","texte","theme","theorie","therapie","thorax","tibia","tiede","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tolerant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","trefle","tremper","tresor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","vegetal","vehicule","veinard","veloce","vendredi","venerer","venger","venimeux","ventouse","verdure","verin","vernir","verrou","verser","vertu","veston","veteran","vetuste","vexant","vexer","viaduc","viande","victoire","vidange","video","vignette","vigueur","vilain","village","vinaigre","violon","vipere","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xenon","yacht","zebre","zenith","zeste","zoologie"],require$$5=["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"],require$$6$1=["abaco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","accion","aceite","acelga","acento","aceptar","acido","aclarar","acne","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","aereo","afectar","aficion","afinar","afirmar","agil","agitar","agonia","agosto","agotar","agregar","agrio","agua","agudo","aguila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacran","alambre","alarma","alba","album","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodon","aliado","aliento","alivio","alma","almeja","almibar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","ambar","ambito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","anden","anemia","angulo","anillo","animo","anis","anotar","antena","antiguo","antojo","anual","anular","anuncio","anadir","anejo","ano","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","arana","arar","arbitro","arbol","arbusto","archivo","arco","arder","ardilla","arduo","area","arido","aries","armonia","arnes","aroma","arpa","arpon","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","aspero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","atico","atleta","atomo","atraer","atroz","atun","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avion","aviso","ayer","ayuda","ayuno","azafran","azar","azote","azucar","azufre","azul","baba","babor","bache","bahia","baile","bajar","balanza","balcon","balde","bambu","banco","banda","bano","barba","barco","barniz","barro","bascula","baston","basura","batalla","bateria","batir","batuta","baul","bazar","bebe","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsai","borde","borrar","bosque","bote","botin","boveda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufon","buho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzon","caballo","cabeza","cabina","cabra","cacao","cadaver","cadena","caer","cafe","caida","caiman","caja","cajon","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","cancer","candil","canela","canguro","canica","canto","cana","canon","caoba","caos","capaz","capitan","capote","captar","capucha","cara","carbon","carcel","careta","carga","carino","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","celebre","celoso","celula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","cesped","cetro","chacal","chaleco","champu","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclon","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","cipres","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","clinica","cobre","coccion","cochino","cocina","coco","codigo","codo","cofre","coger","cohete","cojin","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","comodo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazon","corbata","corcho","cordon","corona","correr","coser","cosmos","costa","craneo","crater","crear","crecer","creido","crema","cria","crimen","cripta","crisis","cromo","cronica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupon","cupula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","datil","deber","debil","decada","decir","dedo","defensa","definir","dejar","delfin","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvio","detalle","detener","deuda","dia","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","dificil","digno","dilema","diluir","dinero","directo","dirigir","disco","diseno","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","dragon","droga","ducha","duda","duelo","dueno","dulce","duo","duque","durar","dureza","duro","ebano","ebrio","echar","eco","ecuador","edad","edicion","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","elite","elixir","elogio","eludir","embudo","emitir","emocion","empate","empeno","empleo","empresa","enano","encargo","enchufe","encia","enemigo","enero","enfado","enfermo","engano","enigma","enlace","enorme","enredo","ensayo","ensenar","entero","entrar","envase","envio","epoca","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espia","esposa","espuma","esqui","estar","este","estilo","estufa","etapa","eterno","etica","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","exito","experto","explicar","exponer","extremo","fabrica","fabula","fachada","facil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","faraon","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fertil","fervor","festin","fiable","fianza","fiar","fibra","ficcion","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","fluor","fobia","foca","fogata","fogon","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","fragil","franja","frase","fraude","freir","freno","fresa","frio","frito","fruta","fuego","fuente","fuerza","fuga","fumar","funcion","funda","furgon","furia","fusil","futbol","futuro","gacela","gafas","gaita","gajo","gala","galeria","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavilan","gemelo","gemir","gen","genero","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","grafico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","grua","grueso","grumo","grupo","guante","guapo","guardia","guerra","guia","guino","guion","guiso","guitarra","gusano","gustar","haber","habil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazana","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","heroe","hervir","hielo","hierro","higado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","humedo","humilde","humo","hundir","huracan","hurto","icono","ideal","idioma","idolo","iglesia","iglu","igual","ilegal","ilusion","imagen","iman","imitar","impar","imperio","imponer","impulso","incapaz","indice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","interes","intimo","intuir","inutil","invierno","ira","iris","ironia","isla","islote","jabali","jabon","jamon","jarabe","jardin","jarra","jaula","jazmin","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","jupiter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladron","lagarto","lagrima","laguna","laico","lamer","lamina","lampara","lana","lancha","langosta","lanza","lapiz","largo","larva","lastima","lata","latex","latir","laurel","lavar","lazo","leal","leccion","leche","lector","leer","legion","legumbre","lejano","lengua","lento","lena","leon","leopardo","lesion","letal","letra","leve","leyenda","libertad","libro","licor","lider","lidiar","lienzo","liga","ligero","lima","limite","limon","limpio","lince","lindo","linea","lingote","lino","linterna","liquido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","locion","loco","locura","logica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","maiz","maldad","maleta","malla","malo","mama","mambo","mamut","manco","mando","manejar","manga","maniqui","manjar","mano","manso","manta","manana","mapa","maquina","mar","marco","marea","marfil","margen","marido","marmol","marron","martes","marzo","masa","mascara","masivo","matar","materia","matiz","matriz","maximo","mayor","mazorca","mecha","medalla","medio","medula","mejilla","mejor","melena","melon","memoria","menor","mensaje","mente","menu","mercado","merengue","merito","mes","meson","meta","meter","metodo","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millon","mimo","mina","minero","minimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","mocion","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","mono","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","movil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","muneca","mural","muro","musculo","museo","musgo","musica","muslo","nacar","nacion","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","nausea","naval","nave","navidad","necio","nectar","negar","negocio","negro","neon","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","ninez","nino","nitido","nivel","nobleza","noche","nomina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","nucleo","nudillo","nudo","nuera","nueve","nuez","nulo","numero","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","oceano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oido","oir","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opcion","opera","opinar","oponer","optar","optica","opuesto","oracion","orador","oral","orbita","orca","orden","oreja","organo","orgia","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadia","oscuro","osezno","oso","ostra","otono","otro","oveja","ovulo","oxido","oxigeno","oyente","ozono","pacto","padre","paella","pagina","pago","pais","pajaro","palabra","palco","paleta","palido","palma","paloma","palpar","pan","panal","panico","pantera","panuelo","papa","papel","papilla","paquete","parar","parcela","pared","parir","paro","parpado","parque","parrafo","parte","pasar","paseo","pasion","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peaton","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldano","pelea","peligro","pellejo","pelo","peluca","pena","pensar","penon","peon","peor","pepino","pequeno","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pesimo","pestana","petalo","petroleo","pez","pezuna","picar","pichon","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","pina","piojo","pipa","pirata","pisar","piscina","piso","pista","piton","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesia","poeta","polen","policia","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porcion","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","principe","prision","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","proximo","prueba","publico","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmon","pulpo","pulso","puma","punto","punal","puno","pupa","pupila","pure","quedar","queja","quemar","querer","queso","quieto","quimica","quince","quitar","rabano","rabia","rabo","racion","radical","raiz","rama","rampa","rancho","rango","rapaz","rapido","rapto","rasgo","raspa","rato","rayo","raza","razon","reaccion","realidad","rebano","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refran","refugio","regalo","regir","regla","regreso","rehen","reino","reir","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","reves","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","rigido","rigor","rincon","rinon","rio","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubi","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sabado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmon","salon","salsa","salto","salud","salvar","samba","sancion","sandia","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sarten","sastre","satan","sauna","saxofon","seccion","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","senal","senor","separar","sepia","sequia","ser","serie","sermon","servir","sesenta","sesion","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","silaba","silbar","silencio","silla","simbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","solido","soltar","solucion","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","sosten","sotano","suave","subir","suceso","sudor","suegra","suelo","sueno","suerte","sufrir","sujeto","sultan","sumar","superar","suplir","suponer","supremo","sur","surco","sureno","surgir","susto","sutil","tabaco","tabique","tabla","tabu","taco","tacto","tajo","talar","talco","talento","talla","talon","tamano","tambor","tango","tanque","tapa","tapete","tapia","tapon","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazon","teatro","techo","tecla","tecnica","tejado","tejer","tejido","tela","telefono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teoria","terapia","terco","termino","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburon","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","timido","timo","tinta","tio","tipico","tipo","tira","tiron","titan","titere","titulo","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","torax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","toxico","trabajo","tractor","traer","trafico","trago","traje","tramo","trance","trato","trauma","trazar","trebol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tuberia","tubo","tuerto","tumba","tumor","tunel","tunica","turbina","turismo","turno","tutor","ubicar","ulcera","umbral","unidad","unir","universo","uno","untar","una","urbano","urbe","urgente","urna","usar","usuario","util","utopia","uva","vaca","vacio","vacuna","vagar","vago","vaina","vajilla","vale","valido","valle","valor","valvula","vampiro","vara","variar","varon","vaso","vecino","vector","vehiculo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","via","viaje","vibrar","vicio","victima","vida","video","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","vinedo","violin","viral","virgo","virtud","visor","vispera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volcan","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"],require$$7=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],require$$8=["abacate","abaixo","abalar","abater","abduzir","abelha","aberto","abismo","abotoar","abranger","abreviar","abrigar","abrupto","absinto","absoluto","absurdo","abutre","acabado","acalmar","acampar","acanhar","acaso","aceitar","acelerar","acenar","acervo","acessar","acetona","achatar","acidez","acima","acionado","acirrar","aclamar","aclive","acolhida","acomodar","acoplar","acordar","acumular","acusador","adaptar","adega","adentro","adepto","adequar","aderente","adesivo","adeus","adiante","aditivo","adjetivo","adjunto","admirar","adorar","adquirir","adubo","adverso","advogado","aeronave","afastar","aferir","afetivo","afinador","afivelar","aflito","afluente","afrontar","agachar","agarrar","agasalho","agenciar","agilizar","agiota","agitado","agora","agradar","agreste","agrupar","aguardar","agulha","ajoelhar","ajudar","ajustar","alameda","alarme","alastrar","alavanca","albergue","albino","alcatra","aldeia","alecrim","alegria","alertar","alface","alfinete","algum","alheio","aliar","alicate","alienar","alinhar","aliviar","almofada","alocar","alpiste","alterar","altitude","alucinar","alugar","aluno","alusivo","alvo","amaciar","amador","amarelo","amassar","ambas","ambiente","ameixa","amenizar","amido","amistoso","amizade","amolador","amontoar","amoroso","amostra","amparar","ampliar","ampola","anagrama","analisar","anarquia","anatomia","andaime","anel","anexo","angular","animar","anjo","anomalia","anotado","ansioso","anterior","anuidade","anunciar","anzol","apagador","apalpar","apanhado","apego","apelido","apertada","apesar","apetite","apito","aplauso","aplicada","apoio","apontar","aposta","aprendiz","aprovar","aquecer","arame","aranha","arara","arcada","ardente","areia","arejar","arenito","aresta","argiloso","argola","arma","arquivo","arraial","arrebate","arriscar","arroba","arrumar","arsenal","arterial","artigo","arvoredo","asfaltar","asilado","aspirar","assador","assinar","assoalho","assunto","astral","atacado","atadura","atalho","atarefar","atear","atender","aterro","ateu","atingir","atirador","ativo","atoleiro","atracar","atrevido","atriz","atual","atum","auditor","aumentar","aura","aurora","autismo","autoria","autuar","avaliar","avante","avaria","avental","avesso","aviador","avisar","avulso","axila","azarar","azedo","azeite","azulejo","babar","babosa","bacalhau","bacharel","bacia","bagagem","baiano","bailar","baioneta","bairro","baixista","bajular","baleia","baliza","balsa","banal","bandeira","banho","banir","banquete","barato","barbado","baronesa","barraca","barulho","baseado","bastante","batata","batedor","batida","batom","batucar","baunilha","beber","beijo","beirada","beisebol","beldade","beleza","belga","beliscar","bendito","bengala","benzer","berimbau","berlinda","berro","besouro","bexiga","bezerro","bico","bicudo","bienal","bifocal","bifurcar","bigorna","bilhete","bimestre","bimotor","biologia","biombo","biosfera","bipolar","birrento","biscoito","bisneto","bispo","bissexto","bitola","bizarro","blindado","bloco","bloquear","boato","bobagem","bocado","bocejo","bochecha","boicotar","bolada","boletim","bolha","bolo","bombeiro","bonde","boneco","bonita","borbulha","borda","boreal","borracha","bovino","boxeador","branco","brasa","braveza","breu","briga","brilho","brincar","broa","brochura","bronzear","broto","bruxo","bucha","budismo","bufar","bule","buraco","busca","busto","buzina","cabana","cabelo","cabide","cabo","cabrito","cacau","cacetada","cachorro","cacique","cadastro","cadeado","cafezal","caiaque","caipira","caixote","cajado","caju","calafrio","calcular","caldeira","calibrar","calmante","calota","camada","cambista","camisa","camomila","campanha","camuflar","canavial","cancelar","caneta","canguru","canhoto","canivete","canoa","cansado","cantar","canudo","capacho","capela","capinar","capotar","capricho","captador","capuz","caracol","carbono","cardeal","careca","carimbar","carneiro","carpete","carreira","cartaz","carvalho","casaco","casca","casebre","castelo","casulo","catarata","cativar","caule","causador","cautelar","cavalo","caverna","cebola","cedilha","cegonha","celebrar","celular","cenoura","censo","centeio","cercar","cerrado","certeiro","cerveja","cetim","cevada","chacota","chaleira","chamado","chapada","charme","chatice","chave","chefe","chegada","cheiro","cheque","chicote","chifre","chinelo","chocalho","chover","chumbo","chutar","chuva","cicatriz","ciclone","cidade","cidreira","ciente","cigana","cimento","cinto","cinza","ciranda","circuito","cirurgia","citar","clareza","clero","clicar","clone","clube","coado","coagir","cobaia","cobertor","cobrar","cocada","coelho","coentro","coeso","cogumelo","coibir","coifa","coiote","colar","coleira","colher","colidir","colmeia","colono","coluna","comando","combinar","comentar","comitiva","comover","complexo","comum","concha","condor","conectar","confuso","congelar","conhecer","conjugar","consumir","contrato","convite","cooperar","copeiro","copiador","copo","coquetel","coragem","cordial","corneta","coronha","corporal","correio","cortejo","coruja","corvo","cosseno","costela","cotonete","couro","couve","covil","cozinha","cratera","cravo","creche","credor","creme","crer","crespo","criada","criminal","crioulo","crise","criticar","crosta","crua","cruzeiro","cubano","cueca","cuidado","cujo","culatra","culminar","culpar","cultura","cumprir","cunhado","cupido","curativo","curral","cursar","curto","cuspir","custear","cutelo","damasco","datar","debater","debitar","deboche","debulhar","decalque","decimal","declive","decote","decretar","dedal","dedicado","deduzir","defesa","defumar","degelo","degrau","degustar","deitado","deixar","delator","delegado","delinear","delonga","demanda","demitir","demolido","dentista","depenado","depilar","depois","depressa","depurar","deriva","derramar","desafio","desbotar","descanso","desenho","desfiado","desgaste","desigual","deslize","desmamar","desova","despesa","destaque","desviar","detalhar","detentor","detonar","detrito","deusa","dever","devido","devotado","dezena","diagrama","dialeto","didata","difuso","digitar","dilatado","diluente","diminuir","dinastia","dinheiro","diocese","direto","discreta","disfarce","disparo","disquete","dissipar","distante","ditador","diurno","diverso","divisor","divulgar","dizer","dobrador","dolorido","domador","dominado","donativo","donzela","dormente","dorsal","dosagem","dourado","doutor","drenagem","drible","drogaria","duelar","duende","dueto","duplo","duquesa","durante","duvidoso","eclodir","ecoar","ecologia","edificar","edital","educado","efeito","efetivar","ejetar","elaborar","eleger","eleitor","elenco","elevador","eliminar","elogiar","embargo","embolado","embrulho","embutido","emenda","emergir","emissor","empatia","empenho","empinado","empolgar","emprego","empurrar","emulador","encaixe","encenado","enchente","encontro","endeusar","endossar","enfaixar","enfeite","enfim","engajado","engenho","englobar","engomado","engraxar","enguia","enjoar","enlatar","enquanto","enraizar","enrolado","enrugar","ensaio","enseada","ensino","ensopado","entanto","enteado","entidade","entortar","entrada","entulho","envergar","enviado","envolver","enxame","enxerto","enxofre","enxuto","epiderme","equipar","ereto","erguido","errata","erva","ervilha","esbanjar","esbelto","escama","escola","escrita","escuta","esfinge","esfolar","esfregar","esfumado","esgrima","esmalte","espanto","espelho","espiga","esponja","espreita","espumar","esquerda","estaca","esteira","esticar","estofado","estrela","estudo","esvaziar","etanol","etiqueta","euforia","europeu","evacuar","evaporar","evasivo","eventual","evidente","evoluir","exagero","exalar","examinar","exato","exausto","excesso","excitar","exclamar","executar","exemplo","exibir","exigente","exonerar","expandir","expelir","expirar","explanar","exposto","expresso","expulsar","externo","extinto","extrato","fabricar","fabuloso","faceta","facial","fada","fadiga","faixa","falar","falta","familiar","fandango","fanfarra","fantoche","fardado","farelo","farinha","farofa","farpa","fartura","fatia","fator","favorita","faxina","fazenda","fechado","feijoada","feirante","felino","feminino","fenda","feno","fera","feriado","ferrugem","ferver","festejar","fetal","feudal","fiapo","fibrose","ficar","ficheiro","figurado","fileira","filho","filme","filtrar","firmeza","fisgada","fissura","fita","fivela","fixador","fixo","flacidez","flamingo","flanela","flechada","flora","flutuar","fluxo","focal","focinho","fofocar","fogo","foguete","foice","folgado","folheto","forjar","formiga","forno","forte","fosco","fossa","fragata","fralda","frango","frasco","fraterno","freira","frente","fretar","frieza","friso","fritura","fronha","frustrar","fruteira","fugir","fulano","fuligem","fundar","fungo","funil","furador","furioso","futebol","gabarito","gabinete","gado","gaiato","gaiola","gaivota","galega","galho","galinha","galocha","ganhar","garagem","garfo","gargalo","garimpo","garoupa","garrafa","gasoduto","gasto","gata","gatilho","gaveta","gazela","gelado","geleia","gelo","gemada","gemer","gemido","generoso","gengiva","genial","genoma","genro","geologia","gerador","germinar","gesso","gestor","ginasta","gincana","gingado","girafa","girino","glacial","glicose","global","glorioso","goela","goiaba","golfe","golpear","gordura","gorjeta","gorro","gostoso","goteira","governar","gracejo","gradual","grafite","gralha","grampo","granada","gratuito","graveto","graxa","grego","grelhar","greve","grilo","grisalho","gritaria","grosso","grotesco","grudado","grunhido","gruta","guache","guarani","guaxinim","guerrear","guiar","guincho","guisado","gula","guloso","guru","habitar","harmonia","haste","haver","hectare","herdar","heresia","hesitar","hiato","hibernar","hidratar","hiena","hino","hipismo","hipnose","hipoteca","hoje","holofote","homem","honesto","honrado","hormonal","hospedar","humorado","iate","ideia","idoso","ignorado","igreja","iguana","ileso","ilha","iludido","iluminar","ilustrar","imagem","imediato","imenso","imersivo","iminente","imitador","imortal","impacto","impedir","implante","impor","imprensa","impune","imunizar","inalador","inapto","inativo","incenso","inchar","incidir","incluir","incolor","indeciso","indireto","indutor","ineficaz","inerente","infantil","infestar","infinito","inflamar","informal","infrator","ingerir","inibido","inicial","inimigo","injetar","inocente","inodoro","inovador","inox","inquieto","inscrito","inseto","insistir","inspetor","instalar","insulto","intacto","integral","intimar","intocado","intriga","invasor","inverno","invicto","invocar","iogurte","iraniano","ironizar","irreal","irritado","isca","isento","isolado","isqueiro","italiano","janeiro","jangada","janta","jararaca","jardim","jarro","jasmim","jato","javali","jazida","jejum","joaninha","joelhada","jogador","joia","jornal","jorrar","jovem","juba","judeu","judoca","juiz","julgador","julho","jurado","jurista","juro","justa","labareda","laboral","lacre","lactante","ladrilho","lagarta","lagoa","laje","lamber","lamentar","laminar","lampejo","lanche","lapidar","lapso","laranja","lareira","largura","lasanha","lastro","lateral","latido","lavanda","lavoura","lavrador","laxante","lazer","lealdade","lebre","legado","legendar","legista","leigo","leiloar","leitura","lembrete","leme","lenhador","lentilha","leoa","lesma","leste","letivo","letreiro","levar","leveza","levitar","liberal","libido","liderar","ligar","ligeiro","limitar","limoeiro","limpador","linda","linear","linhagem","liquidez","listagem","lisura","litoral","livro","lixa","lixeira","locador","locutor","lojista","lombo","lona","longe","lontra","lorde","lotado","loteria","loucura","lousa","louvar","luar","lucidez","lucro","luneta","lustre","lutador","luva","macaco","macete","machado","macio","madeira","madrinha","magnata","magreza","maior","mais","malandro","malha","malote","maluco","mamilo","mamoeiro","mamute","manada","mancha","mandato","manequim","manhoso","manivela","manobrar","mansa","manter","manusear","mapeado","maquinar","marcador","maresia","marfim","margem","marinho","marmita","maroto","marquise","marreco","martelo","marujo","mascote","masmorra","massagem","mastigar","matagal","materno","matinal","matutar","maxilar","medalha","medida","medusa","megafone","meiga","melancia","melhor","membro","memorial","menino","menos","mensagem","mental","merecer","mergulho","mesada","mesclar","mesmo","mesquita","mestre","metade","meteoro","metragem","mexer","mexicano","micro","migalha","migrar","milagre","milenar","milhar","mimado","minerar","minhoca","ministro","minoria","miolo","mirante","mirtilo","misturar","mocidade","moderno","modular","moeda","moer","moinho","moita","moldura","moleza","molho","molinete","molusco","montanha","moqueca","morango","morcego","mordomo","morena","mosaico","mosquete","mostarda","motel","motim","moto","motriz","muda","muito","mulata","mulher","multar","mundial","munido","muralha","murcho","muscular","museu","musical","nacional","nadador","naja","namoro","narina","narrado","nascer","nativa","natureza","navalha","navegar","navio","neblina","nebuloso","negativa","negociar","negrito","nervoso","neta","neural","nevasca","nevoeiro","ninar","ninho","nitidez","nivelar","nobreza","noite","noiva","nomear","nominal","nordeste","nortear","notar","noticiar","noturno","novelo","novilho","novo","nublado","nudez","numeral","nupcial","nutrir","nuvem","obcecado","obedecer","objetivo","obrigado","obscuro","obstetra","obter","obturar","ocidente","ocioso","ocorrer","oculista","ocupado","ofegante","ofensiva","oferenda","oficina","ofuscado","ogiva","olaria","oleoso","olhar","oliveira","ombro","omelete","omisso","omitir","ondulado","oneroso","ontem","opcional","operador","oponente","oportuno","oposto","orar","orbitar","ordem","ordinal","orfanato","orgasmo","orgulho","oriental","origem","oriundo","orla","ortodoxo","orvalho","oscilar","ossada","osso","ostentar","otimismo","ousadia","outono","outubro","ouvido","ovelha","ovular","oxidar","oxigenar","pacato","paciente","pacote","pactuar","padaria","padrinho","pagar","pagode","painel","pairar","paisagem","palavra","palestra","palheta","palito","palmada","palpitar","pancada","panela","panfleto","panqueca","pantanal","papagaio","papelada","papiro","parafina","parcial","pardal","parede","partida","pasmo","passado","pastel","patamar","patente","patinar","patrono","paulada","pausar","peculiar","pedalar","pedestre","pediatra","pedra","pegada","peitoral","peixe","pele","pelicano","penca","pendurar","peneira","penhasco","pensador","pente","perceber","perfeito","pergunta","perito","permitir","perna","perplexo","persiana","pertence","peruca","pescado","pesquisa","pessoa","petiscar","piada","picado","piedade","pigmento","pilastra","pilhado","pilotar","pimenta","pincel","pinguim","pinha","pinote","pintar","pioneiro","pipoca","piquete","piranha","pires","pirueta","piscar","pistola","pitanga","pivete","planta","plaqueta","platina","plebeu","plumagem","pluvial","pneu","poda","poeira","poetisa","polegada","policiar","poluente","polvilho","pomar","pomba","ponderar","pontaria","populoso","porta","possuir","postal","pote","poupar","pouso","povoar","praia","prancha","prato","praxe","prece","predador","prefeito","premiar","prensar","preparar","presilha","pretexto","prevenir","prezar","primata","princesa","prisma","privado","processo","produto","profeta","proibido","projeto","prometer","propagar","prosa","protetor","provador","publicar","pudim","pular","pulmonar","pulseira","punhal","punir","pupilo","pureza","puxador","quadra","quantia","quarto","quase","quebrar","queda","queijo","quente","querido","quimono","quina","quiosque","rabanada","rabisco","rachar","racionar","radial","raiar","rainha","raio","raiva","rajada","ralado","ramal","ranger","ranhura","rapadura","rapel","rapidez","raposa","raquete","raridade","rasante","rascunho","rasgar","raspador","rasteira","rasurar","ratazana","ratoeira","realeza","reanimar","reaver","rebaixar","rebelde","rebolar","recado","recente","recheio","recibo","recordar","recrutar","recuar","rede","redimir","redonda","reduzida","reenvio","refinar","refletir","refogar","refresco","refugiar","regalia","regime","regra","reinado","reitor","rejeitar","relativo","remador","remendo","remorso","renovado","reparo","repelir","repleto","repolho","represa","repudiar","requerer","resenha","resfriar","resgatar","residir","resolver","respeito","ressaca","restante","resumir","retalho","reter","retirar","retomada","retratar","revelar","revisor","revolta","riacho","rica","rigidez","rigoroso","rimar","ringue","risada","risco","risonho","robalo","rochedo","rodada","rodeio","rodovia","roedor","roleta","romano","roncar","rosado","roseira","rosto","rota","roteiro","rotina","rotular","rouco","roupa","roxo","rubro","rugido","rugoso","ruivo","rumo","rupestre","russo","sabor","saciar","sacola","sacudir","sadio","safira","saga","sagrada","saibro","salada","saleiro","salgado","saliva","salpicar","salsicha","saltar","salvador","sambar","samurai","sanar","sanfona","sangue","sanidade","sapato","sarda","sargento","sarjeta","saturar","saudade","saxofone","sazonal","secar","secular","seda","sedento","sediado","sedoso","sedutor","segmento","segredo","segundo","seiva","seleto","selvagem","semanal","semente","senador","senhor","sensual","sentado","separado","sereia","seringa","serra","servo","setembro","setor","sigilo","silhueta","silicone","simetria","simpatia","simular","sinal","sincero","singular","sinopse","sintonia","sirene","siri","situado","soberano","sobra","socorro","sogro","soja","solda","soletrar","solteiro","sombrio","sonata","sondar","sonegar","sonhador","sono","soprano","soquete","sorrir","sorteio","sossego","sotaque","soterrar","sovado","sozinho","suavizar","subida","submerso","subsolo","subtrair","sucata","sucesso","suco","sudeste","sufixo","sugador","sugerir","sujeito","sulfato","sumir","suor","superior","suplicar","suposto","suprimir","surdina","surfista","surpresa","surreal","surtir","suspiro","sustento","tabela","tablete","tabuada","tacho","tagarela","talher","talo","talvez","tamanho","tamborim","tampa","tangente","tanto","tapar","tapioca","tardio","tarefa","tarja","tarraxa","tatuagem","taurino","taxativo","taxista","teatral","tecer","tecido","teclado","tedioso","teia","teimar","telefone","telhado","tempero","tenente","tensor","tentar","termal","terno","terreno","tese","tesoura","testado","teto","textura","texugo","tiara","tigela","tijolo","timbrar","timidez","tingido","tinteiro","tiragem","titular","toalha","tocha","tolerar","tolice","tomada","tomilho","tonel","tontura","topete","tora","torcido","torneio","torque","torrada","torto","tostar","touca","toupeira","toxina","trabalho","tracejar","tradutor","trafegar","trajeto","trama","trancar","trapo","traseiro","tratador","travar","treino","tremer","trepidar","trevo","triagem","tribo","triciclo","tridente","trilogia","trindade","triplo","triturar","triunfal","trocar","trombeta","trova","trunfo","truque","tubular","tucano","tudo","tulipa","tupi","turbo","turma","turquesa","tutelar","tutorial","uivar","umbigo","unha","unidade","uniforme","urologia","urso","urtiga","urubu","usado","usina","usufruir","vacina","vadiar","vagaroso","vaidoso","vala","valente","validade","valores","vantagem","vaqueiro","varanda","vareta","varrer","vascular","vasilha","vassoura","vazar","vazio","veado","vedar","vegetar","veicular","veleiro","velhice","veludo","vencedor","vendaval","venerar","ventre","verbal","verdade","vereador","vergonha","vermelho","verniz","versar","vertente","vespa","vestido","vetorial","viaduto","viagem","viajar","viatura","vibrador","videira","vidraria","viela","viga","vigente","vigiar","vigorar","vilarejo","vinco","vinheta","vinil","violeta","virada","virtude","visitar","visto","vitral","viveiro","vizinho","voador","voar","vogal","volante","voleibol","voltagem","volumoso","vontade","vulto","vuvuzela","xadrez","xarope","xeque","xeretar","xerife","xingar","zangado","zarpar","zebu","zelador","zombar","zoologia","zumbido"],require$$9=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];Object.defineProperty(_wordlists,"__esModule",{value:!0});const wordlists={};_wordlists.wordlists=wordlists;let _default$2;var _default_1=_wordlists._default=_default$2;try{_default_1=_wordlists._default=_default$2=require$$0$3,wordlists.czech=_default$2}catch{}try{_default_1=_wordlists._default=_default$2=require$$1$2,wordlists.chinese_simplified=_default$2}catch{}try{_default_1=_wordlists._default=_default$2=require$$2$2,wordlists.chinese_traditional=_default$2}catch{}try{_default_1=_wordlists._default=_default$2=require$$3,wordlists.korean=_default$2}catch{}try{_default_1=_wordlists._default=_default$2=require$$4$1,wordlists.french=_default$2}catch{}try{_default_1=_wordlists._default=_default$2=require$$5,wordlists.italian=_default$2}catch{}try{_default_1=_wordlists._default=_default$2=require$$6$1,wordlists.spanish=_default$2}catch{}try{_default_1=_wordlists._default=_default$2=require$$7,wordlists.japanese=_default$2,wordlists.JA=_default$2}catch{}try{_default_1=_wordlists._default=_default$2=require$$8,wordlists.portuguese=_default$2}catch{}try{_default_1=_wordlists._default=_default$2=require$$9,wordlists.english=_default$2,wordlists.EN=_default$2}catch{}Object.defineProperty(src$6,"__esModule",{value:!0});const sha256_1$2=sha256$3,sha512_1$1=sha512$2,pbkdf2_1=pbkdf2$1,utils_1$3=utils$7,_wordlists_1=_wordlists;let DEFAULT_WORDLIST=_wordlists_1._default;const INVALID_MNEMONIC="Invalid mnemonic",INVALID_ENTROPY="Invalid entropy",INVALID_CHECKSUM="Invalid mnemonic checksum",WORDLIST_REQUIRED=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function normalize(t){return(t||"").normalize("NFKD")}function lpad(t,e,n){for(;t.length<n;)t=e+t;return t}function binaryToByte(t){return parseInt(t,2)}function bytesToBinary(t){return t.map(e=>lpad(e.toString(2),"0",8)).join("")}function deriveChecksumBits(t){const n=t.length*8/32,a=sha256_1$2.sha256(Uint8Array.from(t));return bytesToBinary(Array.from(a)).slice(0,n)}function salt(t){return"mnemonic"+(t||"")}function mnemonicToSeedSync(t,e){const n=Uint8Array.from(Buffer$1$1.from(normalize(t),"utf8")),a=Uint8Array.from(Buffer$1$1.from(salt(normalize(e)),"utf8")),u=pbkdf2_1.pbkdf2(sha512_1$1.sha512,n,a,{c:2048,dkLen:64});return Buffer$1$1.from(u)}var mnemonicToSeedSync_1=src$6.mnemonicToSeedSync=mnemonicToSeedSync;function mnemonicToSeed(t,e){const n=Uint8Array.from(Buffer$1$1.from(normalize(t),"utf8")),a=Uint8Array.from(Buffer$1$1.from(salt(normalize(e)),"utf8"));return pbkdf2_1.pbkdf2Async(sha512_1$1.sha512,n,a,{c:2048,dkLen:64}).then(u=>Buffer$1$1.from(u))}src$6.mnemonicToSeed=mnemonicToSeed;function mnemonicToEntropy(t,e){if(e=e||DEFAULT_WORDLIST,!e)throw new Error(WORDLIST_REQUIRED);const n=normalize(t).split(" ");if(n.length%3!==0)throw new Error(INVALID_MNEMONIC);const a=n.map(_=>{const M=e.indexOf(_);if(M===-1)throw new Error(INVALID_MNEMONIC);return lpad(M.toString(2),"0",11)}).join(""),u=Math.floor(a.length/33)*32,o=a.slice(0,u),p=a.slice(u),m=o.match(/(.{1,8})/g).map(binaryToByte);if(m.length<16)throw new Error(INVALID_ENTROPY);if(m.length>32)throw new Error(INVALID_ENTROPY);if(m.length%4!==0)throw new Error(INVALID_ENTROPY);const y=Buffer$1$1.from(m);if(deriveChecksumBits(y)!==p)throw new Error(INVALID_CHECKSUM);return y.toString("hex")}src$6.mnemonicToEntropy=mnemonicToEntropy;function entropyToMnemonic(t,e){if(Buffer$1$1.isBuffer(t)||(t=Buffer$1$1.from(t,"hex")),e=e||DEFAULT_WORDLIST,!e)throw new Error(WORDLIST_REQUIRED);if(t.length<16)throw new TypeError(INVALID_ENTROPY);if(t.length>32)throw new TypeError(INVALID_ENTROPY);if(t.length%4!==0)throw new TypeError(INVALID_ENTROPY);const n=bytesToBinary(Array.from(t)),a=deriveChecksumBits(t),p=(n+a).match(/(.{1,11})/g).map(m=>{const y=binaryToByte(m);return e[y]});return e[0]===""?p.join(""):p.join(" ")}src$6.entropyToMnemonic=entropyToMnemonic;function generateMnemonic(t,e,n){if(t=t||128,t%32!==0)throw new TypeError(INVALID_ENTROPY);return e=e||(a=>Buffer$1$1.from(utils_1$3.randomBytes(a))),entropyToMnemonic(e(t/8),n)}var generateMnemonic_1=src$6.generateMnemonic=generateMnemonic;function validateMnemonic(t,e){try{mnemonicToEntropy(t,e)}catch{return!1}return!0}var validateMnemonic_1=src$6.validateMnemonic=validateMnemonic;function setDefaultWordlist(t){const e=_wordlists_1.wordlists[t];if(e)DEFAULT_WORDLIST=e;else throw new Error('Could not find wordlist for language "'+t+'"')}src$6.setDefaultWordlist=setDefaultWordlist;function getDefaultWordlist(){if(!DEFAULT_WORDLIST)throw new Error("No Default Wordlist set");return Object.keys(_wordlists_1.wordlists).filter(t=>t==="JA"||t==="EN"?!1:_wordlists_1.wordlists[t].every((e,n)=>e===DEFAULT_WORDLIST[n]))[0]}src$6.getDefaultWordlist=getDefaultWordlist;var _wordlists_2=_wordlists;src$6.wordlists=_wordlists_2.wordlists;class Web3Wallet{address;publicKey;provider;_privateKey}const generateDID$2=t=>`did:ethr:${t}`;class EVMWallet extends Web3Wallet{did;chainId;constructor(e,n){if(super(),!e)throw new Error("Mnemonic is required to generate wallet");const a=Wallet.fromMnemonic(e),o=new Wallet(a.privateKey,n).connect(n);this.address=o.address,this.publicKey=o.publicKey,this._privateKey=o.privateKey,this.did=generateDID$2(this.address),this.provider=n,this.chainId=n.network.chainId}async sendTransaction(e){if(!this._privateKey)throw new Error("Private key is required to send token");const{to:n,value:a,contractAddress:u=AddressZero}=e;try{const o=new Wallet(this._privateKey,this.provider);if(n.toLowerCase()===u.toLowerCase())throw new Error("Sending tokens to ERC20 contract address is not allowed.");const p=parseUnits(a.toString());let m;if(u.toLowerCase()===AddressZero.toLowerCase())console.log("[INFO] Sending native token"),m=await o.sendTransaction({to:n,value:p});else{console.log("[INFO] Sending erc20 token");const w=["function balanceOf(address) view returns (uint)","function transfer(address to, uint amount) returns (boolean)"],_=new Wallet(this._privateKey,this.provider);m=await new Contract(u,w,_).transfer(n,p)}console.log("[INFO] Transaction Hash:",m.hash);const y=await m.wait();return console.log("[INFO] Transaction confirmed"),y}catch(o){throw console.error("[ERROR] _sendToken:",o),o}}signMessage(e){if(!this._privateKey)throw new Error("Private key is required to sign message");return new Wallet(this._privateKey,this.provider).signMessage(e)}signTransaction(e){if(!this._privateKey)throw new Error("Private key is required to sign transaction");return new Wallet(this._privateKey,this.provider).signTransaction(e)}verifySignature(e,n){if(!this.publicKey)throw new Error("Public key is required to verify signature");return verifyMessage(e,n)===this.address}async switchNetwork(e){if(this.chainId===e)return;const n=CHAIN_AVAILABLES.find(u=>u.id===e);if(!n)throw new Error("Chain not available");if(!this.provider)throw new Error("Provider not available");const a=new JsonRpcProvider(n.rpcUrl,n.id);this.provider=a,this.chainId=e}}class ExternalEVMWallet extends Web3Wallet{constructor(e,n=!1){if(super(),this.chainId=e,!n)throw new Error("Use create method to initialize ExternalEVMWallet")}privateKey=void 0;publicKey=void 0;signer;externalProvider;static async create(e){const n=new ExternalEVMWallet(e,!0),a=new Web3Provider(window.ethereum,e);return n.externalProvider=a,n.signer=a.getSigner(),n.chainId=e,n.address=await n.signer.getAddress(),n}async switchNetwork(e){const n=CHAIN_AVAILABLES.find(u=>u.id===e);if(!n)throw new Error("Chain not available");if(n.type!=="evm")throw new Error("Only EVM chain is supported with external wallet.");const a=hexValue(e);await this.externalProvider.send("wallet_switchEthereumChain",[{chainId:a}]),this.chainId=e}async sendTransaction(e){return this.signer.sendTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTransaction(e){return this.signer.signTransaction(e)}verifySignature(e,n){return verifyMessage(e,n)===this.address}}const generateWalletFromMnemonic$2=async(t={})=>{const{mnemonic:e=generateMnemonic_1(),chainId:n}=t;if(!validateMnemonic_1(e))throw new Error("Invalid mnemonic");const a=CHAIN_AVAILABLES.find(p=>p.id===n)||CHAIN_DEFAULT,u=new JsonRpcProvider(a.rpcUrl,a.id);return new EVMWallet(e,u)},connectWithExternalWallet=async()=>{if(!window.ethereum)throw new Error(`
      No web3 wallet extension found. 
      Install browser extensions like Metamask or Rabby wallet to connect with the app using your existing or hardware wallet.
    `);const t=new Web3Provider(window.ethereum),e=await t.send("eth_requestAccounts",[]);console.log("[INFO] connectWithExternalWallet: ",e);try{const p=hexValue(CHAIN_DEFAULT.id);await t.send("wallet_switchEthereumChain",[{chainId:p}])}catch(p){console.log("[ERROR]",p)}const n=t?.getSigner(),a=await n.getAddress(),u=await n.getChainId();return console.log("[INFO] connectWithExternalWallet",{accounts:e,address:a,chainId:u}),await ExternalEVMWallet.create(u)},evmWallet=Object.freeze({connectWithExternalWallet,generateWalletFromMnemonic:generateWalletFromMnemonic$2,generateDID:generateDID$2});var src$5={},bip32={},crypto$3={},ripemd160$1={};Object.defineProperty(ripemd160$1,"__esModule",{value:!0});ripemd160$1.ripemd160=ripemd160$1.RIPEMD160=void 0;const _md_js_1$1=_md,utils_js_1$1=utils$7,Rho=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Id=new Uint8Array(new Array(16).fill(0).map((t,e)=>e)),Pi=Id.map(t=>(9*t+5)%16);let idxL=[Id],idxR=[Pi];for(let t=0;t<4;t++)for(let e of[idxL,idxR])e.push(e[t].map(n=>Rho[n]));const shifts=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),shiftsL=idxL.map((t,e)=>t.map(n=>shifts[e][n])),shiftsR=idxR.map((t,e)=>t.map(n=>shifts[e][n])),Kl=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function f$1(t,e,n,a){return t===0?e^n^a:t===1?e&n|~e&a:t===2?(e|~n)^a:t===3?e&a|n&~a:e^(n|~a)}const R_BUF=new Uint32Array(16);let RIPEMD160$3=class extends _md_js_1$1.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:n,h2:a,h3:u,h4:o}=this;return[e,n,a,u,o]}set(e,n,a,u,o){this.h0=e|0,this.h1=n|0,this.h2=a|0,this.h3=u|0,this.h4=o|0}process(e,n){for(let B=0;B<16;B++,n+=4)R_BUF[B]=e.getUint32(n,!0);let a=this.h0|0,u=a,o=this.h1|0,p=o,m=this.h2|0,y=m,w=this.h3|0,_=w,M=this.h4|0,T=M;for(let B=0;B<5;B++){const P=4-B,C=Kl[B],L=Kr[B],U=idxL[B],q=idxR[B],G=shiftsL[B],X=shiftsR[B];for(let te=0;te<16;te++){const ne=(0,utils_js_1$1.rotl)(a+f$1(B,o,m,w)+R_BUF[U[te]]+C,G[te])+M|0;a=M,M=w,w=(0,utils_js_1$1.rotl)(m,10)|0,m=o,o=ne}for(let te=0;te<16;te++){const ne=(0,utils_js_1$1.rotl)(u+f$1(P,p,y,_)+R_BUF[q[te]]+L,X[te])+T|0;u=T,T=_,_=(0,utils_js_1$1.rotl)(y,10)|0,y=p,p=ne}}this.set(this.h1+m+_|0,this.h2+w+T|0,this.h3+M+u|0,this.h4+a+p|0,this.h0+o+y|0)}roundClean(){R_BUF.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};ripemd160$1.RIPEMD160=RIPEMD160$3;ripemd160$1.ripemd160=(0,utils_js_1$1.wrapConstructor)(()=>new RIPEMD160$3);Object.defineProperty(crypto$3,"__esModule",{value:!0});crypto$3.hmacSHA512=crypto$3.hash160=void 0;const hmac_1=hmac,ripemd160_1=ripemd160$1,sha256_1$1=sha256$3,sha512_1=sha512$2;function hash160(t){const e=(0,sha256_1$1.sha256)(Uint8Array.from(t));return Buffer$1$1.from((0,ripemd160_1.ripemd160)(e))}crypto$3.hash160=hash160;function hmacSHA512(t,e){return Buffer$1$1.from((0,hmac_1.hmac)(sha512_1.sha512,t,e))}crypto$3.hmacSHA512=hmacSHA512;var testecc={};Object.defineProperty(testecc,"__esModule",{value:!0});testecc.testEcc=void 0;const h$1=t=>Buffer$1$1.from(t,"hex");function testEcc(t){if(assert$3(t.isPoint(h$1("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),assert$3(!t.isPoint(h$1("030000000000000000000000000000000000000000000000000000000000000005"))),assert$3(t.isPrivate(h$1("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),assert$3(t.isPrivate(h$1("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),assert$3(!t.isPrivate(h$1("0000000000000000000000000000000000000000000000000000000000000000"))),assert$3(!t.isPrivate(h$1("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),assert$3(!t.isPrivate(h$1("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),assert$3(Buffer$1$1.from(t.pointFromScalar(h$1("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(h$1("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),t.xOnlyPointAddTweak){assert$3(t.xOnlyPointAddTweak(h$1("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),h$1("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))===null);let e=t.xOnlyPointAddTweak(h$1("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),h$1("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));assert$3(Buffer$1$1.from(e.xOnlyPubkey).equals(h$1("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&e.parity===1),e=t.xOnlyPointAddTweak(h$1("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),h$1("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47"))}assert$3(Buffer$1$1.from(t.pointAddScalar(h$1("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),h$1("0000000000000000000000000000000000000000000000000000000000000003"))).equals(h$1("02c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5"))),assert$3(Buffer$1$1.from(t.privateAdd(h$1("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),h$1("0000000000000000000000000000000000000000000000000000000000000002"))).equals(h$1("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),t.privateNegate&&(assert$3(Buffer$1$1.from(t.privateNegate(h$1("0000000000000000000000000000000000000000000000000000000000000001"))).equals(h$1("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),assert$3(Buffer$1$1.from(t.privateNegate(h$1("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(h$1("0000000000000000000000000000000000000000000000000000000000000003"))),assert$3(Buffer$1$1.from(t.privateNegate(h$1("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(h$1("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792")))),assert$3(Buffer$1$1.from(t.sign(h$1("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),h$1("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(h$1("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),assert$3(t.verify(h$1("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),h$1("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),h$1("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),t.signSchnorr&&assert$3(Buffer$1$1.from(t.signSchnorr(h$1("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),h$1("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),h$1("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(h$1("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),t.verifySchnorr&&assert$3(t.verifySchnorr(h$1("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),h$1("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),h$1("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}testecc.testEcc=testEcc;function assert$3(t){if(!t)throw new Error("ecc library invalid")}var lib$1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.createBase58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64nopad=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0;function e(c){if(!Number.isSafeInteger(c))throw new Error(`Wrong integer: ${c}`)}t.assertNumber=e;function n(c){return c instanceof Uint8Array||c!=null&&typeof c=="object"&&c.constructor.name==="Uint8Array"}function a(...c){const d=$=>$,b=($,I)=>S=>$(I(S)),v=c.map($=>$.encode).reduceRight(b,d),A=c.map($=>$.decode).reduce(b,d);return{encode:v,decode:A}}function u(c){return{encode:d=>{if(!Array.isArray(d)||d.length&&typeof d[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return d.map(b=>{if(b<0||b>=c.length)throw new Error(`Digit index outside alphabet: ${b} (alphabet: ${c.length})`);return c[b]})},decode:d=>{if(!Array.isArray(d)||d.length&&typeof d[0]!="string")throw new Error("alphabet.decode input should be array of strings");return d.map(b=>{if(typeof b!="string")throw new Error(`alphabet.decode: not string element=${b}`);const v=c.indexOf(b);if(v===-1)throw new Error(`Unknown letter: "${b}". Allowed: ${c}`);return v})}}}function o(c=""){if(typeof c!="string")throw new Error("join separator should be string");return{encode:d=>{if(!Array.isArray(d)||d.length&&typeof d[0]!="string")throw new Error("join.encode input should be array of strings");for(let b of d)if(typeof b!="string")throw new Error(`join.encode: non-string input=${b}`);return d.join(c)},decode:d=>{if(typeof d!="string")throw new Error("join.decode input should be string");return d.split(c)}}}function p(c,d="="){if(typeof d!="string")throw new Error("padding chr should be string");return{encode(b){if(!Array.isArray(b)||b.length&&typeof b[0]!="string")throw new Error("padding.encode input should be array of strings");for(let v of b)if(typeof v!="string")throw new Error(`padding.encode: non-string input=${v}`);for(;b.length*c%8;)b.push(d);return b},decode(b){if(!Array.isArray(b)||b.length&&typeof b[0]!="string")throw new Error("padding.encode input should be array of strings");for(let A of b)if(typeof A!="string")throw new Error(`padding.decode: non-string input=${A}`);let v=b.length;if(v*c%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;v>0&&b[v-1]===d;v--)if(!((v-1)*c%8))throw new Error("Invalid padding: string has too much padding");return b.slice(0,v)}}}function m(c){if(typeof c!="function")throw new Error("normalize fn should be function");return{encode:d=>d,decode:d=>c(d)}}function y(c,d,b){if(d<2)throw new Error(`convertRadix: wrong from=${d}, base cannot be less than 2`);if(b<2)throw new Error(`convertRadix: wrong to=${b}, base cannot be less than 2`);if(!Array.isArray(c))throw new Error("convertRadix: data should be array");if(!c.length)return[];let v=0;const A=[],$=Array.from(c);for($.forEach(I=>{if(I<0||I>=d)throw new Error(`Wrong integer: ${I}`)});;){let I=0,S=!0;for(let l=v;l<$.length;l++){const E=$[l],O=d*I+E;if(!Number.isSafeInteger(O)||d*I/d!==I||O-E!==d*I)throw new Error("convertRadix: carry overflow");I=O%b;const D=Math.floor(O/b);if($[l]=D,!Number.isSafeInteger(D)||D*b+I!==O)throw new Error("convertRadix: carry overflow");if(S)D?S=!1:v=l;else continue}if(A.push(I),S)break}for(let I=0;I<c.length-1&&c[I]===0;I++)A.push(0);return A.reverse()}const w=(c,d)=>d?w(d,c%d):c,_=(c,d)=>c+(d-w(c,d));function M(c,d,b,v){if(!Array.isArray(c))throw new Error("convertRadix2: data should be array");if(d<=0||d>32)throw new Error(`convertRadix2: wrong from=${d}`);if(b<=0||b>32)throw new Error(`convertRadix2: wrong to=${b}`);if(_(d,b)>32)throw new Error(`convertRadix2: carry overflow from=${d} to=${b} carryBits=${_(d,b)}`);let A=0,$=0;const I=2**b-1,S=[];for(const l of c){if(l>=2**d)throw new Error(`convertRadix2: invalid data word=${l} from=${d}`);if(A=A<<d|l,$+d>32)throw new Error(`convertRadix2: carry overflow pos=${$} from=${d}`);for($+=d;$>=b;$-=b)S.push((A>>$-b&I)>>>0);A&=2**$-1}if(A=A<<b-$&I,!v&&$>=d)throw new Error("Excess padding");if(!v&&A)throw new Error(`Non-zero padding: ${A}`);return v&&$>0&&S.push(A>>>0),S}function T(c){return{encode:d=>{if(!n(d))throw new Error("radix.encode input should be Uint8Array");return y(Array.from(d),2**8,c)},decode:d=>{if(!Array.isArray(d)||d.length&&typeof d[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(y(d,c,2**8))}}}function B(c,d=!1){if(c<=0||c>32)throw new Error("radix2: bits should be in (0..32]");if(_(8,c)>32||_(c,8)>32)throw new Error("radix2: carry overflow");return{encode:b=>{if(!n(b))throw new Error("radix2.encode input should be Uint8Array");return M(Array.from(b),8,c,!d)},decode:b=>{if(!Array.isArray(b)||b.length&&typeof b[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(M(b,c,8,d))}}}function P(c){if(typeof c!="function")throw new Error("unsafeWrapper fn should be function");return function(...d){try{return c.apply(null,d)}catch{}}}function C(c,d){if(typeof d!="function")throw new Error("checksum fn should be function");return{encode(b){if(!n(b))throw new Error("checksum.encode: input should be Uint8Array");const v=d(b).slice(0,c),A=new Uint8Array(b.length+c);return A.set(b),A.set(v,b.length),A},decode(b){if(!n(b))throw new Error("checksum.decode: input should be Uint8Array");const v=b.slice(0,-c),A=d(v).slice(0,c),$=b.slice(-c);for(let I=0;I<c;I++)if(A[I]!==$[I])throw new Error("Invalid checksum");return v}}}t.utils={alphabet:u,chain:a,checksum:C,convertRadix:y,convertRadix2:M,radix:T,radix2:B,join:o,padding:p},t.base16=a(B(4),u("0123456789ABCDEF"),o("")),t.base32=a(B(5),u("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),p(5),o("")),t.base32hex=a(B(5),u("0123456789ABCDEFGHIJKLMNOPQRSTUV"),p(5),o("")),t.base32crockford=a(B(5),u("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),m(c=>c.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=a(B(6),u("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),p(6),o("")),t.base64nopad=a(B(6),u("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),t.base64url=a(B(6),u("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),p(6),o("")),t.base64urlnopad=a(B(6),u("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const L=c=>a(T(58),u(c),o(""));t.base58=L("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=L("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=L("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const U=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(c){let d="";for(let b=0;b<c.length;b+=8){const v=c.subarray(b,b+8);d+=t.base58.encode(v).padStart(U[v.length],"1")}return d},decode(c){let d=[];for(let b=0;b<c.length;b+=11){const v=c.slice(b,b+11),A=U.indexOf(v.length),$=t.base58.decode(v);for(let I=0;I<$.length-A;I++)if($[I]!==0)throw new Error("base58xmr: wrong padding");d=d.concat(Array.from($.slice($.length-A)))}return Uint8Array.from(d)}};const q=c=>a(C(4,d=>c(c(d))),t.base58);t.createBase58check=q,t.base58check=t.createBase58check;const G=a(u("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),X=[996825010,642813549,513874426,1027748829,705979059];function te(c){const d=c>>25;let b=(c&33554431)<<5;for(let v=0;v<X.length;v++)(d>>v&1)===1&&(b^=X[v]);return b}function ne(c,d,b=1){const v=c.length;let A=1;for(let $=0;$<v;$++){const I=c.charCodeAt($);if(I<33||I>126)throw new Error(`Invalid prefix (${c})`);A=te(A)^I>>5}A=te(A);for(let $=0;$<v;$++)A=te(A)^c.charCodeAt($)&31;for(let $ of d)A=te(A)^$;for(let $=0;$<6;$++)A=te(A);return A^=b,G.encode(M([A%2**30],30,5,!1))}function ge(c){const d=c==="bech32"?1:734539939,b=B(5),v=b.decode,A=b.encode,$=P(v);function I(O,D,Y=90){if(typeof O!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof O}`);if(!Array.isArray(D)||D.length&&typeof D[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof D}`);if(O.length===0)throw new TypeError(`Invalid prefix length ${O.length}`);const F=O.length+7+D.length;if(Y!==!1&&F>Y)throw new TypeError(`Length ${F} exceeds limit ${Y}`);const V=O.toLowerCase(),H=ne(V,D,d);return`${V}1${G.encode(D)}${H}`}function S(O,D=90){if(typeof O!="string")throw new Error(`bech32.decode input should be string, not ${typeof O}`);if(O.length<8||D!==!1&&O.length>D)throw new TypeError(`Wrong string length: ${O.length} (${O}). Expected (8..${D})`);const Y=O.toLowerCase();if(O!==Y&&O!==O.toUpperCase())throw new Error("String must be lowercase or uppercase");const F=Y.lastIndexOf("1");if(F===0||F===-1)throw new Error('Letter "1" must be present between prefix and data only');const V=Y.slice(0,F),H=Y.slice(F+1);if(H.length<6)throw new Error("Data must be at least 6 characters long");const ee=G.decode(H).slice(0,-6),ie=ne(V,ee,d);if(!H.endsWith(ie))throw new Error(`Invalid checksum in ${O}: expected "${ie}"`);return{prefix:V,words:ee}}const l=P(S);function E(O){const{prefix:D,words:Y}=S(O,!1);return{prefix:D,words:Y,bytes:v(Y)}}return{encode:I,decode:S,decodeToBytes:E,decodeUnsafe:l,fromWords:v,fromWordsUnsafe:$,toWords:A}}t.bech32=ge("bech32"),t.bech32m=ge("bech32m"),t.utf8={encode:c=>new TextDecoder().decode(c),decode:c=>new TextEncoder().encode(c)},t.hex=a(B(4),u("0123456789abcdef"),o(""),m(c=>{if(typeof c!="string"||c.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof c} with length ${c.length}`);return c.toLowerCase()}));const pe={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},se="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",Se=(c,d)=>{if(typeof c!="string"||!pe.hasOwnProperty(c))throw new TypeError(se);if(!n(d))throw new TypeError("bytesToString() expects Uint8Array");return pe[c].encode(d)};t.bytesToString=Se,t.str=t.bytesToString;const k=(c,d)=>{if(!pe.hasOwnProperty(c))throw new TypeError(se);if(typeof d!="string")throw new TypeError("stringToBytes() expects string");return pe[c].decode(d)};t.stringToBytes=k,t.bytes=t.stringToBytes})(lib$1);var types$6={Array:function(t){return t!=null&&t.constructor===Array},Boolean:function(t){return typeof t=="boolean"},Function:function(t){return typeof t=="function"},Nil:function(t){return t==null},Number:function(t){return typeof t=="number"},Object:function(t){return typeof t=="object"},String:function(t){return typeof t=="string"},"":function(){return!0}};types$6.Null=types$6.Nil;for(var typeName$1 in types$6)types$6[typeName$1].toJSON=function(t){return t}.bind(null,typeName$1);var native$1=types$6,native=native$1;function getTypeName(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function getValueTypeName$1(t){return native.Nil(t)?"":getTypeName(t.constructor)}function getValue(t){return native.Function(t)?"":native.String(t)?JSON.stringify(t):t&&native.Object(t)?"":t}function captureStackTrace(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function tfJSON$1(t){return native.Function(t)?t.toJSON?t.toJSON():getTypeName(t):native.Array(t)?"Array":t&&native.Object(t)?"Object":t!==void 0?t:""}function tfErrorString(t,e,n){var a=getValue(e);return"Expected "+tfJSON$1(t)+", got"+(n!==""?" "+n:"")+(a!==""?" "+a:"")}function TfTypeError$1(t,e,n){n=n||getValueTypeName$1(e),this.message=tfErrorString(t,e,n),captureStackTrace(this,TfTypeError$1),this.__type=t,this.__value=e,this.__valueTypeName=n}TfTypeError$1.prototype=Object.create(Error.prototype);TfTypeError$1.prototype.constructor=TfTypeError$1;function tfPropertyErrorString(t,e,n,a,u){var o='" of type ';return e==="key"&&(o='" with key type '),tfErrorString('property "'+tfJSON$1(n)+o+tfJSON$1(t),a,u)}function TfPropertyTypeError$1(t,e,n,a,u){t?(u=u||getValueTypeName$1(a),this.message=tfPropertyErrorString(t,n,e,a,u)):this.message='Unexpected property "'+e+'"',captureStackTrace(this,TfTypeError$1),this.__label=n,this.__property=e,this.__type=t,this.__value=a,this.__valueTypeName=u}TfPropertyTypeError$1.prototype=Object.create(Error.prototype);TfPropertyTypeError$1.prototype.constructor=TfTypeError$1;function tfCustomError(t,e){return new TfTypeError$1(t,{},e)}function tfSubError$1(t,e,n){return t instanceof TfPropertyTypeError$1?(e=e+"."+t.__property,t=new TfPropertyTypeError$1(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof TfTypeError$1&&(t=new TfPropertyTypeError$1(t.__type,e,n,t.__value,t.__valueTypeName)),captureStackTrace(t),t}var errors$1={TfTypeError:TfTypeError$1,TfPropertyTypeError:TfPropertyTypeError$1,tfCustomError,tfSubError:tfSubError$1,tfJSON:tfJSON$1,getValueTypeName:getValueTypeName$1},extra,hasRequiredExtra;function requireExtra(){if(hasRequiredExtra)return extra;hasRequiredExtra=1;var t=native$1,e=errors$1;function n(ne){return Buffer$1$1.isBuffer(ne)}function a(ne){return typeof ne=="string"&&/^([0-9a-f]{2})+$/i.test(ne)}function u(ne,ge){var pe=ne.toJSON();function se(Se){if(!ne(Se))return!1;if(Se.length===ge)return!0;throw e.tfCustomError(pe+"(Length: "+ge+")",pe+"(Length: "+Se.length+")")}return se.toJSON=function(){return pe},se}var o=u.bind(null,t.Array),p=u.bind(null,n),m=u.bind(null,a),y=u.bind(null,t.String);function w(ne,ge,pe){pe=pe||t.Number;function se(Se,k){return pe(Se,k)&&Se>ne&&Se<ge}return se.toJSON=function(){return`${pe.toJSON()} between [${ne}, ${ge}]`},se}var _=Math.pow(2,53)-1;function M(ne){return typeof ne=="number"&&isFinite(ne)}function T(ne){return ne<<24>>24===ne}function B(ne){return ne<<16>>16===ne}function P(ne){return(ne|0)===ne}function C(ne){return typeof ne=="number"&&ne>=-_&&ne<=_&&Math.floor(ne)===ne}function L(ne){return(ne&255)===ne}function U(ne){return(ne&65535)===ne}function q(ne){return ne>>>0===ne}function G(ne){return typeof ne=="number"&&ne>=0&&ne<=_&&Math.floor(ne)===ne}var X={ArrayN:o,Buffer:n,BufferN:p,Finite:M,Hex:a,HexN:m,Int8:T,Int16:B,Int32:P,Int53:C,Range:w,StringN:y,UInt8:L,UInt16:U,UInt32:q,UInt53:G};for(var te in X)X[te].toJSON=function(ne){return ne}.bind(null,te);return extra=X,extra}var ERRORS=errors$1,NATIVE=native$1,tfJSON=ERRORS.tfJSON,TfTypeError=ERRORS.TfTypeError,TfPropertyTypeError=ERRORS.TfPropertyTypeError,tfSubError=ERRORS.tfSubError,getValueTypeName=ERRORS.getValueTypeName,TYPES={arrayOf:function(e,n){e=compile(e),n=n||{};function a(u,o){return!NATIVE.Array(u)||NATIVE.Nil(u)||n.minLength!==void 0&&u.length<n.minLength||n.maxLength!==void 0&&u.length>n.maxLength||n.length!==void 0&&u.length!==n.length?!1:u.every(function(p,m){try{return typeforce$5(e,p,o)}catch(y){throw tfSubError(y,m)}})}return a.toJSON=function(){var u="["+tfJSON(e)+"]";return n.length!==void 0?u+="{"+n.length+"}":(n.minLength!==void 0||n.maxLength!==void 0)&&(u+="{"+(n.minLength===void 0?0:n.minLength)+","+(n.maxLength===void 0?1/0:n.maxLength)+"}"),u},a},maybe:function t(e){e=compile(e);function n(a,u){return NATIVE.Nil(a)||e(a,u,t)}return n.toJSON=function(){return"?"+tfJSON(e)},n},map:function(e,n){e=compile(e),n&&(n=compile(n));function a(u,o){if(!NATIVE.Object(u)||NATIVE.Nil(u))return!1;for(var p in u){try{n&&typeforce$5(n,p,o)}catch(y){throw tfSubError(y,p,"key")}try{var m=u[p];typeforce$5(e,m,o)}catch(y){throw tfSubError(y,p)}}return!0}return n?a.toJSON=function(){return"{"+tfJSON(n)+": "+tfJSON(e)+"}"}:a.toJSON=function(){return"{"+tfJSON(e)+"}"},a},object:function(e){var n={};for(var a in e)n[a]=compile(e[a]);function u(o,p){if(!NATIVE.Object(o)||NATIVE.Nil(o))return!1;var m;try{for(m in n){var y=n[m],w=o[m];typeforce$5(y,w,p)}}catch(_){throw tfSubError(_,m)}if(p){for(m in o)if(!n[m])throw new TfPropertyTypeError(void 0,m)}return!0}return u.toJSON=function(){return tfJSON(n)},u},anyOf:function(){var e=[].slice.call(arguments).map(compile);function n(a,u){return e.some(function(o){try{return typeforce$5(o,a,u)}catch{return!1}})}return n.toJSON=function(){return e.map(tfJSON).join("|")},n},allOf:function(){var e=[].slice.call(arguments).map(compile);function n(a,u){return e.every(function(o){try{return typeforce$5(o,a,u)}catch{return!1}})}return n.toJSON=function(){return e.map(tfJSON).join(" & ")},n},quacksLike:function(e){function n(a){return e===getValueTypeName(a)}return n.toJSON=function(){return e},n},tuple:function(){var e=[].slice.call(arguments).map(compile);function n(a,u){return NATIVE.Nil(a)||NATIVE.Nil(a.length)||u&&a.length!==e.length?!1:e.every(function(o,p){try{return typeforce$5(o,a[p],u)}catch(m){throw tfSubError(m,p)}})}return n.toJSON=function(){return"("+e.map(tfJSON).join(", ")+")"},n},value:function(e){function n(a){return a===e}return n.toJSON=function(){return e},n}};TYPES.oneOf=TYPES.anyOf;function compile(t){if(NATIVE.String(t))return t[0]==="?"?TYPES.maybe(t.slice(1)):NATIVE[t]||TYPES.quacksLike(t);if(t&&NATIVE.Object(t)){if(NATIVE.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return TYPES.arrayOf(t[0])}return TYPES.object(t)}else if(NATIVE.Function(t))return t;return TYPES.value(t)}function typeforce$5(t,e,n,a){if(NATIVE.Function(t)){if(t(e,n))return!0;throw new TfTypeError(a||t,e)}return typeforce$5(compile(t),e,n)}for(var typeName in NATIVE)typeforce$5[typeName]=NATIVE[typeName];for(typeName in TYPES)typeforce$5[typeName]=TYPES[typeName];var EXTRA=requireExtra();for(typeName in EXTRA)typeforce$5[typeName]=EXTRA[typeName];typeforce$5.compile=compile;typeforce$5.TfTypeError=TfTypeError;typeforce$5.TfPropertyTypeError=TfPropertyTypeError;var typeforce_1=typeforce$5,safeBuffer$2={exports:{}};(function(t,e){var n=require$$0$4,a=n.Buffer;function u(p,m){for(var y in p)m[y]=p[y]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=n:(u(n,e),e.Buffer=o);function o(p,m,y){return a(p,m,y)}o.prototype=Object.create(a.prototype),u(a,o),o.from=function(p,m,y){if(typeof p=="number")throw new TypeError("Argument must not be a number");return a(p,m,y)},o.alloc=function(p,m,y){if(typeof p!="number")throw new TypeError("Argument must be a number");var w=a(p);return m!==void 0?typeof y=="string"?w.fill(m,y):w.fill(m):w.fill(0),w},o.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return a(p)},o.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(p)}})(safeBuffer$2,safeBuffer$2.exports);var safeBufferExports$1=safeBuffer$2.exports,readableBrowser$1={exports:{}},events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(e,n,a){return Function.prototype.apply.call(e,n,a)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e)};function ProcessEmitWarning(t){console&&console.warn&&console.warn(t)}var NumberIsNaN=Number.isNaN||function(e){return e!==e};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once$2;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(t){if(typeof t!="number"||t<0||NumberIsNaN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");defaultMaxListeners=t}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _getMaxListeners(t){return t._maxListeners===void 0?EventEmitter.defaultMaxListeners:t._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function(e){for(var n=[],a=1;a<arguments.length;a++)n.push(arguments[a]);var u=e==="error",o=this._events;if(o!==void 0)u=u&&o.error===void 0;else if(!u)return!1;if(u){var p;if(n.length>0&&(p=n[0]),p instanceof Error)throw p;var m=new Error("Unhandled error."+(p?" ("+p.message+")":""));throw m.context=p,m}var y=o[e];if(y===void 0)return!1;if(typeof y=="function")ReflectApply(y,this,n);else for(var w=y.length,_=arrayClone(y,w),a=0;a<w;++a)ReflectApply(_[a],this,n);return!0};function _addListener(t,e,n,a){var u,o,p;if(checkListener(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),p=o[e]),p===void 0)p=o[e]=n,++t._eventsCount;else if(typeof p=="function"?p=o[e]=a?[n,p]:[p,n]:a?p.unshift(n):p.push(n),u=_getMaxListeners(t),u>0&&p.length>u&&!p.warned){p.warned=!0;var m=new Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");m.name="MaxListenersExceededWarning",m.emitter=t,m.type=e,m.count=p.length,ProcessEmitWarning(m)}return t}EventEmitter.prototype.addListener=function(e,n){return _addListener(this,e,n,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function(e,n){return _addListener(this,e,n,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(t,e,n){var a={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},u=onceWrapper.bind(a);return u.listener=n,a.wrapFn=u,u}EventEmitter.prototype.once=function(e,n){return checkListener(n),this.on(e,_onceWrap(this,e,n)),this};EventEmitter.prototype.prependOnceListener=function(e,n){return checkListener(n),this.prependListener(e,_onceWrap(this,e,n)),this};EventEmitter.prototype.removeListener=function(e,n){var a,u,o,p,m;if(checkListener(n),u=this._events,u===void 0)return this;if(a=u[e],a===void 0)return this;if(a===n||a.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete u[e],u.removeListener&&this.emit("removeListener",e,a.listener||n));else if(typeof a!="function"){for(o=-1,p=a.length-1;p>=0;p--)if(a[p]===n||a[p].listener===n){m=a[p].listener,o=p;break}if(o<0)return this;o===0?a.shift():spliceOne(a,o),a.length===1&&(u[e]=a[0]),u.removeListener!==void 0&&this.emit("removeListener",e,m||n)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function(e){var n,a,u;if(a=this._events,a===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete a[e]),this;if(arguments.length===0){var o=Object.keys(a),p;for(u=0;u<o.length;++u)p=o[u],p!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=a[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(u=n.length-1;u>=0;u--)this.removeListener(e,n[u]);return this};function _listeners(t,e,n){var a=t._events;if(a===void 0)return[];var u=a[e];return u===void 0?[]:typeof u=="function"?n?[u.listener||u]:[u]:n?unwrapListeners(u):arrayClone(u,u.length)}EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)};EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)};EventEmitter.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):listenerCount.call(t,e)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(t,e){for(var n=new Array(e),a=0;a<e;++a)n[a]=t[a];return n}function spliceOne(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function unwrapListeners(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function once$2(t,e){return new Promise(function(n,a){function u(p){t.removeListener(e,o),a(p)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",u),n([].slice.call(arguments))}eventTargetAgnosticAddListener(t,e,o,{once:!0}),e!=="error"&&addErrorHandlerIfEventEmitter(t,u,{once:!0})})}function addErrorHandlerIfEventEmitter(t,e,n){typeof t.on=="function"&&eventTargetAgnosticAddListener(t,"error",e,n)}function eventTargetAgnosticAddListener(t,e,n,a){if(typeof t.on=="function")a.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function u(o){a.once&&t.removeEventListener(e,u),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var eventsExports=events.exports,streamBrowser$2=eventsExports.EventEmitter,util$1={},types$5={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),a=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var u=42;e[n]=u;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var p=Object.getOwnPropertyDescriptor(e,n);if(p.value!==u||p.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},esErrors=Error,_eval=EvalError,range$3=RangeError,ref=ReferenceError,syntax=SyntaxError,type$1=TypeError,uri=URIError,origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={__proto__:null,foo:{}},$Object=Object,hasProto$1=function(){return{__proto__:test}.foo===test.foo&&!(test instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$3=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function(e,n){for(var a=[],u=0;u<e.length;u+=1)a[u]=e[u];for(var o=0;o<n.length;o+=1)a[o+e.length]=n[o];return a},slicy=function(e,n){for(var a=[],u=n||0,o=0;u<e.length;u+=1,o+=1)a[o]=e[u];return a},joiny=function(t,e){for(var n="",a=0;a<t.length;a+=1)n+=t[a],a+1<t.length&&(n+=e);return n},implementation$1=function(e){var n=this;if(typeof n!="function"||toStr$3.apply(n)!==funcType)throw new TypeError(ERROR_MESSAGE+n);for(var a=slicy(arguments,1),u,o=function(){if(this instanceof u){var _=n.apply(this,concatty(a,arguments));return Object(_)===_?_:this}return n.apply(e,concatty(a,arguments))},p=max(0,n.length-a.length),m=[],y=0;y<p;y++)m[y]="$"+y;if(u=Function("binder","return function ("+joiny(m,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var w=function(){};w.prototype=n.prototype,u.prototype=new w,w.prototype=null}return u},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,call$1=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$1=functionBind,hasown=bind$1.call(call$1,$hasOwn),undefined$1,$Error=esErrors,$EvalError=_eval,$RangeError=range$3,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$2=type$1,$URIError=uri,$Function=Function,getEvalledConstructor=function(t){try{return $Function('"use strict"; return ('+t+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(t){return t.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(t){var errorProto=getProto$1(getProto$1(t));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function t(e){var n;if(e==="%AsyncFunction%")n=getEvalledConstructor("async function () {}");else if(e==="%GeneratorFunction%")n=getEvalledConstructor("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=getEvalledConstructor("async function* () {}");else if(e==="%AsyncGenerator%"){var a=t("%AsyncGeneratorFunction%");a&&(n=a.prototype)}else if(e==="%AsyncIteratorPrototype%"){var u=t("%AsyncGenerator%");u&&getProto$1&&(n=getProto$1(u.prototype))}return INTRINSICS[e]=n,n},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn=hasown,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var n=$strSlice(e,0,1),a=$strSlice(e,-1);if(n==="%"&&a!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(a==="%"&&n!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var u=[];return $replace(e,rePropName,function(o,p,m,y){u[u.length]=m?$replace(y,reEscapeChar,"$1"):p||o}),u},getBaseIntrinsic=function(e,n){var a=e,u;if(hasOwn(LEGACY_ALIASES,a)&&(u=LEGACY_ALIASES[a],a="%"+u[0]+"%"),hasOwn(INTRINSICS,a)){var o=INTRINSICS[a];if(o===needsEval&&(o=doEval(a)),typeof o>"u"&&!n)throw new $TypeError$2("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:u,name:a,value:o}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,n){if(typeof e!="string"||e.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,e)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var a=stringToPath(e),u=a.length>0?a[0]:"",o=getBaseIntrinsic("%"+u+"%",n),p=o.name,m=o.value,y=!1,w=o.alias;w&&(u=w[0],$spliceApply(a,$concat([0,1],w)));for(var _=1,M=!0;_<a.length;_+=1){var T=a[_],B=$strSlice(T,0,1),P=$strSlice(T,-1);if((B==='"'||B==="'"||B==="`"||P==='"'||P==="'"||P==="`")&&B!==P)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((T==="constructor"||!M)&&(y=!0),u+="."+T,p="%"+u+"%",hasOwn(INTRINSICS,p))m=INTRINSICS[p];else if(m!=null){if(!(T in m)){if(!n)throw new $TypeError$2("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&_+1>=a.length){var C=$gOPD$1(m,T);M=!!C,M&&"get"in C&&!("originalValue"in C.get)?m=C.get:m=m[T]}else M=hasOwn(m,T),m=m[T];M&&!y&&(INTRINSICS[p]=m)}}return m},callBind$2={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var t=getIntrinsic,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return esDefineProperty=e,esDefineProperty}var GetIntrinsic$2=getIntrinsic,$gOPD=GetIntrinsic$2("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,$defineProperty$1=requireEsDefineProperty(),$SyntaxError=syntax,$TypeError$1=type$1,gopd=gopd$1,defineDataProperty=function(e,n,a){if(!e||typeof e!="object"&&typeof e!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,y=!!gopd&&gopd(e,n);if($defineProperty$1)$defineProperty$1(e,n,{configurable:p===null&&y?y.configurable:!p,enumerable:u===null&&y?y.enumerable:!u,value:a,writable:o===null&&y?y.writable:!o});else if(m||!u&&!o&&!p)e[n]=a;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=requireEsDefineProperty(),hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$1=getIntrinsic,define$1=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=type$1,$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function(e,n){if(typeof e!="function")throw new $TypeError("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||$floor(n)!==n)throw new $TypeError("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],u=!0,o=!0;if("length"in e&&gOPD$1){var p=gOPD$1(e,"length");p&&!p.configurable&&(u=!1),p&&!p.writable&&(o=!1)}return(u||o||!a)&&(hasDescriptors?define$1(e,"length",n,!0,!0):define$1(e,"length",n)),e};(function(t){var e=functionBind,n=getIntrinsic,a=setFunctionLength,u=type$1,o=n("%Function.prototype.apply%"),p=n("%Function.prototype.call%"),m=n("%Reflect.apply%",!0)||e.call(p,o),y=requireEsDefineProperty(),w=n("%Math.max%");t.exports=function(T){if(typeof T!="function")throw new u("a function is required");var B=m(e,p,arguments);return a(B,1+w(0,T.length-(arguments.length-1)),!0)};var _=function(){return m(e,o,arguments)};y?y(t.exports,"apply",{value:_}):t.exports.apply=_})(callBind$2);var callBindExports=callBind$2.exports,GetIntrinsic=getIntrinsic,callBind$1=callBindExports,$indexOf$1=callBind$1(GetIntrinsic("String.prototype.indexOf")),callBound$2=function(e,n){var a=GetIntrinsic(e,!!n);return typeof a=="function"&&$indexOf$1(e,".prototype.")>-1?callBind$1(a):a},hasToStringTag$3=shams(),callBound$1=callBound$2,$toString$1=callBound$1("Object.prototype.toString"),isStandardArguments=function(e){return hasToStringTag$3&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:$toString$1(e)==="[object Arguments]"},isLegacyArguments=function(e){return isStandardArguments(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&$toString$1(e)!=="[object Array]"&&$toString$1(e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(e){if(typeof e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(e)))return!0;if(!hasToStringTag$2){var n=toStr$2.call(e);return n==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var a=getGeneratorFunc();GeneratorFunction=a?getProto(a):!1}return getProto(e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(t){t!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(e){try{var n=fnToStr.call(e);return constructorRegex.test(n)}catch{return!1}},tryFunctionObject=function(e){try{return isES6ClassFn(e)?!1:(fnToStr.call(e),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(e){if((isIE68||!e)&&(typeof e>"u"||typeof e=="object"))try{var n=toStr$1.call(e);return(n===ddaClass||n===ddaClass2||n===ddaClass3||n===objectClass)&&e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{reflectApply(e,null,badArrayLike)}catch(n){if(n!==isCallableMarker)return!1}return!isES6ClassFn(e)&&tryFunctionObject(e)}:function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var n=toStr$1.call(e);return n!==fnClass&&n!==genClass&&!/^\[object HTML/.test(n)?!1:tryFunctionObject(e)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,forEachArray=function(e,n,a){for(var u=0,o=e.length;u<o;u++)hasOwnProperty.call(e,u)&&(a==null?n(e[u],u,e):n.call(a,e[u],u,e))},forEachString=function(e,n,a){for(var u=0,o=e.length;u<o;u++)a==null?n(e.charAt(u),u,e):n.call(a,e.charAt(u),u,e)},forEachObject=function(e,n,a){for(var u in e)hasOwnProperty.call(e,u)&&(a==null?n(e[u],u,e):n.call(a,e[u],u,e))},forEach$1=function(e,n,a){if(!isCallable(n))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=a),toStr.call(e)==="[object Array]"?forEachArray(e,n,u):typeof e=="string"?forEachString(e,n,u):forEachObject(e,n,u)},forEach_1=forEach$1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function(){for(var e=[],n=0;n<possibleNames.length;n++)typeof g$1[possibleNames[n]]=="function"&&(e[e.length]=possibleNames[n]);return e},forEach=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind=callBindExports,callBound=callBound$2,gOPD=gopd$1,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf=callBound("Array.prototype.indexOf",!0)||function(e,n){for(var a=0;a<e.length;a+=1)if(e[a]===n)return a;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf?forEach(typedArrays,function(t){var e=new g[t];if(Symbol.toStringTag in e){var n=getPrototypeOf(e),a=gOPD(n,Symbol.toStringTag);if(!a){var u=getPrototypeOf(n);a=gOPD(u,Symbol.toStringTag)}cache["$"+t]=callBind(a.get)}}):forEach(typedArrays,function(t){var e=new g[t],n=e.slice||e.set;n&&(cache["$"+t]=callBind(n))});var tryTypedArrays=function(e){var n=!1;return forEach(cache,function(a,u){if(!n)try{"$"+a(e)===u&&(n=$slice(u,1))}catch{}}),n},trySlices=function(e){var n=!1;return forEach(cache,function(a,u){if(!n)try{a(e),n=$slice(u,1)}catch{}}),n},whichTypedArray$1=function(e){if(!e||typeof e!="object")return!1;if(!hasToStringTag){var n=$slice($toString(e),8,-1);return $indexOf(typedArrays,n)>-1?n:n!=="Object"?!1:trySlices(e)}return gOPD?tryTypedArrays(e):null},whichTypedArray=whichTypedArray$1,isTypedArray=function(e){return!!whichTypedArray(e)};(function(t){var e=isArguments,n=isGeneratorFunction,a=whichTypedArray$1,u=isTypedArray;function o(we){return we.call.bind(we)}var p=typeof BigInt<"u",m=typeof Symbol<"u",y=o(Object.prototype.toString),w=o(Number.prototype.valueOf),_=o(String.prototype.valueOf),M=o(Boolean.prototype.valueOf);if(p)var T=o(BigInt.prototype.valueOf);if(m)var B=o(Symbol.prototype.valueOf);function P(we,Et){if(typeof we!="object")return!1;try{return Et(we),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=u;function C(we){return typeof Promise<"u"&&we instanceof Promise||we!==null&&typeof we=="object"&&typeof we.then=="function"&&typeof we.catch=="function"}t.isPromise=C;function L(we){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(we):u(we)||D(we)}t.isArrayBufferView=L;function U(we){return a(we)==="Uint8Array"}t.isUint8Array=U;function q(we){return a(we)==="Uint8ClampedArray"}t.isUint8ClampedArray=q;function G(we){return a(we)==="Uint16Array"}t.isUint16Array=G;function X(we){return a(we)==="Uint32Array"}t.isUint32Array=X;function te(we){return a(we)==="Int8Array"}t.isInt8Array=te;function ne(we){return a(we)==="Int16Array"}t.isInt16Array=ne;function ge(we){return a(we)==="Int32Array"}t.isInt32Array=ge;function pe(we){return a(we)==="Float32Array"}t.isFloat32Array=pe;function se(we){return a(we)==="Float64Array"}t.isFloat64Array=se;function Se(we){return a(we)==="BigInt64Array"}t.isBigInt64Array=Se;function k(we){return a(we)==="BigUint64Array"}t.isBigUint64Array=k;function c(we){return y(we)==="[object Map]"}c.working=typeof Map<"u"&&c(new Map);function d(we){return typeof Map>"u"?!1:c.working?c(we):we instanceof Map}t.isMap=d;function b(we){return y(we)==="[object Set]"}b.working=typeof Set<"u"&&b(new Set);function v(we){return typeof Set>"u"?!1:b.working?b(we):we instanceof Set}t.isSet=v;function A(we){return y(we)==="[object WeakMap]"}A.working=typeof WeakMap<"u"&&A(new WeakMap);function $(we){return typeof WeakMap>"u"?!1:A.working?A(we):we instanceof WeakMap}t.isWeakMap=$;function I(we){return y(we)==="[object WeakSet]"}I.working=typeof WeakSet<"u"&&I(new WeakSet);function S(we){return I(we)}t.isWeakSet=S;function l(we){return y(we)==="[object ArrayBuffer]"}l.working=typeof ArrayBuffer<"u"&&l(new ArrayBuffer);function E(we){return typeof ArrayBuffer>"u"?!1:l.working?l(we):we instanceof ArrayBuffer}t.isArrayBuffer=E;function O(we){return y(we)==="[object DataView]"}O.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&O(new DataView(new ArrayBuffer(1),0,1));function D(we){return typeof DataView>"u"?!1:O.working?O(we):we instanceof DataView}t.isDataView=D;var Y=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function F(we){return y(we)==="[object SharedArrayBuffer]"}function V(we){return typeof Y>"u"?!1:(typeof F.working>"u"&&(F.working=F(new Y)),F.working?F(we):we instanceof Y)}t.isSharedArrayBuffer=V;function H(we){return y(we)==="[object AsyncFunction]"}t.isAsyncFunction=H;function ee(we){return y(we)==="[object Map Iterator]"}t.isMapIterator=ee;function ie(we){return y(we)==="[object Set Iterator]"}t.isSetIterator=ie;function de(we){return y(we)==="[object Generator]"}t.isGeneratorObject=de;function Z(we){return y(we)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Z;function j(we){return P(we,w)}t.isNumberObject=j;function he(we){return P(we,_)}t.isStringObject=he;function Ae(we){return P(we,M)}t.isBooleanObject=Ae;function _e(we){return p&&P(we,T)}t.isBigIntObject=_e;function xe(we){return m&&P(we,B)}t.isSymbolObject=xe;function Xe(we){return j(we)||he(we)||Ae(we)||_e(we)||xe(we)}t.isBoxedPrimitive=Xe;function Re(we){return typeof Uint8Array<"u"&&(E(we)||V(we))}t.isAnyArrayBuffer=Re,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(we){Object.defineProperty(t,we,{enumerable:!1,value:function(){throw new Error(we+" is not supported in userland")}})})})(types$5);var isBufferBrowser=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e={},n=Object.getOwnPropertyDescriptors||function(Y){for(var F=Object.keys(Y),V={},H=0;H<F.length;H++)V[F[H]]=Object.getOwnPropertyDescriptor(Y,F[H]);return V},a=/%[sdj%]/g;t.format=function(D){if(!ne(D)){for(var Y=[],F=0;F<arguments.length;F++)Y.push(m(arguments[F]));return Y.join(" ")}for(var F=1,V=arguments,H=V.length,ee=String(D).replace(a,function(de){if(de==="%%")return"%";if(F>=H)return de;switch(de){case"%s":return String(V[F++]);case"%d":return Number(V[F++]);case"%j":try{return JSON.stringify(V[F++])}catch{return"[Circular]"}default:return de}}),ie=V[F];F<H;ie=V[++F])G(ie)||!Se(ie)?ee+=" "+ie:ee+=" "+m(ie);return ee},t.deprecate=function(D,Y){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return D;if(typeof process$1>"u")return function(){return t.deprecate(D,Y).apply(this,arguments)};var F=!1;function V(){if(!F){if(process$1.throwDeprecation)throw new Error(Y);process$1.traceDeprecation?console.trace(Y):console.error(Y),F=!0}return D.apply(this,arguments)}return V};var u={},o=/^$/;if(e.NODE_DEBUG){var p=e.NODE_DEBUG;p=p.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+p+"$","i")}t.debuglog=function(D){if(D=D.toUpperCase(),!u[D])if(o.test(D)){var Y=process$1.pid;u[D]=function(){var F=t.format.apply(t,arguments);console.error("%s %d: %s",D,Y,F)}}else u[D]=function(){};return u[D]};function m(D,Y){var F={seen:[],stylize:w};return arguments.length>=3&&(F.depth=arguments[2]),arguments.length>=4&&(F.colors=arguments[3]),q(Y)?F.showHidden=Y:Y&&t._extend(F,Y),pe(F.showHidden)&&(F.showHidden=!1),pe(F.depth)&&(F.depth=2),pe(F.colors)&&(F.colors=!1),pe(F.customInspect)&&(F.customInspect=!0),F.colors&&(F.stylize=y),M(F,D,F.depth)}t.inspect=m,m.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function y(D,Y){var F=m.styles[Y];return F?"\x1b["+m.colors[F][0]+"m"+D+"\x1b["+m.colors[F][1]+"m":D}function w(D,Y){return D}function _(D){var Y={};return D.forEach(function(F,V){Y[F]=!0}),Y}function M(D,Y,F){if(D.customInspect&&Y&&d(Y.inspect)&&Y.inspect!==t.inspect&&!(Y.constructor&&Y.constructor.prototype===Y)){var V=Y.inspect(F,D);return ne(V)||(V=M(D,V,F)),V}var H=T(D,Y);if(H)return H;var ee=Object.keys(Y),ie=_(ee);if(D.showHidden&&(ee=Object.getOwnPropertyNames(Y)),c(Y)&&(ee.indexOf("message")>=0||ee.indexOf("description")>=0))return B(Y);if(ee.length===0){if(d(Y)){var de=Y.name?": "+Y.name:"";return D.stylize("[Function"+de+"]","special")}if(se(Y))return D.stylize(RegExp.prototype.toString.call(Y),"regexp");if(k(Y))return D.stylize(Date.prototype.toString.call(Y),"date");if(c(Y))return B(Y)}var Z="",j=!1,he=["{","}"];if(U(Y)&&(j=!0,he=["[","]"]),d(Y)){var Ae=Y.name?": "+Y.name:"";Z=" [Function"+Ae+"]"}if(se(Y)&&(Z=" "+RegExp.prototype.toString.call(Y)),k(Y)&&(Z=" "+Date.prototype.toUTCString.call(Y)),c(Y)&&(Z=" "+B(Y)),ee.length===0&&(!j||Y.length==0))return he[0]+Z+he[1];if(F<0)return se(Y)?D.stylize(RegExp.prototype.toString.call(Y),"regexp"):D.stylize("[Object]","special");D.seen.push(Y);var _e;return j?_e=P(D,Y,F,ie,ee):_e=ee.map(function(xe){return C(D,Y,F,ie,xe,j)}),D.seen.pop(),L(_e,Z,he)}function T(D,Y){if(pe(Y))return D.stylize("undefined","undefined");if(ne(Y)){var F="'"+JSON.stringify(Y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(F,"string")}if(te(Y))return D.stylize(""+Y,"number");if(q(Y))return D.stylize(""+Y,"boolean");if(G(Y))return D.stylize("null","null")}function B(D){return"["+Error.prototype.toString.call(D)+"]"}function P(D,Y,F,V,H){for(var ee=[],ie=0,de=Y.length;ie<de;++ie)S(Y,String(ie))?ee.push(C(D,Y,F,V,String(ie),!0)):ee.push("");return H.forEach(function(Z){Z.match(/^\d+$/)||ee.push(C(D,Y,F,V,Z,!0))}),ee}function C(D,Y,F,V,H,ee){var ie,de,Z;if(Z=Object.getOwnPropertyDescriptor(Y,H)||{value:Y[H]},Z.get?Z.set?de=D.stylize("[Getter/Setter]","special"):de=D.stylize("[Getter]","special"):Z.set&&(de=D.stylize("[Setter]","special")),S(V,H)||(ie="["+H+"]"),de||(D.seen.indexOf(Z.value)<0?(G(F)?de=M(D,Z.value,null):de=M(D,Z.value,F-1),de.indexOf(`
`)>-1&&(ee?de=de.split(`
`).map(function(j){return"  "+j}).join(`
`).slice(2):de=`
`+de.split(`
`).map(function(j){return"   "+j}).join(`
`))):de=D.stylize("[Circular]","special")),pe(ie)){if(ee&&H.match(/^\d+$/))return de;ie=JSON.stringify(""+H),ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ie=ie.slice(1,-1),ie=D.stylize(ie,"name")):(ie=ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ie=D.stylize(ie,"string"))}return ie+": "+de}function L(D,Y,F){var V=D.reduce(function(H,ee){return ee.indexOf(`
`)>=0,H+ee.replace(/\u001b\[\d\d?m/g,"").length+1},0);return V>60?F[0]+(Y===""?"":Y+`
 `)+" "+D.join(`,
  `)+" "+F[1]:F[0]+Y+" "+D.join(", ")+" "+F[1]}t.types=types$5;function U(D){return Array.isArray(D)}t.isArray=U;function q(D){return typeof D=="boolean"}t.isBoolean=q;function G(D){return D===null}t.isNull=G;function X(D){return D==null}t.isNullOrUndefined=X;function te(D){return typeof D=="number"}t.isNumber=te;function ne(D){return typeof D=="string"}t.isString=ne;function ge(D){return typeof D=="symbol"}t.isSymbol=ge;function pe(D){return D===void 0}t.isUndefined=pe;function se(D){return Se(D)&&v(D)==="[object RegExp]"}t.isRegExp=se,t.types.isRegExp=se;function Se(D){return typeof D=="object"&&D!==null}t.isObject=Se;function k(D){return Se(D)&&v(D)==="[object Date]"}t.isDate=k,t.types.isDate=k;function c(D){return Se(D)&&(v(D)==="[object Error]"||D instanceof Error)}t.isError=c,t.types.isNativeError=c;function d(D){return typeof D=="function"}t.isFunction=d;function b(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}t.isPrimitive=b,t.isBuffer=isBufferBrowser;function v(D){return Object.prototype.toString.call(D)}function A(D){return D<10?"0"+D.toString(10):D.toString(10)}var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var D=new Date,Y=[A(D.getHours()),A(D.getMinutes()),A(D.getSeconds())].join(":");return[D.getDate(),$[D.getMonth()],Y].join(" ")}t.log=function(){console.log("%s - %s",I(),t.format.apply(t,arguments))},t.inherits=inherits_browserExports,t._extend=function(D,Y){if(!Y||!Se(Y))return D;for(var F=Object.keys(Y),V=F.length;V--;)D[F[V]]=Y[F[V]];return D};function S(D,Y){return Object.prototype.hasOwnProperty.call(D,Y)}var l=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');if(l&&Y[l]){var F=Y[l];if(typeof F!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(F,l,{value:F,enumerable:!1,writable:!1,configurable:!0}),F}function F(){for(var V,H,ee=new Promise(function(Z,j){V=Z,H=j}),ie=[],de=0;de<arguments.length;de++)ie.push(arguments[de]);ie.push(function(Z,j){Z?H(Z):V(j)});try{Y.apply(this,ie)}catch(Z){H(Z)}return ee}return Object.setPrototypeOf(F,Object.getPrototypeOf(Y)),l&&Object.defineProperty(F,l,{value:F,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(F,n(Y))},t.promisify.custom=l;function E(D,Y){if(!D){var F=new Error("Promise was rejected with a falsy value");F.reason=D,D=F}return Y(D)}function O(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function Y(){for(var F=[],V=0;V<arguments.length;V++)F.push(arguments[V]);var H=F.pop();if(typeof H!="function")throw new TypeError("The last argument must be of type Function");var ee=this,ie=function(){return H.apply(ee,arguments)};D.apply(this,F).then(function(de){process$1.nextTick(ie.bind(null,null,de))},function(de){process$1.nextTick(E.bind(null,de,ie))})}return Object.setPrototypeOf(Y,Object.getPrototypeOf(D)),Object.defineProperties(Y,n(D)),Y}t.callbackify=O})(util$1);var buffer_list$1,hasRequiredBuffer_list$1;function requireBuffer_list$1(){if(hasRequiredBuffer_list$1)return buffer_list$1;hasRequiredBuffer_list$1=1;function t(P,C){var L=Object.keys(P);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(P);C&&(U=U.filter(function(q){return Object.getOwnPropertyDescriptor(P,q).enumerable})),L.push.apply(L,U)}return L}function e(P){for(var C=1;C<arguments.length;C++){var L=arguments[C]!=null?arguments[C]:{};C%2?t(Object(L),!0).forEach(function(U){n(P,U,L[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(L)):t(Object(L)).forEach(function(U){Object.defineProperty(P,U,Object.getOwnPropertyDescriptor(L,U))})}return P}function n(P,C,L){return C=p(C),C in P?Object.defineProperty(P,C,{value:L,enumerable:!0,configurable:!0,writable:!0}):P[C]=L,P}function a(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}function u(P,C){for(var L=0;L<C.length;L++){var U=C[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,p(U.key),U)}}function o(P,C,L){return C&&u(P.prototype,C),L&&u(P,L),Object.defineProperty(P,"prototype",{writable:!1}),P}function p(P){var C=m(P,"string");return typeof C=="symbol"?C:String(C)}function m(P,C){if(typeof P!="object"||P===null)return P;var L=P[Symbol.toPrimitive];if(L!==void 0){var U=L.call(P,C||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(P)}var y=require$$0$4,w=y.Buffer,_=util$1,M=_.inspect,T=M&&M.custom||"inspect";function B(P,C,L){w.prototype.copy.call(P,C,L)}return buffer_list$1=function(){function P(){a(this,P),this.head=null,this.tail=null,this.length=0}return o(P,[{key:"push",value:function(L){var U={data:L,next:null};this.length>0?this.tail.next=U:this.head=U,this.tail=U,++this.length}},{key:"unshift",value:function(L){var U={data:L,next:this.head};this.length===0&&(this.tail=U),this.head=U,++this.length}},{key:"shift",value:function(){if(this.length!==0){var L=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,L}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(L){if(this.length===0)return"";for(var U=this.head,q=""+U.data;U=U.next;)q+=L+U.data;return q}},{key:"concat",value:function(L){if(this.length===0)return w.alloc(0);for(var U=w.allocUnsafe(L>>>0),q=this.head,G=0;q;)B(q.data,U,G),G+=q.data.length,q=q.next;return U}},{key:"consume",value:function(L,U){var q;return L<this.head.data.length?(q=this.head.data.slice(0,L),this.head.data=this.head.data.slice(L)):L===this.head.data.length?q=this.shift():q=U?this._getString(L):this._getBuffer(L),q}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(L){var U=this.head,q=1,G=U.data;for(L-=G.length;U=U.next;){var X=U.data,te=L>X.length?X.length:L;if(te===X.length?G+=X:G+=X.slice(0,L),L-=te,L===0){te===X.length?(++q,U.next?this.head=U.next:this.head=this.tail=null):(this.head=U,U.data=X.slice(te));break}++q}return this.length-=q,G}},{key:"_getBuffer",value:function(L){var U=w.allocUnsafe(L),q=this.head,G=1;for(q.data.copy(U),L-=q.data.length;q=q.next;){var X=q.data,te=L>X.length?X.length:L;if(X.copy(U,U.length-L,0,te),L-=te,L===0){te===X.length?(++G,q.next?this.head=q.next:this.head=this.tail=null):(this.head=q,q.data=X.slice(te));break}++G}return this.length-=G,U}},{key:T,value:function(L,U){return M(this,e(e({},U),{},{depth:0,customInspect:!1}))}}]),P}(),buffer_list$1}function destroy(t,e){var n=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(emitErrorNT,this,t)):process$1.nextTick(emitErrorNT,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?n._writableState?n._writableState.errorEmitted?process$1.nextTick(emitCloseNT,n):(n._writableState.errorEmitted=!0,process$1.nextTick(emitErrorAndCloseNT,n,o)):process$1.nextTick(emitErrorAndCloseNT,n,o):e?(process$1.nextTick(emitCloseNT,n),e(o)):process$1.nextTick(emitCloseNT,n)}),this)}function emitErrorAndCloseNT(t,e){emitErrorNT(t,e),emitCloseNT(t)}function emitCloseNT(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(t,e){t.emit("error",e)}function errorOrDestroy(t,e){var n=t._readableState,a=t._writableState;n&&n.autoDestroy||a&&a.autoDestroy?t.destroy(e):t.emit("error",e)}var destroy_1$2={destroy,undestroy,errorOrDestroy},errorsBrowser$1={};function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var codes={};function createErrorType(t,e,n){n||(n=Error);function a(o,p,m){return typeof e=="string"?e:e(o,p,m)}var u=function(o){_inheritsLoose(p,o);function p(m,y,w){return o.call(this,a(m,y,w))||this}return p}(n);u.prototype.name=n.name,u.prototype.code=t,codes[t]=u}function oneOf(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(a){return String(a)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function startsWith(t,e,n){return t.substr(!n||n<0?0:+n,e.length)===e}function endsWith(t,e,n){return(n===void 0||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}function includes(t,e,n){return typeof n!="number"&&(n=0),n+e.length>t.length?!1:t.indexOf(e,n)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(t,e,n){var a;typeof e=="string"&&startsWith(e,"not ")?(a="must not be",e=e.replace(/^not /,"")):a="must be";var u;if(endsWith(t," argument"))u="The ".concat(t," ").concat(a," ").concat(oneOf(e,"type"));else{var o=includes(t,".")?"property":"argument";u='The "'.concat(t,'" ').concat(o," ").concat(a," ").concat(oneOf(e,"type"))}return u+=". Received type ".concat(typeof n),u},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser$1.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser$1.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(t,e,n){return t.highWaterMark!=null?t.highWaterMark:e?t[n]:null}function getHighWaterMark(t,e,n,a){var u=highWaterMarkFrom(e,a,n);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var o=a?n:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(o,u)}return Math.floor(u)}return t.objectMode?16:16*1024}var state$1={getHighWaterMark},browser$e,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$e;hasRequiredBrowser$9=1,browser$e=t;function t(n,a){if(e("noDeprecation"))return n;var u=!1;function o(){if(!u){if(e("throwDeprecation"))throw new Error(a);e("traceDeprecation")?console.trace(a):console.warn(a),u=!0}return n.apply(this,arguments)}return o}function e(n){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var a=commonjsGlobal.localStorage[n];return a==null?!1:String(a).toLowerCase()==="true"}return browser$e}var _stream_writable$2,hasRequired_stream_writable$2;function require_stream_writable$2(){if(hasRequired_stream_writable$2)return _stream_writable$2;hasRequired_stream_writable$2=1,_stream_writable$2=pe;function t(V){var H=this;this.next=null,this.entry=null,this.finish=function(){F(H,V)}}var e;pe.WritableState=ne;var n={deprecate:requireBrowser$9()},a=streamBrowser$2,u=require$$0$4.Buffer,o=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function p(V){return u.from(V)}function m(V){return u.isBuffer(V)||V instanceof o}var y=destroy_1$2,w=state$1,_=w.getHighWaterMark,M=errorsBrowser$1.codes,T=M.ERR_INVALID_ARG_TYPE,B=M.ERR_METHOD_NOT_IMPLEMENTED,P=M.ERR_MULTIPLE_CALLBACK,C=M.ERR_STREAM_CANNOT_PIPE,L=M.ERR_STREAM_DESTROYED,U=M.ERR_STREAM_NULL_VALUES,q=M.ERR_STREAM_WRITE_AFTER_END,G=M.ERR_UNKNOWN_ENCODING,X=y.errorOrDestroy;inherits_browserExports(pe,a);function te(){}function ne(V,H,ee){e=e||require_stream_duplex$2(),V=V||{},typeof ee!="boolean"&&(ee=H instanceof e),this.objectMode=!!V.objectMode,ee&&(this.objectMode=this.objectMode||!!V.writableObjectMode),this.highWaterMark=_(this,V,"writableHighWaterMark",ee),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ie=V.decodeStrings===!1;this.decodeStrings=!ie,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(de){A(H,de)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}ne.prototype.getBuffer=function(){for(var H=this.bufferedRequest,ee=[];H;)ee.push(H),H=H.next;return ee},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ge;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ge=Function.prototype[Symbol.hasInstance],Object.defineProperty(pe,Symbol.hasInstance,{value:function(H){return ge.call(this,H)?!0:this!==pe?!1:H&&H._writableState instanceof ne}})):ge=function(H){return H instanceof this};function pe(V){e=e||require_stream_duplex$2();var H=this instanceof e;if(!H&&!ge.call(pe,this))return new pe(V);this._writableState=new ne(V,this,H),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),a.call(this)}pe.prototype.pipe=function(){X(this,new C)};function se(V,H){var ee=new q;X(V,ee),process$1.nextTick(H,ee)}function Se(V,H,ee,ie){var de;return ee===null?de=new U:typeof ee!="string"&&!H.objectMode&&(de=new T("chunk",["string","Buffer"],ee)),de?(X(V,de),process$1.nextTick(ie,de),!1):!0}pe.prototype.write=function(V,H,ee){var ie=this._writableState,de=!1,Z=!ie.objectMode&&m(V);return Z&&!u.isBuffer(V)&&(V=p(V)),typeof H=="function"&&(ee=H,H=null),Z?H="buffer":H||(H=ie.defaultEncoding),typeof ee!="function"&&(ee=te),ie.ending?se(this,ee):(Z||Se(this,ie,V,ee))&&(ie.pendingcb++,de=c(this,ie,Z,V,H,ee)),de},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,!V.writing&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&S(this,V))},pe.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new G(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(pe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function k(V,H,ee){return!V.objectMode&&V.decodeStrings!==!1&&typeof H=="string"&&(H=u.from(H,ee)),H}Object.defineProperty(pe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(V,H,ee,ie,de,Z){if(!ee){var j=k(H,ie,de);ie!==j&&(ee=!0,de="buffer",ie=j)}var he=H.objectMode?1:ie.length;H.length+=he;var Ae=H.length<H.highWaterMark;if(Ae||(H.needDrain=!0),H.writing||H.corked){var _e=H.lastBufferedRequest;H.lastBufferedRequest={chunk:ie,encoding:de,isBuf:ee,callback:Z,next:null},_e?_e.next=H.lastBufferedRequest:H.bufferedRequest=H.lastBufferedRequest,H.bufferedRequestCount+=1}else d(V,H,!1,he,ie,de,Z);return Ae}function d(V,H,ee,ie,de,Z,j){H.writelen=ie,H.writecb=j,H.writing=!0,H.sync=!0,H.destroyed?H.onwrite(new L("write")):ee?V._writev(de,H.onwrite):V._write(de,Z,H.onwrite),H.sync=!1}function b(V,H,ee,ie,de){--H.pendingcb,ee?(process$1.nextTick(de,ie),process$1.nextTick(D,V,H),V._writableState.errorEmitted=!0,X(V,ie)):(de(ie),V._writableState.errorEmitted=!0,X(V,ie),D(V,H))}function v(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}function A(V,H){var ee=V._writableState,ie=ee.sync,de=ee.writecb;if(typeof de!="function")throw new P;if(v(ee),H)b(V,ee,ie,H,de);else{var Z=l(ee)||V.destroyed;!Z&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&S(V,ee),ie?process$1.nextTick($,V,ee,Z,de):$(V,ee,Z,de)}}function $(V,H,ee,ie){ee||I(V,H),H.pendingcb--,ie(),D(V,H)}function I(V,H){H.length===0&&H.needDrain&&(H.needDrain=!1,V.emit("drain"))}function S(V,H){H.bufferProcessing=!0;var ee=H.bufferedRequest;if(V._writev&&ee&&ee.next){var ie=H.bufferedRequestCount,de=new Array(ie),Z=H.corkedRequestsFree;Z.entry=ee;for(var j=0,he=!0;ee;)de[j]=ee,ee.isBuf||(he=!1),ee=ee.next,j+=1;de.allBuffers=he,d(V,H,!0,H.length,de,"",Z.finish),H.pendingcb++,H.lastBufferedRequest=null,Z.next?(H.corkedRequestsFree=Z.next,Z.next=null):H.corkedRequestsFree=new t(H),H.bufferedRequestCount=0}else{for(;ee;){var Ae=ee.chunk,_e=ee.encoding,xe=ee.callback,Xe=H.objectMode?1:Ae.length;if(d(V,H,!1,Xe,Ae,_e,xe),ee=ee.next,H.bufferedRequestCount--,H.writing)break}ee===null&&(H.lastBufferedRequest=null)}H.bufferedRequest=ee,H.bufferProcessing=!1}pe.prototype._write=function(V,H,ee){ee(new B("_write()"))},pe.prototype._writev=null,pe.prototype.end=function(V,H,ee){var ie=this._writableState;return typeof V=="function"?(ee=V,V=null,H=null):typeof H=="function"&&(ee=H,H=null),V!=null&&this.write(V,H),ie.corked&&(ie.corked=1,this.uncork()),ie.ending||Y(this,ie,ee),this},Object.defineProperty(pe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function E(V,H){V._final(function(ee){H.pendingcb--,ee&&X(V,ee),H.prefinished=!0,V.emit("prefinish"),D(V,H)})}function O(V,H){!H.prefinished&&!H.finalCalled&&(typeof V._final=="function"&&!H.destroyed?(H.pendingcb++,H.finalCalled=!0,process$1.nextTick(E,V,H)):(H.prefinished=!0,V.emit("prefinish")))}function D(V,H){var ee=l(H);if(ee&&(O(V,H),H.pendingcb===0&&(H.finished=!0,V.emit("finish"),H.autoDestroy))){var ie=V._readableState;(!ie||ie.autoDestroy&&ie.endEmitted)&&V.destroy()}return ee}function Y(V,H,ee){H.ending=!0,D(V,H),ee&&(H.finished?process$1.nextTick(ee):V.once("finish",ee)),H.ended=!0,V.writable=!1}function F(V,H,ee){var ie=V.entry;for(V.entry=null;ie;){var de=ie.callback;H.pendingcb--,de(ee),ie=ie.next}H.corkedRequestsFree.next=V}return Object.defineProperty(pe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),pe.prototype.destroy=y.destroy,pe.prototype._undestroy=y.undestroy,pe.prototype._destroy=function(V,H){H(V)},_stream_writable$2}var _stream_duplex$2,hasRequired_stream_duplex$2;function require_stream_duplex$2(){if(hasRequired_stream_duplex$2)return _stream_duplex$2;hasRequired_stream_duplex$2=1;var t=Object.keys||function(w){var _=[];for(var M in w)_.push(M);return _};_stream_duplex$2=p;var e=require_stream_readable$2(),n=require_stream_writable$2();inherits_browserExports(p,e);for(var a=t(n.prototype),u=0;u<a.length;u++){var o=a[u];p.prototype[o]||(p.prototype[o]=n.prototype[o])}function p(w){if(!(this instanceof p))return new p(w);e.call(this,w),n.call(this,w),this.allowHalfOpen=!0,w&&(w.readable===!1&&(this.readable=!1),w.writable===!1&&(this.writable=!1),w.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",m)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function m(){this._writableState.ended||process$1.nextTick(y,this)}function y(w){w.end()}return Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}}),_stream_duplex$2}var string_decoder={},safeBuffer$1={exports:{}};(function(t,e){var n=require$$0$4,a=n.Buffer;function u(p,m){for(var y in p)m[y]=p[y]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=n:(u(n,e),e.Buffer=o);function o(p,m,y){return a(p,m,y)}u(a,o),o.from=function(p,m,y){if(typeof p=="number")throw new TypeError("Argument must not be a number");return a(p,m,y)},o.alloc=function(p,m,y){if(typeof p!="number")throw new TypeError("Argument must be a number");var w=a(p);return m!==void 0?typeof y=="string"?w.fill(m,y):w.fill(m):w.fill(0),w},o.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return a(p)},o.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(p)}})(safeBuffer$1,safeBuffer$1.exports);var safeBufferExports=safeBuffer$1.exports,Buffer$f=safeBufferExports.Buffer,isEncoding=Buffer$f.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function normalizeEncoding(t){var e=_normalizeEncoding(t);if(typeof e!="string"&&(Buffer$f.isEncoding===isEncoding||!isEncoding(t)))throw new Error("Unknown encoding: "+t);return e||t}string_decoder.StringDecoder=StringDecoder$1;function StringDecoder$1(t){this.encoding=normalizeEncoding(t);var e;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,e=4;break;case"utf8":this.fillLast=utf8FillLast,e=4;break;case"base64":this.text=base64Text,this.end=base64End,e=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$f.allocUnsafe(e)}StringDecoder$1.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""};StringDecoder$1.prototype.end=utf8End;StringDecoder$1.prototype.text=utf8Text;StringDecoder$1.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function utf8CheckByte(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function utf8CheckIncomplete(t,e,n){var a=e.length-1;if(a<n)return 0;var u=utf8CheckByte(e[a]);return u>=0?(u>0&&(t.lastNeed=u-1),u):--a<n||u===-2?0:(u=utf8CheckByte(e[a]),u>=0?(u>0&&(t.lastNeed=u-2),u):--a<n||u===-2?0:(u=utf8CheckByte(e[a]),u>=0?(u>0&&(u===2?u=0:t.lastNeed=u-3),u):0))}function utf8CheckExtraBytes(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function utf8FillLast(t){var e=this.lastTotal-this.lastNeed,n=utf8CheckExtraBytes(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function utf8Text(t,e){var n=utf8CheckIncomplete(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var a=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,a),t.toString("utf8",e,a)}function utf8End(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function utf16Text(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var a=n.charCodeAt(n.length-1);if(a>=55296&&a<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function utf16End(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function base64Text(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function base64End(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function simpleWrite(t){return t.toString(this.encoding)}function simpleEnd(t){return t&&t.length?this.write(t):""}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser$1.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];t.apply(this,a)}}}function noop$1(){}function isRequest$1(t){return t.setHeader&&typeof t.abort=="function"}function eos$1(t,e,n){if(typeof e=="function")return eos$1(t,null,e);e||(e={}),n=once$1(n||noop$1);var a=e.readable||e.readable!==!1&&t.readable,u=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||m()},p=t._writableState&&t._writableState.finished,m=function(){u=!1,p=!0,a||n.call(t)},y=t._readableState&&t._readableState.endEmitted,w=function(){a=!1,y=!0,u||n.call(t)},_=function(P){n.call(t,P)},M=function(){var P;if(a&&!y)return(!t._readableState||!t._readableState.ended)&&(P=new ERR_STREAM_PREMATURE_CLOSE),n.call(t,P);if(u&&!p)return(!t._writableState||!t._writableState.ended)&&(P=new ERR_STREAM_PREMATURE_CLOSE),n.call(t,P)},T=function(){t.req.on("finish",m)};return isRequest$1(t)?(t.on("complete",m),t.on("abort",M),t.req?T():t.on("request",T)):u&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",w),t.on("finish",m),e.error!==!1&&t.on("error",_),t.on("close",M),function(){t.removeListener("complete",m),t.removeListener("abort",M),t.removeListener("request",T),t.req&&t.req.removeListener("finish",m),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",m),t.removeListener("end",w),t.removeListener("error",_),t.removeListener("close",M)}}var endOfStream$1=eos$1,async_iterator$1,hasRequiredAsync_iterator$1;function requireAsync_iterator$1(){if(hasRequiredAsync_iterator$1)return async_iterator$1;hasRequiredAsync_iterator$1=1;var t;function e(G,X,te){return X=n(X),X in G?Object.defineProperty(G,X,{value:te,enumerable:!0,configurable:!0,writable:!0}):G[X]=te,G}function n(G){var X=a(G,"string");return typeof X=="symbol"?X:String(X)}function a(G,X){if(typeof G!="object"||G===null)return G;var te=G[Symbol.toPrimitive];if(te!==void 0){var ne=te.call(G,X||"default");if(typeof ne!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(G)}var u=endOfStream$1,o=Symbol("lastResolve"),p=Symbol("lastReject"),m=Symbol("error"),y=Symbol("ended"),w=Symbol("lastPromise"),_=Symbol("handlePromise"),M=Symbol("stream");function T(G,X){return{value:G,done:X}}function B(G){var X=G[o];if(X!==null){var te=G[M].read();te!==null&&(G[w]=null,G[o]=null,G[p]=null,X(T(te,!1)))}}function P(G){process$1.nextTick(B,G)}function C(G,X){return function(te,ne){G.then(function(){if(X[y]){te(T(void 0,!0));return}X[_](te,ne)},ne)}}var L=Object.getPrototypeOf(function(){}),U=Object.setPrototypeOf((t={get stream(){return this[M]},next:function(){var X=this,te=this[m];if(te!==null)return Promise.reject(te);if(this[y])return Promise.resolve(T(void 0,!0));if(this[M].destroyed)return new Promise(function(se,Se){process$1.nextTick(function(){X[m]?Se(X[m]):se(T(void 0,!0))})});var ne=this[w],ge;if(ne)ge=new Promise(C(ne,this));else{var pe=this[M].read();if(pe!==null)return Promise.resolve(T(pe,!1));ge=new Promise(this[_])}return this[w]=ge,ge}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var X=this;return new Promise(function(te,ne){X[M].destroy(null,function(ge){if(ge){ne(ge);return}te(T(void 0,!0))})})}),t),L),q=function(X){var te,ne=Object.create(U,(te={},e(te,M,{value:X,writable:!0}),e(te,o,{value:null,writable:!0}),e(te,p,{value:null,writable:!0}),e(te,m,{value:null,writable:!0}),e(te,y,{value:X._readableState.endEmitted,writable:!0}),e(te,_,{value:function(pe,se){var Se=ne[M].read();Se?(ne[w]=null,ne[o]=null,ne[p]=null,pe(T(Se,!1))):(ne[o]=pe,ne[p]=se)},writable:!0}),te));return ne[w]=null,u(X,function(ge){if(ge&&ge.code!=="ERR_STREAM_PREMATURE_CLOSE"){var pe=ne[p];pe!==null&&(ne[w]=null,ne[o]=null,ne[p]=null,pe(ge)),ne[m]=ge;return}var se=ne[o];se!==null&&(ne[w]=null,ne[o]=null,ne[p]=null,se(T(void 0,!0))),ne[y]=!0}),X.on("readable",P.bind(null,ne)),ne};return async_iterator$1=q,async_iterator$1}var fromBrowser$1,hasRequiredFromBrowser$1;function requireFromBrowser$1(){return hasRequiredFromBrowser$1||(hasRequiredFromBrowser$1=1,fromBrowser$1=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser$1}var _stream_readable$2,hasRequired_stream_readable$2;function require_stream_readable$2(){if(hasRequired_stream_readable$2)return _stream_readable$2;hasRequired_stream_readable$2=1,_stream_readable$2=se;var t;se.ReadableState=pe,eventsExports.EventEmitter;var e=function(j,he){return j.listeners(he).length},n=streamBrowser$2,a=require$$0$4.Buffer,u=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(Z){return a.from(Z)}function p(Z){return a.isBuffer(Z)||Z instanceof u}var m=util$1,y;m&&m.debuglog?y=m.debuglog("stream"):y=function(){};var w=requireBuffer_list$1(),_=destroy_1$2,M=state$1,T=M.getHighWaterMark,B=errorsBrowser$1.codes,P=B.ERR_INVALID_ARG_TYPE,C=B.ERR_STREAM_PUSH_AFTER_EOF,L=B.ERR_METHOD_NOT_IMPLEMENTED,U=B.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,q,G,X;inherits_browserExports(se,n);var te=_.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ge(Z,j,he){if(typeof Z.prependListener=="function")return Z.prependListener(j,he);!Z._events||!Z._events[j]?Z.on(j,he):Array.isArray(Z._events[j])?Z._events[j].unshift(he):Z._events[j]=[he,Z._events[j]]}function pe(Z,j,he){t=t||require_stream_duplex$2(),Z=Z||{},typeof he!="boolean"&&(he=j instanceof t),this.objectMode=!!Z.objectMode,he&&(this.objectMode=this.objectMode||!!Z.readableObjectMode),this.highWaterMark=T(this,Z,"readableHighWaterMark",he),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(q||(q=string_decoder.StringDecoder),this.decoder=new q(Z.encoding),this.encoding=Z.encoding)}function se(Z){if(t=t||require_stream_duplex$2(),!(this instanceof se))return new se(Z);var j=this instanceof t;this._readableState=new pe(Z,this,j),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),n.call(this)}Object.defineProperty(se.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),se.prototype.destroy=_.destroy,se.prototype._undestroy=_.undestroy,se.prototype._destroy=function(Z,j){j(Z)},se.prototype.push=function(Z,j){var he=this._readableState,Ae;return he.objectMode?Ae=!0:typeof Z=="string"&&(j=j||he.defaultEncoding,j!==he.encoding&&(Z=a.from(Z,j),j=""),Ae=!0),Se(this,Z,j,!1,Ae)},se.prototype.unshift=function(Z){return Se(this,Z,null,!0,!1)};function Se(Z,j,he,Ae,_e){y("readableAddChunk",j);var xe=Z._readableState;if(j===null)xe.reading=!1,A(Z,xe);else{var Xe;if(_e||(Xe=c(xe,j)),Xe)te(Z,Xe);else if(xe.objectMode||j&&j.length>0)if(typeof j!="string"&&!xe.objectMode&&Object.getPrototypeOf(j)!==a.prototype&&(j=o(j)),Ae)xe.endEmitted?te(Z,new U):k(Z,xe,j,!0);else if(xe.ended)te(Z,new C);else{if(xe.destroyed)return!1;xe.reading=!1,xe.decoder&&!he?(j=xe.decoder.write(j),xe.objectMode||j.length!==0?k(Z,xe,j,!1):S(Z,xe)):k(Z,xe,j,!1)}else Ae||(xe.reading=!1,S(Z,xe))}return!xe.ended&&(xe.length<xe.highWaterMark||xe.length===0)}function k(Z,j,he,Ae){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,Z.emit("data",he)):(j.length+=j.objectMode?1:he.length,Ae?j.buffer.unshift(he):j.buffer.push(he),j.needReadable&&$(Z)),S(Z,j)}function c(Z,j){var he;return!p(j)&&typeof j!="string"&&j!==void 0&&!Z.objectMode&&(he=new P("chunk",["string","Buffer","Uint8Array"],j)),he}se.prototype.isPaused=function(){return this._readableState.flowing===!1},se.prototype.setEncoding=function(Z){q||(q=string_decoder.StringDecoder);var j=new q(Z);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var he=this._readableState.buffer.head,Ae="";he!==null;)Ae+=j.write(he.data),he=he.next;return this._readableState.buffer.clear(),Ae!==""&&this._readableState.buffer.push(Ae),this._readableState.length=Ae.length,this};var d=1073741824;function b(Z){return Z>=d?Z=d:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function v(Z,j){return Z<=0||j.length===0&&j.ended?0:j.objectMode?1:Z!==Z?j.flowing&&j.length?j.buffer.head.data.length:j.length:(Z>j.highWaterMark&&(j.highWaterMark=b(Z)),Z<=j.length?Z:j.ended?j.length:(j.needReadable=!0,0))}se.prototype.read=function(Z){y("read",Z),Z=parseInt(Z,10);var j=this._readableState,he=Z;if(Z!==0&&(j.emittedReadable=!1),Z===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return y("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?ee(this):$(this),null;if(Z=v(Z,j),Z===0&&j.ended)return j.length===0&&ee(this),null;var Ae=j.needReadable;y("need readable",Ae),(j.length===0||j.length-Z<j.highWaterMark)&&(Ae=!0,y("length less than watermark",Ae)),j.ended||j.reading?(Ae=!1,y("reading or ended",Ae)):Ae&&(y("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(Z=v(he,j)));var _e;return Z>0?_e=H(Z,j):_e=null,_e===null?(j.needReadable=j.length<=j.highWaterMark,Z=0):(j.length-=Z,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),he!==Z&&j.ended&&ee(this)),_e!==null&&this.emit("data",_e),_e};function A(Z,j){if(y("onEofChunk"),!j.ended){if(j.decoder){var he=j.decoder.end();he&&he.length&&(j.buffer.push(he),j.length+=j.objectMode?1:he.length)}j.ended=!0,j.sync?$(Z):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,I(Z)))}}function $(Z){var j=Z._readableState;y("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(y("emitReadable",j.flowing),j.emittedReadable=!0,process$1.nextTick(I,Z))}function I(Z){var j=Z._readableState;y("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(Z.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,V(Z)}function S(Z,j){j.readingMore||(j.readingMore=!0,process$1.nextTick(l,Z,j))}function l(Z,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var he=j.length;if(y("maybeReadMore read 0"),Z.read(0),he===j.length)break}j.readingMore=!1}se.prototype._read=function(Z){te(this,new L("_read()"))},se.prototype.pipe=function(Z,j){var he=this,Ae=this._readableState;switch(Ae.pipesCount){case 0:Ae.pipes=Z;break;case 1:Ae.pipes=[Ae.pipes,Z];break;default:Ae.pipes.push(Z);break}Ae.pipesCount+=1,y("pipe count=%d opts=%j",Ae.pipesCount,j);var _e=(!j||j.end!==!1)&&Z!==process$1.stdout&&Z!==process$1.stderr,xe=_e?Re:_t;Ae.endEmitted?process$1.nextTick(xe):he.once("end",xe),Z.on("unpipe",Xe);function Xe(Pe,Le){y("onunpipe"),Pe===he&&Le&&Le.hasUnpiped===!1&&(Le.hasUnpiped=!0,Ce())}function Re(){y("onend"),Z.end()}var we=E(he);Z.on("drain",we);var Et=!1;function Ce(){y("cleanup"),Z.removeListener("close",Ie),Z.removeListener("finish",Ne),Z.removeListener("drain",we),Z.removeListener("error",wt),Z.removeListener("unpipe",Xe),he.removeListener("end",Re),he.removeListener("end",_t),he.removeListener("data",ze),Et=!0,Ae.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&we()}he.on("data",ze);function ze(Pe){y("ondata");var Le=Z.write(Pe);y("dest.write",Le),Le===!1&&((Ae.pipesCount===1&&Ae.pipes===Z||Ae.pipesCount>1&&de(Ae.pipes,Z)!==-1)&&!Et&&(y("false write response, pause",Ae.awaitDrain),Ae.awaitDrain++),he.pause())}function wt(Pe){y("onerror",Pe),_t(),Z.removeListener("error",wt),e(Z,"error")===0&&te(Z,Pe)}ge(Z,"error",wt);function Ie(){Z.removeListener("finish",Ne),_t()}Z.once("close",Ie);function Ne(){y("onfinish"),Z.removeListener("close",Ie),_t()}Z.once("finish",Ne);function _t(){y("unpipe"),he.unpipe(Z)}return Z.emit("pipe",he),Ae.flowing||(y("pipe resume"),he.resume()),Z};function E(Z){return function(){var he=Z._readableState;y("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&e(Z,"data")&&(he.flowing=!0,V(Z))}}se.prototype.unpipe=function(Z){var j=this._readableState,he={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return Z&&Z!==j.pipes?this:(Z||(Z=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,Z&&Z.emit("unpipe",this,he),this);if(!Z){var Ae=j.pipes,_e=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var xe=0;xe<_e;xe++)Ae[xe].emit("unpipe",this,{hasUnpiped:!1});return this}var Xe=de(j.pipes,Z);return Xe===-1?this:(j.pipes.splice(Xe,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),Z.emit("unpipe",this,he),this)},se.prototype.on=function(Z,j){var he=n.prototype.on.call(this,Z,j),Ae=this._readableState;return Z==="data"?(Ae.readableListening=this.listenerCount("readable")>0,Ae.flowing!==!1&&this.resume()):Z==="readable"&&!Ae.endEmitted&&!Ae.readableListening&&(Ae.readableListening=Ae.needReadable=!0,Ae.flowing=!1,Ae.emittedReadable=!1,y("on readable",Ae.length,Ae.reading),Ae.length?$(this):Ae.reading||process$1.nextTick(D,this)),he},se.prototype.addListener=se.prototype.on,se.prototype.removeListener=function(Z,j){var he=n.prototype.removeListener.call(this,Z,j);return Z==="readable"&&process$1.nextTick(O,this),he},se.prototype.removeAllListeners=function(Z){var j=n.prototype.removeAllListeners.apply(this,arguments);return(Z==="readable"||Z===void 0)&&process$1.nextTick(O,this),j};function O(Z){var j=Z._readableState;j.readableListening=Z.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:Z.listenerCount("data")>0&&Z.resume()}function D(Z){y("readable nexttick read 0"),Z.read(0)}se.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(y("resume"),Z.flowing=!Z.readableListening,Y(this,Z)),Z.paused=!1,this};function Y(Z,j){j.resumeScheduled||(j.resumeScheduled=!0,process$1.nextTick(F,Z,j))}function F(Z,j){y("resume",j.reading),j.reading||Z.read(0),j.resumeScheduled=!1,Z.emit("resume"),V(Z),j.flowing&&!j.reading&&Z.read(0)}se.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function V(Z){var j=Z._readableState;for(y("flow",j.flowing);j.flowing&&Z.read()!==null;);}se.prototype.wrap=function(Z){var j=this,he=this._readableState,Ae=!1;Z.on("end",function(){if(y("wrapped end"),he.decoder&&!he.ended){var Xe=he.decoder.end();Xe&&Xe.length&&j.push(Xe)}j.push(null)}),Z.on("data",function(Xe){if(y("wrapped data"),he.decoder&&(Xe=he.decoder.write(Xe)),!(he.objectMode&&Xe==null)&&!(!he.objectMode&&(!Xe||!Xe.length))){var Re=j.push(Xe);Re||(Ae=!0,Z.pause())}});for(var _e in Z)this[_e]===void 0&&typeof Z[_e]=="function"&&(this[_e]=function(Re){return function(){return Z[Re].apply(Z,arguments)}}(_e));for(var xe=0;xe<ne.length;xe++)Z.on(ne[xe],this.emit.bind(this,ne[xe]));return this._read=function(Xe){y("wrapped _read",Xe),Ae&&(Ae=!1,Z.resume())},this},typeof Symbol=="function"&&(se.prototype[Symbol.asyncIterator]=function(){return G===void 0&&(G=requireAsync_iterator$1()),G(this)}),Object.defineProperty(se.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(se.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(se.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),se._fromList=H,Object.defineProperty(se.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function H(Z,j){if(j.length===0)return null;var he;return j.objectMode?he=j.buffer.shift():!Z||Z>=j.length?(j.decoder?he=j.buffer.join(""):j.buffer.length===1?he=j.buffer.first():he=j.buffer.concat(j.length),j.buffer.clear()):he=j.buffer.consume(Z,j.decoder),he}function ee(Z){var j=Z._readableState;y("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,process$1.nextTick(ie,j,Z))}function ie(Z,j){if(y("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,j.readable=!1,j.emit("end"),Z.autoDestroy)){var he=j._writableState;(!he||he.autoDestroy&&he.finished)&&j.destroy()}}typeof Symbol=="function"&&(se.from=function(Z,j){return X===void 0&&(X=requireFromBrowser$1()),X(se,Z,j)});function de(Z,j){for(var he=0,Ae=Z.length;he<Ae;he++)if(Z[he]===j)return he;return-1}return _stream_readable$2}var _stream_transform$2=Transform$3,_require$codes$1=errorsBrowser$1.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex$2();inherits_browserExports(Transform$3,Duplex);function afterTransform(t,e){var n=this._transformState;n.transforming=!1;var a=n.writecb;if(a===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),a(t);var u=this._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}function Transform$3(t){if(!(this instanceof Transform$3))return new Transform$3(t);Duplex.call(this,t),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",prefinish)}function prefinish(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,n){done(t,e,n)}):done(this,null,null)}Transform$3.prototype.push=function(t,e){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,t,e)};Transform$3.prototype._transform=function(t,e,n){n(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$3.prototype._write=function(t,e,n){var a=this._transformState;if(a.writecb=n,a.writechunk=t,a.writeencoding=e,!a.transforming){var u=this._readableState;(a.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}};Transform$3.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Transform$3.prototype._destroy=function(t,e){Duplex.prototype._destroy.call(this,t,function(n){e(n)})};function done(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(t._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return t.push(null)}var _stream_passthrough$2=PassThrough,Transform$2=_stream_transform$2;inherits_browserExports(PassThrough,Transform$2);function PassThrough(t){if(!(this instanceof PassThrough))return new PassThrough(t);Transform$2.call(this,t)}PassThrough.prototype._transform=function(t,e,n){n(null,t)};var eos;function once(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var _require$codes=errorsBrowser$1.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(t){if(t)throw t}function isRequest(t){return t.setHeader&&typeof t.abort=="function"}function destroyer(t,e,n,a){a=once(a);var u=!1;t.on("close",function(){u=!0}),eos===void 0&&(eos=endOfStream$1),eos(t,{readable:e,writable:n},function(p){if(p)return a(p);u=!0,a()});var o=!1;return function(p){if(!u&&!o){if(o=!0,isRequest(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();a(p||new ERR_STREAM_DESTROYED("pipe"))}}}function call(t){t()}function pipe(t,e){return t.pipe(e)}function popCallback(t){return!t.length||typeof t[t.length-1]!="function"?noop:t.pop()}function pipeline(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=popCallback(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new ERR_MISSING_ARGS("streams");var u,o=e.map(function(p,m){var y=m<e.length-1,w=m>0;return destroyer(p,y,w,function(_){u||(u=_),_&&o.forEach(call),!y&&(o.forEach(call),a(u))})});return e.reduce(pipe)}var pipeline_1$1=pipeline;(function(t,e){e=t.exports=require_stream_readable$2(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable$2(),e.Duplex=require_stream_duplex$2(),e.Transform=_stream_transform$2,e.PassThrough=_stream_passthrough$2,e.finished=endOfStream$1,e.pipeline=pipeline_1$1})(readableBrowser$1,readableBrowser$1.exports);var readableBrowserExports=readableBrowser$1.exports,Buffer$e=safeBufferExports$1.Buffer,Transform$1=readableBrowserExports.Transform,inherits$d=inherits_browserExports;function throwIfNotStringOrBuffer(t,e){if(!Buffer$e.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function HashBase$2(t){Transform$1.call(this),this._block=Buffer$e.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$d(HashBase$2,Transform$1);HashBase$2.prototype._transform=function(t,e,n){var a=null;try{this.update(t,e)}catch(u){a=u}n(a)};HashBase$2.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(n){e=n}t(e)};HashBase$2.prototype.update=function(t,e){if(throwIfNotStringOrBuffer(t,"Data"),this._finalized)throw new Error("Digest already called");Buffer$e.isBuffer(t)||(t=Buffer$e.from(t,e));for(var n=this._block,a=0;this._blockOffset+t.length-a>=this._blockSize;){for(var u=this._blockOffset;u<this._blockSize;)n[u++]=t[a++];this._update(),this._blockOffset=0}for(;a<t.length;)n[this._blockOffset++]=t[a++];for(var o=0,p=t.length*8;p>0;++o)this._length[o]+=p,p=this._length[o]/4294967296|0,p>0&&(this._length[o]-=4294967296*p);return this};HashBase$2.prototype._update=function(){throw new Error("_update is not implemented")};HashBase$2.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e};HashBase$2.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$2,inherits$c=inherits_browserExports,HashBase$1=hashBase,Buffer$d=safeBufferExports$1.Buffer,ARRAY16$1=new Array(16);function MD5$2(){HashBase$1.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}inherits$c(MD5$2,HashBase$1);MD5$2.prototype._update=function(){for(var t=ARRAY16$1,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var n=this._a,a=this._b,u=this._c,o=this._d;n=fnF(n,a,u,o,t[0],3614090360,7),o=fnF(o,n,a,u,t[1],3905402710,12),u=fnF(u,o,n,a,t[2],606105819,17),a=fnF(a,u,o,n,t[3],3250441966,22),n=fnF(n,a,u,o,t[4],4118548399,7),o=fnF(o,n,a,u,t[5],1200080426,12),u=fnF(u,o,n,a,t[6],2821735955,17),a=fnF(a,u,o,n,t[7],4249261313,22),n=fnF(n,a,u,o,t[8],1770035416,7),o=fnF(o,n,a,u,t[9],2336552879,12),u=fnF(u,o,n,a,t[10],4294925233,17),a=fnF(a,u,o,n,t[11],2304563134,22),n=fnF(n,a,u,o,t[12],1804603682,7),o=fnF(o,n,a,u,t[13],4254626195,12),u=fnF(u,o,n,a,t[14],2792965006,17),a=fnF(a,u,o,n,t[15],1236535329,22),n=fnG(n,a,u,o,t[1],4129170786,5),o=fnG(o,n,a,u,t[6],3225465664,9),u=fnG(u,o,n,a,t[11],643717713,14),a=fnG(a,u,o,n,t[0],3921069994,20),n=fnG(n,a,u,o,t[5],3593408605,5),o=fnG(o,n,a,u,t[10],38016083,9),u=fnG(u,o,n,a,t[15],3634488961,14),a=fnG(a,u,o,n,t[4],3889429448,20),n=fnG(n,a,u,o,t[9],568446438,5),o=fnG(o,n,a,u,t[14],3275163606,9),u=fnG(u,o,n,a,t[3],4107603335,14),a=fnG(a,u,o,n,t[8],1163531501,20),n=fnG(n,a,u,o,t[13],2850285829,5),o=fnG(o,n,a,u,t[2],4243563512,9),u=fnG(u,o,n,a,t[7],1735328473,14),a=fnG(a,u,o,n,t[12],2368359562,20),n=fnH(n,a,u,o,t[5],4294588738,4),o=fnH(o,n,a,u,t[8],2272392833,11),u=fnH(u,o,n,a,t[11],1839030562,16),a=fnH(a,u,o,n,t[14],4259657740,23),n=fnH(n,a,u,o,t[1],2763975236,4),o=fnH(o,n,a,u,t[4],1272893353,11),u=fnH(u,o,n,a,t[7],4139469664,16),a=fnH(a,u,o,n,t[10],3200236656,23),n=fnH(n,a,u,o,t[13],681279174,4),o=fnH(o,n,a,u,t[0],3936430074,11),u=fnH(u,o,n,a,t[3],3572445317,16),a=fnH(a,u,o,n,t[6],76029189,23),n=fnH(n,a,u,o,t[9],3654602809,4),o=fnH(o,n,a,u,t[12],3873151461,11),u=fnH(u,o,n,a,t[15],530742520,16),a=fnH(a,u,o,n,t[2],3299628645,23),n=fnI(n,a,u,o,t[0],4096336452,6),o=fnI(o,n,a,u,t[7],1126891415,10),u=fnI(u,o,n,a,t[14],2878612391,15),a=fnI(a,u,o,n,t[5],4237533241,21),n=fnI(n,a,u,o,t[12],1700485571,6),o=fnI(o,n,a,u,t[3],2399980690,10),u=fnI(u,o,n,a,t[10],4293915773,15),a=fnI(a,u,o,n,t[1],2240044497,21),n=fnI(n,a,u,o,t[8],1873313359,6),o=fnI(o,n,a,u,t[15],4264355552,10),u=fnI(u,o,n,a,t[6],2734768916,15),a=fnI(a,u,o,n,t[13],1309151649,21),n=fnI(n,a,u,o,t[4],4149444226,6),o=fnI(o,n,a,u,t[11],3174756917,10),u=fnI(u,o,n,a,t[2],718787259,15),a=fnI(a,u,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+a|0,this._c=this._c+u|0,this._d=this._d+o|0};MD5$2.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Buffer$d.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function rotl$1(t,e){return t<<e|t>>>32-e}function fnF(t,e,n,a,u,o,p){return rotl$1(t+(e&n|~e&a)+u+o|0,p)+e|0}function fnG(t,e,n,a,u,o,p){return rotl$1(t+(e&a|n&~a)+u+o|0,p)+e|0}function fnH(t,e,n,a,u,o,p){return rotl$1(t+(e^n^a)+u+o|0,p)+e|0}function fnI(t,e,n,a,u,o,p){return rotl$1(t+(n^(e|~a))+u+o|0,p)+e|0}var md5_js=MD5$2,Buffer$c=require$$0$4.Buffer,inherits$b=inherits_browserExports,HashBase=hashBase,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$2(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$b(RIPEMD160$2,HashBase);RIPEMD160$2.prototype._update=function(){for(var t=ARRAY16,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var n=this._a|0,a=this._b|0,u=this._c|0,o=this._d|0,p=this._e|0,m=this._a|0,y=this._b|0,w=this._c|0,_=this._d|0,M=this._e|0,T=0;T<80;T+=1){var B,P;T<16?(B=fn1(n,a,u,o,p,t[zl[T]],hl[0],sl[T]),P=fn5(m,y,w,_,M,t[zr[T]],hr[0],sr[T])):T<32?(B=fn2(n,a,u,o,p,t[zl[T]],hl[1],sl[T]),P=fn4(m,y,w,_,M,t[zr[T]],hr[1],sr[T])):T<48?(B=fn3(n,a,u,o,p,t[zl[T]],hl[2],sl[T]),P=fn3(m,y,w,_,M,t[zr[T]],hr[2],sr[T])):T<64?(B=fn4(n,a,u,o,p,t[zl[T]],hl[3],sl[T]),P=fn2(m,y,w,_,M,t[zr[T]],hr[3],sr[T])):(B=fn5(n,a,u,o,p,t[zl[T]],hl[4],sl[T]),P=fn1(m,y,w,_,M,t[zr[T]],hr[4],sr[T])),n=p,p=o,o=rotl(u,10),u=a,a=B,m=M,M=_,_=rotl(w,10),w=y,y=P}var C=this._b+u+_|0;this._b=this._c+o+M|0,this._c=this._d+p+m|0,this._d=this._e+n+y|0,this._e=this._a+a+w|0,this._a=C};RIPEMD160$2.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Buffer$c.alloc?Buffer$c.alloc(20):new Buffer$c(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function rotl(t,e){return t<<e|t>>>32-e}function fn1(t,e,n,a,u,o,p,m){return rotl(t+(e^n^a)+o+p|0,m)+u|0}function fn2(t,e,n,a,u,o,p,m){return rotl(t+(e&n|~e&a)+o+p|0,m)+u|0}function fn3(t,e,n,a,u,o,p,m){return rotl(t+((e|~n)^a)+o+p|0,m)+u|0}function fn4(t,e,n,a,u,o,p,m){return rotl(t+(e&a|n&~a)+o+p|0,m)+u|0}function fn5(t,e,n,a,u,o,p,m){return rotl(t+(e^(n|~a))+o+p|0,m)+u|0}var ripemd160=RIPEMD160$2,sha_js={exports:{}},Buffer$b=safeBufferExports$1.Buffer;function Hash$7(t,e){this._block=Buffer$b.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Hash$7.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Buffer$b.from(t,e));for(var n=this._block,a=this._blockSize,u=t.length,o=this._len,p=0;p<u;){for(var m=o%a,y=Math.min(u-p,a-m),w=0;w<y;w++)n[m+w]=t[p+w];o+=y,p+=y,o%a===0&&this._update(n)}return this._len+=u,this};Hash$7.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=this._len*8;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var a=(n&4294967295)>>>0,u=(n-a)/4294967296;this._block.writeUInt32BE(u,this._blockSize-8),this._block.writeUInt32BE(a,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash=Hash$7,inherits$a=inherits_browserExports,Hash$6=hash,Buffer$a=safeBufferExports$1.Buffer,K$3=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha(){this.init(),this._w=W$5,Hash$6.call(this,64,56)}inherits$a(Sha,Hash$6);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(t){return t<<5|t>>>27}function rotl30$1(t){return t<<30|t>>>2}function ft$1(t,e,n,a){return t===0?e&n|~e&a:t===2?e&n|e&a|n&a:e^n^a}Sha.prototype._update=function(t){for(var e=this._w,n=this._a|0,a=this._b|0,u=this._c|0,o=this._d|0,p=this._e|0,m=0;m<16;++m)e[m]=t.readInt32BE(m*4);for(;m<80;++m)e[m]=e[m-3]^e[m-8]^e[m-14]^e[m-16];for(var y=0;y<80;++y){var w=~~(y/20),_=rotl5$1(n)+ft$1(w,a,u,o)+p+e[y]+K$3[w]|0;p=o,o=u,u=rotl30$1(a),a=n,n=_}this._a=n+this._a|0,this._b=a+this._b|0,this._c=u+this._c|0,this._d=o+this._d|0,this._e=p+this._e|0};Sha.prototype._hash=function(){var t=Buffer$a.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var sha$2=Sha,inherits$9=inherits_browserExports,Hash$5=hash,Buffer$9=safeBufferExports$1.Buffer,K$2=[1518500249,1859775393,-1894007588,-899497514],W$4=new Array(80);function Sha1(){this.init(),this._w=W$4,Hash$5.call(this,64,56)}inherits$9(Sha1,Hash$5);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(t){return t<<1|t>>>31}function rotl5(t){return t<<5|t>>>27}function rotl30(t){return t<<30|t>>>2}function ft(t,e,n,a){return t===0?e&n|~e&a:t===2?e&n|e&a|n&a:e^n^a}Sha1.prototype._update=function(t){for(var e=this._w,n=this._a|0,a=this._b|0,u=this._c|0,o=this._d|0,p=this._e|0,m=0;m<16;++m)e[m]=t.readInt32BE(m*4);for(;m<80;++m)e[m]=rotl1(e[m-3]^e[m-8]^e[m-14]^e[m-16]);for(var y=0;y<80;++y){var w=~~(y/20),_=rotl5(n)+ft(w,a,u,o)+p+e[y]+K$2[w]|0;p=o,o=u,u=rotl30(a),a=n,n=_}this._a=n+this._a|0,this._b=a+this._b|0,this._c=u+this._c|0,this._d=o+this._d|0,this._e=p+this._e|0};Sha1.prototype._hash=function(){var t=Buffer$9.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var sha1$2=Sha1,inherits$8=inherits_browserExports,Hash$4=hash,Buffer$8=safeBufferExports$1.Buffer,K$1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$3=new Array(64);function Sha256$1(){this.init(),this._w=W$3,Hash$4.call(this,64,56)}inherits$8(Sha256$1,Hash$4);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(t,e,n){return n^t&(e^n)}function maj$1(t,e,n){return t&e|n&(t|e)}function sigma0$1(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function sigma1$1(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function gamma0(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function gamma1(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Sha256$1.prototype._update=function(t){for(var e=this._w,n=this._a|0,a=this._b|0,u=this._c|0,o=this._d|0,p=this._e|0,m=this._f|0,y=this._g|0,w=this._h|0,_=0;_<16;++_)e[_]=t.readInt32BE(_*4);for(;_<64;++_)e[_]=gamma1(e[_-2])+e[_-7]+gamma0(e[_-15])+e[_-16]|0;for(var M=0;M<64;++M){var T=w+sigma1$1(p)+ch(p,m,y)+K$1[M]+e[M]|0,B=sigma0$1(n)+maj$1(n,a,u)|0;w=y,y=m,m=p,p=o+T|0,o=u,u=a,a=n,n=T+B|0}this._a=n+this._a|0,this._b=a+this._b|0,this._c=u+this._c|0,this._d=o+this._d|0,this._e=p+this._e|0,this._f=m+this._f|0,this._g=y+this._g|0,this._h=w+this._h|0};Sha256$1.prototype._hash=function(){var t=Buffer$8.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var sha256$2=Sha256$1,inherits$7=inherits_browserExports,Sha256=sha256$2,Hash$3=hash,Buffer$7=safeBufferExports$1.Buffer,W$2=new Array(64);function Sha224(){this.init(),this._w=W$2,Hash$3.call(this,64,56)}inherits$7(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var t=Buffer$7.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var sha224$1=Sha224,inherits$6=inherits_browserExports,Hash$2=hash,Buffer$6=safeBufferExports$1.Buffer,K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$1=new Array(160);function Sha512(){this.init(),this._w=W$1,Hash$2.call(this,128,112)}inherits$6(Sha512,Hash$2);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(t,e,n){return n^t&(e^n)}function maj(t,e,n){return t&e|n&(t|e)}function sigma0(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function sigma1(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Gamma0(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Gamma0l(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Gamma1(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Gamma1l(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function getCarry(t,e){return t>>>0<e>>>0?1:0}Sha512.prototype._update=function(t){for(var e=this._w,n=this._ah|0,a=this._bh|0,u=this._ch|0,o=this._dh|0,p=this._eh|0,m=this._fh|0,y=this._gh|0,w=this._hh|0,_=this._al|0,M=this._bl|0,T=this._cl|0,B=this._dl|0,P=this._el|0,C=this._fl|0,L=this._gl|0,U=this._hl|0,q=0;q<32;q+=2)e[q]=t.readInt32BE(q*4),e[q+1]=t.readInt32BE(q*4+4);for(;q<160;q+=2){var G=e[q-30],X=e[q-15*2+1],te=Gamma0(G,X),ne=Gamma0l(X,G);G=e[q-2*2],X=e[q-2*2+1];var ge=Gamma1(G,X),pe=Gamma1l(X,G),se=e[q-7*2],Se=e[q-7*2+1],k=e[q-16*2],c=e[q-16*2+1],d=ne+Se|0,b=te+se+getCarry(d,ne)|0;d=d+pe|0,b=b+ge+getCarry(d,pe)|0,d=d+c|0,b=b+k+getCarry(d,c)|0,e[q]=b,e[q+1]=d}for(var v=0;v<160;v+=2){b=e[v],d=e[v+1];var A=maj(n,a,u),$=maj(_,M,T),I=sigma0(n,_),S=sigma0(_,n),l=sigma1(p,P),E=sigma1(P,p),O=K[v],D=K[v+1],Y=Ch(p,m,y),F=Ch(P,C,L),V=U+E|0,H=w+l+getCarry(V,U)|0;V=V+F|0,H=H+Y+getCarry(V,F)|0,V=V+D|0,H=H+O+getCarry(V,D)|0,V=V+d|0,H=H+b+getCarry(V,d)|0;var ee=S+$|0,ie=I+A+getCarry(ee,S)|0;w=y,U=L,y=m,L=C,m=p,C=P,P=B+V|0,p=o+H+getCarry(P,B)|0,o=u,B=T,u=a,T=M,a=n,M=_,_=V+ee|0,n=H+ie+getCarry(_,V)|0}this._al=this._al+_|0,this._bl=this._bl+M|0,this._cl=this._cl+T|0,this._dl=this._dl+B|0,this._el=this._el+P|0,this._fl=this._fl+C|0,this._gl=this._gl+L|0,this._hl=this._hl+U|0,this._ah=this._ah+n+getCarry(this._al,_)|0,this._bh=this._bh+a+getCarry(this._bl,M)|0,this._ch=this._ch+u+getCarry(this._cl,T)|0,this._dh=this._dh+o+getCarry(this._dl,B)|0,this._eh=this._eh+p+getCarry(this._el,P)|0,this._fh=this._fh+m+getCarry(this._fl,C)|0,this._gh=this._gh+y+getCarry(this._gl,L)|0,this._hh=this._hh+w+getCarry(this._hl,U)|0};Sha512.prototype._hash=function(){var t=Buffer$6.allocUnsafe(64);function e(n,a,u){t.writeInt32BE(n,u),t.writeInt32BE(a,u+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var sha512$1=Sha512,inherits$5=inherits_browserExports,SHA512=sha512$1,Hash$1=hash,Buffer$5=safeBufferExports$1.Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash$1.call(this,128,112)}inherits$5(Sha384,SHA512);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var t=Buffer$5.allocUnsafe(48);function e(n,a,u){t.writeInt32BE(n,u),t.writeInt32BE(a,u+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var sha384$1=Sha384,exports=sha_js.exports=function(e){e=e.toLowerCase();var n=exports[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n};exports.sha=sha$2;exports.sha1=sha1$2;exports.sha224=sha224$1;exports.sha256=sha256$2;exports.sha384=sha384$1;exports.sha512=sha512$1;var sha_jsExports=sha_js.exports,streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=eventsExports.EventEmitter),streamBrowser$1}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function t(P,C){var L=Object.keys(P);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(P);C&&(U=U.filter(function(q){return Object.getOwnPropertyDescriptor(P,q).enumerable})),L.push.apply(L,U)}return L}function e(P){for(var C=1;C<arguments.length;C++){var L=arguments[C]!=null?arguments[C]:{};C%2?t(Object(L),!0).forEach(function(U){n(P,U,L[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(L)):t(Object(L)).forEach(function(U){Object.defineProperty(P,U,Object.getOwnPropertyDescriptor(L,U))})}return P}function n(P,C,L){return C=p(C),C in P?Object.defineProperty(P,C,{value:L,enumerable:!0,configurable:!0,writable:!0}):P[C]=L,P}function a(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}function u(P,C){for(var L=0;L<C.length;L++){var U=C[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,p(U.key),U)}}function o(P,C,L){return C&&u(P.prototype,C),L&&u(P,L),Object.defineProperty(P,"prototype",{writable:!1}),P}function p(P){var C=m(P,"string");return typeof C=="symbol"?C:String(C)}function m(P,C){if(typeof P!="object"||P===null)return P;var L=P[Symbol.toPrimitive];if(L!==void 0){var U=L.call(P,C||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(P)}var y=require$$0$4,w=y.Buffer,_=util$1,M=_.inspect,T=M&&M.custom||"inspect";function B(P,C,L){w.prototype.copy.call(P,C,L)}return buffer_list=function(){function P(){a(this,P),this.head=null,this.tail=null,this.length=0}return o(P,[{key:"push",value:function(L){var U={data:L,next:null};this.length>0?this.tail.next=U:this.head=U,this.tail=U,++this.length}},{key:"unshift",value:function(L){var U={data:L,next:this.head};this.length===0&&(this.tail=U),this.head=U,++this.length}},{key:"shift",value:function(){if(this.length!==0){var L=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,L}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(L){if(this.length===0)return"";for(var U=this.head,q=""+U.data;U=U.next;)q+=L+U.data;return q}},{key:"concat",value:function(L){if(this.length===0)return w.alloc(0);for(var U=w.allocUnsafe(L>>>0),q=this.head,G=0;q;)B(q.data,U,G),G+=q.data.length,q=q.next;return U}},{key:"consume",value:function(L,U){var q;return L<this.head.data.length?(q=this.head.data.slice(0,L),this.head.data=this.head.data.slice(L)):L===this.head.data.length?q=this.shift():q=U?this._getString(L):this._getBuffer(L),q}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(L){var U=this.head,q=1,G=U.data;for(L-=G.length;U=U.next;){var X=U.data,te=L>X.length?X.length:L;if(te===X.length?G+=X:G+=X.slice(0,L),L-=te,L===0){te===X.length?(++q,U.next?this.head=U.next:this.head=this.tail=null):(this.head=U,U.data=X.slice(te));break}++q}return this.length-=q,G}},{key:"_getBuffer",value:function(L){var U=w.allocUnsafe(L),q=this.head,G=1;for(q.data.copy(U),L-=q.data.length;q=q.next;){var X=q.data,te=L>X.length?X.length:L;if(X.copy(U,U.length-L,0,te),L-=te,L===0){te===X.length?(++G,q.next?this.head=q.next:this.head=this.tail=null):(this.head=q,q.data=X.slice(te));break}++G}return this.length-=G,U}},{key:T,value:function(L,U){return M(this,e(e({},U),{},{depth:0,customInspect:!1}))}}]),P}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function t(p,m){var y=this,w=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return w||_?(m?m(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(u,this,p)):process$1.nextTick(u,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(M){!m&&M?y._writableState?y._writableState.errorEmitted?process$1.nextTick(n,y):(y._writableState.errorEmitted=!0,process$1.nextTick(e,y,M)):process$1.nextTick(e,y,M):m?(process$1.nextTick(n,y),m(M)):process$1.nextTick(n,y)}),this)}function e(p,m){u(p,m),n(p)}function n(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(p,m){p.emit("error",m)}function o(p,m){var y=p._readableState,w=p._writableState;y&&y.autoDestroy||w&&w.autoDestroy?p.destroy(m):p.emit("error",m)}return destroy_1$1={destroy:t,undestroy:a,errorOrDestroy:o},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function t(m,y){m.prototype=Object.create(y.prototype),m.prototype.constructor=m,m.__proto__=y}var e={};function n(m,y,w){w||(w=Error);function _(T,B,P){return typeof y=="string"?y:y(T,B,P)}var M=function(T){t(B,T);function B(P,C,L){return T.call(this,_(P,C,L))||this}return B}(w);M.prototype.name=w.name,M.prototype.code=m,e[m]=M}function a(m,y){if(Array.isArray(m)){var w=m.length;return m=m.map(function(_){return String(_)}),w>2?"one of ".concat(y," ").concat(m.slice(0,w-1).join(", "),", or ")+m[w-1]:w===2?"one of ".concat(y," ").concat(m[0]," or ").concat(m[1]):"of ".concat(y," ").concat(m[0])}else return"of ".concat(y," ").concat(String(m))}function u(m,y,w){return m.substr(!w||w<0?0:+w,y.length)===y}function o(m,y,w){return(w===void 0||w>m.length)&&(w=m.length),m.substring(w-y.length,w)===y}function p(m,y,w){return typeof w!="number"&&(w=0),w+y.length>m.length?!1:m.indexOf(y,w)!==-1}return n("ERR_INVALID_OPT_VALUE",function(m,y){return'The value "'+y+'" is invalid for option "'+m+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(m,y,w){var _;typeof y=="string"&&u(y,"not ")?(_="must not be",y=y.replace(/^not /,"")):_="must be";var M;if(o(m," argument"))M="The ".concat(m," ").concat(_," ").concat(a(y,"type"));else{var T=p(m,".")?"property":"argument";M='The "'.concat(m,'" ').concat(T," ").concat(_," ").concat(a(y,"type"))}return M+=". Received type ".concat(typeof w),M},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(m){return"The "+m+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(m){return"Cannot call "+m+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(m){return"Unknown encoding: "+m},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=e,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var t=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function e(a,u,o){return a.highWaterMark!=null?a.highWaterMark:u?a[o]:null}function n(a,u,o,p){var m=e(u,p,o);if(m!=null){if(!(isFinite(m)&&Math.floor(m)===m)||m<0){var y=p?o:"highWaterMark";throw new t(y,m)}return Math.floor(m)}return a.objectMode?16:16*1024}return state={getHighWaterMark:n},state}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=pe;function t(V){var H=this;this.next=null,this.entry=null,this.finish=function(){F(H,V)}}var e;pe.WritableState=ne;var n={deprecate:requireBrowser$9()},a=requireStreamBrowser$1(),u=require$$0$4.Buffer,o=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function p(V){return u.from(V)}function m(V){return u.isBuffer(V)||V instanceof o}var y=requireDestroy$1(),w=requireState(),_=w.getHighWaterMark,M=requireErrorsBrowser().codes,T=M.ERR_INVALID_ARG_TYPE,B=M.ERR_METHOD_NOT_IMPLEMENTED,P=M.ERR_MULTIPLE_CALLBACK,C=M.ERR_STREAM_CANNOT_PIPE,L=M.ERR_STREAM_DESTROYED,U=M.ERR_STREAM_NULL_VALUES,q=M.ERR_STREAM_WRITE_AFTER_END,G=M.ERR_UNKNOWN_ENCODING,X=y.errorOrDestroy;inherits_browserExports(pe,a);function te(){}function ne(V,H,ee){e=e||require_stream_duplex$1(),V=V||{},typeof ee!="boolean"&&(ee=H instanceof e),this.objectMode=!!V.objectMode,ee&&(this.objectMode=this.objectMode||!!V.writableObjectMode),this.highWaterMark=_(this,V,"writableHighWaterMark",ee),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ie=V.decodeStrings===!1;this.decodeStrings=!ie,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(de){A(H,de)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}ne.prototype.getBuffer=function(){for(var H=this.bufferedRequest,ee=[];H;)ee.push(H),H=H.next;return ee},function(){try{Object.defineProperty(ne.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ge;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ge=Function.prototype[Symbol.hasInstance],Object.defineProperty(pe,Symbol.hasInstance,{value:function(H){return ge.call(this,H)?!0:this!==pe?!1:H&&H._writableState instanceof ne}})):ge=function(H){return H instanceof this};function pe(V){e=e||require_stream_duplex$1();var H=this instanceof e;if(!H&&!ge.call(pe,this))return new pe(V);this._writableState=new ne(V,this,H),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),a.call(this)}pe.prototype.pipe=function(){X(this,new C)};function se(V,H){var ee=new q;X(V,ee),process$1.nextTick(H,ee)}function Se(V,H,ee,ie){var de;return ee===null?de=new U:typeof ee!="string"&&!H.objectMode&&(de=new T("chunk",["string","Buffer"],ee)),de?(X(V,de),process$1.nextTick(ie,de),!1):!0}pe.prototype.write=function(V,H,ee){var ie=this._writableState,de=!1,Z=!ie.objectMode&&m(V);return Z&&!u.isBuffer(V)&&(V=p(V)),typeof H=="function"&&(ee=H,H=null),Z?H="buffer":H||(H=ie.defaultEncoding),typeof ee!="function"&&(ee=te),ie.ending?se(this,ee):(Z||Se(this,ie,V,ee))&&(ie.pendingcb++,de=c(this,ie,Z,V,H,ee)),de},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,!V.writing&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&S(this,V))},pe.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new G(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(pe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function k(V,H,ee){return!V.objectMode&&V.decodeStrings!==!1&&typeof H=="string"&&(H=u.from(H,ee)),H}Object.defineProperty(pe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(V,H,ee,ie,de,Z){if(!ee){var j=k(H,ie,de);ie!==j&&(ee=!0,de="buffer",ie=j)}var he=H.objectMode?1:ie.length;H.length+=he;var Ae=H.length<H.highWaterMark;if(Ae||(H.needDrain=!0),H.writing||H.corked){var _e=H.lastBufferedRequest;H.lastBufferedRequest={chunk:ie,encoding:de,isBuf:ee,callback:Z,next:null},_e?_e.next=H.lastBufferedRequest:H.bufferedRequest=H.lastBufferedRequest,H.bufferedRequestCount+=1}else d(V,H,!1,he,ie,de,Z);return Ae}function d(V,H,ee,ie,de,Z,j){H.writelen=ie,H.writecb=j,H.writing=!0,H.sync=!0,H.destroyed?H.onwrite(new L("write")):ee?V._writev(de,H.onwrite):V._write(de,Z,H.onwrite),H.sync=!1}function b(V,H,ee,ie,de){--H.pendingcb,ee?(process$1.nextTick(de,ie),process$1.nextTick(D,V,H),V._writableState.errorEmitted=!0,X(V,ie)):(de(ie),V._writableState.errorEmitted=!0,X(V,ie),D(V,H))}function v(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}function A(V,H){var ee=V._writableState,ie=ee.sync,de=ee.writecb;if(typeof de!="function")throw new P;if(v(ee),H)b(V,ee,ie,H,de);else{var Z=l(ee)||V.destroyed;!Z&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&S(V,ee),ie?process$1.nextTick($,V,ee,Z,de):$(V,ee,Z,de)}}function $(V,H,ee,ie){ee||I(V,H),H.pendingcb--,ie(),D(V,H)}function I(V,H){H.length===0&&H.needDrain&&(H.needDrain=!1,V.emit("drain"))}function S(V,H){H.bufferProcessing=!0;var ee=H.bufferedRequest;if(V._writev&&ee&&ee.next){var ie=H.bufferedRequestCount,de=new Array(ie),Z=H.corkedRequestsFree;Z.entry=ee;for(var j=0,he=!0;ee;)de[j]=ee,ee.isBuf||(he=!1),ee=ee.next,j+=1;de.allBuffers=he,d(V,H,!0,H.length,de,"",Z.finish),H.pendingcb++,H.lastBufferedRequest=null,Z.next?(H.corkedRequestsFree=Z.next,Z.next=null):H.corkedRequestsFree=new t(H),H.bufferedRequestCount=0}else{for(;ee;){var Ae=ee.chunk,_e=ee.encoding,xe=ee.callback,Xe=H.objectMode?1:Ae.length;if(d(V,H,!1,Xe,Ae,_e,xe),ee=ee.next,H.bufferedRequestCount--,H.writing)break}ee===null&&(H.lastBufferedRequest=null)}H.bufferedRequest=ee,H.bufferProcessing=!1}pe.prototype._write=function(V,H,ee){ee(new B("_write()"))},pe.prototype._writev=null,pe.prototype.end=function(V,H,ee){var ie=this._writableState;return typeof V=="function"?(ee=V,V=null,H=null):typeof H=="function"&&(ee=H,H=null),V!=null&&this.write(V,H),ie.corked&&(ie.corked=1,this.uncork()),ie.ending||Y(this,ie,ee),this},Object.defineProperty(pe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function E(V,H){V._final(function(ee){H.pendingcb--,ee&&X(V,ee),H.prefinished=!0,V.emit("prefinish"),D(V,H)})}function O(V,H){!H.prefinished&&!H.finalCalled&&(typeof V._final=="function"&&!H.destroyed?(H.pendingcb++,H.finalCalled=!0,process$1.nextTick(E,V,H)):(H.prefinished=!0,V.emit("prefinish")))}function D(V,H){var ee=l(H);if(ee&&(O(V,H),H.pendingcb===0&&(H.finished=!0,V.emit("finish"),H.autoDestroy))){var ie=V._readableState;(!ie||ie.autoDestroy&&ie.endEmitted)&&V.destroy()}return ee}function Y(V,H,ee){H.ending=!0,D(V,H),ee&&(H.finished?process$1.nextTick(ee):V.once("finish",ee)),H.ended=!0,V.writable=!1}function F(V,H,ee){var ie=V.entry;for(V.entry=null;ie;){var de=ie.callback;H.pendingcb--,de(ee),ie=ie.next}H.corkedRequestsFree.next=V}return Object.defineProperty(pe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),pe.prototype.destroy=y.destroy,pe.prototype._undestroy=y.undestroy,pe.prototype._destroy=function(V,H){H(V)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var t=Object.keys||function(w){var _=[];for(var M in w)_.push(M);return _};_stream_duplex$1=p;var e=require_stream_readable$1(),n=require_stream_writable$1();inherits_browserExports(p,e);for(var a=t(n.prototype),u=0;u<a.length;u++){var o=a[u];p.prototype[o]||(p.prototype[o]=n.prototype[o])}function p(w){if(!(this instanceof p))return new p(w);e.call(this,w),n.call(this,w),this.allowHalfOpen=!0,w&&(w.readable===!1&&(this.readable=!1),w.writable===!1&&(this.writable=!1),w.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",m)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function m(){this._writableState.ended||process$1.nextTick(y,this)}function y(w){w.end()}return Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}}),_stream_duplex$1}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var t=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function e(o){var p=!1;return function(){if(!p){p=!0;for(var m=arguments.length,y=new Array(m),w=0;w<m;w++)y[w]=arguments[w];o.apply(this,y)}}}function n(){}function a(o){return o.setHeader&&typeof o.abort=="function"}function u(o,p,m){if(typeof p=="function")return u(o,null,p);p||(p={}),m=e(m||n);var y=p.readable||p.readable!==!1&&o.readable,w=p.writable||p.writable!==!1&&o.writable,_=function(){o.writable||T()},M=o._writableState&&o._writableState.finished,T=function(){w=!1,M=!0,y||m.call(o)},B=o._readableState&&o._readableState.endEmitted,P=function(){y=!1,B=!0,w||m.call(o)},C=function(G){m.call(o,G)},L=function(){var G;if(y&&!B)return(!o._readableState||!o._readableState.ended)&&(G=new t),m.call(o,G);if(w&&!M)return(!o._writableState||!o._writableState.ended)&&(G=new t),m.call(o,G)},U=function(){o.req.on("finish",T)};return a(o)?(o.on("complete",T),o.on("abort",L),o.req?U():o.on("request",U)):w&&!o._writableState&&(o.on("end",_),o.on("close",_)),o.on("end",P),o.on("finish",T),p.error!==!1&&o.on("error",C),o.on("close",L),function(){o.removeListener("complete",T),o.removeListener("abort",L),o.removeListener("request",U),o.req&&o.req.removeListener("finish",T),o.removeListener("end",_),o.removeListener("close",_),o.removeListener("finish",T),o.removeListener("end",P),o.removeListener("error",C),o.removeListener("close",L)}}return endOfStream=u,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var t;function e(G,X,te){return X=n(X),X in G?Object.defineProperty(G,X,{value:te,enumerable:!0,configurable:!0,writable:!0}):G[X]=te,G}function n(G){var X=a(G,"string");return typeof X=="symbol"?X:String(X)}function a(G,X){if(typeof G!="object"||G===null)return G;var te=G[Symbol.toPrimitive];if(te!==void 0){var ne=te.call(G,X||"default");if(typeof ne!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(G)}var u=requireEndOfStream(),o=Symbol("lastResolve"),p=Symbol("lastReject"),m=Symbol("error"),y=Symbol("ended"),w=Symbol("lastPromise"),_=Symbol("handlePromise"),M=Symbol("stream");function T(G,X){return{value:G,done:X}}function B(G){var X=G[o];if(X!==null){var te=G[M].read();te!==null&&(G[w]=null,G[o]=null,G[p]=null,X(T(te,!1)))}}function P(G){process$1.nextTick(B,G)}function C(G,X){return function(te,ne){G.then(function(){if(X[y]){te(T(void 0,!0));return}X[_](te,ne)},ne)}}var L=Object.getPrototypeOf(function(){}),U=Object.setPrototypeOf((t={get stream(){return this[M]},next:function(){var X=this,te=this[m];if(te!==null)return Promise.reject(te);if(this[y])return Promise.resolve(T(void 0,!0));if(this[M].destroyed)return new Promise(function(se,Se){process$1.nextTick(function(){X[m]?Se(X[m]):se(T(void 0,!0))})});var ne=this[w],ge;if(ne)ge=new Promise(C(ne,this));else{var pe=this[M].read();if(pe!==null)return Promise.resolve(T(pe,!1));ge=new Promise(this[_])}return this[w]=ge,ge}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var X=this;return new Promise(function(te,ne){X[M].destroy(null,function(ge){if(ge){ne(ge);return}te(T(void 0,!0))})})}),t),L),q=function(X){var te,ne=Object.create(U,(te={},e(te,M,{value:X,writable:!0}),e(te,o,{value:null,writable:!0}),e(te,p,{value:null,writable:!0}),e(te,m,{value:null,writable:!0}),e(te,y,{value:X._readableState.endEmitted,writable:!0}),e(te,_,{value:function(pe,se){var Se=ne[M].read();Se?(ne[w]=null,ne[o]=null,ne[p]=null,pe(T(Se,!1))):(ne[o]=pe,ne[p]=se)},writable:!0}),te));return ne[w]=null,u(X,function(ge){if(ge&&ge.code!=="ERR_STREAM_PREMATURE_CLOSE"){var pe=ne[p];pe!==null&&(ne[w]=null,ne[o]=null,ne[p]=null,pe(ge)),ne[m]=ge;return}var se=ne[o];se!==null&&(ne[w]=null,ne[o]=null,ne[p]=null,se(T(void 0,!0))),ne[y]=!0}),X.on("readable",P.bind(null,ne)),ne};return async_iterator=q,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=se;var t;se.ReadableState=pe,eventsExports.EventEmitter;var e=function(j,he){return j.listeners(he).length},n=requireStreamBrowser$1(),a=require$$0$4.Buffer,u=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(Z){return a.from(Z)}function p(Z){return a.isBuffer(Z)||Z instanceof u}var m=util$1,y;m&&m.debuglog?y=m.debuglog("stream"):y=function(){};var w=requireBuffer_list(),_=requireDestroy$1(),M=requireState(),T=M.getHighWaterMark,B=requireErrorsBrowser().codes,P=B.ERR_INVALID_ARG_TYPE,C=B.ERR_STREAM_PUSH_AFTER_EOF,L=B.ERR_METHOD_NOT_IMPLEMENTED,U=B.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,q,G,X;inherits_browserExports(se,n);var te=_.errorOrDestroy,ne=["error","close","destroy","pause","resume"];function ge(Z,j,he){if(typeof Z.prependListener=="function")return Z.prependListener(j,he);!Z._events||!Z._events[j]?Z.on(j,he):Array.isArray(Z._events[j])?Z._events[j].unshift(he):Z._events[j]=[he,Z._events[j]]}function pe(Z,j,he){t=t||require_stream_duplex$1(),Z=Z||{},typeof he!="boolean"&&(he=j instanceof t),this.objectMode=!!Z.objectMode,he&&(this.objectMode=this.objectMode||!!Z.readableObjectMode),this.highWaterMark=T(this,Z,"readableHighWaterMark",he),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(q||(q=string_decoder.StringDecoder),this.decoder=new q(Z.encoding),this.encoding=Z.encoding)}function se(Z){if(t=t||require_stream_duplex$1(),!(this instanceof se))return new se(Z);var j=this instanceof t;this._readableState=new pe(Z,this,j),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),n.call(this)}Object.defineProperty(se.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),se.prototype.destroy=_.destroy,se.prototype._undestroy=_.undestroy,se.prototype._destroy=function(Z,j){j(Z)},se.prototype.push=function(Z,j){var he=this._readableState,Ae;return he.objectMode?Ae=!0:typeof Z=="string"&&(j=j||he.defaultEncoding,j!==he.encoding&&(Z=a.from(Z,j),j=""),Ae=!0),Se(this,Z,j,!1,Ae)},se.prototype.unshift=function(Z){return Se(this,Z,null,!0,!1)};function Se(Z,j,he,Ae,_e){y("readableAddChunk",j);var xe=Z._readableState;if(j===null)xe.reading=!1,A(Z,xe);else{var Xe;if(_e||(Xe=c(xe,j)),Xe)te(Z,Xe);else if(xe.objectMode||j&&j.length>0)if(typeof j!="string"&&!xe.objectMode&&Object.getPrototypeOf(j)!==a.prototype&&(j=o(j)),Ae)xe.endEmitted?te(Z,new U):k(Z,xe,j,!0);else if(xe.ended)te(Z,new C);else{if(xe.destroyed)return!1;xe.reading=!1,xe.decoder&&!he?(j=xe.decoder.write(j),xe.objectMode||j.length!==0?k(Z,xe,j,!1):S(Z,xe)):k(Z,xe,j,!1)}else Ae||(xe.reading=!1,S(Z,xe))}return!xe.ended&&(xe.length<xe.highWaterMark||xe.length===0)}function k(Z,j,he,Ae){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,Z.emit("data",he)):(j.length+=j.objectMode?1:he.length,Ae?j.buffer.unshift(he):j.buffer.push(he),j.needReadable&&$(Z)),S(Z,j)}function c(Z,j){var he;return!p(j)&&typeof j!="string"&&j!==void 0&&!Z.objectMode&&(he=new P("chunk",["string","Buffer","Uint8Array"],j)),he}se.prototype.isPaused=function(){return this._readableState.flowing===!1},se.prototype.setEncoding=function(Z){q||(q=string_decoder.StringDecoder);var j=new q(Z);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var he=this._readableState.buffer.head,Ae="";he!==null;)Ae+=j.write(he.data),he=he.next;return this._readableState.buffer.clear(),Ae!==""&&this._readableState.buffer.push(Ae),this._readableState.length=Ae.length,this};var d=1073741824;function b(Z){return Z>=d?Z=d:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function v(Z,j){return Z<=0||j.length===0&&j.ended?0:j.objectMode?1:Z!==Z?j.flowing&&j.length?j.buffer.head.data.length:j.length:(Z>j.highWaterMark&&(j.highWaterMark=b(Z)),Z<=j.length?Z:j.ended?j.length:(j.needReadable=!0,0))}se.prototype.read=function(Z){y("read",Z),Z=parseInt(Z,10);var j=this._readableState,he=Z;if(Z!==0&&(j.emittedReadable=!1),Z===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return y("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?ee(this):$(this),null;if(Z=v(Z,j),Z===0&&j.ended)return j.length===0&&ee(this),null;var Ae=j.needReadable;y("need readable",Ae),(j.length===0||j.length-Z<j.highWaterMark)&&(Ae=!0,y("length less than watermark",Ae)),j.ended||j.reading?(Ae=!1,y("reading or ended",Ae)):Ae&&(y("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(Z=v(he,j)));var _e;return Z>0?_e=H(Z,j):_e=null,_e===null?(j.needReadable=j.length<=j.highWaterMark,Z=0):(j.length-=Z,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),he!==Z&&j.ended&&ee(this)),_e!==null&&this.emit("data",_e),_e};function A(Z,j){if(y("onEofChunk"),!j.ended){if(j.decoder){var he=j.decoder.end();he&&he.length&&(j.buffer.push(he),j.length+=j.objectMode?1:he.length)}j.ended=!0,j.sync?$(Z):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,I(Z)))}}function $(Z){var j=Z._readableState;y("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(y("emitReadable",j.flowing),j.emittedReadable=!0,process$1.nextTick(I,Z))}function I(Z){var j=Z._readableState;y("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(Z.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,V(Z)}function S(Z,j){j.readingMore||(j.readingMore=!0,process$1.nextTick(l,Z,j))}function l(Z,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var he=j.length;if(y("maybeReadMore read 0"),Z.read(0),he===j.length)break}j.readingMore=!1}se.prototype._read=function(Z){te(this,new L("_read()"))},se.prototype.pipe=function(Z,j){var he=this,Ae=this._readableState;switch(Ae.pipesCount){case 0:Ae.pipes=Z;break;case 1:Ae.pipes=[Ae.pipes,Z];break;default:Ae.pipes.push(Z);break}Ae.pipesCount+=1,y("pipe count=%d opts=%j",Ae.pipesCount,j);var _e=(!j||j.end!==!1)&&Z!==process$1.stdout&&Z!==process$1.stderr,xe=_e?Re:_t;Ae.endEmitted?process$1.nextTick(xe):he.once("end",xe),Z.on("unpipe",Xe);function Xe(Pe,Le){y("onunpipe"),Pe===he&&Le&&Le.hasUnpiped===!1&&(Le.hasUnpiped=!0,Ce())}function Re(){y("onend"),Z.end()}var we=E(he);Z.on("drain",we);var Et=!1;function Ce(){y("cleanup"),Z.removeListener("close",Ie),Z.removeListener("finish",Ne),Z.removeListener("drain",we),Z.removeListener("error",wt),Z.removeListener("unpipe",Xe),he.removeListener("end",Re),he.removeListener("end",_t),he.removeListener("data",ze),Et=!0,Ae.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&we()}he.on("data",ze);function ze(Pe){y("ondata");var Le=Z.write(Pe);y("dest.write",Le),Le===!1&&((Ae.pipesCount===1&&Ae.pipes===Z||Ae.pipesCount>1&&de(Ae.pipes,Z)!==-1)&&!Et&&(y("false write response, pause",Ae.awaitDrain),Ae.awaitDrain++),he.pause())}function wt(Pe){y("onerror",Pe),_t(),Z.removeListener("error",wt),e(Z,"error")===0&&te(Z,Pe)}ge(Z,"error",wt);function Ie(){Z.removeListener("finish",Ne),_t()}Z.once("close",Ie);function Ne(){y("onfinish"),Z.removeListener("close",Ie),_t()}Z.once("finish",Ne);function _t(){y("unpipe"),he.unpipe(Z)}return Z.emit("pipe",he),Ae.flowing||(y("pipe resume"),he.resume()),Z};function E(Z){return function(){var he=Z._readableState;y("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&e(Z,"data")&&(he.flowing=!0,V(Z))}}se.prototype.unpipe=function(Z){var j=this._readableState,he={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return Z&&Z!==j.pipes?this:(Z||(Z=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,Z&&Z.emit("unpipe",this,he),this);if(!Z){var Ae=j.pipes,_e=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var xe=0;xe<_e;xe++)Ae[xe].emit("unpipe",this,{hasUnpiped:!1});return this}var Xe=de(j.pipes,Z);return Xe===-1?this:(j.pipes.splice(Xe,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),Z.emit("unpipe",this,he),this)},se.prototype.on=function(Z,j){var he=n.prototype.on.call(this,Z,j),Ae=this._readableState;return Z==="data"?(Ae.readableListening=this.listenerCount("readable")>0,Ae.flowing!==!1&&this.resume()):Z==="readable"&&!Ae.endEmitted&&!Ae.readableListening&&(Ae.readableListening=Ae.needReadable=!0,Ae.flowing=!1,Ae.emittedReadable=!1,y("on readable",Ae.length,Ae.reading),Ae.length?$(this):Ae.reading||process$1.nextTick(D,this)),he},se.prototype.addListener=se.prototype.on,se.prototype.removeListener=function(Z,j){var he=n.prototype.removeListener.call(this,Z,j);return Z==="readable"&&process$1.nextTick(O,this),he},se.prototype.removeAllListeners=function(Z){var j=n.prototype.removeAllListeners.apply(this,arguments);return(Z==="readable"||Z===void 0)&&process$1.nextTick(O,this),j};function O(Z){var j=Z._readableState;j.readableListening=Z.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:Z.listenerCount("data")>0&&Z.resume()}function D(Z){y("readable nexttick read 0"),Z.read(0)}se.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(y("resume"),Z.flowing=!Z.readableListening,Y(this,Z)),Z.paused=!1,this};function Y(Z,j){j.resumeScheduled||(j.resumeScheduled=!0,process$1.nextTick(F,Z,j))}function F(Z,j){y("resume",j.reading),j.reading||Z.read(0),j.resumeScheduled=!1,Z.emit("resume"),V(Z),j.flowing&&!j.reading&&Z.read(0)}se.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function V(Z){var j=Z._readableState;for(y("flow",j.flowing);j.flowing&&Z.read()!==null;);}se.prototype.wrap=function(Z){var j=this,he=this._readableState,Ae=!1;Z.on("end",function(){if(y("wrapped end"),he.decoder&&!he.ended){var Xe=he.decoder.end();Xe&&Xe.length&&j.push(Xe)}j.push(null)}),Z.on("data",function(Xe){if(y("wrapped data"),he.decoder&&(Xe=he.decoder.write(Xe)),!(he.objectMode&&Xe==null)&&!(!he.objectMode&&(!Xe||!Xe.length))){var Re=j.push(Xe);Re||(Ae=!0,Z.pause())}});for(var _e in Z)this[_e]===void 0&&typeof Z[_e]=="function"&&(this[_e]=function(Re){return function(){return Z[Re].apply(Z,arguments)}}(_e));for(var xe=0;xe<ne.length;xe++)Z.on(ne[xe],this.emit.bind(this,ne[xe]));return this._read=function(Xe){y("wrapped _read",Xe),Ae&&(Ae=!1,Z.resume())},this},typeof Symbol=="function"&&(se.prototype[Symbol.asyncIterator]=function(){return G===void 0&&(G=requireAsync_iterator()),G(this)}),Object.defineProperty(se.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(se.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(se.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),se._fromList=H,Object.defineProperty(se.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function H(Z,j){if(j.length===0)return null;var he;return j.objectMode?he=j.buffer.shift():!Z||Z>=j.length?(j.decoder?he=j.buffer.join(""):j.buffer.length===1?he=j.buffer.first():he=j.buffer.concat(j.length),j.buffer.clear()):he=j.buffer.consume(Z,j.decoder),he}function ee(Z){var j=Z._readableState;y("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,process$1.nextTick(ie,j,Z))}function ie(Z,j){if(y("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,j.readable=!1,j.emit("end"),Z.autoDestroy)){var he=j._writableState;(!he||he.autoDestroy&&he.finished)&&j.destroy()}}typeof Symbol=="function"&&(se.from=function(Z,j){return X===void 0&&(X=requireFromBrowser()),X(se,Z,j)});function de(Z,j){for(var he=0,Ae=Z.length;he<Ae;he++)if(Z[he]===j)return he;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=m;var t=requireErrorsBrowser().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,a=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=t.ERR_TRANSFORM_WITH_LENGTH_0,o=require_stream_duplex$1();inherits_browserExports(m,o);function p(_,M){var T=this._transformState;T.transforming=!1;var B=T.writecb;if(B===null)return this.emit("error",new n);T.writechunk=null,T.writecb=null,M!=null&&this.push(M),B(_);var P=this._readableState;P.reading=!1,(P.needReadable||P.length<P.highWaterMark)&&this._read(P.highWaterMark)}function m(_){if(!(this instanceof m))return new m(_);o.call(this,_),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",y)}function y(){var _=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(M,T){w(_,M,T)}):w(this,null,null)}m.prototype.push=function(_,M){return this._transformState.needTransform=!1,o.prototype.push.call(this,_,M)},m.prototype._transform=function(_,M,T){T(new e("_transform()"))},m.prototype._write=function(_,M,T){var B=this._transformState;if(B.writecb=T,B.writechunk=_,B.writeencoding=M,!B.transforming){var P=this._readableState;(B.needTransform||P.needReadable||P.length<P.highWaterMark)&&this._read(P.highWaterMark)}},m.prototype._read=function(_){var M=this._transformState;M.writechunk!==null&&!M.transforming?(M.transforming=!0,this._transform(M.writechunk,M.writeencoding,M.afterTransform)):M.needTransform=!0},m.prototype._destroy=function(_,M){o.prototype._destroy.call(this,_,function(T){M(T)})};function w(_,M,T){if(M)return _.emit("error",M);if(T!=null&&_.push(T),_._writableState.length)throw new u;if(_._transformState.transforming)throw new a;return _.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=e;var t=require_stream_transform$1();inherits_browserExports(e,t);function e(n){if(!(this instanceof e))return new e(n);t.call(this,n)}return e.prototype._transform=function(n,a,u){u(null,n)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var t;function e(T){var B=!1;return function(){B||(B=!0,T.apply(void 0,arguments))}}var n=requireErrorsBrowser().codes,a=n.ERR_MISSING_ARGS,u=n.ERR_STREAM_DESTROYED;function o(T){if(T)throw T}function p(T){return T.setHeader&&typeof T.abort=="function"}function m(T,B,P,C){C=e(C);var L=!1;T.on("close",function(){L=!0}),t===void 0&&(t=requireEndOfStream()),t(T,{readable:B,writable:P},function(q){if(q)return C(q);L=!0,C()});var U=!1;return function(q){if(!L&&!U){if(U=!0,p(T))return T.abort();if(typeof T.destroy=="function")return T.destroy();C(q||new u("pipe"))}}}function y(T){T()}function w(T,B){return T.pipe(B)}function _(T){return!T.length||typeof T[T.length-1]!="function"?o:T.pop()}function M(){for(var T=arguments.length,B=new Array(T),P=0;P<T;P++)B[P]=arguments[P];var C=_(B);if(Array.isArray(B[0])&&(B=B[0]),B.length<2)throw new a("streams");var L,U=B.map(function(q,G){var X=G<B.length-1,te=G>0;return m(q,X,te,function(ne){L||(L=ne),ne&&U.forEach(y),!X&&(U.forEach(y),C(L))})});return B.reduce(w)}return pipeline_1=M,pipeline_1}var streamBrowserify=Stream$1,EE=eventsExports.EventEmitter,inherits$4=inherits_browserExports;inherits$4(Stream$1,EE);Stream$1.Readable=require_stream_readable$1();Stream$1.Writable=require_stream_writable$1();Stream$1.Duplex=require_stream_duplex$1();Stream$1.Transform=require_stream_transform$1();Stream$1.PassThrough=require_stream_passthrough$1();Stream$1.finished=requireEndOfStream();Stream$1.pipeline=requirePipeline();Stream$1.Stream=Stream$1;function Stream$1(){EE.call(this)}Stream$1.prototype.pipe=function(t,e){var n=this;function a(_){t.writable&&t.write(_)===!1&&n.pause&&n.pause()}n.on("data",a);function u(){n.readable&&n.resume&&n.resume()}t.on("drain",u),!t._isStdio&&(!e||e.end!==!1)&&(n.on("end",p),n.on("close",m));var o=!1;function p(){o||(o=!0,t.end())}function m(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function y(_){if(w(),EE.listenerCount(this,"error")===0)throw _}n.on("error",y),t.on("error",y);function w(){n.removeListener("data",a),t.removeListener("drain",u),n.removeListener("end",p),n.removeListener("close",m),n.removeListener("error",y),t.removeListener("error",y),n.removeListener("end",w),n.removeListener("close",w),t.removeListener("close",w)}return n.on("end",w),n.on("close",w),t.on("close",w),t.emit("pipe",n),t};var Buffer$4=safeBufferExports$1.Buffer,Transform=streamBrowserify.Transform,StringDecoder=string_decoder.StringDecoder,inherits$3=inherits_browserExports;function CipherBase(t){Transform.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$3(CipherBase,Transform);CipherBase.prototype.update=function(t,e,n){typeof t=="string"&&(t=Buffer$4.from(t,e));var a=this._update(t);return this.hashMode?this:(n&&(a=this._toString(a,n)),a)};CipherBase.prototype.setAutoPadding=function(){};CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase.prototype._transform=function(t,e,n){var a;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(u){a=u}finally{n(a)}};CipherBase.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(n){e=n}t(e)};CipherBase.prototype._finalOrDigest=function(t){var e=this.__final()||Buffer$4.alloc(0);return t&&(e=this._toString(e,t,!0)),e};CipherBase.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new StringDecoder(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var a=this._decoder.write(t);return n&&(a+=this._decoder.end()),a};var cipherBase=CipherBase,inherits$2=inherits_browserExports,MD5$1=md5_js,RIPEMD160$1=ripemd160,sha$1=sha_jsExports,Base$2=cipherBase;function Hash(t){Base$2.call(this,"digest"),this._hash=t}inherits$2(Hash,Base$2);Hash.prototype._update=function(t){this._hash.update(t)};Hash.prototype._final=function(){return this._hash.digest()};var browser$d=function(e){return e=e.toLowerCase(),e==="md5"?new MD5$1:e==="rmd160"||e==="ripemd160"?new RIPEMD160$1:new Hash(sha$1(e))},_Buffer$2=safeBufferExports$1.Buffer;function base$8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var a=0;a<t.length;a++){var u=t.charAt(a),o=u.charCodeAt(0);if(e[o]!==255)throw new TypeError(u+" is ambiguous");e[o]=a}var p=t.length,m=t.charAt(0),y=Math.log(p)/Math.log(256),w=Math.log(256)/Math.log(p);function _(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=_Buffer$2.from(B)),!_Buffer$2.isBuffer(B))throw new TypeError("Expected Buffer");if(B.length===0)return"";for(var P=0,C=0,L=0,U=B.length;L!==U&&B[L]===0;)L++,P++;for(var q=(U-L)*w+1>>>0,G=new Uint8Array(q);L!==U;){for(var X=B[L],te=0,ne=q-1;(X!==0||te<C)&&ne!==-1;ne--,te++)X+=256*G[ne]>>>0,G[ne]=X%p>>>0,X=X/p>>>0;if(X!==0)throw new Error("Non-zero carry");C=te,L++}for(var ge=q-C;ge!==q&&G[ge]===0;)ge++;for(var pe=m.repeat(P);ge<q;++ge)pe+=t.charAt(G[ge]);return pe}function M(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return _Buffer$2.alloc(0);for(var P=0,C=0,L=0;B[P]===m;)C++,P++;for(var U=(B.length-P)*y+1>>>0,q=new Uint8Array(U);B[P];){var G=e[B.charCodeAt(P)];if(G===255)return;for(var X=0,te=U-1;(G!==0||X<L)&&te!==-1;te--,X++)G+=p*q[te]>>>0,q[te]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");L=X,P++}for(var ne=U-L;ne!==U&&q[ne]===0;)ne++;var ge=_Buffer$2.allocUnsafe(C+(U-ne));ge.fill(0,0,C);for(var pe=C;ne!==U;)ge[pe++]=q[ne++];return ge}function T(B){var P=M(B);if(P)return P;throw new Error("Non-base"+p+" character")}return{encode:_,decodeUnsafe:M,decode:T}}var src$4=base$8,basex$3=src$4,ALPHABET$4="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$4=basex$3(ALPHABET$4),base58$1=bs58$4,Buffer$3=safeBufferExports$1.Buffer,base$7=function(t){function e(o){var p=t(o);return base58$1.encode(Buffer$3.concat([o,p],o.length+4))}function n(o){var p=o.slice(0,-4),m=o.slice(-4),y=t(p);if(!(m[0]^y[0]|m[1]^y[1]|m[2]^y[2]|m[3]^y[3]))return p}function a(o){var p=base58$1.decodeUnsafe(o);if(p)return n(p)}function u(o){var p=base58$1.decode(o),m=n(p);if(!m)throw new Error("Invalid checksum");return m}return{encode:e,decode:u,decodeUnsafe:a}},createHash=browser$d,bs58checkBase$1=base$7;function sha256x2$1(t){var e=createHash("sha256").update(t).digest();return createHash("sha256").update(e).digest()}var bs58check$6=bs58checkBase$1(sha256x2$1),bs58check$5=bs58check$6;function decodeRaw(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function encodeRaw(t,e,n){var a=new Buffer$1$1(n?34:33);return a.writeUInt8(t,0),e.copy(a,1),n&&(a[33]=1),a}function decode$j(t,e){return decodeRaw(bs58check$5.decode(t),e)}function encode$k(t,e,n){return typeof t=="number"?bs58check$5.encode(encodeRaw(t,e,n)):bs58check$5.encode(encodeRaw(t.version,t.privateKey,t.compressed))}var wif$1={decode:decode$j,decodeRaw,encode:encode$k,encodeRaw};Object.defineProperty(bip32,"__esModule",{value:!0});bip32.BIP32Factory=void 0;const crypto$2=crypto$3,testecc_1=testecc,base_1=lib$1,sha256_1=sha256$3,typeforce$4=typeforce_1,wif=wif$1,_bs58check=(0,base_1.base58check)(sha256_1.sha256),bs58check$4={encode:t=>_bs58check.encode(Uint8Array.from(t)),decode:t=>Buffer$1$1.from(_bs58check.decode(t))};function BIP32Factory(t){(0,testecc_1.testEcc)(t);const e=typeforce$4.BufferN(32),n=typeforce$4.compile({wif:typeforce$4.UInt8,bip32:{public:typeforce$4.UInt32,private:typeforce$4.UInt32}}),a={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},u=2147483648,o=Math.pow(2,31)-1;function p(U){return typeforce$4.String(U)&&U.match(/^(m\/)?(\d+'?\/)*\d+'?$/)!==null}function m(U){return typeforce$4.UInt32(U)&&U<=o}function y(U){return U.length===32?U:U.slice(1,33)}class w{constructor(q,G){this.__D=q,this.__Q=G,this.lowR=!1}get publicKey(){return this.__Q===void 0&&(this.__Q=Buffer$1$1.from(t.pointFromScalar(this.__D,!0))),this.__Q}get privateKey(){return this.__D}sign(q,G){if(!this.privateKey)throw new Error("Missing private key");if(G===void 0&&(G=this.lowR),G===!1)return Buffer$1$1.from(t.sign(q,this.privateKey));{let X=Buffer$1$1.from(t.sign(q,this.privateKey));const te=Buffer$1$1.alloc(32,0);let ne=0;for(;X[0]>127;)ne++,te.writeUIntLE(ne,0,6),X=Buffer$1$1.from(t.sign(q,this.privateKey,te));return X}}signSchnorr(q){if(!this.privateKey)throw new Error("Missing private key");if(!t.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return Buffer$1$1.from(t.signSchnorr(q,this.privateKey))}verify(q,G){return t.verify(q,this.publicKey,G)}verifySchnorr(q,G){if(!t.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return t.verifySchnorr(q,this.publicKey.subarray(1,33),G)}}class _ extends w{constructor(q,G,X,te,ne=0,ge=0,pe=0){super(q,G),this.chainCode=X,this.network=te,this.__DEPTH=ne,this.__INDEX=ge,this.__PARENT_FINGERPRINT=pe,typeforce$4(n,te)}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get identifier(){return crypto$2.hash160(this.publicKey)}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return this.__D===void 0}neutered(){return C(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){const q=this.network,G=this.isNeutered()?q.bip32.public:q.bip32.private,X=Buffer$1$1.allocUnsafe(78);return X.writeUInt32BE(G,0),X.writeUInt8(this.depth,4),X.writeUInt32BE(this.parentFingerprint,5),X.writeUInt32BE(this.index,9),this.chainCode.copy(X,13),this.isNeutered()?this.publicKey.copy(X,45):(X.writeUInt8(0,45),this.privateKey.copy(X,46)),bs58check$4.encode(X)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return wif.encode(this.network.wif,this.privateKey,!0)}derive(q){typeforce$4(typeforce$4.UInt32,q);const G=q>=u,X=Buffer$1$1.allocUnsafe(37);if(G){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");X[0]=0,this.privateKey.copy(X,1),X.writeUInt32BE(q,33)}else this.publicKey.copy(X,0),X.writeUInt32BE(q,33);const te=crypto$2.hmacSHA512(this.chainCode,X),ne=te.slice(0,32),ge=te.slice(32);if(!t.isPrivate(ne))return this.derive(q+1);let pe;if(this.isNeutered()){const se=Buffer$1$1.from(t.pointAddScalar(this.publicKey,ne,!0));if(se===null)return this.derive(q+1);pe=C(se,ge,this.network,this.depth+1,q,this.fingerprint.readUInt32BE(0))}else{const se=Buffer$1$1.from(t.privateAdd(this.privateKey,ne));if(se==null)return this.derive(q+1);pe=B(se,ge,this.network,this.depth+1,q,this.fingerprint.readUInt32BE(0))}return pe}deriveHardened(q){return typeforce$4(m,q),this.derive(q+u)}derivePath(q){typeforce$4(p,q);let G=q.split("/");if(G[0]==="m"){if(this.parentFingerprint)throw new TypeError("Expected master, got child");G=G.slice(1)}return G.reduce((X,te)=>{let ne;return te.slice(-1)==="'"?(ne=parseInt(te.slice(0,-1),10),X.deriveHardened(ne)):(ne=parseInt(te,10),X.derive(ne))},this)}tweak(q){return this.privateKey?this.tweakFromPrivateKey(q):this.tweakFromPublicKey(q)}tweakFromPublicKey(q){const G=y(this.publicKey);if(!t.xOnlyPointAddTweak)throw new Error("xOnlyPointAddTweak not supported by ecc library");const X=t.xOnlyPointAddTweak(G,q);if(!X||X.xOnlyPubkey===null)throw new Error("Cannot tweak public key!");const te=Buffer$1$1.from([X.parity===0?2:3]),ne=Buffer$1$1.concat([te,X.xOnlyPubkey]);return new w(void 0,ne)}tweakFromPrivateKey(q){const G=this.publicKey[0]===3||this.publicKey[0]===4&&(this.publicKey[64]&1)===1,X=(()=>{if(G){if(t.privateNegate)return t.privateNegate(this.privateKey);throw new Error("privateNegate not supported by ecc library")}else return this.privateKey})(),te=t.privateAdd(X,q);if(!te)throw new Error("Invalid tweaked private key!");return new w(Buffer$1$1.from(te),void 0)}}function M(U,q){const G=bs58check$4.decode(U);if(G.length!==78)throw new TypeError("Invalid buffer length");q=q||a;const X=G.readUInt32BE(0);if(X!==q.bip32.private&&X!==q.bip32.public)throw new TypeError("Invalid network version");const te=G[4],ne=G.readUInt32BE(5);if(te===0&&ne!==0)throw new TypeError("Invalid parent fingerprint");const ge=G.readUInt32BE(9);if(te===0&&ge!==0)throw new TypeError("Invalid index");const pe=G.slice(13,45);let se;if(X===q.bip32.private){if(G.readUInt8(45)!==0)throw new TypeError("Invalid private key");const Se=G.slice(46,78);se=B(Se,pe,q,te,ge,ne)}else{const Se=G.slice(45,78);se=C(Se,pe,q,te,ge,ne)}return se}function T(U,q,G){return B(U,q,G)}function B(U,q,G,X,te,ne){if(typeforce$4({privateKey:e,chainCode:e},{privateKey:U,chainCode:q}),G=G||a,!t.isPrivate(U))throw new TypeError("Private key not in range [1, n)");return new _(U,void 0,q,G,X,te,ne)}function P(U,q,G){return C(U,q,G)}function C(U,q,G,X,te,ne){if(typeforce$4({publicKey:typeforce$4.BufferN(33),chainCode:e},{publicKey:U,chainCode:q}),G=G||a,!t.isPoint(U))throw new TypeError("Point is not on the curve");return new _(void 0,U,q,G,X,te,ne)}function L(U,q){if(typeforce$4(typeforce$4.Buffer,U),U.length<16)throw new TypeError("Seed should be at least 128 bits");if(U.length>64)throw new TypeError("Seed should be at most 512 bits");q=q||a;const G=crypto$2.hmacSHA512(Buffer$1$1.from("Bitcoin seed","utf8"),U),X=G.slice(0,32),te=G.slice(32);return T(X,te,q)}return{fromSeed:L,fromBase58:M,fromPublicKey:P,fromPrivateKey:T}}bip32.BIP32Factory=BIP32Factory;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.BIP32Factory=t.default=void 0;var e=bip32;Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.BIP32Factory}}),Object.defineProperty(t,"BIP32Factory",{enumerable:!0,get:function(){return e.BIP32Factory}})})(src$5);var src$3={},address={},networks$1={};Object.defineProperty(networks$1,"__esModule",{value:!0});networks$1.testnet=networks$1.regtest=networks$1.bitcoin=void 0;networks$1.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};networks$1.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};networks$1.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};var payments$3={},embed={},script={},bip66$1={};Object.defineProperty(bip66$1,"__esModule",{value:!0});bip66$1.encode=bip66$1.decode=bip66$1.check=void 0;function check$d(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;const e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;const n=t[5+e];return!(n===0||6+e+n!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||n>1&&t[e+6]===0&&!(t[e+7]&128))}bip66$1.check=check$d;function decode$i(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");const e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");const n=t[5+e];if(n===0)throw new Error("S length is zero");if(6+e+n!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(n>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}bip66$1.decode=decode$i;function encode$j(t,e){const n=t.length,a=e.length;if(n===0)throw new Error("R length is zero");if(a===0)throw new Error("S length is zero");if(n>33)throw new Error("R length is too long");if(a>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(n>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(a>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");const u=Buffer$1$1.allocUnsafe(6+n+a);return u[0]=48,u[1]=u.length-2,u[2]=2,u[3]=t.length,t.copy(u,4),u[4+n]=2,u[5+n]=e.length,e.copy(u,6+n),u}bip66$1.encode=encode$j;var ops={};Object.defineProperty(ops,"__esModule",{value:!0});ops.REVERSE_OPS=ops.OPS=void 0;const OPS$8={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};ops.OPS=OPS$8;const REVERSE_OPS={};ops.REVERSE_OPS=REVERSE_OPS;for(const t of Object.keys(OPS$8)){const e=OPS$8[t];REVERSE_OPS[e]=t}var push_data={};Object.defineProperty(push_data,"__esModule",{value:!0});push_data.decode=push_data.encode=push_data.encodingLength=void 0;const ops_1=ops;function encodingLength$2(t){return t<ops_1.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}push_data.encodingLength=encodingLength$2;function encode$i(t,e,n){const a=encodingLength$2(e);return a===1?t.writeUInt8(e,n):a===2?(t.writeUInt8(ops_1.OPS.OP_PUSHDATA1,n),t.writeUInt8(e,n+1)):a===3?(t.writeUInt8(ops_1.OPS.OP_PUSHDATA2,n),t.writeUInt16LE(e,n+1)):(t.writeUInt8(ops_1.OPS.OP_PUSHDATA4,n),t.writeUInt32LE(e,n+1)),a}push_data.encode=encode$i;function decode$h(t,e){const n=t.readUInt8(e);let a,u;if(n<ops_1.OPS.OP_PUSHDATA1)a=n,u=1;else if(n===ops_1.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;a=t.readUInt8(e+1),u=2}else if(n===ops_1.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;a=t.readUInt16LE(e+1),u=3}else{if(e+5>t.length)return null;if(n!==ops_1.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");a=t.readUInt32LE(e+1),u=5}return{opcode:n,number:a,size:u}}push_data.decode=decode$h;var script_number={};Object.defineProperty(script_number,"__esModule",{value:!0});script_number.encode=script_number.decode=void 0;function decode$g(t,e,n){e=e||4,n=n===void 0?!0:n;const a=t.length;if(a===0)return 0;if(a>e)throw new TypeError("Script number overflow");if(n&&!(t[a-1]&127)&&(a<=1||!(t[a-2]&128)))throw new Error("Non-minimally encoded script number");if(a===5){const o=t.readUInt32LE(0),p=t.readUInt8(4);return p&128?-((p&-129)*4294967296+o):p*4294967296+o}let u=0;for(let o=0;o<a;++o)u|=t[o]<<8*o;return t[a-1]&128?-(u&~(128<<8*(a-1))):u}script_number.decode=decode$g;function scriptNumSize(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function encode$h(t){let e=Math.abs(t);const n=scriptNumSize(e),a=Buffer$1$1.allocUnsafe(n),u=t<0;for(let o=0;o<n;++o)a.writeUInt8(e&255,o),e>>=8;return a[n-1]&128?a.writeUInt8(u?128:0,n-1):u&&(a[n-1]|=128),a}script_number.encode=encode$h;var script_signature={},types$4={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Network=t.ECPoint=t.Satoshi=t.Signer=t.BIP32Path=t.UInt31=t.isPoint=t.typeforce=void 0;const e=require$$0$4;t.typeforce=typeforce_1;const n=e.Buffer.alloc(32,0),a=e.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function u(B){if(!e.Buffer.isBuffer(B)||B.length<33)return!1;const P=B[0],C=B.slice(1,33);if(C.compare(n)===0||C.compare(a)>=0)return!1;if((P===2||P===3)&&B.length===33)return!0;const L=B.slice(33);return L.compare(n)===0||L.compare(a)>=0?!1:P===4&&B.length===65}t.isPoint=u;const o=Math.pow(2,31)-1;function p(B){return t.typeforce.UInt32(B)&&B<=o}t.UInt31=p;function m(B){return t.typeforce.String(B)&&!!B.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}t.BIP32Path=m,m.toJSON=()=>"BIP32 derivation path";function y(B){return(t.typeforce.Buffer(B.publicKey)||typeof B.getPublicKey=="function")&&typeof B.sign=="function"}t.Signer=y;const w=21*1e14;function _(B){return t.typeforce.UInt53(B)&&B<=w}t.Satoshi=_,t.ECPoint=t.typeforce.quacksLike("Point"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.TAPLEAF_VERSION_MASK=254;function M(B){return!B||!("output"in B)||!e.Buffer.isBuffer(B.output)?!1:B.version!==void 0?(B.version&t.TAPLEAF_VERSION_MASK)===B.version:!0}t.isTapleaf=M;function T(B){return(0,t.Array)(B)?B.length!==2?!1:B.every(P=>T(P)):M(B)}t.isTaptree=T,t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf})(types$4);Object.defineProperty(script_signature,"__esModule",{value:!0});script_signature.encode=script_signature.decode=void 0;const bip66=bip66$1,types$3=types$4,{typeforce:typeforce$3}=types$3,ZERO$1=Buffer$1$1.alloc(1,0);function toDER(t){let e=0;for(;t[e]===0;)++e;return e===t.length?ZERO$1:(t=t.slice(e),t[0]&128?Buffer$1$1.concat([ZERO$1,t],1+t.length):t)}function fromDER(t){t[0]===0&&(t=t.slice(1));const e=Buffer$1$1.alloc(32,0),n=Math.max(0,32-t.length);return t.copy(e,n),e}function decode$f(t){const e=t.readUInt8(t.length-1),n=e&-129;if(n<=0||n>=4)throw new Error("Invalid hashType "+e);const a=bip66.decode(t.slice(0,-1)),u=fromDER(a.r),o=fromDER(a.s);return{signature:Buffer$1$1.concat([u,o],64),hashType:e}}script_signature.decode=decode$f;function encode$g(t,e){typeforce$3({signature:types$3.BufferN(64),hashType:types$3.UInt8},{signature:t,hashType:e});const n=e&-129;if(n<=0||n>=4)throw new Error("Invalid hashType "+e);const a=Buffer$1$1.allocUnsafe(1);a.writeUInt8(e,0);const u=toDER(t.slice(0,32)),o=toDER(t.slice(32,64));return Buffer$1$1.concat([bip66.encode(u,o),a])}script_signature.encode=encode$g;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.countNonPushOnlyOPs=t.isPushOnly=t.OPS=void 0;const e=bip66$1,n=ops;Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return n.OPS}});const a=push_data,u=script_number,o=script_signature,p=types$4,{typeforce:m}=p,y=n.OPS.OP_RESERVED;function w(se){return p.Number(se)&&(se===n.OPS.OP_0||se>=n.OPS.OP_1&&se<=n.OPS.OP_16||se===n.OPS.OP_1NEGATE)}function _(se){return p.Buffer(se)||w(se)}function M(se){return p.Array(se)&&se.every(_)}t.isPushOnly=M;function T(se){return se.length-se.filter(_).length}t.countNonPushOnlyOPs=T;function B(se){if(se.length===0)return n.OPS.OP_0;if(se.length===1){if(se[0]>=1&&se[0]<=16)return y+se[0];if(se[0]===129)return n.OPS.OP_1NEGATE}}function P(se){return Buffer$1$1.isBuffer(se)}function C(se){return p.Array(se)}function L(se){return Buffer$1$1.isBuffer(se)}function U(se){if(P(se))return se;m(p.Array,se);const Se=se.reduce((d,b)=>L(b)?b.length===1&&B(b)!==void 0?d+1:d+a.encodingLength(b.length)+b.length:d+1,0),k=Buffer$1$1.allocUnsafe(Se);let c=0;if(se.forEach(d=>{if(L(d)){const b=B(d);if(b!==void 0){k.writeUInt8(b,c),c+=1;return}c+=a.encode(k,d.length,c),d.copy(k,c),c+=d.length}else k.writeUInt8(d,c),c+=1}),c!==k.length)throw new Error("Could not decode chunks");return k}t.compile=U;function q(se){if(C(se))return se;m(p.Buffer,se);const Se=[];let k=0;for(;k<se.length;){const c=se[k];if(c>n.OPS.OP_0&&c<=n.OPS.OP_PUSHDATA4){const d=a.decode(se,k);if(d===null||(k+=d.size,k+d.number>se.length))return null;const b=se.slice(k,k+d.number);k+=d.number;const v=B(b);v!==void 0?Se.push(v):Se.push(b)}else Se.push(c),k+=1}return Se}t.decompile=q;function G(se){return P(se)&&(se=q(se)),se.map(Se=>{if(L(Se)){const k=B(Se);if(k===void 0)return Se.toString("hex");Se=k}return n.REVERSE_OPS[Se]}).join(" ")}t.toASM=G;function X(se){return m(p.String,se),U(se.split(" ").map(Se=>n.OPS[Se]!==void 0?n.OPS[Se]:(m(p.Hex,Se),Buffer$1$1.from(Se,"hex"))))}t.fromASM=X;function te(se){return se=q(se),m(M,se),se.map(Se=>L(Se)?Se:Se===n.OPS.OP_0?Buffer$1$1.allocUnsafe(0):u.encode(Se-y))}t.toStack=te;function ne(se){return p.isPoint(se)}t.isCanonicalPubKey=ne;function ge(se){const Se=se&-129;return Se>0&&Se<4}t.isDefinedHashType=ge;function pe(se){return!Buffer$1$1.isBuffer(se)||!ge(se[se.length-1])?!1:e.check(se.slice(0,-1))}t.isCanonicalScriptSignature=pe,t.number=u,t.signature=o})(script);var lazy$8={};Object.defineProperty(lazy$8,"__esModule",{value:!0});lazy$8.value=lazy$8.prop=void 0;function prop(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){const a=n.call(this);return this[e]=a,a},set(a){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:a,writable:!0})}})}lazy$8.prop=prop;function value(t){let e;return()=>(e!==void 0||(e=t()),e)}lazy$8.value=value;Object.defineProperty(embed,"__esModule",{value:!0});embed.p2data=void 0;const networks_1$8=networks$1,bscript$b=script,types_1$9=types$4,lazy$7=lazy$8,OPS$7=bscript$b.OPS;function stacksEqual$4(t,e){return t.length!==e.length?!1:t.every((n,a)=>n.equals(e[a]))}function p2data(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,types_1$9.typeforce)({network:types_1$9.typeforce.maybe(types_1$9.typeforce.Object),output:types_1$9.typeforce.maybe(types_1$9.typeforce.Buffer),data:types_1$9.typeforce.maybe(types_1$9.typeforce.arrayOf(types_1$9.typeforce.Buffer))},t);const a={name:"embed",network:t.network||networks_1$8.bitcoin};if(lazy$7.prop(a,"output",()=>{if(t.data)return bscript$b.compile([OPS$7.OP_RETURN].concat(t.data))}),lazy$7.prop(a,"data",()=>{if(t.output)return bscript$b.decompile(t.output).slice(1)}),e.validate&&t.output){const u=bscript$b.decompile(t.output);if(u[0]!==OPS$7.OP_RETURN)throw new TypeError("Output is invalid");if(!u.slice(1).every(types_1$9.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!stacksEqual$4(t.data,a.data))throw new TypeError("Data mismatch")}return Object.assign(a,t)}embed.p2data=p2data;var p2ms$1={};Object.defineProperty(p2ms$1,"__esModule",{value:!0});p2ms$1.p2ms=void 0;const networks_1$7=networks$1,bscript$a=script,types_1$8=types$4,lazy$6=lazy$8,OPS$6=bscript$a.OPS,OP_INT_BASE=OPS$6.OP_RESERVED;function stacksEqual$3(t,e){return t.length!==e.length?!1:t.every((n,a)=>n.equals(e[a]))}function p2ms(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function n(y){return bscript$a.isCanonicalScriptSignature(y)||(e.allowIncomplete&&y===OPS$6.OP_0)!==void 0}(0,types_1$8.typeforce)({network:types_1$8.typeforce.maybe(types_1$8.typeforce.Object),m:types_1$8.typeforce.maybe(types_1$8.typeforce.Number),n:types_1$8.typeforce.maybe(types_1$8.typeforce.Number),output:types_1$8.typeforce.maybe(types_1$8.typeforce.Buffer),pubkeys:types_1$8.typeforce.maybe(types_1$8.typeforce.arrayOf(types_1$8.isPoint)),signatures:types_1$8.typeforce.maybe(types_1$8.typeforce.arrayOf(n)),input:types_1$8.typeforce.maybe(types_1$8.typeforce.Buffer)},t);const u={network:t.network||networks_1$7.bitcoin};let o=[],p=!1;function m(y){p||(p=!0,o=bscript$a.decompile(y),u.m=o[0]-OP_INT_BASE,u.n=o[o.length-2]-OP_INT_BASE,u.pubkeys=o.slice(1,-2))}if(lazy$6.prop(u,"output",()=>{if(t.m&&u.n&&t.pubkeys)return bscript$a.compile([].concat(OP_INT_BASE+t.m,t.pubkeys,OP_INT_BASE+u.n,OPS$6.OP_CHECKMULTISIG))}),lazy$6.prop(u,"m",()=>{if(u.output)return m(u.output),u.m}),lazy$6.prop(u,"n",()=>{if(u.pubkeys)return u.pubkeys.length}),lazy$6.prop(u,"pubkeys",()=>{if(t.output)return m(t.output),u.pubkeys}),lazy$6.prop(u,"signatures",()=>{if(t.input)return bscript$a.decompile(t.input).slice(1)}),lazy$6.prop(u,"input",()=>{if(t.signatures)return bscript$a.compile([OPS$6.OP_0].concat(t.signatures))}),lazy$6.prop(u,"witness",()=>{if(u.input)return[]}),lazy$6.prop(u,"name",()=>{if(!(!u.m||!u.n))return`p2ms(${u.m} of ${u.n})`}),e.validate){if(t.output){if(m(t.output),!types_1$8.typeforce.Number(o[0]))throw new TypeError("Output is invalid");if(!types_1$8.typeforce.Number(o[o.length-2]))throw new TypeError("Output is invalid");if(o[o.length-1]!==OPS$6.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(u.m<=0||u.n>16||u.m>u.n||u.n!==o.length-3)throw new TypeError("Output is invalid");if(!u.pubkeys.every(y=>(0,types_1$8.isPoint)(y)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==u.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==u.n)throw new TypeError("n mismatch");if(t.pubkeys&&!stacksEqual$3(t.pubkeys,u.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(u.n=t.pubkeys.length,u.n<u.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<u.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>u.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==OPS$6.OP_0)throw new TypeError("Input is invalid");if(u.signatures.length===0||!u.signatures.every(n))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!stacksEqual$3(t.signatures,u.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(u,t)}p2ms$1.p2ms=p2ms;var p2pk$1={};Object.defineProperty(p2pk$1,"__esModule",{value:!0});p2pk$1.p2pk=void 0;const networks_1$6=networks$1,bscript$9=script,types_1$7=types$4,lazy$5=lazy$8,OPS$5=bscript$9.OPS;function p2pk(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,types_1$7.typeforce)({network:types_1$7.typeforce.maybe(types_1$7.typeforce.Object),output:types_1$7.typeforce.maybe(types_1$7.typeforce.Buffer),pubkey:types_1$7.typeforce.maybe(types_1$7.isPoint),signature:types_1$7.typeforce.maybe(bscript$9.isCanonicalScriptSignature),input:types_1$7.typeforce.maybe(types_1$7.typeforce.Buffer)},t);const n=lazy$5.value(()=>bscript$9.decompile(t.input)),u={name:"p2pk",network:t.network||networks_1$6.bitcoin};if(lazy$5.prop(u,"output",()=>{if(t.pubkey)return bscript$9.compile([t.pubkey,OPS$5.OP_CHECKSIG])}),lazy$5.prop(u,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),lazy$5.prop(u,"signature",()=>{if(t.input)return n()[0]}),lazy$5.prop(u,"input",()=>{if(t.signature)return bscript$9.compile([t.signature])}),lazy$5.prop(u,"witness",()=>{if(u.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==OPS$5.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,types_1$7.isPoint)(u.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(u.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(u.input))throw new TypeError("Signature mismatch");if(t.input){if(n().length!==1)throw new TypeError("Input is invalid");if(!bscript$9.isCanonicalScriptSignature(u.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(u,t)}p2pk$1.p2pk=p2pk;var p2pkh$1={},crypto$1={},sha1$1={};Object.defineProperty(sha1$1,"__esModule",{value:!0});sha1$1.sha1=void 0;const _md_js_1=_md,utils_js_1=utils$7,SHA1_IV=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),SHA1_W=new Uint32Array(80);class SHA1 extends _md_js_1.HashMD{constructor(){super(64,20,8,!1),this.A=SHA1_IV[0]|0,this.B=SHA1_IV[1]|0,this.C=SHA1_IV[2]|0,this.D=SHA1_IV[3]|0,this.E=SHA1_IV[4]|0}get(){const{A:e,B:n,C:a,D:u,E:o}=this;return[e,n,a,u,o]}set(e,n,a,u,o){this.A=e|0,this.B=n|0,this.C=a|0,this.D=u|0,this.E=o|0}process(e,n){for(let y=0;y<16;y++,n+=4)SHA1_W[y]=e.getUint32(n,!1);for(let y=16;y<80;y++)SHA1_W[y]=(0,utils_js_1.rotl)(SHA1_W[y-3]^SHA1_W[y-8]^SHA1_W[y-14]^SHA1_W[y-16],1);let{A:a,B:u,C:o,D:p,E:m}=this;for(let y=0;y<80;y++){let w,_;y<20?(w=(0,_md_js_1.Chi)(u,o,p),_=1518500249):y<40?(w=u^o^p,_=1859775393):y<60?(w=(0,_md_js_1.Maj)(u,o,p),_=2400959708):(w=u^o^p,_=3395469782);const M=(0,utils_js_1.rotl)(a,5)+w+m+_+SHA1_W[y]|0;m=p,p=o,o=(0,utils_js_1.rotl)(u,30),u=a,a=M}a=a+this.A|0,u=u+this.B|0,o=o+this.C|0,p=p+this.D|0,m=m+this.E|0,this.set(a,u,o,p,m)}roundClean(){SHA1_W.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}sha1$1.sha1=(0,utils_js_1.wrapConstructor)(()=>new SHA1);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.TAGGED_HASH_PREFIXES=t.TAGS=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;const e=ripemd160$1,n=sha1$1,a=sha256$3;function u(_){return Buffer$1$1.from((0,e.ripemd160)(Uint8Array.from(_)))}t.ripemd160=u;function o(_){return Buffer$1$1.from((0,n.sha1)(Uint8Array.from(_)))}t.sha1=o;function p(_){return Buffer$1$1.from((0,a.sha256)(Uint8Array.from(_)))}t.sha256=p;function m(_){return Buffer$1$1.from((0,e.ripemd160)((0,a.sha256)(Uint8Array.from(_))))}t.hash160=m;function y(_){return Buffer$1$1.from((0,a.sha256)((0,a.sha256)(Uint8Array.from(_))))}t.hash256=y,t.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],t.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Buffer$1$1.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Buffer$1$1.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Buffer$1$1.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Buffer$1$1.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Buffer$1$1.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Buffer$1$1.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Buffer$1$1.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Buffer$1$1.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Buffer$1$1.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function w(_,M){return p(Buffer$1$1.concat([t.TAGGED_HASH_PREFIXES[_],M]))}t.taggedHash=w})(crypto$1);function base$6(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var a=0;a<t.length;a++){var u=t.charAt(a),o=u.charCodeAt(0);if(e[o]!==255)throw new TypeError(u+" is ambiguous");e[o]=a}var p=t.length,m=t.charAt(0),y=Math.log(p)/Math.log(256),w=Math.log(256)/Math.log(p);function _(B){if(B instanceof Uint8Array||(ArrayBuffer.isView(B)?B=new Uint8Array(B.buffer,B.byteOffset,B.byteLength):Array.isArray(B)&&(B=Uint8Array.from(B))),!(B instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(B.length===0)return"";for(var P=0,C=0,L=0,U=B.length;L!==U&&B[L]===0;)L++,P++;for(var q=(U-L)*w+1>>>0,G=new Uint8Array(q);L!==U;){for(var X=B[L],te=0,ne=q-1;(X!==0||te<C)&&ne!==-1;ne--,te++)X+=256*G[ne]>>>0,G[ne]=X%p>>>0,X=X/p>>>0;if(X!==0)throw new Error("Non-zero carry");C=te,L++}for(var ge=q-C;ge!==q&&G[ge]===0;)ge++;for(var pe=m.repeat(P);ge<q;++ge)pe+=t.charAt(G[ge]);return pe}function M(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return new Uint8Array;for(var P=0,C=0,L=0;B[P]===m;)C++,P++;for(var U=(B.length-P)*y+1>>>0,q=new Uint8Array(U);B[P];){var G=e[B.charCodeAt(P)];if(G===255)return;for(var X=0,te=U-1;(G!==0||X<L)&&te!==-1;te--,X++)G+=p*q[te]>>>0,q[te]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");L=X,P++}for(var ne=U-L;ne!==U&&q[ne]===0;)ne++;for(var ge=new Uint8Array(C+(U-ne)),pe=C;ne!==U;)ge[pe++]=q[ne++];return ge}function T(B){var P=M(B);if(P)return P;throw new Error("Non-base"+p+" character")}return{encode:_,decodeUnsafe:M,decode:T}}var src$2=base$6;const basex$2=src$2,ALPHABET$3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58$3=basex$2(ALPHABET$3),base58=bs58$3,base$5=function(t){function e(o){var p=Uint8Array.from(o),m=t(p),y=p.length+4,w=new Uint8Array(y);return w.set(p,0),w.set(m.subarray(0,4),p.length),base58.encode(w,y)}function n(o){var p=o.slice(0,-4),m=o.slice(-4),y=t(p);if(!(m[0]^y[0]|m[1]^y[1]|m[2]^y[2]|m[3]^y[3]))return p}function a(o){var p=base58.decodeUnsafe(o);if(p)return n(p)}function u(o){var p=base58.decode(o),m=n(p);if(!m)throw new Error("Invalid checksum");return m}return{encode:e,decode:u,decodeUnsafe:a}},{sha256:sha256$1}=sha256$3,bs58checkBase=base$5;function sha256x2(t){return sha256$1(sha256$1(t))}var bs58check$3=bs58checkBase(sha256x2);Object.defineProperty(p2pkh$1,"__esModule",{value:!0});p2pkh$1.p2pkh=void 0;const bcrypto$5=crypto$1,networks_1$5=networks$1,bscript$8=script,types_1$6=types$4,lazy$4=lazy$8,bs58check$2=bs58check$3,OPS$4=bscript$8.OPS;function p2pkh(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,types_1$6.typeforce)({network:types_1$6.typeforce.maybe(types_1$6.typeforce.Object),address:types_1$6.typeforce.maybe(types_1$6.typeforce.String),hash:types_1$6.typeforce.maybe(types_1$6.typeforce.BufferN(20)),output:types_1$6.typeforce.maybe(types_1$6.typeforce.BufferN(25)),pubkey:types_1$6.typeforce.maybe(types_1$6.isPoint),signature:types_1$6.typeforce.maybe(bscript$8.isCanonicalScriptSignature),input:types_1$6.typeforce.maybe(types_1$6.typeforce.Buffer)},t);const n=lazy$4.value(()=>{const p=Buffer$1$1.from(bs58check$2.decode(t.address)),m=p.readUInt8(0),y=p.slice(1);return{version:m,hash:y}}),a=lazy$4.value(()=>bscript$8.decompile(t.input)),u=t.network||networks_1$5.bitcoin,o={name:"p2pkh",network:u};if(lazy$4.prop(o,"address",()=>{if(!o.hash)return;const p=Buffer$1$1.allocUnsafe(21);return p.writeUInt8(u.pubKeyHash,0),o.hash.copy(p,1),bs58check$2.encode(p)}),lazy$4.prop(o,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return n().hash;if(t.pubkey||o.pubkey)return bcrypto$5.hash160(t.pubkey||o.pubkey)}),lazy$4.prop(o,"output",()=>{if(o.hash)return bscript$8.compile([OPS$4.OP_DUP,OPS$4.OP_HASH160,o.hash,OPS$4.OP_EQUALVERIFY,OPS$4.OP_CHECKSIG])}),lazy$4.prop(o,"pubkey",()=>{if(t.input)return a()[1]}),lazy$4.prop(o,"signature",()=>{if(t.input)return a()[0]}),lazy$4.prop(o,"input",()=>{if(t.pubkey&&t.signature)return bscript$8.compile([t.signature,t.pubkey])}),lazy$4.prop(o,"witness",()=>{if(o.input)return[]}),e.validate){let p=Buffer$1$1.from([]);if(t.address){if(n().version!==u.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(n().hash.length!==20)throw new TypeError("Invalid address");p=n().hash}if(t.hash){if(p.length>0&&!p.equals(t.hash))throw new TypeError("Hash mismatch");p=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==OPS$4.OP_DUP||t.output[1]!==OPS$4.OP_HASH160||t.output[2]!==20||t.output[23]!==OPS$4.OP_EQUALVERIFY||t.output[24]!==OPS$4.OP_CHECKSIG)throw new TypeError("Output is invalid");const m=t.output.slice(3,23);if(p.length>0&&!p.equals(m))throw new TypeError("Hash mismatch");p=m}if(t.pubkey){const m=bcrypto$5.hash160(t.pubkey);if(p.length>0&&!p.equals(m))throw new TypeError("Hash mismatch");p=m}if(t.input){const m=a();if(m.length!==2)throw new TypeError("Input is invalid");if(!bscript$8.isCanonicalScriptSignature(m[0]))throw new TypeError("Input has invalid signature");if(!(0,types_1$6.isPoint)(m[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(m[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(m[1]))throw new TypeError("Pubkey mismatch");const y=bcrypto$5.hash160(m[1]);if(p.length>0&&!p.equals(y))throw new TypeError("Hash mismatch")}}return Object.assign(o,t)}p2pkh$1.p2pkh=p2pkh;var p2sh$1={};Object.defineProperty(p2sh$1,"__esModule",{value:!0});p2sh$1.p2sh=void 0;const bcrypto$4=crypto$1,networks_1$4=networks$1,bscript$7=script,types_1$5=types$4,lazy$3=lazy$8,bs58check$1=bs58check$3,OPS$3=bscript$7.OPS;function stacksEqual$2(t,e){return t.length!==e.length?!1:t.every((n,a)=>n.equals(e[a]))}function p2sh(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,types_1$5.typeforce)({network:types_1$5.typeforce.maybe(types_1$5.typeforce.Object),address:types_1$5.typeforce.maybe(types_1$5.typeforce.String),hash:types_1$5.typeforce.maybe(types_1$5.typeforce.BufferN(20)),output:types_1$5.typeforce.maybe(types_1$5.typeforce.BufferN(23)),redeem:types_1$5.typeforce.maybe({network:types_1$5.typeforce.maybe(types_1$5.typeforce.Object),output:types_1$5.typeforce.maybe(types_1$5.typeforce.Buffer),input:types_1$5.typeforce.maybe(types_1$5.typeforce.Buffer),witness:types_1$5.typeforce.maybe(types_1$5.typeforce.arrayOf(types_1$5.typeforce.Buffer))}),input:types_1$5.typeforce.maybe(types_1$5.typeforce.Buffer),witness:types_1$5.typeforce.maybe(types_1$5.typeforce.arrayOf(types_1$5.typeforce.Buffer))},t);let n=t.network;n||(n=t.redeem&&t.redeem.network||networks_1$4.bitcoin);const a={network:n},u=lazy$3.value(()=>{const m=Buffer$1$1.from(bs58check$1.decode(t.address)),y=m.readUInt8(0),w=m.slice(1);return{version:y,hash:w}}),o=lazy$3.value(()=>bscript$7.decompile(t.input)),p=lazy$3.value(()=>{const m=o(),y=m[m.length-1];return{network:n,output:y===OPS$3.OP_FALSE?Buffer$1$1.from([]):y,input:bscript$7.compile(m.slice(0,-1)),witness:t.witness||[]}});if(lazy$3.prop(a,"address",()=>{if(!a.hash)return;const m=Buffer$1$1.allocUnsafe(21);return m.writeUInt8(a.network.scriptHash,0),a.hash.copy(m,1),bs58check$1.encode(m)}),lazy$3.prop(a,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return u().hash;if(a.redeem&&a.redeem.output)return bcrypto$4.hash160(a.redeem.output)}),lazy$3.prop(a,"output",()=>{if(a.hash)return bscript$7.compile([OPS$3.OP_HASH160,a.hash,OPS$3.OP_EQUAL])}),lazy$3.prop(a,"redeem",()=>{if(t.input)return p()}),lazy$3.prop(a,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return bscript$7.compile([].concat(bscript$7.decompile(t.redeem.input),t.redeem.output))}),lazy$3.prop(a,"witness",()=>{if(a.redeem&&a.redeem.witness)return a.redeem.witness;if(a.input)return[]}),lazy$3.prop(a,"name",()=>{const m=["p2sh"];return a.redeem!==void 0&&a.redeem.name!==void 0&&m.push(a.redeem.name),m.join("-")}),e.validate){let m=Buffer$1$1.from([]);if(t.address){if(u().version!==n.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(u().hash.length!==20)throw new TypeError("Invalid address");m=u().hash}if(t.hash){if(m.length>0&&!m.equals(t.hash))throw new TypeError("Hash mismatch");m=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==OPS$3.OP_HASH160||t.output[1]!==20||t.output[22]!==OPS$3.OP_EQUAL)throw new TypeError("Output is invalid");const w=t.output.slice(2,22);if(m.length>0&&!m.equals(w))throw new TypeError("Hash mismatch");m=w}const y=w=>{if(w.output){const _=bscript$7.decompile(w.output);if(!_||_.length<1)throw new TypeError("Redeem.output too short");if(w.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(bscript$7.countNonPushOnlyOPs(_)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const M=bcrypto$4.hash160(w.output);if(m.length>0&&!m.equals(M))throw new TypeError("Hash mismatch");m=M}if(w.input){const _=w.input.length>0,M=w.witness&&w.witness.length>0;if(!_&&!M)throw new TypeError("Empty input");if(_&&M)throw new TypeError("Input and witness provided");if(_){const T=bscript$7.decompile(w.input);if(!bscript$7.isPushOnly(T))throw new TypeError("Non push-only scriptSig")}}};if(t.input){const w=o();if(!w||w.length<1)throw new TypeError("Input too short");if(!Buffer$1$1.isBuffer(p().output))throw new TypeError("Input is invalid");y(p())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==n)throw new TypeError("Network mismatch");if(t.input){const w=p();if(t.redeem.output&&!t.redeem.output.equals(w.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(w.input))throw new TypeError("Redeem.input mismatch")}y(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!stacksEqual$2(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(a,t)}p2sh$1.p2sh=p2sh;var p2wpkh$1={},dist$1={};Object.defineProperty(dist$1,"__esModule",{value:!0});dist$1.bech32m=dist$1.bech32=void 0;const ALPHABET$2="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(let t=0;t<ALPHABET$2.length;t++){const e=ALPHABET$2.charAt(t);ALPHABET_MAP[e]=t}function polymodStep(t){const e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function prefixChk(t){let e=1;for(let n=0;n<t.length;++n){const a=t.charCodeAt(n);if(a<33||a>126)return"Invalid prefix ("+t+")";e=polymodStep(e)^a>>5}e=polymodStep(e);for(let n=0;n<t.length;++n){const a=t.charCodeAt(n);e=polymodStep(e)^a&31}return e}function convert$2(t,e,n,a){let u=0,o=0;const p=(1<<n)-1,m=[];for(let y=0;y<t.length;++y)for(u=u<<e|t[y],o+=e;o>=n;)o-=n,m.push(u>>o&p);if(a)o>0&&m.push(u<<n-o&p);else{if(o>=e)return"Excess padding";if(u<<n-o&p)return"Non-zero padding"}return m}function toWords(t){return convert$2(t,8,5,!0)}function fromWordsUnsafe(t){const e=convert$2(t,5,8,!1);if(Array.isArray(e))return e}function fromWords(t){const e=convert$2(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function getLibraryFromEncoding(t){let e;t==="bech32"?e=1:e=734539939;function n(p,m,y){if(y=y||90,p.length+7+m.length>y)throw new TypeError("Exceeds length limit");p=p.toLowerCase();let w=prefixChk(p);if(typeof w=="string")throw new Error(w);let _=p+"1";for(let M=0;M<m.length;++M){const T=m[M];if(T>>5)throw new Error("Non 5-bit word");w=polymodStep(w)^T,_+=ALPHABET$2.charAt(T)}for(let M=0;M<6;++M)w=polymodStep(w);w^=e;for(let M=0;M<6;++M){const T=w>>(5-M)*5&31;_+=ALPHABET$2.charAt(T)}return _}function a(p,m){if(m=m||90,p.length<8)return p+" too short";if(p.length>m)return"Exceeds length limit";const y=p.toLowerCase(),w=p.toUpperCase();if(p!==y&&p!==w)return"Mixed-case string "+p;p=y;const _=p.lastIndexOf("1");if(_===-1)return"No separator character for "+p;if(_===0)return"Missing prefix for "+p;const M=p.slice(0,_),T=p.slice(_+1);if(T.length<6)return"Data too short";let B=prefixChk(M);if(typeof B=="string")return B;const P=[];for(let C=0;C<T.length;++C){const L=T.charAt(C),U=ALPHABET_MAP[L];if(U===void 0)return"Unknown character "+L;B=polymodStep(B)^U,!(C+6>=T.length)&&P.push(U)}return B!==e?"Invalid checksum for "+p:{prefix:M,words:P}}function u(p,m){const y=a(p,m);if(typeof y=="object")return y}function o(p,m){const y=a(p,m);if(typeof y=="object")return y;throw new Error(y)}return{decodeUnsafe:u,decode:o,encode:n,toWords,fromWordsUnsafe,fromWords}}dist$1.bech32=getLibraryFromEncoding("bech32");dist$1.bech32m=getLibraryFromEncoding("bech32m");Object.defineProperty(p2wpkh$1,"__esModule",{value:!0});p2wpkh$1.p2wpkh=void 0;const bcrypto$3=crypto$1,networks_1$3=networks$1,bscript$6=script,types_1$4=types$4,lazy$2=lazy$8,bech32_1$3=dist$1,OPS$2=bscript$6.OPS,EMPTY_BUFFER$2=Buffer$1$1.alloc(0);function p2wpkh(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,types_1$4.typeforce)({address:types_1$4.typeforce.maybe(types_1$4.typeforce.String),hash:types_1$4.typeforce.maybe(types_1$4.typeforce.BufferN(20)),input:types_1$4.typeforce.maybe(types_1$4.typeforce.BufferN(0)),network:types_1$4.typeforce.maybe(types_1$4.typeforce.Object),output:types_1$4.typeforce.maybe(types_1$4.typeforce.BufferN(22)),pubkey:types_1$4.typeforce.maybe(types_1$4.isPoint),signature:types_1$4.typeforce.maybe(bscript$6.isCanonicalScriptSignature),witness:types_1$4.typeforce.maybe(types_1$4.typeforce.arrayOf(types_1$4.typeforce.Buffer))},t);const n=lazy$2.value(()=>{const o=bech32_1$3.bech32.decode(t.address),p=o.words.shift(),m=bech32_1$3.bech32.fromWords(o.words);return{version:p,prefix:o.prefix,data:Buffer$1$1.from(m)}}),a=t.network||networks_1$3.bitcoin,u={name:"p2wpkh",network:a};if(lazy$2.prop(u,"address",()=>{if(!u.hash)return;const o=bech32_1$3.bech32.toWords(u.hash);return o.unshift(0),bech32_1$3.bech32.encode(a.bech32,o)}),lazy$2.prop(u,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return n().data;if(t.pubkey||u.pubkey)return bcrypto$3.hash160(t.pubkey||u.pubkey)}),lazy$2.prop(u,"output",()=>{if(u.hash)return bscript$6.compile([OPS$2.OP_0,u.hash])}),lazy$2.prop(u,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),lazy$2.prop(u,"signature",()=>{if(t.witness)return t.witness[0]}),lazy$2.prop(u,"input",()=>{if(u.witness)return EMPTY_BUFFER$2}),lazy$2.prop(u,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let o=Buffer$1$1.from([]);if(t.address){if(a&&a.bech32!==n().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(n().version!==0)throw new TypeError("Invalid address version");if(n().data.length!==20)throw new TypeError("Invalid address data");o=n().data}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==OPS$2.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(o.length>0&&!o.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");o=t.output.slice(2)}if(t.pubkey){const p=bcrypto$3.hash160(t.pubkey);if(o.length>0&&!o.equals(p))throw new TypeError("Hash mismatch");if(o=p,!(0,types_1$4.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!bscript$6.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,types_1$4.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");const p=bcrypto$3.hash160(t.witness[1]);if(o.length>0&&!o.equals(p))throw new TypeError("Hash mismatch")}}return Object.assign(u,t)}p2wpkh$1.p2wpkh=p2wpkh;var p2wsh$1={};Object.defineProperty(p2wsh$1,"__esModule",{value:!0});p2wsh$1.p2wsh=void 0;const bcrypto$2=crypto$1,networks_1$2=networks$1,bscript$5=script,types_1$3=types$4,lazy$1=lazy$8,bech32_1$2=dist$1,OPS$1=bscript$5.OPS,EMPTY_BUFFER$1=Buffer$1$1.alloc(0);function stacksEqual$1(t,e){return t.length!==e.length?!1:t.every((n,a)=>n.equals(e[a]))}function chunkHasUncompressedPubkey(t){return!!(Buffer$1$1.isBuffer(t)&&t.length===65&&t[0]===4&&(0,types_1$3.isPoint)(t))}function p2wsh(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,types_1$3.typeforce)({network:types_1$3.typeforce.maybe(types_1$3.typeforce.Object),address:types_1$3.typeforce.maybe(types_1$3.typeforce.String),hash:types_1$3.typeforce.maybe(types_1$3.typeforce.BufferN(32)),output:types_1$3.typeforce.maybe(types_1$3.typeforce.BufferN(34)),redeem:types_1$3.typeforce.maybe({input:types_1$3.typeforce.maybe(types_1$3.typeforce.Buffer),network:types_1$3.typeforce.maybe(types_1$3.typeforce.Object),output:types_1$3.typeforce.maybe(types_1$3.typeforce.Buffer),witness:types_1$3.typeforce.maybe(types_1$3.typeforce.arrayOf(types_1$3.typeforce.Buffer))}),input:types_1$3.typeforce.maybe(types_1$3.typeforce.BufferN(0)),witness:types_1$3.typeforce.maybe(types_1$3.typeforce.arrayOf(types_1$3.typeforce.Buffer))},t);const n=lazy$1.value(()=>{const p=bech32_1$2.bech32.decode(t.address),m=p.words.shift(),y=bech32_1$2.bech32.fromWords(p.words);return{version:m,prefix:p.prefix,data:Buffer$1$1.from(y)}}),a=lazy$1.value(()=>bscript$5.decompile(t.redeem.input));let u=t.network;u||(u=t.redeem&&t.redeem.network||networks_1$2.bitcoin);const o={network:u};if(lazy$1.prop(o,"address",()=>{if(!o.hash)return;const p=bech32_1$2.bech32.toWords(o.hash);return p.unshift(0),bech32_1$2.bech32.encode(u.bech32,p)}),lazy$1.prop(o,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return n().data;if(o.redeem&&o.redeem.output)return bcrypto$2.sha256(o.redeem.output)}),lazy$1.prop(o,"output",()=>{if(o.hash)return bscript$5.compile([OPS$1.OP_0,o.hash])}),lazy$1.prop(o,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:EMPTY_BUFFER$1,witness:t.witness.slice(0,-1)}}),lazy$1.prop(o,"input",()=>{if(o.witness)return EMPTY_BUFFER$1}),lazy$1.prop(o,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){const p=bscript$5.toStack(a());return o.redeem=Object.assign({witness:p},t.redeem),o.redeem.input=EMPTY_BUFFER$1,[].concat(p,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),lazy$1.prop(o,"name",()=>{const p=["p2wsh"];return o.redeem!==void 0&&o.redeem.name!==void 0&&p.push(o.redeem.name),p.join("-")}),e.validate){let p=Buffer$1$1.from([]);if(t.address){if(n().prefix!==u.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(n().version!==0)throw new TypeError("Invalid address version");if(n().data.length!==32)throw new TypeError("Invalid address data");p=n().data}if(t.hash){if(p.length>0&&!p.equals(t.hash))throw new TypeError("Hash mismatch");p=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==OPS$1.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");const m=t.output.slice(2);if(p.length>0&&!p.equals(m))throw new TypeError("Hash mismatch");p=m}if(t.redeem){if(t.redeem.network&&t.redeem.network!==u)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){const m=bscript$5.decompile(t.redeem.output);if(!m||m.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(bscript$5.countNonPushOnlyOPs(m)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const y=bcrypto$2.sha256(t.redeem.output);if(p.length>0&&!p.equals(y))throw new TypeError("Hash mismatch");p=y}if(t.redeem.input&&!bscript$5.isPushOnly(a()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!stacksEqual$1(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&a().some(chunkHasUncompressedPubkey)||t.redeem.output&&(bscript$5.decompile(t.redeem.output)||[]).some(chunkHasUncompressedPubkey))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){const m=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(m))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(chunkHasUncompressedPubkey)||(bscript$5.decompile(m)||[]).some(chunkHasUncompressedPubkey))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,t)}p2wsh$1.p2wsh=p2wsh;var p2tr$1={},ecc_lib={};Object.defineProperty(ecc_lib,"__esModule",{value:!0});ecc_lib.getEccLib=ecc_lib.initEccLib=void 0;const _ECCLIB_CACHE={};function initEccLib(t){t?t!==_ECCLIB_CACHE.eccLib&&(verifyEcc(t),_ECCLIB_CACHE.eccLib=t):_ECCLIB_CACHE.eccLib=t}ecc_lib.initEccLib=initEccLib;function getEccLib(){if(!_ECCLIB_CACHE.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return _ECCLIB_CACHE.eccLib}ecc_lib.getEccLib=getEccLib;const h=t=>Buffer$1$1.from(t,"hex");function verifyEcc(t){assert$2(typeof t.isXOnlyPoint=="function"),assert$2(t.isXOnlyPoint(h("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),assert$2(t.isXOnlyPoint(h("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),assert$2(t.isXOnlyPoint(h("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),assert$2(t.isXOnlyPoint(h("0000000000000000000000000000000000000000000000000000000000000001"))),assert$2(!t.isXOnlyPoint(h("0000000000000000000000000000000000000000000000000000000000000000"))),assert$2(!t.isXOnlyPoint(h("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),assert$2(typeof t.xOnlyPointAddTweak=="function"),tweakAddVectors.forEach(e=>{const n=t.xOnlyPointAddTweak(h(e.pubkey),h(e.tweak));e.result===null?assert$2(n===null):(assert$2(n!==null),assert$2(n.parity===e.parity),assert$2(Buffer$1$1.from(n.xOnlyPubkey).equals(h(e.result))))})}function assert$2(t){if(!t)throw new Error("ecc library invalid")}const tweakAddVectors=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}];var bip341={},bufferutils={},Buffer$2=safeBufferExports$1.Buffer,MAX_SAFE_INTEGER$1=9007199254740991;function checkUInt53$1(t){if(t<0||t>MAX_SAFE_INTEGER$1||t%1!==0)throw new RangeError("value out of range")}function encode$f(t,e,n){if(checkUInt53$1(t),e||(e=Buffer$2.allocUnsafe(encodingLength$1(t))),!Buffer$2.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(e.writeUInt8(t,n),encode$f.bytes=1):t<=65535?(e.writeUInt8(253,n),e.writeUInt16LE(t,n+1),encode$f.bytes=3):t<=4294967295?(e.writeUInt8(254,n),e.writeUInt32LE(t,n+1),encode$f.bytes=5):(e.writeUInt8(255,n),e.writeUInt32LE(t>>>0,n+1),e.writeUInt32LE(t/4294967296|0,n+5),encode$f.bytes=9),e}function decode$e(t,e){if(!Buffer$2.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var n=t.readUInt8(e);if(n<253)return decode$e.bytes=1,n;if(n===253)return decode$e.bytes=3,t.readUInt16LE(e+1);if(n===254)return decode$e.bytes=5,t.readUInt32LE(e+1);decode$e.bytes=9;var a=t.readUInt32LE(e+1),u=t.readUInt32LE(e+5),o=u*4294967296+a;return checkUInt53$1(o),o}function encodingLength$1(t){return checkUInt53$1(t),t<253?1:t<=65535?3:t<=4294967295?5:9}var varuintBitcoin={encode:encode$f,decode:decode$e,encodingLength:encodingLength$1};Object.defineProperty(bufferutils,"__esModule",{value:!0});bufferutils.BufferReader=bufferutils.BufferWriter=bufferutils.cloneBuffer=bufferutils.reverseBuffer=bufferutils.writeUInt64LE=bufferutils.readUInt64LE=bufferutils.varuint=void 0;const types$2=types$4,{typeforce:typeforce$2}=types$2,varuint$7=varuintBitcoin;bufferutils.varuint=varuint$7;function verifuint$1(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function readUInt64LE$1(t,e){const n=t.readUInt32LE(e);let a=t.readUInt32LE(e+4);return a*=4294967296,verifuint$1(a+n,9007199254740991),a+n}bufferutils.readUInt64LE=readUInt64LE$1;function writeUInt64LE$1(t,e,n){return verifuint$1(e,9007199254740991),t.writeInt32LE(e&-1,n),t.writeUInt32LE(Math.floor(e/4294967296),n+4),n+8}bufferutils.writeUInt64LE=writeUInt64LE$1;function reverseBuffer$1(t){if(t.length<1)return t;let e=t.length-1,n=0;for(let a=0;a<t.length/2;a++)n=t[a],t[a]=t[e],t[e]=n,e--;return t}bufferutils.reverseBuffer=reverseBuffer$1;function cloneBuffer(t){const e=Buffer$1$1.allocUnsafe(t.length);return t.copy(e),e}bufferutils.cloneBuffer=cloneBuffer;class BufferWriter{static withCapacity(e){return new BufferWriter(Buffer$1$1.alloc(e))}constructor(e,n=0){this.buffer=e,this.offset=n,typeforce$2(types$2.tuple(types$2.Buffer,types$2.UInt32),[e,n])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=writeUInt64LE$1(this.buffer,e,this.offset)}writeVarInt(e){varuint$7.encode(e,this.buffer,this.offset),this.offset+=varuint$7.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(n=>this.writeVarSlice(n))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}bufferutils.BufferWriter=BufferWriter;class BufferReader{constructor(e,n=0){this.buffer=e,this.offset=n,typeforce$2(types$2.tuple(types$2.Buffer,types$2.UInt32),[e,n])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=readUInt64LE$1(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=varuint$7.decode(this.buffer,this.offset);return this.offset+=varuint$7.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const n=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,n}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),n=[];for(let a=0;a<e;a++)n.push(this.readVarSlice());return n}}bufferutils.BufferReader=BufferReader;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.tweakKey=t.tapTweakHash=t.tapleafHash=t.findScriptPath=t.toHashTree=t.rootHashFromPath=t.MAX_TAPTREE_DEPTH=t.LEAF_VERSION_TAPSCRIPT=void 0;const e=require$$0$4,n=ecc_lib,a=crypto$1,u=bufferutils,o=types$4;t.LEAF_VERSION_TAPSCRIPT=192,t.MAX_TAPTREE_DEPTH=128;const p=C=>"left"in C&&"right"in C;function m(C,L){if(C.length<33)throw new TypeError(`The control-block length is too small. Got ${C.length}, expected min 33.`);const U=(C.length-33)/32;let q=L;for(let G=0;G<U;G++){const X=C.slice(33+32*G,65+32*G);q.compare(X)<0?q=B(q,X):q=B(X,q)}return q}t.rootHashFromPath=m;function y(C){if((0,o.isTapleaf)(C))return{hash:_(C)};const L=[y(C[0]),y(C[1])];L.sort((G,X)=>G.hash.compare(X.hash));const[U,q]=L;return{hash:B(U.hash,q.hash),left:U,right:q}}t.toHashTree=y;function w(C,L){if(p(C)){const U=w(C.left,L);if(U!==void 0)return[...U,C.right.hash];const q=w(C.right,L);if(q!==void 0)return[...q,C.left.hash]}else if(C.hash.equals(L))return[]}t.findScriptPath=w;function _(C){const L=C.version||t.LEAF_VERSION_TAPSCRIPT;return a.taggedHash("TapLeaf",e.Buffer.concat([e.Buffer.from([L]),P(C.output)]))}t.tapleafHash=_;function M(C,L){return a.taggedHash("TapTweak",e.Buffer.concat(L?[C,L]:[C]))}t.tapTweakHash=M;function T(C,L){if(!e.Buffer.isBuffer(C)||C.length!==32||L&&L.length!==32)return null;const U=M(C,L),q=(0,n.getEccLib)().xOnlyPointAddTweak(C,U);return!q||q.xOnlyPubkey===null?null:{parity:q.parity,x:e.Buffer.from(q.xOnlyPubkey)}}t.tweakKey=T;function B(C,L){return a.taggedHash("TapBranch",e.Buffer.concat([C,L]))}function P(C){const L=u.varuint.encodingLength(C.length),U=e.Buffer.allocUnsafe(L);return u.varuint.encode(C.length,U),e.Buffer.concat([U,C])}})(bip341);Object.defineProperty(p2tr$1,"__esModule",{value:!0});p2tr$1.p2tr=void 0;const buffer_1$1=require$$0$4,networks_1$1=networks$1,bscript$4=script,types_1$2=types$4,ecc_lib_1=ecc_lib,bip341_1$2=bip341,lazy=lazy$8,bech32_1$1=dist$1,OPS=bscript$4.OPS,TAPROOT_WITNESS_VERSION=1,ANNEX_PREFIX=80;function p2tr(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,types_1$2.typeforce)({address:types_1$2.typeforce.maybe(types_1$2.typeforce.String),input:types_1$2.typeforce.maybe(types_1$2.typeforce.BufferN(0)),network:types_1$2.typeforce.maybe(types_1$2.typeforce.Object),output:types_1$2.typeforce.maybe(types_1$2.typeforce.BufferN(34)),internalPubkey:types_1$2.typeforce.maybe(types_1$2.typeforce.BufferN(32)),hash:types_1$2.typeforce.maybe(types_1$2.typeforce.BufferN(32)),pubkey:types_1$2.typeforce.maybe(types_1$2.typeforce.BufferN(32)),signature:types_1$2.typeforce.maybe(types_1$2.typeforce.anyOf(types_1$2.typeforce.BufferN(64),types_1$2.typeforce.BufferN(65))),witness:types_1$2.typeforce.maybe(types_1$2.typeforce.arrayOf(types_1$2.typeforce.Buffer)),scriptTree:types_1$2.typeforce.maybe(types_1$2.isTaptree),redeem:types_1$2.typeforce.maybe({output:types_1$2.typeforce.maybe(types_1$2.typeforce.Buffer),redeemVersion:types_1$2.typeforce.maybe(types_1$2.typeforce.Number),witness:types_1$2.typeforce.maybe(types_1$2.typeforce.arrayOf(types_1$2.typeforce.Buffer))}),redeemVersion:types_1$2.typeforce.maybe(types_1$2.typeforce.Number)},t);const n=lazy.value(()=>{const m=bech32_1$1.bech32m.decode(t.address),y=m.words.shift(),w=bech32_1$1.bech32m.fromWords(m.words);return{version:y,prefix:m.prefix,data:buffer_1$1.Buffer.from(w)}}),a=lazy.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===ANNEX_PREFIX?t.witness.slice(0,-1):t.witness.slice()}),u=lazy.value(()=>{if(t.scriptTree)return(0,bip341_1$2.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),o=t.network||networks_1$1.bitcoin,p={name:"p2tr",network:o};if(lazy.prop(p,"address",()=>{if(!p.pubkey)return;const m=bech32_1$1.bech32m.toWords(p.pubkey);return m.unshift(TAPROOT_WITNESS_VERSION),bech32_1$1.bech32m.encode(o.bech32,m)}),lazy.prop(p,"hash",()=>{const m=u();if(m)return m.hash;const y=a();if(y&&y.length>1){const w=y[y.length-1],_=w[0]&types_1$2.TAPLEAF_VERSION_MASK,M=y[y.length-2],T=(0,bip341_1$2.tapleafHash)({output:M,version:_});return(0,bip341_1$2.rootHashFromPath)(w,T)}return null}),lazy.prop(p,"output",()=>{if(p.pubkey)return bscript$4.compile([OPS.OP_1,p.pubkey])}),lazy.prop(p,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:bip341_1$2.LEAF_VERSION_TAPSCRIPT),lazy.prop(p,"redeem",()=>{const m=a();if(!(!m||m.length<2))return{output:m[m.length-2],witness:m.slice(0,-2),redeemVersion:m[m.length-1][0]&types_1$2.TAPLEAF_VERSION_MASK}}),lazy.prop(p,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return n().data;if(p.internalPubkey){const m=(0,bip341_1$2.tweakKey)(p.internalPubkey,p.hash);if(m)return m.x}}),lazy.prop(p,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;const m=a();if(m&&m.length>1)return m[m.length-1].slice(1,33)}),lazy.prop(p,"signature",()=>{if(t.signature)return t.signature;const m=a();if(!(!m||m.length!==1))return m[0]}),lazy.prop(p,"witness",()=>{if(t.witness)return t.witness;const m=u();if(m&&t.redeem&&t.redeem.output&&t.internalPubkey){const y=(0,bip341_1$2.tapleafHash)({output:t.redeem.output,version:p.redeemVersion}),w=(0,bip341_1$2.findScriptPath)(m,y);if(!w)return;const _=(0,bip341_1$2.tweakKey)(t.internalPubkey,m.hash);if(!_)return;const M=buffer_1$1.Buffer.concat([buffer_1$1.Buffer.from([p.redeemVersion|_.parity]),t.internalPubkey].concat(w));return[t.redeem.output,M]}if(t.signature)return[t.signature]}),e.validate){let m=buffer_1$1.Buffer.from([]);if(t.address){if(o&&o.bech32!==n().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(n().version!==TAPROOT_WITNESS_VERSION)throw new TypeError("Invalid address version");if(n().data.length!==32)throw new TypeError("Invalid address data");m=n().data}if(t.pubkey){if(m.length>0&&!m.equals(t.pubkey))throw new TypeError("Pubkey mismatch");m=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==OPS.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(m.length>0&&!m.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");m=t.output.slice(2)}if(t.internalPubkey){const _=(0,bip341_1$2.tweakKey)(t.internalPubkey,p.hash);if(m.length>0&&!m.equals(_.x))throw new TypeError("Pubkey mismatch");m=_.x}if(m&&m.length&&!(0,ecc_lib_1.getEccLib)().isXOnlyPoint(m))throw new TypeError("Invalid pubkey for p2tr");const y=u();if(t.hash&&y&&!t.hash.equals(y.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&y){const _=(0,bip341_1$2.tapleafHash)({output:t.redeem.output,version:p.redeemVersion});if(!(0,bip341_1$2.findScriptPath)(y,_))throw new TypeError("Redeem script not in tree")}const w=a();if(t.redeem&&p.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==p.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(bscript$4.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(p.redeem.output&&!t.redeem.output.equals(p.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&p.redeem.witness&&!stacksEqual(t.redeem.witness,p.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(w&&w.length)if(w.length===1){if(t.signature&&!t.signature.equals(w[0]))throw new TypeError("Signature mismatch")}else{const _=w[w.length-1];if(_.length<33)throw new TypeError(`The control-block length is too small. Got ${_.length}, expected min 33.`);if((_.length-33)%32!==0)throw new TypeError(`The control-block length of ${_.length} is incorrect!`);const M=(_.length-33)/32;if(M>128)throw new TypeError(`The script path is too long. Got ${M}, expected max 128.`);const T=_.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(T))throw new TypeError("Internal pubkey mismatch");if(!(0,ecc_lib_1.getEccLib)().isXOnlyPoint(T))throw new TypeError("Invalid internalPubkey for p2tr witness");const B=_[0]&types_1$2.TAPLEAF_VERSION_MASK,P=w[w.length-2],C=(0,bip341_1$2.tapleafHash)({output:P,version:B}),L=(0,bip341_1$2.rootHashFromPath)(_,C),U=(0,bip341_1$2.tweakKey)(T,L);if(!U)throw new TypeError("Invalid outputKey for p2tr witness");if(m.length&&!m.equals(U.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(U.parity!==(_[0]&1))throw new Error("Incorrect parity")}}return Object.assign(p,t)}p2tr$1.p2tr=p2tr;function stacksEqual(t,e){return t.length!==e.length?!1:t.every((n,a)=>n.equals(e[a]))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;const e=embed;Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return e.p2data}});const n=p2ms$1;Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return n.p2ms}});const a=p2pk$1;Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return a.p2pk}});const u=p2pkh$1;Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return u.p2pkh}});const o=p2sh$1;Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return o.p2sh}});const p=p2wpkh$1;Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return p.p2wpkh}});const m=p2wsh$1;Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return m.p2wsh}});const y=p2tr$1;Object.defineProperty(t,"p2tr",{enumerable:!0,get:function(){return y.p2tr}})})(payments$3);Object.defineProperty(address,"__esModule",{value:!0});address.toOutputScript=address.fromOutputScript=address.toBech32=address.toBase58Check=address.fromBech32=address.fromBase58Check=void 0;const networks=networks$1,payments$2=payments$3,bscript$3=script,types_1$1=types$4,bech32_1=dist$1,bs58check=bs58check$3,FUTURE_SEGWIT_MAX_SIZE=40,FUTURE_SEGWIT_MIN_SIZE=2,FUTURE_SEGWIT_MAX_VERSION=16,FUTURE_SEGWIT_MIN_VERSION=2,FUTURE_SEGWIT_VERSION_DIFF=80,FUTURE_SEGWIT_VERSION_WARNING="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function _toFutureSegwitAddress(t,e){const n=t.slice(2);if(n.length<FUTURE_SEGWIT_MIN_SIZE||n.length>FUTURE_SEGWIT_MAX_SIZE)throw new TypeError("Invalid program length for segwit address");const a=t[0]-FUTURE_SEGWIT_VERSION_DIFF;if(a<FUTURE_SEGWIT_MIN_VERSION||a>FUTURE_SEGWIT_MAX_VERSION)throw new TypeError("Invalid version for segwit address");if(t[1]!==n.length)throw new TypeError("Invalid script for segwit address");return console.warn(FUTURE_SEGWIT_VERSION_WARNING),toBech32(n,a,e.bech32)}function fromBase58Check(t){const e=Buffer$1$1.from(bs58check.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");const n=e.readUInt8(0),a=e.slice(1);return{version:n,hash:a}}address.fromBase58Check=fromBase58Check;function fromBech32(t){let e,n;try{e=bech32_1.bech32.decode(t)}catch{}if(e){if(n=e.words[0],n!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=bech32_1.bech32m.decode(t),n=e.words[0],n===0)throw new TypeError(t+" uses wrong encoding");const a=bech32_1.bech32.fromWords(e.words.slice(1));return{version:n,prefix:e.prefix,data:Buffer$1$1.from(a)}}address.fromBech32=fromBech32;function toBase58Check(t,e){(0,types_1$1.typeforce)((0,types_1$1.tuple)(types_1$1.Hash160bit,types_1$1.UInt8),arguments);const n=Buffer$1$1.allocUnsafe(21);return n.writeUInt8(e,0),t.copy(n,1),bs58check.encode(n)}address.toBase58Check=toBase58Check;function toBech32(t,e,n){const a=bech32_1.bech32.toWords(t);return a.unshift(e),e===0?bech32_1.bech32.encode(n,a):bech32_1.bech32m.encode(n,a)}address.toBech32=toBech32;function fromOutputScript(t,e){e=e||networks.bitcoin;try{return payments$2.p2pkh({output:t,network:e}).address}catch{}try{return payments$2.p2sh({output:t,network:e}).address}catch{}try{return payments$2.p2wpkh({output:t,network:e}).address}catch{}try{return payments$2.p2wsh({output:t,network:e}).address}catch{}try{return payments$2.p2tr({output:t,network:e}).address}catch{}try{return _toFutureSegwitAddress(t,e)}catch{}throw new Error(bscript$3.toASM(t)+" has no matching Address")}address.fromOutputScript=fromOutputScript;function toOutputScript(t,e){e=e||networks.bitcoin;let n,a;try{n=fromBase58Check(t)}catch{}if(n){if(n.version===e.pubKeyHash)return payments$2.p2pkh({hash:n.hash}).output;if(n.version===e.scriptHash)return payments$2.p2sh({hash:n.hash}).output}else{try{a=fromBech32(t)}catch{}if(a){if(a.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(a.version===0){if(a.data.length===20)return payments$2.p2wpkh({hash:a.data}).output;if(a.data.length===32)return payments$2.p2wsh({hash:a.data}).output}else if(a.version===1){if(a.data.length===32)return payments$2.p2tr({pubkey:a.data}).output}else if(a.version>=FUTURE_SEGWIT_MIN_VERSION&&a.version<=FUTURE_SEGWIT_MAX_VERSION&&a.data.length>=FUTURE_SEGWIT_MIN_SIZE&&a.data.length<=FUTURE_SEGWIT_MAX_SIZE)return console.warn(FUTURE_SEGWIT_VERSION_WARNING),bscript$3.compile([a.version+FUTURE_SEGWIT_VERSION_DIFF,a.data])}}throw new Error(t+" has no matching Script")}address.toOutputScript=toOutputScript;var block={},merkle={};Object.defineProperty(merkle,"__esModule",{value:!0});merkle.fastMerkleRoot=void 0;function fastMerkleRoot(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let n=t.length;const a=t.concat();for(;n>1;){let u=0;for(let o=0;o<n;o+=2,++u){const p=a[o],m=o+1===n?p:a[o+1],y=Buffer$1$1.concat([p,m]);a[u]=e(y)}n=u}return a[0]}merkle.fastMerkleRoot=fastMerkleRoot;var transaction={};Object.defineProperty(transaction,"__esModule",{value:!0});transaction.Transaction=void 0;const bufferutils_1$2=bufferutils,bcrypto$1=crypto$1,bscript$2=script,script_1=script,types$1=types$4,{typeforce:typeforce$1}=types$1;function varSliceSize(t){const e=t.length;return bufferutils_1$2.varuint.encodingLength(e)+e}function vectorSize(t){const e=t.length;return bufferutils_1$2.varuint.encodingLength(e)+t.reduce((n,a)=>n+varSliceSize(a),0)}const EMPTY_BUFFER=Buffer$1$1.allocUnsafe(0),EMPTY_WITNESS=[],ZERO=Buffer$1$1.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),ONE=Buffer$1$1.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),VALUE_UINT64_MAX=Buffer$1$1.from("ffffffffffffffff","hex"),BLANK_OUTPUT={script:EMPTY_BUFFER,valueBuffer:VALUE_UINT64_MAX};function isOutput(t){return t.value!==void 0}let Transaction$1=class Ft{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,n){const a=new bufferutils_1$2.BufferReader(e),u=new Ft;u.version=a.readInt32();const o=a.readUInt8(),p=a.readUInt8();let m=!1;o===Ft.ADVANCED_TRANSACTION_MARKER&&p===Ft.ADVANCED_TRANSACTION_FLAG?m=!0:a.offset-=2;const y=a.readVarInt();for(let _=0;_<y;++_)u.ins.push({hash:a.readSlice(32),index:a.readUInt32(),script:a.readVarSlice(),sequence:a.readUInt32(),witness:EMPTY_WITNESS});const w=a.readVarInt();for(let _=0;_<w;++_)u.outs.push({value:a.readUInt64(),script:a.readVarSlice()});if(m){for(let _=0;_<y;++_)u.ins[_].witness=a.readVector();if(!u.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(u.locktime=a.readUInt32(),n)return u;if(a.offset!==e.length)throw new Error("Transaction has unexpected data");return u}static fromHex(e){return Ft.fromBuffer(Buffer$1$1.from(e,"hex"),!1)}static isCoinbaseHash(e){typeforce$1(types$1.Hash256bit,e);for(let n=0;n<32;++n)if(e[n]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&Ft.isCoinbaseHash(this.ins[0].hash)}addInput(e,n,a,u){return typeforce$1(types$1.tuple(types$1.Hash256bit,types$1.UInt32,types$1.maybe(types$1.UInt32),types$1.maybe(types$1.Buffer)),arguments),types$1.Null(a)&&(a=Ft.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:n,script:u||EMPTY_BUFFER,sequence:a,witness:EMPTY_WITNESS})-1}addOutput(e,n){return typeforce$1(types$1.tuple(types$1.Buffer,types$1.Satoshi),arguments),this.outs.push({script:e,value:n})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){const e=this.byteLength(!1),n=this.byteLength(!0);return e*3+n}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const n=e&&this.hasWitnesses();return(n?10:8)+bufferutils_1$2.varuint.encodingLength(this.ins.length)+bufferutils_1$2.varuint.encodingLength(this.outs.length)+this.ins.reduce((a,u)=>a+40+varSliceSize(u.script),0)+this.outs.reduce((a,u)=>a+8+varSliceSize(u.script),0)+(n?this.ins.reduce((a,u)=>a+vectorSize(u.witness),0):0)}clone(){const e=new Ft;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(n=>({hash:n.hash,index:n.index,script:n.script,sequence:n.sequence,witness:n.witness})),e.outs=this.outs.map(n=>({script:n.script,value:n.value})),e}hashForSignature(e,n,a){if(typeforce$1(types$1.tuple(types$1.UInt32,types$1.Buffer,types$1.Number),arguments),e>=this.ins.length)return ONE;const u=bscript$2.compile(bscript$2.decompile(n).filter(m=>m!==script_1.OPS.OP_CODESEPARATOR)),o=this.clone();if((a&31)===Ft.SIGHASH_NONE)o.outs=[],o.ins.forEach((m,y)=>{y!==e&&(m.sequence=0)});else if((a&31)===Ft.SIGHASH_SINGLE){if(e>=this.outs.length)return ONE;o.outs.length=e+1;for(let m=0;m<e;m++)o.outs[m]=BLANK_OUTPUT;o.ins.forEach((m,y)=>{y!==e&&(m.sequence=0)})}a&Ft.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[e]],o.ins[0].script=u):(o.ins.forEach(m=>{m.script=EMPTY_BUFFER}),o.ins[e].script=u);const p=Buffer$1$1.allocUnsafe(o.byteLength(!1)+4);return p.writeInt32LE(a,p.length-4),o.__toBuffer(p,0,!1),bcrypto$1.hash256(p)}hashForWitnessV1(e,n,a,u,o,p){if(typeforce$1(types$1.tuple(types$1.UInt32,typeforce$1.arrayOf(types$1.Buffer),typeforce$1.arrayOf(types$1.Satoshi),types$1.UInt32),arguments),a.length!==this.ins.length||n.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const m=u===Ft.SIGHASH_DEFAULT?Ft.SIGHASH_ALL:u&Ft.SIGHASH_OUTPUT_MASK,w=(u&Ft.SIGHASH_INPUT_MASK)===Ft.SIGHASH_ANYONECANPAY,_=m===Ft.SIGHASH_NONE,M=m===Ft.SIGHASH_SINGLE;let T=EMPTY_BUFFER,B=EMPTY_BUFFER,P=EMPTY_BUFFER,C=EMPTY_BUFFER,L=EMPTY_BUFFER;if(!w){let X=bufferutils_1$2.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(te=>{X.writeSlice(te.hash),X.writeUInt32(te.index)}),T=bcrypto$1.sha256(X.end()),X=bufferutils_1$2.BufferWriter.withCapacity(8*this.ins.length),a.forEach(te=>X.writeUInt64(te)),B=bcrypto$1.sha256(X.end()),X=bufferutils_1$2.BufferWriter.withCapacity(n.map(varSliceSize).reduce((te,ne)=>te+ne)),n.forEach(te=>X.writeVarSlice(te)),P=bcrypto$1.sha256(X.end()),X=bufferutils_1$2.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(te=>X.writeUInt32(te.sequence)),C=bcrypto$1.sha256(X.end())}if(_||M){if(M&&e<this.outs.length){const X=this.outs[e],te=bufferutils_1$2.BufferWriter.withCapacity(8+varSliceSize(X.script));te.writeUInt64(X.value),te.writeVarSlice(X.script),L=bcrypto$1.sha256(te.end())}}else{const X=this.outs.map(ne=>8+varSliceSize(ne.script)).reduce((ne,ge)=>ne+ge),te=bufferutils_1$2.BufferWriter.withCapacity(X);this.outs.forEach(ne=>{te.writeUInt64(ne.value),te.writeVarSlice(ne.script)}),L=bcrypto$1.sha256(te.end())}const U=(o?2:0)+(p?1:0),q=174-(w?49:0)-(_?32:0)+(p?32:0)+(o?37:0),G=bufferutils_1$2.BufferWriter.withCapacity(q);if(G.writeUInt8(u),G.writeInt32(this.version),G.writeUInt32(this.locktime),G.writeSlice(T),G.writeSlice(B),G.writeSlice(P),G.writeSlice(C),_||M||G.writeSlice(L),G.writeUInt8(U),w){const X=this.ins[e];G.writeSlice(X.hash),G.writeUInt32(X.index),G.writeUInt64(a[e]),G.writeVarSlice(n[e]),G.writeUInt32(X.sequence)}else G.writeUInt32(e);if(p){const X=bufferutils_1$2.BufferWriter.withCapacity(varSliceSize(p));X.writeVarSlice(p),G.writeSlice(bcrypto$1.sha256(X.end()))}return M&&G.writeSlice(L),o&&(G.writeSlice(o),G.writeUInt8(0),G.writeUInt32(4294967295)),bcrypto$1.taggedHash("TapSighash",Buffer$1$1.concat([Buffer$1$1.from([0]),G.end()]))}hashForWitnessV0(e,n,a,u){typeforce$1(types$1.tuple(types$1.UInt32,types$1.Buffer,types$1.Satoshi,types$1.UInt32),arguments);let o=Buffer$1$1.from([]),p,m=ZERO,y=ZERO,w=ZERO;if(u&Ft.SIGHASH_ANYONECANPAY||(o=Buffer$1$1.allocUnsafe(36*this.ins.length),p=new bufferutils_1$2.BufferWriter(o,0),this.ins.forEach(M=>{p.writeSlice(M.hash),p.writeUInt32(M.index)}),y=bcrypto$1.hash256(o)),!(u&Ft.SIGHASH_ANYONECANPAY)&&(u&31)!==Ft.SIGHASH_SINGLE&&(u&31)!==Ft.SIGHASH_NONE&&(o=Buffer$1$1.allocUnsafe(4*this.ins.length),p=new bufferutils_1$2.BufferWriter(o,0),this.ins.forEach(M=>{p.writeUInt32(M.sequence)}),w=bcrypto$1.hash256(o)),(u&31)!==Ft.SIGHASH_SINGLE&&(u&31)!==Ft.SIGHASH_NONE){const M=this.outs.reduce((T,B)=>T+8+varSliceSize(B.script),0);o=Buffer$1$1.allocUnsafe(M),p=new bufferutils_1$2.BufferWriter(o,0),this.outs.forEach(T=>{p.writeUInt64(T.value),p.writeVarSlice(T.script)}),m=bcrypto$1.hash256(o)}else if((u&31)===Ft.SIGHASH_SINGLE&&e<this.outs.length){const M=this.outs[e];o=Buffer$1$1.allocUnsafe(8+varSliceSize(M.script)),p=new bufferutils_1$2.BufferWriter(o,0),p.writeUInt64(M.value),p.writeVarSlice(M.script),m=bcrypto$1.hash256(o)}o=Buffer$1$1.allocUnsafe(156+varSliceSize(n)),p=new bufferutils_1$2.BufferWriter(o,0);const _=this.ins[e];return p.writeInt32(this.version),p.writeSlice(y),p.writeSlice(w),p.writeSlice(_.hash),p.writeUInt32(_.index),p.writeVarSlice(n),p.writeUInt64(a),p.writeUInt32(_.sequence),p.writeSlice(m),p.writeUInt32(this.locktime),p.writeUInt32(u),bcrypto$1.hash256(o)}getHash(e){return e&&this.isCoinbase()?Buffer$1$1.alloc(32,0):bcrypto$1.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,bufferutils_1$2.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,n){return this.__toBuffer(e,n,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,n){typeforce$1(types$1.tuple(types$1.Number,types$1.Buffer),arguments),this.ins[e].script=n}setWitness(e,n){typeforce$1(types$1.tuple(types$1.Number,[types$1.Buffer]),arguments),this.ins[e].witness=n}__toBuffer(e,n,a=!1){e||(e=Buffer$1$1.allocUnsafe(this.byteLength(a)));const u=new bufferutils_1$2.BufferWriter(e,n||0);u.writeInt32(this.version);const o=a&&this.hasWitnesses();return o&&(u.writeUInt8(Ft.ADVANCED_TRANSACTION_MARKER),u.writeUInt8(Ft.ADVANCED_TRANSACTION_FLAG)),u.writeVarInt(this.ins.length),this.ins.forEach(p=>{u.writeSlice(p.hash),u.writeUInt32(p.index),u.writeVarSlice(p.script),u.writeUInt32(p.sequence)}),u.writeVarInt(this.outs.length),this.outs.forEach(p=>{isOutput(p)?u.writeUInt64(p.value):u.writeSlice(p.valueBuffer),u.writeVarSlice(p.script)}),o&&this.ins.forEach(p=>{u.writeVector(p.witness)}),u.writeUInt32(this.locktime),n!==void 0?e.slice(n,u.offset):e}};transaction.Transaction=Transaction$1;Transaction$1.DEFAULT_SEQUENCE=4294967295;Transaction$1.SIGHASH_DEFAULT=0;Transaction$1.SIGHASH_ALL=1;Transaction$1.SIGHASH_NONE=2;Transaction$1.SIGHASH_SINGLE=3;Transaction$1.SIGHASH_ANYONECANPAY=128;Transaction$1.SIGHASH_OUTPUT_MASK=3;Transaction$1.SIGHASH_INPUT_MASK=128;Transaction$1.ADVANCED_TRANSACTION_MARKER=0;Transaction$1.ADVANCED_TRANSACTION_FLAG=1;Object.defineProperty(block,"__esModule",{value:!0});block.Block=void 0;const bufferutils_1$1=bufferutils,bcrypto=crypto$1,merkle_1=merkle,transaction_1$3=transaction,types=types$4,{typeforce}=types,errorMerkleNoTxes=new TypeError("Cannot compute merkle root for zero transactions"),errorWitnessNotSegwit=new TypeError("Cannot compute witness commit for non-segwit block");class Block{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");const n=new bufferutils_1$1.BufferReader(e),a=new Block;if(a.version=n.readInt32(),a.prevHash=n.readSlice(32),a.merkleRoot=n.readSlice(32),a.timestamp=n.readUInt32(),a.bits=n.readUInt32(),a.nonce=n.readUInt32(),e.length===80)return a;const u=()=>{const m=transaction_1$3.Transaction.fromBuffer(n.buffer.slice(n.offset),!0);return n.offset+=m.byteLength(),m},o=n.readVarInt();a.transactions=[];for(let m=0;m<o;++m){const y=u();a.transactions.push(y)}const p=a.getWitnessCommit();return p&&(a.witnessCommit=p),a}static fromHex(e){return Block.fromBuffer(Buffer$1$1.from(e,"hex"))}static calculateTarget(e){const n=((e&4278190080)>>24)-3,a=e&8388607,u=Buffer$1$1.alloc(32,0);return u.writeUIntBE(a,29-n,3),u}static calculateMerkleRoot(e,n){if(typeforce([{getHash:types.Function}],e),e.length===0)throw errorMerkleNoTxes;if(n&&!txesHaveWitnessCommit(e))throw errorWitnessNotSegwit;const a=e.map(o=>o.getHash(n)),u=(0,merkle_1.fastMerkleRoot)(a,bcrypto.hash256);return n?bcrypto.hash256(Buffer$1$1.concat([u,e[0].ins[0].witness[0]])):u}getWitnessCommit(){if(!txesHaveWitnessCommit(this.transactions))return null;const e=this.transactions[0].outs.filter(a=>a.script.slice(0,6).equals(Buffer$1$1.from("6a24aa21a9ed","hex"))).map(a=>a.script.slice(6,38));if(e.length===0)return null;const n=e[e.length-1];return n instanceof Buffer$1$1&&n.length===32?n:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer$1$1&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return anyTxHasWitness(this.transactions)}weight(){const e=this.byteLength(!1,!1),n=this.byteLength(!1,!0);return e*3+n}byteLength(e,n=!0){return e||!this.transactions?80:80+bufferutils_1$1.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((a,u)=>a+u.byteLength(n),0)}getHash(){return bcrypto.hash256(this.toBuffer(!0))}getId(){return(0,bufferutils_1$1.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const n=Buffer$1$1.allocUnsafe(this.byteLength(e)),a=new bufferutils_1$1.BufferWriter(n);return a.writeInt32(this.version),a.writeSlice(this.prevHash),a.writeSlice(this.merkleRoot),a.writeUInt32(this.timestamp),a.writeUInt32(this.bits),a.writeUInt32(this.nonce),e||!this.transactions||(bufferutils_1$1.varuint.encode(this.transactions.length,n,a.offset),a.offset+=bufferutils_1$1.varuint.encode.bytes,this.transactions.forEach(u=>{const o=u.byteLength();u.toBuffer(n,a.offset),a.offset+=o})),n}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){const e=(0,bufferutils_1$1.reverseBuffer)(this.getHash()),n=Block.calculateTarget(this.bits);return e.compare(n)<=0}__checkMerkleRoot(){if(!this.transactions)throw errorMerkleNoTxes;const e=Block.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw errorMerkleNoTxes;if(!this.hasWitnessCommit())throw errorWitnessNotSegwit;const e=Block.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}}block.Block=Block;function txesHaveWitnessCommit(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}function anyTxHasWitness(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(n=>typeof n=="object"&&n.witness instanceof Array&&n.witness.length>0))}var psbt$1={},psbt={},combiner={},parser={},fromBuffer={},converter={},typeFields={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(t.GlobalTypes||(t.GlobalTypes={})),t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"}(t.InputTypes||(t.InputTypes={})),t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"}(t.OutputTypes||(t.OutputTypes={})),t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]})(typeFields);var globalXpub$1={};Object.defineProperty(globalXpub$1,"__esModule",{value:!0});const typeFields_1$g=typeFields,range$2=t=>[...Array(t).keys()];function decode$d(t){if(t.key[0]!==typeFields_1$g.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const e=t.key.slice(1),n={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(const a of range$2(t.value.length/4-1)){const u=t.value.readUInt32LE(a*4+4),o=!!(u&2147483648),p=u&2147483647;n.path+="/"+p.toString(10)+(o?"'":"")}return n}globalXpub$1.decode=decode$d;function encode$e(t){const e=Buffer$1$1.from([typeFields_1$g.GlobalTypes.GLOBAL_XPUB]),n=Buffer$1$1.concat([e,t.extendedPubkey]),a=t.path.split("/"),u=Buffer$1$1.allocUnsafe(a.length*4);t.masterFingerprint.copy(u,0);let o=4;return a.slice(1).forEach(p=>{const m=p.slice(-1)==="'";let y=2147483647&parseInt(m?p.slice(0,-1):p,10);m&&(y+=2147483648),u.writeUInt32LE(y,o),o+=4}),{key:n,value:u}}globalXpub$1.encode=encode$e;globalXpub$1.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function check$c(t){const e=t.extendedPubkey,n=t.masterFingerprint,a=t.path;return Buffer$1$1.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer$1$1.isBuffer(n)&&n.length===4&&typeof a=="string"&&!!a.match(/^m(\/\d+'?)*$/)}globalXpub$1.check=check$c;function canAddToArray$3(t,e,n){const a=e.extendedPubkey.toString("hex");return n.has(a)?!1:(n.add(a),t.filter(u=>u.extendedPubkey.equals(e.extendedPubkey)).length===0)}globalXpub$1.canAddToArray=canAddToArray$3;var unsignedTx$1={};Object.defineProperty(unsignedTx$1,"__esModule",{value:!0});const typeFields_1$f=typeFields;function encode$d(t){return{key:Buffer$1$1.from([typeFields_1$f.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}unsignedTx$1.encode=encode$d;var finalScriptSig$1={};Object.defineProperty(finalScriptSig$1,"__esModule",{value:!0});const typeFields_1$e=typeFields;function decode$c(t){if(t.key[0]!==typeFields_1$e.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}finalScriptSig$1.decode=decode$c;function encode$c(t){return{key:Buffer$1$1.from([typeFields_1$e.InputTypes.FINAL_SCRIPTSIG]),value:t}}finalScriptSig$1.encode=encode$c;finalScriptSig$1.expected="Buffer";function check$b(t){return Buffer$1$1.isBuffer(t)}finalScriptSig$1.check=check$b;function canAdd$8(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}finalScriptSig$1.canAdd=canAdd$8;var finalScriptWitness$1={};Object.defineProperty(finalScriptWitness$1,"__esModule",{value:!0});const typeFields_1$d=typeFields;function decode$b(t){if(t.key[0]!==typeFields_1$d.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}finalScriptWitness$1.decode=decode$b;function encode$b(t){return{key:Buffer$1$1.from([typeFields_1$d.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}finalScriptWitness$1.encode=encode$b;finalScriptWitness$1.expected="Buffer";function check$a(t){return Buffer$1$1.isBuffer(t)}finalScriptWitness$1.check=check$a;function canAdd$7(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}finalScriptWitness$1.canAdd=canAdd$7;var nonWitnessUtxo$1={};Object.defineProperty(nonWitnessUtxo$1,"__esModule",{value:!0});const typeFields_1$c=typeFields;function decode$a(t){if(t.key[0]!==typeFields_1$c.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}nonWitnessUtxo$1.decode=decode$a;function encode$a(t){return{key:Buffer$1$1.from([typeFields_1$c.InputTypes.NON_WITNESS_UTXO]),value:t}}nonWitnessUtxo$1.encode=encode$a;nonWitnessUtxo$1.expected="Buffer";function check$9(t){return Buffer$1$1.isBuffer(t)}nonWitnessUtxo$1.check=check$9;function canAdd$6(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}nonWitnessUtxo$1.canAdd=canAdd$6;var partialSig$1={};Object.defineProperty(partialSig$1,"__esModule",{value:!0});const typeFields_1$b=typeFields;function decode$9(t){if(t.key[0]!==typeFields_1$b.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}partialSig$1.decode=decode$9;function encode$9(t){const e=Buffer$1$1.from([typeFields_1$b.InputTypes.PARTIAL_SIG]);return{key:Buffer$1$1.concat([e,t.pubkey]),value:t.signature}}partialSig$1.encode=encode$9;partialSig$1.expected="{ pubkey: Buffer; signature: Buffer; }";function check$8(t){return Buffer$1$1.isBuffer(t.pubkey)&&Buffer$1$1.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&isDerSigWithSighash(t.signature)}partialSig$1.check=check$8;function isDerSigWithSighash(t){if(!Buffer$1$1.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;const e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;const n=t[3+e+2];return!(n>33||n<1||t.length!==3+e+2+n+2)}function canAddToArray$2(t,e,n){const a=e.pubkey.toString("hex");return n.has(a)?!1:(n.add(a),t.filter(u=>u.pubkey.equals(e.pubkey)).length===0)}partialSig$1.canAddToArray=canAddToArray$2;var porCommitment$1={};Object.defineProperty(porCommitment$1,"__esModule",{value:!0});const typeFields_1$a=typeFields;function decode$8(t){if(t.key[0]!==typeFields_1$a.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}porCommitment$1.decode=decode$8;function encode$8(t){return{key:Buffer$1$1.from([typeFields_1$a.InputTypes.POR_COMMITMENT]),value:Buffer$1$1.from(t,"utf8")}}porCommitment$1.encode=encode$8;porCommitment$1.expected="string";function check$7(t){return typeof t=="string"}porCommitment$1.check=check$7;function canAdd$5(t,e){return!!t&&!!e&&t.porCommitment===void 0}porCommitment$1.canAdd=canAdd$5;var sighashType$1={};Object.defineProperty(sighashType$1,"__esModule",{value:!0});const typeFields_1$9=typeFields;function decode$7(t){if(t.key[0]!==typeFields_1$9.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}sighashType$1.decode=decode$7;function encode$7(t){const e=Buffer$1$1.from([typeFields_1$9.InputTypes.SIGHASH_TYPE]),n=Buffer$1$1.allocUnsafe(4);return n.writeUInt32LE(t,0),{key:e,value:n}}sighashType$1.encode=encode$7;sighashType$1.expected="number";function check$6(t){return typeof t=="number"}sighashType$1.check=check$6;function canAdd$4(t,e){return!!t&&!!e&&t.sighashType===void 0}sighashType$1.canAdd=canAdd$4;var tapKeySig$1={};Object.defineProperty(tapKeySig$1,"__esModule",{value:!0});const typeFields_1$8=typeFields;function decode$6(t){if(t.key[0]!==typeFields_1$8.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!check$5(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}tapKeySig$1.decode=decode$6;function encode$6(t){return{key:Buffer$1$1.from([typeFields_1$8.InputTypes.TAP_KEY_SIG]),value:t}}tapKeySig$1.encode=encode$6;tapKeySig$1.expected="Buffer";function check$5(t){return Buffer$1$1.isBuffer(t)&&(t.length===64||t.length===65)}tapKeySig$1.check=check$5;function canAdd$3(t,e){return!!t&&!!e&&t.tapKeySig===void 0}tapKeySig$1.canAdd=canAdd$3;var tapLeafScript$1={};Object.defineProperty(tapLeafScript$1,"__esModule",{value:!0});const typeFields_1$7=typeFields;function decode$5(t){if(t.key[0]!==typeFields_1$7.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));const e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));const n=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:n,leafVersion:e}}tapLeafScript$1.decode=decode$5;function encode$5(t){const e=Buffer$1$1.from([typeFields_1$7.InputTypes.TAP_LEAF_SCRIPT]),n=Buffer$1$1.from([t.leafVersion]);return{key:Buffer$1$1.concat([e,t.controlBlock]),value:Buffer$1$1.concat([t.script,n])}}tapLeafScript$1.encode=encode$5;tapLeafScript$1.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function check$4(t){return Buffer$1$1.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer$1$1.isBuffer(t.script)}tapLeafScript$1.check=check$4;function canAddToArray$1(t,e,n){const a=e.controlBlock.toString("hex");return n.has(a)?!1:(n.add(a),t.filter(u=>u.controlBlock.equals(e.controlBlock)).length===0)}tapLeafScript$1.canAddToArray=canAddToArray$1;var tapMerkleRoot$1={};Object.defineProperty(tapMerkleRoot$1,"__esModule",{value:!0});const typeFields_1$6=typeFields;function decode$4(t){if(t.key[0]!==typeFields_1$6.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!check$3(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}tapMerkleRoot$1.decode=decode$4;function encode$4(t){return{key:Buffer$1$1.from([typeFields_1$6.InputTypes.TAP_MERKLE_ROOT]),value:t}}tapMerkleRoot$1.encode=encode$4;tapMerkleRoot$1.expected="Buffer";function check$3(t){return Buffer$1$1.isBuffer(t)&&t.length===32}tapMerkleRoot$1.check=check$3;function canAdd$2(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}tapMerkleRoot$1.canAdd=canAdd$2;var tapScriptSig$1={};Object.defineProperty(tapScriptSig$1,"__esModule",{value:!0});const typeFields_1$5=typeFields;function decode$3(t){if(t.key[0]!==typeFields_1$5.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));const e=t.key.slice(1,33),n=t.key.slice(33);return{pubkey:e,leafHash:n,signature:t.value}}tapScriptSig$1.decode=decode$3;function encode$3(t){const e=Buffer$1$1.from([typeFields_1$5.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer$1$1.concat([e,t.pubkey,t.leafHash]),value:t.signature}}tapScriptSig$1.encode=encode$3;tapScriptSig$1.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function check$2(t){return Buffer$1$1.isBuffer(t.pubkey)&&Buffer$1$1.isBuffer(t.leafHash)&&Buffer$1$1.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}tapScriptSig$1.check=check$2;function canAddToArray(t,e,n){const a=e.pubkey.toString("hex")+e.leafHash.toString("hex");return n.has(a)?!1:(n.add(a),t.filter(u=>u.pubkey.equals(e.pubkey)&&u.leafHash.equals(e.leafHash)).length===0)}tapScriptSig$1.canAddToArray=canAddToArray;var witnessUtxo$1={},tools={},varint={};Object.defineProperty(varint,"__esModule",{value:!0});const MAX_SAFE_INTEGER=9007199254740991;function checkUInt53(t){if(t<0||t>MAX_SAFE_INTEGER||t%1!==0)throw new RangeError("value out of range")}function encode$2(t,e,n){if(checkUInt53(t),e||(e=Buffer$1$1.allocUnsafe(encodingLength(t))),!Buffer$1$1.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(e.writeUInt8(t,n),Object.assign(encode$2,{bytes:1})):t<=65535?(e.writeUInt8(253,n),e.writeUInt16LE(t,n+1),Object.assign(encode$2,{bytes:3})):t<=4294967295?(e.writeUInt8(254,n),e.writeUInt32LE(t,n+1),Object.assign(encode$2,{bytes:5})):(e.writeUInt8(255,n),e.writeUInt32LE(t>>>0,n+1),e.writeUInt32LE(t/4294967296|0,n+5),Object.assign(encode$2,{bytes:9})),e}varint.encode=encode$2;function decode$2(t,e){if(!Buffer$1$1.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);const n=t.readUInt8(e);if(n<253)return Object.assign(decode$2,{bytes:1}),n;if(n===253)return Object.assign(decode$2,{bytes:3}),t.readUInt16LE(e+1);if(n===254)return Object.assign(decode$2,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(decode$2,{bytes:9});const a=t.readUInt32LE(e+1),o=t.readUInt32LE(e+5)*4294967296+a;return checkUInt53(o),o}}varint.decode=decode$2;function encodingLength(t){return checkUInt53(t),t<253?1:t<=65535?3:t<=4294967295?5:9}varint.encodingLength=encodingLength;Object.defineProperty(tools,"__esModule",{value:!0});const varuint$6=varint;tools.range=t=>[...Array(t).keys()];function reverseBuffer(t){if(t.length<1)return t;let e=t.length-1,n=0;for(let a=0;a<t.length/2;a++)n=t[a],t[a]=t[e],t[e]=n,e--;return t}tools.reverseBuffer=reverseBuffer;function keyValsToBuffer(t){const e=t.map(keyValToBuffer);return e.push(Buffer$1$1.from([0])),Buffer$1$1.concat(e)}tools.keyValsToBuffer=keyValsToBuffer;function keyValToBuffer(t){const e=t.key.length,n=t.value.length,a=varuint$6.encodingLength(e),u=varuint$6.encodingLength(n),o=Buffer$1$1.allocUnsafe(a+e+u+n);return varuint$6.encode(e,o,0),t.key.copy(o,a),varuint$6.encode(n,o,a+e),t.value.copy(o,a+e+u),o}tools.keyValToBuffer=keyValToBuffer;function verifuint(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function readUInt64LE(t,e){const n=t.readUInt32LE(e);let a=t.readUInt32LE(e+4);return a*=4294967296,verifuint(a+n,9007199254740991),a+n}tools.readUInt64LE=readUInt64LE;function writeUInt64LE(t,e,n){return verifuint(e,9007199254740991),t.writeInt32LE(e&-1,n),t.writeUInt32LE(Math.floor(e/4294967296),n+4),n+8}tools.writeUInt64LE=writeUInt64LE;Object.defineProperty(witnessUtxo$1,"__esModule",{value:!0});const typeFields_1$4=typeFields,tools_1$2=tools,varuint$5=varint;function decode$1(t){if(t.key[0]!==typeFields_1$4.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));const e=tools_1$2.readUInt64LE(t.value,0);let n=8;const a=varuint$5.decode(t.value,n);n+=varuint$5.encodingLength(a);const u=t.value.slice(n);if(u.length!==a)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:u,value:e}}witnessUtxo$1.decode=decode$1;function encode$1(t){const{script:e,value:n}=t,a=varuint$5.encodingLength(e.length),u=Buffer$1$1.allocUnsafe(8+a+e.length);return tools_1$2.writeUInt64LE(u,n,0),varuint$5.encode(e.length,u,8),e.copy(u,8+a),{key:Buffer$1$1.from([typeFields_1$4.InputTypes.WITNESS_UTXO]),value:u}}witnessUtxo$1.encode=encode$1;witnessUtxo$1.expected="{ script: Buffer; value: number; }";function check$1(t){return Buffer$1$1.isBuffer(t.script)&&typeof t.value=="number"}witnessUtxo$1.check=check$1;function canAdd$1(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}witnessUtxo$1.canAdd=canAdd$1;var tapTree$1={};Object.defineProperty(tapTree$1,"__esModule",{value:!0});const typeFields_1$3=typeFields,varuint$4=varint;function decode(t){if(t.key[0]!==typeFields_1$3.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0;const n=[];for(;e<t.value.length;){const a=t.value[e++],u=t.value[e++],o=varuint$4.decode(t.value,e);e+=varuint$4.encodingLength(o),n.push({depth:a,leafVersion:u,script:t.value.slice(e,e+o)}),e+=o}return{leaves:n}}tapTree$1.decode=decode;function encode(t){const e=Buffer$1$1.from([typeFields_1$3.OutputTypes.TAP_TREE]),n=[].concat(...t.leaves.map(a=>[Buffer$1$1.of(a.depth,a.leafVersion),varuint$4.encode(a.script.length),a.script]));return{key:e,value:Buffer$1$1.concat(n)}}tapTree$1.encode=encode;tapTree$1.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function check(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer$1$1.isBuffer(e.script))}tapTree$1.check=check;function canAdd(t,e){return!!t&&!!e&&t.tapTree===void 0}tapTree$1.canAdd=canAdd;var bip32Derivation$2={};Object.defineProperty(bip32Derivation$2,"__esModule",{value:!0});const range$1=t=>[...Array(t).keys()],isValidDERKey=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function makeConverter$4(t,e=isValidDERKey){function n(m){if(m.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+m.key.toString("hex"));const y=m.key.slice(1);if(!e(y))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+m.key.toString("hex"));if(m.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const w={masterFingerprint:m.value.slice(0,4),pubkey:y,path:"m"};for(const _ of range$1(m.value.length/4-1)){const M=m.value.readUInt32LE(_*4+4),T=!!(M&2147483648),B=M&2147483647;w.path+="/"+B.toString(10)+(T?"'":"")}return w}function a(m){const y=Buffer$1$1.from([t]),w=Buffer$1$1.concat([y,m.pubkey]),_=m.path.split("/"),M=Buffer$1$1.allocUnsafe(_.length*4);m.masterFingerprint.copy(M,0);let T=4;return _.slice(1).forEach(B=>{const P=B.slice(-1)==="'";let C=2147483647&parseInt(P?B.slice(0,-1):B,10);P&&(C+=2147483648),M.writeUInt32LE(C,T),T+=4}),{key:w,value:M}}const u="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function o(m){return Buffer$1$1.isBuffer(m.pubkey)&&Buffer$1$1.isBuffer(m.masterFingerprint)&&typeof m.path=="string"&&e(m.pubkey)&&m.masterFingerprint.length===4}function p(m,y,w){const _=y.pubkey.toString("hex");return w.has(_)?!1:(w.add(_),m.filter(M=>M.pubkey.equals(y.pubkey)).length===0)}return{decode:n,encode:a,check:o,expected:u,canAddToArray:p}}bip32Derivation$2.makeConverter=makeConverter$4;var checkPubkey$1={};Object.defineProperty(checkPubkey$1,"__esModule",{value:!0});function makeChecker(t){return e;function e(n){let a;if(t.includes(n.key[0])&&(a=n.key.slice(1),!(a.length===33||a.length===65)||![2,3,4].includes(a[0])))throw new Error("Format Error: invalid pubkey in key 0x"+n.key.toString("hex"));return a}}checkPubkey$1.makeChecker=makeChecker;var redeemScript$1={};Object.defineProperty(redeemScript$1,"__esModule",{value:!0});function makeConverter$3(t){function e(p){if(p.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+p.key.toString("hex"));return p.value}function n(p){return{key:Buffer$1$1.from([t]),value:p}}const a="Buffer";function u(p){return Buffer$1$1.isBuffer(p)}function o(p,m){return!!p&&!!m&&p.redeemScript===void 0}return{decode:e,encode:n,check:u,expected:a,canAdd:o}}redeemScript$1.makeConverter=makeConverter$3;var tapBip32Derivation$1={};Object.defineProperty(tapBip32Derivation$1,"__esModule",{value:!0});const varuint$3=varint,bip32Derivation$1=bip32Derivation$2,isValidBIP340Key=t=>t.length===32;function makeConverter$2(t){const e=bip32Derivation$1.makeConverter(t,isValidBIP340Key);function n(p){const m=varuint$3.decode(p.value),y=varuint$3.encodingLength(m),w=e.decode({key:p.key,value:p.value.slice(y+m*32)}),_=new Array(m);for(let M=0,T=y;M<m;M++,T+=32)_[M]=p.value.slice(T,T+32);return Object.assign({},w,{leafHashes:_})}function a(p){const m=e.encode(p),y=varuint$3.encodingLength(p.leafHashes.length),w=Buffer$1$1.allocUnsafe(y);varuint$3.encode(p.leafHashes.length,w);const _=Buffer$1$1.concat([w,...p.leafHashes,m.value]);return Object.assign({},m,{value:_})}const u="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function o(p){return Array.isArray(p.leafHashes)&&p.leafHashes.every(m=>Buffer$1$1.isBuffer(m)&&m.length===32)&&e.check(p)}return{decode:n,encode:a,check:o,expected:u,canAddToArray:e.canAddToArray}}tapBip32Derivation$1.makeConverter=makeConverter$2;var tapInternalKey$1={};Object.defineProperty(tapInternalKey$1,"__esModule",{value:!0});function makeConverter$1(t){function e(p){if(p.key[0]!==t||p.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+p.key.toString("hex"));if(p.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return p.value}function n(p){return{key:Buffer$1$1.from([t]),value:p}}const a="Buffer";function u(p){return Buffer$1$1.isBuffer(p)&&p.length===32}function o(p,m){return!!p&&!!m&&p.tapInternalKey===void 0}return{decode:e,encode:n,check:u,expected:a,canAdd:o}}tapInternalKey$1.makeConverter=makeConverter$1;var witnessScript$1={};Object.defineProperty(witnessScript$1,"__esModule",{value:!0});function makeConverter(t){function e(p){if(p.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+p.key.toString("hex"));return p.value}function n(p){return{key:Buffer$1$1.from([t]),value:p}}const a="Buffer";function u(p){return Buffer$1$1.isBuffer(p)}function o(p,m){return!!p&&!!m&&p.witnessScript===void 0}return{decode:e,encode:n,check:u,expected:a,canAdd:o}}witnessScript$1.makeConverter=makeConverter;Object.defineProperty(converter,"__esModule",{value:!0});const typeFields_1$2=typeFields,globalXpub=globalXpub$1,unsignedTx=unsignedTx$1,finalScriptSig=finalScriptSig$1,finalScriptWitness=finalScriptWitness$1,nonWitnessUtxo=nonWitnessUtxo$1,partialSig=partialSig$1,porCommitment=porCommitment$1,sighashType=sighashType$1,tapKeySig=tapKeySig$1,tapLeafScript=tapLeafScript$1,tapMerkleRoot=tapMerkleRoot$1,tapScriptSig=tapScriptSig$1,witnessUtxo=witnessUtxo$1,tapTree=tapTree$1,bip32Derivation=bip32Derivation$2,checkPubkey=checkPubkey$1,redeemScript=redeemScript$1,tapBip32Derivation=tapBip32Derivation$1,tapInternalKey=tapInternalKey$1,witnessScript=witnessScript$1,globals={unsignedTx,globalXpub,checkPubkey:checkPubkey.makeChecker([])};converter.globals=globals;const inputs={nonWitnessUtxo,partialSig,sighashType,finalScriptSig,finalScriptWitness,porCommitment,witnessUtxo,bip32Derivation:bip32Derivation.makeConverter(typeFields_1$2.InputTypes.BIP32_DERIVATION),redeemScript:redeemScript.makeConverter(typeFields_1$2.InputTypes.REDEEM_SCRIPT),witnessScript:witnessScript.makeConverter(typeFields_1$2.InputTypes.WITNESS_SCRIPT),checkPubkey:checkPubkey.makeChecker([typeFields_1$2.InputTypes.PARTIAL_SIG,typeFields_1$2.InputTypes.BIP32_DERIVATION]),tapKeySig,tapScriptSig,tapLeafScript,tapBip32Derivation:tapBip32Derivation.makeConverter(typeFields_1$2.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:tapInternalKey.makeConverter(typeFields_1$2.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot};converter.inputs=inputs;const outputs={bip32Derivation:bip32Derivation.makeConverter(typeFields_1$2.OutputTypes.BIP32_DERIVATION),redeemScript:redeemScript.makeConverter(typeFields_1$2.OutputTypes.REDEEM_SCRIPT),witnessScript:witnessScript.makeConverter(typeFields_1$2.OutputTypes.WITNESS_SCRIPT),checkPubkey:checkPubkey.makeChecker([typeFields_1$2.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:tapBip32Derivation.makeConverter(typeFields_1$2.OutputTypes.TAP_BIP32_DERIVATION),tapTree,tapInternalKey:tapInternalKey.makeConverter(typeFields_1$2.OutputTypes.TAP_INTERNAL_KEY)};converter.outputs=outputs;Object.defineProperty(fromBuffer,"__esModule",{value:!0});const convert$1=converter,tools_1$1=tools,varuint$2=varint,typeFields_1$1=typeFields;function psbtFromBuffer(t,e){let n=0;function a(){const L=varuint$2.decode(t,n);n+=varuint$2.encodingLength(L);const U=t.slice(n,n+L);return n+=L,U}function u(){const L=t.readUInt32BE(n);return n+=4,L}function o(){const L=t.readUInt8(n);return n+=1,L}function p(){const L=a(),U=a();return{key:L,value:U}}function m(){if(n>=t.length)throw new Error("Format Error: Unexpected End of PSBT");const L=t.readUInt8(n)===0;return L&&n++,L}if(u()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(o()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");const y=[],w={};for(;!m();){const L=p(),U=L.key.toString("hex");if(w[U])throw new Error("Format Error: Keys must be unique for global keymap: key "+U);w[U]=1,y.push(L)}const _=y.filter(L=>L.key[0]===typeFields_1$1.GlobalTypes.UNSIGNED_TX);if(_.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const M=e(_[0].value),{inputCount:T,outputCount:B}=M.getInputOutputCounts(),P=[],C=[];for(const L of tools_1$1.range(T)){const U={},q=[];for(;!m();){const G=p(),X=G.key.toString("hex");if(U[X])throw new Error("Format Error: Keys must be unique for each input: input index "+L+" key "+X);U[X]=1,q.push(G)}P.push(q)}for(const L of tools_1$1.range(B)){const U={},q=[];for(;!m();){const G=p(),X=G.key.toString("hex");if(U[X])throw new Error("Format Error: Keys must be unique for each output: output index "+L+" key "+X);U[X]=1,q.push(G)}C.push(q)}return psbtFromKeyVals(M,{globalMapKeyVals:y,inputKeyVals:P,outputKeyVals:C})}fromBuffer.psbtFromBuffer=psbtFromBuffer;function checkKeyBuffer(t,e,n){if(!e.equals(Buffer$1$1.from([n])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}fromBuffer.checkKeyBuffer=checkKeyBuffer;function psbtFromKeyVals(t,{globalMapKeyVals:e,inputKeyVals:n,outputKeyVals:a}){const u={unsignedTx:t};let o=0;for(const _ of e)switch(_.key[0]){case typeFields_1$1.GlobalTypes.UNSIGNED_TX:if(checkKeyBuffer("global",_.key,typeFields_1$1.GlobalTypes.UNSIGNED_TX),o>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");o++;break;case typeFields_1$1.GlobalTypes.GLOBAL_XPUB:u.globalXpub===void 0&&(u.globalXpub=[]),u.globalXpub.push(convert$1.globals.globalXpub.decode(_));break;default:u.unknownKeyVals||(u.unknownKeyVals=[]),u.unknownKeyVals.push(_)}const p=n.length,m=a.length,y=[],w=[];for(const _ of tools_1$1.range(p)){const M={};for(const T of n[_])switch(convert$1.inputs.checkPubkey(T),T.key[0]){case typeFields_1$1.InputTypes.NON_WITNESS_UTXO:if(checkKeyBuffer("input",T.key,typeFields_1$1.InputTypes.NON_WITNESS_UTXO),M.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");M.nonWitnessUtxo=convert$1.inputs.nonWitnessUtxo.decode(T);break;case typeFields_1$1.InputTypes.WITNESS_UTXO:if(checkKeyBuffer("input",T.key,typeFields_1$1.InputTypes.WITNESS_UTXO),M.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");M.witnessUtxo=convert$1.inputs.witnessUtxo.decode(T);break;case typeFields_1$1.InputTypes.PARTIAL_SIG:M.partialSig===void 0&&(M.partialSig=[]),M.partialSig.push(convert$1.inputs.partialSig.decode(T));break;case typeFields_1$1.InputTypes.SIGHASH_TYPE:if(checkKeyBuffer("input",T.key,typeFields_1$1.InputTypes.SIGHASH_TYPE),M.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");M.sighashType=convert$1.inputs.sighashType.decode(T);break;case typeFields_1$1.InputTypes.REDEEM_SCRIPT:if(checkKeyBuffer("input",T.key,typeFields_1$1.InputTypes.REDEEM_SCRIPT),M.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");M.redeemScript=convert$1.inputs.redeemScript.decode(T);break;case typeFields_1$1.InputTypes.WITNESS_SCRIPT:if(checkKeyBuffer("input",T.key,typeFields_1$1.InputTypes.WITNESS_SCRIPT),M.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");M.witnessScript=convert$1.inputs.witnessScript.decode(T);break;case typeFields_1$1.InputTypes.BIP32_DERIVATION:M.bip32Derivation===void 0&&(M.bip32Derivation=[]),M.bip32Derivation.push(convert$1.inputs.bip32Derivation.decode(T));break;case typeFields_1$1.InputTypes.FINAL_SCRIPTSIG:checkKeyBuffer("input",T.key,typeFields_1$1.InputTypes.FINAL_SCRIPTSIG),M.finalScriptSig=convert$1.inputs.finalScriptSig.decode(T);break;case typeFields_1$1.InputTypes.FINAL_SCRIPTWITNESS:checkKeyBuffer("input",T.key,typeFields_1$1.InputTypes.FINAL_SCRIPTWITNESS),M.finalScriptWitness=convert$1.inputs.finalScriptWitness.decode(T);break;case typeFields_1$1.InputTypes.POR_COMMITMENT:checkKeyBuffer("input",T.key,typeFields_1$1.InputTypes.POR_COMMITMENT),M.porCommitment=convert$1.inputs.porCommitment.decode(T);break;case typeFields_1$1.InputTypes.TAP_KEY_SIG:checkKeyBuffer("input",T.key,typeFields_1$1.InputTypes.TAP_KEY_SIG),M.tapKeySig=convert$1.inputs.tapKeySig.decode(T);break;case typeFields_1$1.InputTypes.TAP_SCRIPT_SIG:M.tapScriptSig===void 0&&(M.tapScriptSig=[]),M.tapScriptSig.push(convert$1.inputs.tapScriptSig.decode(T));break;case typeFields_1$1.InputTypes.TAP_LEAF_SCRIPT:M.tapLeafScript===void 0&&(M.tapLeafScript=[]),M.tapLeafScript.push(convert$1.inputs.tapLeafScript.decode(T));break;case typeFields_1$1.InputTypes.TAP_BIP32_DERIVATION:M.tapBip32Derivation===void 0&&(M.tapBip32Derivation=[]),M.tapBip32Derivation.push(convert$1.inputs.tapBip32Derivation.decode(T));break;case typeFields_1$1.InputTypes.TAP_INTERNAL_KEY:checkKeyBuffer("input",T.key,typeFields_1$1.InputTypes.TAP_INTERNAL_KEY),M.tapInternalKey=convert$1.inputs.tapInternalKey.decode(T);break;case typeFields_1$1.InputTypes.TAP_MERKLE_ROOT:checkKeyBuffer("input",T.key,typeFields_1$1.InputTypes.TAP_MERKLE_ROOT),M.tapMerkleRoot=convert$1.inputs.tapMerkleRoot.decode(T);break;default:M.unknownKeyVals||(M.unknownKeyVals=[]),M.unknownKeyVals.push(T)}y.push(M)}for(const _ of tools_1$1.range(m)){const M={};for(const T of a[_])switch(convert$1.outputs.checkPubkey(T),T.key[0]){case typeFields_1$1.OutputTypes.REDEEM_SCRIPT:if(checkKeyBuffer("output",T.key,typeFields_1$1.OutputTypes.REDEEM_SCRIPT),M.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");M.redeemScript=convert$1.outputs.redeemScript.decode(T);break;case typeFields_1$1.OutputTypes.WITNESS_SCRIPT:if(checkKeyBuffer("output",T.key,typeFields_1$1.OutputTypes.WITNESS_SCRIPT),M.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");M.witnessScript=convert$1.outputs.witnessScript.decode(T);break;case typeFields_1$1.OutputTypes.BIP32_DERIVATION:M.bip32Derivation===void 0&&(M.bip32Derivation=[]),M.bip32Derivation.push(convert$1.outputs.bip32Derivation.decode(T));break;case typeFields_1$1.OutputTypes.TAP_INTERNAL_KEY:checkKeyBuffer("output",T.key,typeFields_1$1.OutputTypes.TAP_INTERNAL_KEY),M.tapInternalKey=convert$1.outputs.tapInternalKey.decode(T);break;case typeFields_1$1.OutputTypes.TAP_TREE:checkKeyBuffer("output",T.key,typeFields_1$1.OutputTypes.TAP_TREE),M.tapTree=convert$1.outputs.tapTree.decode(T);break;case typeFields_1$1.OutputTypes.TAP_BIP32_DERIVATION:M.tapBip32Derivation===void 0&&(M.tapBip32Derivation=[]),M.tapBip32Derivation.push(convert$1.outputs.tapBip32Derivation.decode(T));break;default:M.unknownKeyVals||(M.unknownKeyVals=[]),M.unknownKeyVals.push(T)}w.push(M)}return{globalMap:u,inputs:y,outputs:w}}fromBuffer.psbtFromKeyVals=psbtFromKeyVals;var toBuffer$2={};Object.defineProperty(toBuffer$2,"__esModule",{value:!0});const convert=converter,tools_1=tools;function psbtToBuffer({globalMap:t,inputs:e,outputs:n}){const{globalKeyVals:a,inputKeyVals:u,outputKeyVals:o}=psbtToKeyVals({globalMap:t,inputs:e,outputs:n}),p=tools_1.keyValsToBuffer(a),m=M=>M.length===0?[Buffer$1$1.from([0])]:M.map(tools_1.keyValsToBuffer),y=m(u),w=m(o),_=Buffer$1$1.allocUnsafe(5);return _.writeUIntBE(482972169471,0,5),Buffer$1$1.concat([_,p].concat(y,w))}toBuffer$2.psbtToBuffer=psbtToBuffer;const sortKeyVals=(t,e)=>t.key.compare(e.key);function keyValsFromMap(t,e){const n=new Set,a=Object.entries(t).reduce((o,[p,m])=>{if(p==="unknownKeyVals")return o;const y=e[p];if(y===void 0)return o;const w=(Array.isArray(m)?m:[m]).map(y.encode);return w.map(M=>M.key.toString("hex")).forEach(M=>{if(n.has(M))throw new Error("Serialize Error: Duplicate key: "+M);n.add(M)}),o.concat(w)},[]),u=t.unknownKeyVals?t.unknownKeyVals.filter(o=>!n.has(o.key.toString("hex"))):[];return a.concat(u).sort(sortKeyVals)}function psbtToKeyVals({globalMap:t,inputs:e,outputs:n}){return{globalKeyVals:keyValsFromMap(t,convert.globals),inputKeyVals:e.map(a=>keyValsFromMap(a,convert.inputs)),outputKeyVals:n.map(a=>keyValsFromMap(a,convert.outputs))}}toBuffer$2.psbtToKeyVals=psbtToKeyVals;(function(t){function e(n){for(var a in n)t.hasOwnProperty(a)||(t[a]=n[a])}Object.defineProperty(t,"__esModule",{value:!0}),e(fromBuffer),e(toBuffer$2)})(parser);Object.defineProperty(combiner,"__esModule",{value:!0});const parser_1$1=parser;function combine(t){const e=t[0],n=parser_1$1.psbtToKeyVals(e),a=t.slice(1);if(a.length===0)throw new Error("Combine: Nothing to combine");const u=getTx(e);if(u===void 0)throw new Error("Combine: Self missing transaction");const o=getKeySet(n.globalKeyVals),p=n.inputKeyVals.map(getKeySet),m=n.outputKeyVals.map(getKeySet);for(const y of a){const w=getTx(y);if(w===void 0||!w.toBuffer().equals(u.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const _=parser_1$1.psbtToKeyVals(y);getKeySet(_.globalKeyVals).forEach(keyPusher(o,n.globalKeyVals,_.globalKeyVals)),_.inputKeyVals.map(getKeySet).forEach((P,C)=>P.forEach(keyPusher(p[C],n.inputKeyVals[C],_.inputKeyVals[C]))),_.outputKeyVals.map(getKeySet).forEach((P,C)=>P.forEach(keyPusher(m[C],n.outputKeyVals[C],_.outputKeyVals[C])))}return parser_1$1.psbtFromKeyVals(u,{globalMapKeyVals:n.globalKeyVals,inputKeyVals:n.inputKeyVals,outputKeyVals:n.outputKeyVals})}combiner.combine=combine;function keyPusher(t,e,n){return a=>{if(t.has(a))return;const u=n.filter(o=>o.key.toString("hex")===a)[0];e.push(u),t.add(a)}}function getTx(t){return t.globalMap.unsignedTx}function getKeySet(t){const e=new Set;return t.forEach(n=>{const a=n.key.toString("hex");if(e.has(a))throw new Error("Combine: KeyValue Map keys should be unique");e.add(a)}),e}var utils$6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=converter;function n(B,P){const C=B[P];if(C===void 0)throw new Error(`No input #${P}`);return C}t.checkForInput=n;function a(B,P){const C=B[P];if(C===void 0)throw new Error(`No output #${P}`);return C}t.checkForOutput=a;function u(B,P,C){if(B.key[0]<C)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(P&&P.filter(L=>L.key.equals(B.key)).length!==0)throw new Error(`Duplicate Key: ${B.key.toString("hex")}`)}t.checkHasKey=u;function o(B){let P=0;return Object.keys(B).forEach(C=>{Number(isNaN(Number(C)))&&P++}),P}t.getEnumLength=o;function p(B,P){let C=!1;if(P.nonWitnessUtxo||P.witnessUtxo){const L=!!P.redeemScript,U=!!P.witnessScript,q=!L||!!P.finalScriptSig,G=!U||!!P.finalScriptWitness,X=!!P.finalScriptSig||!!P.finalScriptWitness;C=q&&G&&X}if(C===!1)throw new Error(`Input #${B} has too much or too little data to clean`)}t.inputCheckUncleanFinalized=p;function m(B,P,C,L){throw new Error(`Data for ${B} key ${P} is incorrect: Expected ${C} and got ${JSON.stringify(L)}`)}function y(B){return(P,C)=>{for(const L of Object.keys(P)){const U=P[L],{canAdd:q,canAddToArray:G,check:X,expected:te}=e[B+"s"][L]||{},ne=!!G;if(X)if(ne){if(!Array.isArray(U)||C[L]&&!Array.isArray(C[L]))throw new Error(`Key type ${L} must be an array`);U.every(X)||m(B,L,te,U);const ge=C[L]||[],pe=new Set;if(!U.every(se=>G(ge,se,pe)))throw new Error("Can not add duplicate data to array");C[L]=ge.concat(U)}else{if(X(U)||m(B,L,te,U),!q(C,U))throw new Error(`Can not add duplicate data to ${B}`);C[L]=U}}}}t.updateGlobal=y("global"),t.updateInput=y("input"),t.updateOutput=y("output");function w(B,P){const C=B.length-1,L=n(B,C);t.updateInput(P,L)}t.addInputAttributes=w;function _(B,P){const C=B.length-1,L=a(B,C);t.updateOutput(P,L)}t.addOutputAttributes=_;function M(B,P){if(!Buffer$1$1.isBuffer(P)||P.length<4)throw new Error("Set Version: Invalid Transaction");return P.writeUInt32LE(B,0),P}t.defaultVersionSetter=M;function T(B,P){if(!Buffer$1$1.isBuffer(P)||P.length<4)throw new Error("Set Locktime: Invalid Transaction");return P.writeUInt32LE(B,P.length-4),P}t.defaultLocktimeSetter=T})(utils$6);Object.defineProperty(psbt,"__esModule",{value:!0});const combiner_1=combiner,parser_1=parser,typeFields_1=typeFields,utils_1$2=utils$6;let Psbt$1=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,n){const a=Buffer$1$1.from(e,"base64");return this.fromBuffer(a,n)}static fromHex(e,n){const a=Buffer$1$1.from(e,"hex");return this.fromBuffer(a,n)}static fromBuffer(e,n){const a=parser_1.psbtFromBuffer(e,n),u=new this(a.globalMap.unsignedTx);return Object.assign(u,a),u}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return parser_1.psbtToBuffer(this)}updateGlobal(e){return utils_1$2.updateGlobal(e,this.globalMap),this}updateInput(e,n){const a=utils_1$2.checkForInput(this.inputs,e);return utils_1$2.updateInput(n,a),this}updateOutput(e,n){const a=utils_1$2.checkForOutput(this.outputs,e);return utils_1$2.updateOutput(n,a),this}addUnknownKeyValToGlobal(e){return utils_1$2.checkHasKey(e,this.globalMap.unknownKeyVals,utils_1$2.getEnumLength(typeFields_1.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,n){const a=utils_1$2.checkForInput(this.inputs,e);return utils_1$2.checkHasKey(n,a.unknownKeyVals,utils_1$2.getEnumLength(typeFields_1.InputTypes)),a.unknownKeyVals||(a.unknownKeyVals=[]),a.unknownKeyVals.push(n),this}addUnknownKeyValToOutput(e,n){const a=utils_1$2.checkForOutput(this.outputs,e);return utils_1$2.checkHasKey(n,a.unknownKeyVals,utils_1$2.getEnumLength(typeFields_1.OutputTypes)),a.unknownKeyVals||(a.unknownKeyVals=[]),a.unknownKeyVals.push(n),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});const n=e.unknownKeyVals||[],a=this.inputs.length-1;if(!Array.isArray(n))throw new Error("unknownKeyVals must be an Array");return n.forEach(u=>this.addUnknownKeyValToInput(a,u)),utils_1$2.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});const n=e.unknownKeyVals||[],a=this.outputs.length-1;if(!Array.isArray(n))throw new Error("unknownKeyVals must be an Array");return n.forEach(u=>this.addUnknownKeyValToOutput(a,u)),utils_1$2.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){const n=utils_1$2.checkForInput(this.inputs,e);utils_1$2.inputCheckUncleanFinalized(e,n);for(const a of Object.keys(n))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(a)||delete n[a];return this}combine(...e){const n=combiner_1.combine([this].concat(e));return Object.assign(this,n),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};psbt.Psbt=Psbt$1;var bip371={},psbtutils={};Object.defineProperty(psbtutils,"__esModule",{value:!0});psbtutils.signatureBlocksAction=psbtutils.checkInputForSig=psbtutils.pubkeyInScript=psbtutils.pubkeyPositionInScript=psbtutils.witnessStackToScriptWitness=psbtutils.isP2TR=psbtutils.isP2SHScript=psbtutils.isP2WSHScript=psbtutils.isP2WPKH=psbtutils.isP2PKH=psbtutils.isP2PK=psbtutils.isP2MS=void 0;const varuint$1=varint,bscript$1=script,transaction_1$2=transaction,crypto_1=crypto$1,payments$1=payments$3;function isPaymentFactory(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}psbtutils.isP2MS=isPaymentFactory(payments$1.p2ms);psbtutils.isP2PK=isPaymentFactory(payments$1.p2pk);psbtutils.isP2PKH=isPaymentFactory(payments$1.p2pkh);psbtutils.isP2WPKH=isPaymentFactory(payments$1.p2wpkh);psbtutils.isP2WSHScript=isPaymentFactory(payments$1.p2wsh);psbtutils.isP2SHScript=isPaymentFactory(payments$1.p2sh);psbtutils.isP2TR=isPaymentFactory(payments$1.p2tr);function witnessStackToScriptWitness(t){let e=Buffer$1$1.allocUnsafe(0);function n(p){e=Buffer$1$1.concat([e,Buffer$1$1.from(p)])}function a(p){const m=e.length,y=varuint$1.encodingLength(p);e=Buffer$1$1.concat([e,Buffer$1$1.allocUnsafe(y)]),varuint$1.encode(p,e,m)}function u(p){a(p.length),n(p)}function o(p){a(p.length),p.forEach(u)}return o(t),e}psbtutils.witnessStackToScriptWitness=witnessStackToScriptWitness;function pubkeyPositionInScript(t,e){const n=(0,crypto_1.hash160)(t),a=t.slice(1,33),u=bscript$1.decompile(e);if(u===null)throw new Error("Unknown script error");return u.findIndex(o=>typeof o=="number"?!1:o.equals(t)||o.equals(n)||o.equals(a))}psbtutils.pubkeyPositionInScript=pubkeyPositionInScript;function pubkeyInScript(t,e){return pubkeyPositionInScript(t,e)!==-1}psbtutils.pubkeyInScript=pubkeyInScript;function checkInputForSig(t,e){return extractPartialSigs(t).some(a=>signatureBlocksAction(a,bscript$1.signature.decode,e))}psbtutils.checkInputForSig=checkInputForSig;function signatureBlocksAction(t,e,n){const{hashType:a}=e(t),u=[];switch(a&transaction_1$2.Transaction.SIGHASH_ANYONECANPAY&&u.push("addInput"),a&31){case transaction_1$2.Transaction.SIGHASH_ALL:break;case transaction_1$2.Transaction.SIGHASH_SINGLE:case transaction_1$2.Transaction.SIGHASH_NONE:u.push("addOutput"),u.push("setInputSequence");break}return u.indexOf(n)===-1}psbtutils.signatureBlocksAction=signatureBlocksAction;function extractPartialSigs(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=getPsigsFromInputFinalScripts(t)}else e=t.partialSig;return e.map(n=>n.signature)}function getPsigsFromInputFinalScripts(t){const e=t.finalScriptSig?bscript$1.decompile(t.finalScriptSig)||[]:[],n=t.finalScriptWitness?bscript$1.decompile(t.finalScriptWitness)||[]:[];return e.concat(n).filter(a=>Buffer$1$1.isBuffer(a)&&bscript$1.isCanonicalScriptSignature(a)).map(a=>({signature:a}))}Object.defineProperty(bip371,"__esModule",{value:!0});bip371.checkTaprootInputForSigs=bip371.tapTreeFromList=bip371.tapTreeToList=bip371.tweakInternalPubKey=bip371.checkTaprootOutputFields=bip371.checkTaprootInputFields=bip371.isTaprootOutput=bip371.isTaprootInput=bip371.serializeTaprootSignature=bip371.tapScriptFinalizer=bip371.toXOnly=void 0;const types_1=types$4,transaction_1$1=transaction,psbtutils_1$1=psbtutils,bip341_1$1=bip341,payments_1=payments$3,psbtutils_2=psbtutils,toXOnly=t=>t.length===32?t:t.slice(1,33);bip371.toXOnly=toXOnly;function tapScriptFinalizer(t,e,n){const a=findTapLeafToFinalize(e,t,n);try{const o=sortSignatures(e,a).concat(a.script).concat(a.controlBlock);return{finalScriptWitness:(0,psbtutils_1$1.witnessStackToScriptWitness)(o)}}catch(u){throw new Error(`Can not finalize taproot input #${t}: ${u}`)}}bip371.tapScriptFinalizer=tapScriptFinalizer;function serializeTaprootSignature(t,e){const n=e?Buffer$1$1.from([e]):Buffer$1$1.from([]);return Buffer$1$1.concat([t,n])}bip371.serializeTaprootSignature=serializeTaprootSignature;function isTaprootInput(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,psbtutils_1$1.isP2TR)(t.witnessUtxo.script))}bip371.isTaprootInput=isTaprootInput;function isTaprootOutput(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,psbtutils_1$1.isP2TR)(e))}bip371.isTaprootOutput=isTaprootOutput;function checkTaprootInputFields(t,e,n){checkMixedTaprootAndNonTaprootInputFields(t,e,n),checkIfTapLeafInTree(t,e,n)}bip371.checkTaprootInputFields=checkTaprootInputFields;function checkTaprootOutputFields(t,e,n){checkMixedTaprootAndNonTaprootOutputFields(t,e,n),checkTaprootScriptPubkey(t,e)}bip371.checkTaprootOutputFields=checkTaprootOutputFields;function checkTaprootScriptPubkey(t,e){if(!e.tapTree&&!e.tapInternalKey)return;const n=e.tapInternalKey||t.tapInternalKey,a=e.tapTree||t.tapTree;if(n){const{script:u}=t,o=getTaprootScripPubkey(n,a);if(u&&!u.equals(o))throw new Error("Error adding output. Script or address missmatch.")}}function getTaprootScripPubkey(t,e){const n=e&&tapTreeFromList(e.leaves),{output:a}=(0,payments_1.p2tr)({internalPubkey:t,scriptTree:n});return a}function tweakInternalPubKey(t,e){const n=e.tapInternalKey,a=n&&(0,bip341_1$1.tweakKey)(n,e.tapMerkleRoot);if(!a)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${n&&n.toString("hex")}`);return a.x}bip371.tweakInternalPubKey=tweakInternalPubKey;function tapTreeToList(t){if(!(0,types_1.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return _tapTreeToList(t)}bip371.tapTreeToList=tapTreeToList;function tapTreeFromList(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:instertLeavesInTree(t)}bip371.tapTreeFromList=tapTreeFromList;function checkTaprootInputForSigs(t,e){return extractTaprootSigs(t).some(a=>(0,psbtutils_2.signatureBlocksAction)(a,decodeSchnorrSignature,e))}bip371.checkTaprootInputForSigs=checkTaprootInputForSigs;function decodeSchnorrSignature(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||transaction_1$1.Transaction.SIGHASH_DEFAULT}}function extractTaprootSigs(t){const e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(n=>n.signature)),!e.length){const n=getTapKeySigFromWithness(t.finalScriptWitness);n&&e.push(n)}return e}function getTapKeySigFromWithness(t){if(!t)return;const e=t.slice(2);if(e.length===64||e.length===65)return e}function _tapTreeToList(t,e=[],n=0){if(n>bip341_1$1.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,types_1.isTapleaf)(t)?(e.push({depth:n,leafVersion:t.version||bip341_1$1.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&_tapTreeToList(t[0],e,n+1),t[1]&&_tapTreeToList(t[1],e,n+1),e):[]}function instertLeavesInTree(t){let e;for(const n of t)if(e=instertLeafInTree(n,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function instertLeafInTree(t,e,n=0){if(n>bip341_1$1.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===n)return e?void 0:{output:t.script,version:t.leafVersion};if((0,types_1.isTapleaf)(e))return;const a=instertLeafInTree(t,e&&e[0],n+1);if(a)return[a,e&&e[1]];const u=instertLeafInTree(t,e&&e[1],n+1);if(u)return[e&&e[0],u]}function checkMixedTaprootAndNonTaprootInputFields(t,e,n){const a=isTaprootInput(t)&&hasNonTaprootFields(e),u=hasNonTaprootFields(t)&&isTaprootInput(e),o=t===e&&isTaprootInput(e)&&hasNonTaprootFields(e);if(a||u||o)throw new Error(`Invalid arguments for Psbt.${n}. Cannot use both taproot and non-taproot fields.`)}function checkMixedTaprootAndNonTaprootOutputFields(t,e,n){const a=isTaprootOutput(t)&&hasNonTaprootFields(e),u=hasNonTaprootFields(t)&&isTaprootOutput(e),o=t===e&&isTaprootOutput(e)&&hasNonTaprootFields(e);if(a||u||o)throw new Error(`Invalid arguments for Psbt.${n}. Cannot use both taproot and non-taproot fields.`)}function checkIfTapLeafInTree(t,e,n){if(e.tapMerkleRoot){const a=(e.tapLeafScript||[]).every(o=>isTapLeafInTree(o,e.tapMerkleRoot)),u=(t.tapLeafScript||[]).every(o=>isTapLeafInTree(o,e.tapMerkleRoot));if(!a||!u)throw new Error(`Invalid arguments for Psbt.${n}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(u=>isTapLeafInTree(u,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${n}. Tapleaf not part of taptree.`)}function isTapLeafInTree(t,e){if(!e)return!0;const n=(0,bip341_1$1.tapleafHash)({output:t.script,version:t.leafVersion});return(0,bip341_1$1.rootHashFromPath)(t.controlBlock,n).equals(e)}function sortSignatures(t,e){const n=(0,bip341_1$1.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(a=>a.leafHash.equals(n)).map(a=>addPubkeyPositionInScript(e.script,a)).sort((a,u)=>u.positionInScript-a.positionInScript).map(a=>a.signature)}function addPubkeyPositionInScript(t,e){return Object.assign({positionInScript:(0,psbtutils_1$1.pubkeyPositionInScript)(e.pubkey,t)},e)}function findTapLeafToFinalize(t,e,n){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);const a=(t.tapLeafScript||[]).sort((u,o)=>u.controlBlock.length-o.controlBlock.length).find(u=>canFinalizeLeaf(u,t.tapScriptSig,n));if(!a)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return a}function canFinalizeLeaf(t,e,n){const a=(0,bip341_1$1.tapleafHash)({output:t.script,version:t.leafVersion});return(!n||n.equals(a))&&e.find(o=>o.leafHash.equals(a))!==void 0}function hasNonTaprootFields(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}Object.defineProperty(psbt$1,"__esModule",{value:!0});psbt$1.Psbt=void 0;const bip174_1=psbt,varuint=varint,utils_1$1=utils$6,address_1=address,bufferutils_1=bufferutils,networks_1=networks$1,payments=payments$3,bip341_1=bip341,bscript=script,transaction_1=transaction,bip371_1=bip371,psbtutils_1=psbtutils,DEFAULT_OPTS={network:networks_1.bitcoin,maximumFeeRate:5e3};class Psbt{static fromBase64(e,n={}){const a=Buffer$1$1.from(e,"base64");return this.fromBuffer(a,n)}static fromHex(e,n={}){const a=Buffer$1$1.from(e,"hex");return this.fromBuffer(a,n)}static fromBuffer(e,n={}){const a=bip174_1.Psbt.fromBuffer(e,transactionFromBuffer),u=new Psbt(n,a);return checkTxForDupeIns(u.__CACHE.__TX,u.__CACHE),u}constructor(e={},n=new bip174_1.Psbt(new PsbtTransaction)){this.data=n,this.opts=Object.assign({},DEFAULT_OPTS,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);const a=(u,o,p,m)=>Object.defineProperty(u,o,{enumerable:p,writable:m});a(this,"__CACHE",!1,!0),a(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,bufferutils_1.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let n;try{n=(0,address_1.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,bufferutils_1.cloneBuffer)(e.script),value:e.value,address:n}})}combine(...e){return this.data.combine(...e.map(n=>n.data)),this}clone(){const e=Psbt.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){check32Bit(e),this.opts.maximumFeeRate=e}setVersion(e){check32Bit(e),checkInputsForPartialSig(this.data.inputs,"setVersion");const n=this.__CACHE;return n.__TX.version=e,n.__EXTRACTED_TX=void 0,this}setLocktime(e){check32Bit(e),checkInputsForPartialSig(this.data.inputs,"setLocktime");const n=this.__CACHE;return n.__TX.locktime=e,n.__EXTRACTED_TX=void 0,this}setInputSequence(e,n){check32Bit(n),checkInputsForPartialSig(this.data.inputs,"setInputSequence");const a=this.__CACHE;if(a.__TX.ins.length<=e)throw new Error("Input index too high");return a.__TX.ins[e].sequence=n,a.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(n=>this.addInput(n)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,bip371_1.checkTaprootInputFields)(e,e,"addInput"),checkInputsForPartialSig(this.data.inputs,"addInput"),e.witnessScript&&checkInvalidP2WSH(e.witnessScript);const n=this.__CACHE;this.data.addInput(e);const a=n.__TX.ins[n.__TX.ins.length-1];checkTxInputCache(n,a);const u=this.data.inputs.length-1,o=this.data.inputs[u];return o.nonWitnessUtxo&&addNonWitnessTxCache(this.__CACHE,o,u),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(n=>this.addOutput(n)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");checkInputsForPartialSig(this.data.inputs,"addOutput");const{address:n}=e;if(typeof n=="string"){const{network:u}=this.opts,o=(0,address_1.toOutputScript)(n,u);e=Object.assign(e,{script:o})}(0,bip371_1.checkTaprootOutputFields)(e,e,"addOutput");const a=this.__CACHE;return this.data.addOutput(e),a.__FEE=void 0,a.__FEE_RATE=void 0,a.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(isFinalized))throw new Error("Not finalized");const n=this.__CACHE;if(e||checkFees(this,n,this.opts),n.__EXTRACTED_TX)return n.__EXTRACTED_TX;const a=n.__TX.clone();return inputFinalizeGetAmts(this.data.inputs,a,n,!0),a}getFeeRate(){return getTxCacheValue("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return getTxCacheValue("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,utils_1$1.checkForInput)(this.data.inputs,0),range(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,n){const a=(0,utils_1$1.checkForInput)(this.data.inputs,e);return(0,bip371_1.isTaprootInput)(a)?this._finalizeTaprootInput(e,a,void 0,n):this._finalizeInput(e,a,n)}finalizeTaprootInput(e,n,a=bip371_1.tapScriptFinalizer){const u=(0,utils_1$1.checkForInput)(this.data.inputs,e);if((0,bip371_1.isTaprootInput)(u))return this._finalizeTaprootInput(e,u,n,a);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,n,a=getFinalScripts){const{script:u,isP2SH:o,isP2WSH:p,isSegwit:m}=getScriptFromInput(e,n,this.__CACHE);if(!u)throw new Error(`No script found for input #${e}`);checkPartialSigSighashes(n);const{finalScriptSig:y,finalScriptWitness:w}=a(e,n,u,m,o,p);if(y&&this.data.updateInput(e,{finalScriptSig:y}),w&&this.data.updateInput(e,{finalScriptWitness:w}),!y&&!w)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,n,a,u=bip371_1.tapScriptFinalizer){if(!n.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(n.tapKeySig){const o=payments.p2tr({output:n.witnessUtxo.script,signature:n.tapKeySig}),p=(0,psbtutils_1.witnessStackToScriptWitness)(o.witness);this.data.updateInput(e,{finalScriptWitness:p})}else{const{finalScriptWitness:o}=u(e,n,a);this.data.updateInput(e,{finalScriptWitness:o})}return this.data.clearFinalizedInput(e),this}getInputType(e){const n=(0,utils_1$1.checkForInput)(this.data.inputs,e),a=getScriptFromUtxo(e,n,this.__CACHE),u=getMeaningfulScript(a,e,"input",n.redeemScript||redeemFromFinalScriptSig(n.finalScriptSig),n.witnessScript||redeemFromFinalWitnessScript(n.finalScriptWitness)),o=u.type==="raw"?"":u.type+"-",p=classifyScript(u.meaningfulScript);return o+p}inputHasPubkey(e,n){const a=(0,utils_1$1.checkForInput)(this.data.inputs,e);return pubkeyInInput(n,a,e,this.__CACHE)}inputHasHDKey(e,n){const a=(0,utils_1$1.checkForInput)(this.data.inputs,e),u=bip32DerivationIsMine(n);return!!a.bip32Derivation&&a.bip32Derivation.some(u)}outputHasPubkey(e,n){const a=(0,utils_1$1.checkForOutput)(this.data.outputs,e);return pubkeyInOutput(n,a,e,this.__CACHE)}outputHasHDKey(e,n){const a=(0,utils_1$1.checkForOutput)(this.data.outputs,e),u=bip32DerivationIsMine(n);return!!a.bip32Derivation&&a.bip32Derivation.some(u)}validateSignaturesOfAllInputs(e){return(0,utils_1$1.checkForInput)(this.data.inputs,0),range(this.data.inputs.length).map(a=>this.validateSignaturesOfInput(a,e)).reduce((a,u)=>u===!0&&a,!0)}validateSignaturesOfInput(e,n,a){const u=this.data.inputs[e];return(0,bip371_1.isTaprootInput)(u)?this.validateSignaturesOfTaprootInput(e,n,a):this._validateSignaturesOfInput(e,n,a)}_validateSignaturesOfInput(e,n,a){const u=this.data.inputs[e],o=(u||{}).partialSig;if(!u||!o||o.length<1)throw new Error("No signatures to validate");if(typeof n!="function")throw new Error("Need validator function to validate signatures");const p=a?o.filter(M=>M.pubkey.equals(a)):o;if(p.length<1)throw new Error("No signatures for this pubkey");const m=[];let y,w,_;for(const M of p){const T=bscript.signature.decode(M.signature),{hash:B,script:P}=_!==T.hashType?getHashForSig(e,Object.assign({},u,{sighashType:T.hashType}),this.__CACHE,!0):{hash:y,script:w};_=T.hashType,y=B,w=P,checkScriptForPubkey(M.pubkey,P,"verify"),m.push(n(M.pubkey,B,T.signature))}return m.every(M=>M===!0)}validateSignaturesOfTaprootInput(e,n,a){const u=this.data.inputs[e],o=(u||{}).tapKeySig,p=(u||{}).tapScriptSig;if(!u&&!o&&!(p&&!p.length))throw new Error("No signatures to validate");if(typeof n!="function")throw new Error("Need validator function to validate signatures");a=a&&(0,bip371_1.toXOnly)(a);const m=a?getTaprootHashesForSig(e,u,this.data.inputs,a,this.__CACHE):getAllTaprootHashesForSig(e,u,this.data.inputs,this.__CACHE);if(!m.length)throw new Error("No signatures for this pubkey");const y=m.find(_=>!_.leafHash);let w=0;if(o&&y){if(!n(y.pubkey,y.hash,trimTaprootSig(o)))return!1;w++}if(p)for(const _ of p){const M=m.find(T=>_.pubkey.equals(T.pubkey));if(M){if(!n(_.pubkey,M.hash,trimTaprootSig(_.signature)))return!1;w++}}return w>0}signAllInputsHD(e,n=[transaction_1.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const a=[];for(const u of range(this.data.inputs.length))try{this.signInputHD(u,e,n),a.push(!0)}catch{a.push(!1)}if(a.every(u=>u===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,n=[transaction_1.Transaction.SIGHASH_ALL]){return new Promise((a,u)=>{if(!e||!e.publicKey||!e.fingerprint)return u(new Error("Need HDSigner to sign input"));const o=[],p=[];for(const m of range(this.data.inputs.length))p.push(this.signInputHDAsync(m,e,n).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(p).then(()=>{if(o.every(m=>m===!1))return u(new Error("No inputs were signed"));a()})})}signInputHD(e,n,a=[transaction_1.Transaction.SIGHASH_ALL]){if(!n||!n.publicKey||!n.fingerprint)throw new Error("Need HDSigner to sign input");return getSignersFromHD(e,this.data.inputs,n).forEach(o=>this.signInput(e,o,a)),this}signInputHDAsync(e,n,a=[transaction_1.Transaction.SIGHASH_ALL]){return new Promise((u,o)=>{if(!n||!n.publicKey||!n.fingerprint)return o(new Error("Need HDSigner to sign input"));const m=getSignersFromHD(e,this.data.inputs,n).map(y=>this.signInputAsync(e,y,a));return Promise.all(m).then(()=>{u()}).catch(o)})}signAllInputs(e,n){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const a=[];for(const u of range(this.data.inputs.length))try{this.signInput(u,e,n),a.push(!0)}catch{a.push(!1)}if(a.every(u=>u===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,n){return new Promise((a,u)=>{if(!e||!e.publicKey)return u(new Error("Need Signer to sign input"));const o=[],p=[];for(const[m]of this.data.inputs.entries())p.push(this.signInputAsync(m,e,n).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(p).then(()=>{if(o.every(m=>m===!1))return u(new Error("No inputs were signed"));a()})})}signInput(e,n,a){if(!n||!n.publicKey)throw new Error("Need Signer to sign input");const u=(0,utils_1$1.checkForInput)(this.data.inputs,e);return(0,bip371_1.isTaprootInput)(u)?this._signTaprootInput(e,u,n,void 0,a):this._signInput(e,n,a)}signTaprootInput(e,n,a,u){if(!n||!n.publicKey)throw new Error("Need Signer to sign input");const o=(0,utils_1$1.checkForInput)(this.data.inputs,e);if((0,bip371_1.isTaprootInput)(o))return this._signTaprootInput(e,o,n,a,u);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,n,a=[transaction_1.Transaction.SIGHASH_ALL]){const{hash:u,sighashType:o}=getHashAndSighashType(this.data.inputs,e,n.publicKey,this.__CACHE,a),p=[{pubkey:n.publicKey,signature:bscript.signature.encode(n.sign(u),o)}];return this.data.updateInput(e,{partialSig:p}),this}_signTaprootInput(e,n,a,u,o=[transaction_1.Transaction.SIGHASH_DEFAULT]){const p=this.checkTaprootHashesForSig(e,n,a,u,o),m=p.filter(w=>!w.leafHash).map(w=>(0,bip371_1.serializeTaprootSignature)(a.signSchnorr(w.hash),n.sighashType))[0],y=p.filter(w=>!!w.leafHash).map(w=>({pubkey:(0,bip371_1.toXOnly)(a.publicKey),signature:(0,bip371_1.serializeTaprootSignature)(a.signSchnorr(w.hash),n.sighashType),leafHash:w.leafHash}));return m&&this.data.updateInput(e,{tapKeySig:m}),y.length&&this.data.updateInput(e,{tapScriptSig:y}),this}signInputAsync(e,n,a){return Promise.resolve().then(()=>{if(!n||!n.publicKey)throw new Error("Need Signer to sign input");const u=(0,utils_1$1.checkForInput)(this.data.inputs,e);return(0,bip371_1.isTaprootInput)(u)?this._signTaprootInputAsync(e,u,n,void 0,a):this._signInputAsync(e,n,a)})}signTaprootInputAsync(e,n,a,u){return Promise.resolve().then(()=>{if(!n||!n.publicKey)throw new Error("Need Signer to sign input");const o=(0,utils_1$1.checkForInput)(this.data.inputs,e);if((0,bip371_1.isTaprootInput)(o))return this._signTaprootInputAsync(e,o,n,a,u);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,n,a=[transaction_1.Transaction.SIGHASH_ALL]){const{hash:u,sighashType:o}=getHashAndSighashType(this.data.inputs,e,n.publicKey,this.__CACHE,a);return Promise.resolve(n.sign(u)).then(p=>{const m=[{pubkey:n.publicKey,signature:bscript.signature.encode(p,o)}];this.data.updateInput(e,{partialSig:m})})}async _signTaprootInputAsync(e,n,a,u,o=[transaction_1.Transaction.SIGHASH_DEFAULT]){const p=this.checkTaprootHashesForSig(e,n,a,u,o),m=[],y=p.filter(_=>!_.leafHash)[0];if(y){const _=Promise.resolve(a.signSchnorr(y.hash)).then(M=>({tapKeySig:(0,bip371_1.serializeTaprootSignature)(M,n.sighashType)}));m.push(_)}const w=p.filter(_=>!!_.leafHash);if(w.length){const _=w.map(M=>Promise.resolve(a.signSchnorr(M.hash)).then(T=>({tapScriptSig:[{pubkey:(0,bip371_1.toXOnly)(a.publicKey),signature:(0,bip371_1.serializeTaprootSignature)(T,n.sighashType),leafHash:M.leafHash}]})));m.push(..._)}return Promise.all(m).then(_=>{_.forEach(M=>this.data.updateInput(e,M))})}checkTaprootHashesForSig(e,n,a,u,o){if(typeof a.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);const p=getTaprootHashesForSig(e,n,this.data.inputs,a.publicKey,this.__CACHE,u,o);if(!p||!p.length)throw new Error(`Can not sign for input #${e} with the key ${a.publicKey.toString("hex")}`);return p}toBuffer(){return checkCache(this.__CACHE),this.data.toBuffer()}toHex(){return checkCache(this.__CACHE),this.data.toHex()}toBase64(){return checkCache(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,n){return n.witnessScript&&checkInvalidP2WSH(n.witnessScript),(0,bip371_1.checkTaprootInputFields)(this.data.inputs[e],n,"updateInput"),this.data.updateInput(e,n),n.nonWitnessUtxo&&addNonWitnessTxCache(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,n){const a=this.data.outputs[e];return(0,bip371_1.checkTaprootOutputFields)(a,n,"updateOutput"),this.data.updateOutput(e,n),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,n){return this.data.addUnknownKeyValToInput(e,n),this}addUnknownKeyValToOutput(e,n){return this.data.addUnknownKeyValToOutput(e,n),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}psbt$1.Psbt=Psbt;const transactionFromBuffer=t=>new PsbtTransaction(t);class PsbtTransaction{constructor(e=Buffer$1$1.from([2,0,0,0,0,0,0,0,0,0])){this.tx=transaction_1.Transaction.fromBuffer(e),checkTxEmpty(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer$1$1.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");const n=typeof e.hash=="string"?(0,bufferutils_1.reverseBuffer)(Buffer$1$1.from(e.hash,"hex")):e.hash;this.tx.addInput(n,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer$1$1.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function canFinalize(t,e,n){switch(n){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return hasSigs(1,t.partialSig);case"multisig":const a=payments.p2ms({output:e});return hasSigs(a.m,t.partialSig,a.pubkeys);default:return!1}}function checkCache(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function hasSigs(t,e,n){if(!e)return!1;let a;if(n?a=n.map(u=>{const o=compressPubkey(u);return e.find(p=>p.pubkey.equals(o))}).filter(u=>!!u):a=e,a.length>t)throw new Error("Too many signatures");return a.length===t}function isFinalized(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function bip32DerivationIsMine(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function check32Bit(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function checkFees(t,e,n){const a=e.__FEE_RATE||t.getFeeRate(),u=e.__EXTRACTED_TX.virtualSize(),o=a*u;if(a>=n.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${a} satoshi per byte for a transaction with a VSize of ${u} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function checkInputsForPartialSig(t,e){t.forEach(n=>{if((0,bip371_1.isTaprootInput)(n)?(0,bip371_1.checkTaprootInputForSigs)(n,e):(0,psbtutils_1.checkInputForSig)(n,e))throw new Error("Can not modify transaction, signatures exist.")})}function checkPartialSigSighashes(t){if(!t.sighashType||!t.partialSig)return;const{partialSig:e,sighashType:n}=t;e.forEach(a=>{const{hashType:u}=bscript.signature.decode(a.signature);if(n!==u)throw new Error("Signature sighash does not match input sighash type")})}function checkScriptForPubkey(t,e,n){if(!(0,psbtutils_1.pubkeyInScript)(t,e))throw new Error(`Can not ${n} for this input with the key ${t.toString("hex")}`)}function checkTxEmpty(t){if(!t.ins.every(n=>n.script&&n.script.length===0&&n.witness&&n.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function checkTxForDupeIns(t,e){t.ins.forEach(n=>{checkTxInputCache(e,n)})}function checkTxInputCache(t,e){const n=(0,bufferutils_1.reverseBuffer)(Buffer$1$1.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[n])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[n]=1}function scriptCheckerFactory(t,e){return(n,a,u,o)=>{const p=t({redeem:{output:u}}).output;if(!a.equals(p))throw new Error(`${e} for ${o} #${n} doesn't match the scriptPubKey in the prevout`)}}const checkRedeemScript=scriptCheckerFactory(payments.p2sh,"Redeem script"),checkWitnessScript=scriptCheckerFactory(payments.p2wsh,"Witness script");function getTxCacheValue(t,e,n,a){if(!n.every(isFinalized))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&a.__FEE_RATE)return a.__FEE_RATE;if(t==="__FEE"&&a.__FEE)return a.__FEE;let u,o=!0;if(a.__EXTRACTED_TX?(u=a.__EXTRACTED_TX,o=!1):u=a.__TX.clone(),inputFinalizeGetAmts(n,u,a,o),t==="__FEE_RATE")return a.__FEE_RATE;if(t==="__FEE")return a.__FEE}function getFinalScripts(t,e,n,a,u,o){const p=classifyScript(n);if(!canFinalize(e,n,p))throw new Error(`Can not finalize input #${t}`);return prepareFinalScripts(n,p,e.partialSig,a,u,o)}function prepareFinalScripts(t,e,n,a,u,o){let p,m;const y=getPayment(t,e,n),w=o?payments.p2wsh({redeem:y}):null,_=u?payments.p2sh({redeem:w||y}):null;return a?(w?m=(0,psbtutils_1.witnessStackToScriptWitness)(w.witness):m=(0,psbtutils_1.witnessStackToScriptWitness)(y.witness),_&&(p=_.input)):_?p=_.input:p=y.input,{finalScriptSig:p,finalScriptWitness:m}}function getHashAndSighashType(t,e,n,a,u){const o=(0,utils_1$1.checkForInput)(t,e),{hash:p,sighashType:m,script:y}=getHashForSig(e,o,a,!1,u);return checkScriptForPubkey(n,y,"sign"),{hash:p,sighashType:m}}function getHashForSig(t,e,n,a,u){const o=n.__TX,p=e.sighashType||transaction_1.Transaction.SIGHASH_ALL;checkSighashTypeAllowed(p,u);let m,y;if(e.nonWitnessUtxo){const M=nonWitnessUtxoTxFromCache(n,e,t),T=o.ins[t].hash,B=M.getHash();if(!T.equals(B))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);const P=o.ins[t].index;y=M.outs[P]}else if(e.witnessUtxo)y=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");const{meaningfulScript:w,type:_}=getMeaningfulScript(y.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(_)>=0)m=o.hashForWitnessV0(t,w,y.value,p);else if((0,psbtutils_1.isP2WPKH)(w)){const M=payments.p2pkh({hash:w.slice(2)}).output;m=o.hashForWitnessV0(t,M,y.value,p)}else{if(e.nonWitnessUtxo===void 0&&n.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${w.toString("hex")}`);!a&&n.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),m=o.hashForSignature(t,w,p)}return{script:w,sighashType:p,hash:m}}function getAllTaprootHashesForSig(t,e,n,a){const u=[];if(e.tapInternalKey){const p=getPrevoutTaprootKey(t,e,a);p&&u.push(p)}if(e.tapScriptSig){const p=e.tapScriptSig.map(m=>m.pubkey);u.push(...p)}return u.map(p=>getTaprootHashesForSig(t,e,n,p,a)).flat()}function getPrevoutTaprootKey(t,e,n){const{script:a}=getScriptAndAmountFromUtxo(t,e,n);return(0,psbtutils_1.isP2TR)(a)?a.subarray(2,34):null}function trimTaprootSig(t){return t.length===64?t:t.subarray(0,64)}function getTaprootHashesForSig(t,e,n,a,u,o,p){const m=u.__TX,y=e.sighashType||transaction_1.Transaction.SIGHASH_DEFAULT;checkSighashTypeAllowed(y,p);const w=n.map((P,C)=>getScriptAndAmountFromUtxo(C,P,u)),_=w.map(P=>P.script),M=w.map(P=>P.value),T=[];if(e.tapInternalKey&&!o){const P=getPrevoutTaprootKey(t,e,u)||Buffer$1$1.from([]);if((0,bip371_1.toXOnly)(a).equals(P)){const C=m.hashForWitnessV1(t,_,M,y);T.push({pubkey:a,hash:C})}}const B=(e.tapLeafScript||[]).filter(P=>(0,psbtutils_1.pubkeyInScript)(a,P.script)).map(P=>{const C=(0,bip341_1.tapleafHash)({output:P.script,version:P.leafVersion});return Object.assign({hash:C},P)}).filter(P=>!o||o.equals(P.hash)).map(P=>{const C=m.hashForWitnessV1(t,_,M,transaction_1.Transaction.SIGHASH_DEFAULT,P.hash);return{pubkey:a,hash:C,leafHash:P.hash}});return T.concat(B)}function checkSighashTypeAllowed(t,e){if(e&&e.indexOf(t)<0){const n=sighashTypeToString(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${n}`)}}function getPayment(t,e,n){let a;switch(e){case"multisig":const u=getSortedSigs(t,n);a=payments.p2ms({output:t,signatures:u});break;case"pubkey":a=payments.p2pk({output:t,signature:n[0].signature});break;case"pubkeyhash":a=payments.p2pkh({output:t,pubkey:n[0].pubkey,signature:n[0].signature});break;case"witnesspubkeyhash":a=payments.p2wpkh({output:t,pubkey:n[0].pubkey,signature:n[0].signature});break}return a}function getScriptFromInput(t,e,n){const a=n.__TX,u={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(u.isP2SH=!!e.redeemScript,u.isP2WSH=!!e.witnessScript,e.witnessScript)u.script=e.witnessScript;else if(e.redeemScript)u.script=e.redeemScript;else if(e.nonWitnessUtxo){const o=nonWitnessUtxoTxFromCache(n,e,t),p=a.ins[t].index;u.script=o.outs[p].script}else e.witnessUtxo&&(u.script=e.witnessUtxo.script);return(e.witnessScript||(0,psbtutils_1.isP2WPKH)(u.script))&&(u.isSegwit=!0),u}function getSignersFromHD(t,e,n){const a=(0,utils_1$1.checkForInput)(e,t);if(!a.bip32Derivation||a.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");const u=a.bip32Derivation.map(p=>{if(p.masterFingerprint.equals(n.fingerprint))return p}).filter(p=>!!p);if(u.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return u.map(p=>{const m=n.derivePath(p.path);if(!p.pubkey.equals(m.publicKey))throw new Error("pubkey did not match bip32Derivation");return m})}function getSortedSigs(t,e){return payments.p2ms({output:t}).pubkeys.map(a=>(e.filter(u=>u.pubkey.equals(a))[0]||{}).signature).filter(a=>!!a)}function scriptWitnessToWitnessStack(t){let e=0;function n(p){return e+=p,t.slice(e-p,e)}function a(){const p=varuint.decode(t,e);return e+=varuint.decode.bytes,p}function u(){return n(a())}function o(){const p=a(),m=[];for(let y=0;y<p;y++)m.push(u());return m}return o()}function sighashTypeToString(t){let e=t&transaction_1.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case transaction_1.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case transaction_1.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case transaction_1.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function addNonWitnessTxCache(t,e,n){t.__NON_WITNESS_UTXO_BUF_CACHE[n]=e.nonWitnessUtxo;const a=transaction_1.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[n]=a;const u=t,o=n;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){const p=u.__NON_WITNESS_UTXO_BUF_CACHE[o],m=u.__NON_WITNESS_UTXO_TX_CACHE[o];if(p!==void 0)return p;{const y=m.toBuffer();return u.__NON_WITNESS_UTXO_BUF_CACHE[o]=y,y}},set(p){u.__NON_WITNESS_UTXO_BUF_CACHE[o]=p}})}function inputFinalizeGetAmts(t,e,n,a){let u=0;t.forEach((y,w)=>{if(a&&y.finalScriptSig&&(e.ins[w].script=y.finalScriptSig),a&&y.finalScriptWitness&&(e.ins[w].witness=scriptWitnessToWitnessStack(y.finalScriptWitness)),y.witnessUtxo)u+=y.witnessUtxo.value;else if(y.nonWitnessUtxo){const _=nonWitnessUtxoTxFromCache(n,y,w),M=e.ins[w].index,T=_.outs[M];u+=T.value}});const o=e.outs.reduce((y,w)=>y+w.value,0),p=u-o;if(p<0)throw new Error("Outputs are spending more than Inputs");const m=e.virtualSize();n.__FEE=p,n.__EXTRACTED_TX=e,n.__FEE_RATE=Math.floor(p/m)}function nonWitnessUtxoTxFromCache(t,e,n){const a=t.__NON_WITNESS_UTXO_TX_CACHE;return a[n]||addNonWitnessTxCache(t,e,n),a[n]}function getScriptFromUtxo(t,e,n){const{script:a}=getScriptAndAmountFromUtxo(t,e,n);return a}function getScriptAndAmountFromUtxo(t,e,n){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){const u=nonWitnessUtxoTxFromCache(n,e,t).outs[n.__TX.ins[t].index];return{script:u.script,value:u.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function pubkeyInInput(t,e,n,a){const u=getScriptFromUtxo(n,e,a),{meaningfulScript:o}=getMeaningfulScript(u,n,"input",e.redeemScript,e.witnessScript);return(0,psbtutils_1.pubkeyInScript)(t,o)}function pubkeyInOutput(t,e,n,a){const u=a.__TX.outs[n].script,{meaningfulScript:o}=getMeaningfulScript(u,n,"output",e.redeemScript,e.witnessScript);return(0,psbtutils_1.pubkeyInScript)(t,o)}function redeemFromFinalScriptSig(t){if(!t)return;const e=bscript.decompile(t);if(!e)return;const n=e[e.length-1];if(!(!Buffer$1$1.isBuffer(n)||isPubkeyLike(n)||isSigLike(n)||!bscript.decompile(n)))return n}function redeemFromFinalWitnessScript(t){if(!t)return;const e=scriptWitnessToWitnessStack(t),n=e[e.length-1];if(!(isPubkeyLike(n)||!bscript.decompile(n)))return n}function compressPubkey(t){if(t.length===65){const e=t[64]&1,n=t.slice(0,33);return n[0]=2|e,n}return t.slice()}function isPubkeyLike(t){return t.length===33&&bscript.isCanonicalPubKey(t)}function isSigLike(t){return bscript.isCanonicalScriptSignature(t)}function getMeaningfulScript(t,e,n,a,u){const o=(0,psbtutils_1.isP2SHScript)(t),p=o&&a&&(0,psbtutils_1.isP2WSHScript)(a),m=(0,psbtutils_1.isP2WSHScript)(t);if(o&&a===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((m||p)&&u===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let y;return p?(y=u,checkRedeemScript(e,t,a,n),checkWitnessScript(e,a,u,n),checkInvalidP2WSH(y)):m?(y=u,checkWitnessScript(e,t,u,n),checkInvalidP2WSH(y)):o?(y=a,checkRedeemScript(e,t,a,n)):y=t,{meaningfulScript:y,type:p?"p2sh-p2wsh":o?"p2sh":m?"p2wsh":"raw"}}function checkInvalidP2WSH(t){if((0,psbtutils_1.isP2WPKH)(t)||(0,psbtutils_1.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function classifyScript(t){return(0,psbtutils_1.isP2WPKH)(t)?"witnesspubkeyhash":(0,psbtutils_1.isP2PKH)(t)?"pubkeyhash":(0,psbtutils_1.isP2MS)(t)?"multisig":(0,psbtutils_1.isP2PK)(t)?"pubkey":"nonstandard"}function range(t){return[...Array(t).keys()]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.initEccLib=t.Transaction=t.opcodes=t.Psbt=t.Block=t.script=t.payments=t.networks=t.crypto=t.address=void 0;const e=address;t.address=e;const n=crypto$1;t.crypto=n;const a=networks$1;t.networks=a;const u=payments$3;t.payments=u;const o=script;t.script=o;var p=block;Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return p.Block}});var m=psbt$1;Object.defineProperty(t,"Psbt",{enumerable:!0,get:function(){return m.Psbt}});var y=ops;Object.defineProperty(t,"opcodes",{enumerable:!0,get:function(){return y.OPS}});var w=transaction;Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return w.Transaction}});var _=ecc_lib;Object.defineProperty(t,"initEccLib",{enumerable:!0,get:function(){return _.initEccLib}})})(src$3);const HEX_STRINGS="0123456789abcdefABCDEF";HEX_STRINGS.split("").map(t=>t.codePointAt(0));Array(256).fill(!0).map((t,e)=>{const n=String.fromCodePoint(e),a=HEX_STRINGS.indexOf(n);return a<0?void 0:a<16?a:a-6});new TextEncoder;new TextDecoder("ascii");function compare(t,e){const n=Math.min(t.length,e.length);for(let a=0;a<n;++a)if(t[a]!==e[a])return t[a]<e[a]?-1:1;return t.length===e.length?0:t.length>e.length?1:-1}const ERROR_BAD_PRIVATE=0,ERROR_BAD_POINT=1,ERROR_BAD_TWEAK=2,ERROR_BAD_HASH=3,ERROR_BAD_SIGNATURE=4,ERROR_BAD_EXTRA_DATA=5,ERROR_BAD_PARITY=6,ERROR_BAD_RECOVERY_ID=7,ERRORS_MESSAGES={[ERROR_BAD_PRIVATE.toString()]:"Expected Private",[ERROR_BAD_POINT.toString()]:"Expected Point",[ERROR_BAD_TWEAK.toString()]:"Expected Tweak",[ERROR_BAD_HASH.toString()]:"Expected Hash",[ERROR_BAD_SIGNATURE.toString()]:"Expected Signature",[ERROR_BAD_EXTRA_DATA.toString()]:"Expected Extra Data (32 bytes)",[ERROR_BAD_PARITY.toString()]:"Expected Parity (1 | 0)",[ERROR_BAD_RECOVERY_ID.toString()]:"Bad Recovery Id"};function throwError(t){const e=ERRORS_MESSAGES[t.toString()]||`Unknow error code: ${t}`;throw new TypeError(e)}const PRIVATE_KEY_SIZE=32,PUBLIC_KEY_COMPRESSED_SIZE=33,PUBLIC_KEY_UNCOMPRESSED_SIZE=65,X_ONLY_PUBLIC_KEY_SIZE=32,TWEAK_SIZE=32,HASH_SIZE=32,EXTRA_DATA_SIZE=32,SIGNATURE_SIZE=64,BN32_ZERO=new Uint8Array(32),BN32_N=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),BN32_P_MINUS_N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]);function isUint8Array(t){return t instanceof Uint8Array}function cmpBN32(t,e){for(let n=0;n<32;++n)if(t[n]!==e[n])return t[n]<e[n]?-1:1;return 0}function isZero(t){return cmpBN32(t,BN32_ZERO)===0}function isPrivate$1(t){return isUint8Array(t)&&t.length===PRIVATE_KEY_SIZE&&cmpBN32(t,BN32_ZERO)>0&&cmpBN32(t,BN32_N)<0}function isPoint$2(t){return isUint8Array(t)&&(t.length===PUBLIC_KEY_COMPRESSED_SIZE||t.length===PUBLIC_KEY_UNCOMPRESSED_SIZE||t.length===X_ONLY_PUBLIC_KEY_SIZE)}function isXOnlyPoint$1(t){return isUint8Array(t)&&t.length===X_ONLY_PUBLIC_KEY_SIZE}function isDERPoint(t){return isUint8Array(t)&&(t.length===PUBLIC_KEY_COMPRESSED_SIZE||t.length===PUBLIC_KEY_UNCOMPRESSED_SIZE)}function isPointCompressed$1(t){return isUint8Array(t)&&t.length===PUBLIC_KEY_COMPRESSED_SIZE}function isTweak(t){return isUint8Array(t)&&t.length===TWEAK_SIZE&&cmpBN32(t,BN32_N)<0}function isHash(t){return isUint8Array(t)&&t.length===HASH_SIZE}function isExtraData(t){return t===void 0||isUint8Array(t)&&t.length===EXTRA_DATA_SIZE}function isSignature(t){return isUint8Array(t)&&t.length===64&&cmpBN32(t.subarray(0,32),BN32_N)<0&&cmpBN32(t.subarray(32,64),BN32_N)<0}function isSigrLessThanPMinusN(t){return isUint8Array(t)&&t.length===64&&cmpBN32(t.subarray(0,32),BN32_P_MINUS_N)<0}function validateParity(t){t!==0&&t!==1&&throwError(ERROR_BAD_PARITY)}function validatePrivate(t){isPrivate$1(t)||throwError(ERROR_BAD_PRIVATE)}function validatePoint(t){isPoint$2(t)||throwError(ERROR_BAD_POINT)}function validateXOnlyPoint(t){isXOnlyPoint$1(t)||throwError(ERROR_BAD_POINT)}function validateTweak(t){isTweak(t)||throwError(ERROR_BAD_TWEAK)}function validateHash(t){isHash(t)||throwError(ERROR_BAD_HASH)}function validateExtraData(t){isExtraData(t)||throwError(ERROR_BAD_EXTRA_DATA)}function validateSignature(t){isSignature(t)||throwError(ERROR_BAD_SIGNATURE)}function validateSignatureCustom(t){t()||throwError(ERROR_BAD_SIGNATURE)}function validateSignatureNonzeroRS(t){isZero(t.subarray(0,32))&&throwError(ERROR_BAD_SIGNATURE),isZero(t.subarray(32,64))&&throwError(ERROR_BAD_SIGNATURE)}function validateSigrPMinusN(t){isSigrLessThanPMinusN(t)||throwError(ERROR_BAD_RECOVERY_ID)}const __vite__wasmUrl="/firebase-web3connect/assets/secp256k1-2IQOMy_D.wasm",__vite__initWasm=async(t={},e)=>{let n;if(e.startsWith("data:")){const a=e.replace(/^data:.*?base64,/,"");let u;if(typeof Buffer$1$1=="function"&&typeof Buffer$1$1.from=="function")u=Buffer$1$1.from(a,"base64");else if(typeof atob=="function"){const o=atob(a);u=new Uint8Array(o.length);for(let p=0;p<o.length;p++)u[p]=o.charCodeAt(p)}else throw new Error("Cannot decode base64-encoded data URL");n=await WebAssembly.instantiate(u,t)}else{const a=await fetch(e),u=a.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&u.startsWith("application/wasm"))n=await WebAssembly.instantiateStreaming(a,t);else{const o=await a.arrayBuffer();n=await WebAssembly.instantiate(o,t)}}return n.instance.exports};function get4RandomBytes(){const t=new Uint8Array(4);if(typeof crypto>"u")throw new Error("The crypto object is unavailable. This may occur if your environment does not support the Web Cryptography API.");return crypto.getRandomValues(t),t}function generateInt32(){const t=get4RandomBytes();return(t[0]<<3*8)+(t[1]<<2*8)+(t[2]<<1*8)+t[3]}URL=globalThis.URL;const __vite__wasmModule=await __vite__initWasm({"./rand.js":{generateInt32},"./validate_error.js":{throwError}},__vite__wasmUrl),memory=__vite__wasmModule.memory,initializeContext=__vite__wasmModule.initializeContext,isPoint$1=__vite__wasmModule.isPoint,PUBLIC_KEY_INPUT$1=__vite__wasmModule.PUBLIC_KEY_INPUT,pointAdd$1=__vite__wasmModule.pointAdd,PUBLIC_KEY_INPUT2$1=__vite__wasmModule.PUBLIC_KEY_INPUT2,pointAddScalar$1=__vite__wasmModule.pointAddScalar,TWEAK_INPUT$1=__vite__wasmModule.TWEAK_INPUT,xOnlyPointAddTweak$1=__vite__wasmModule.xOnlyPointAddTweak,X_ONLY_PUBLIC_KEY_INPUT$1=__vite__wasmModule.X_ONLY_PUBLIC_KEY_INPUT,xOnlyPointAddTweakCheck$1=__vite__wasmModule.xOnlyPointAddTweakCheck,X_ONLY_PUBLIC_KEY_INPUT2$1=__vite__wasmModule.X_ONLY_PUBLIC_KEY_INPUT2,pointCompress$1=__vite__wasmModule.pointCompress,pointFromScalar$1=__vite__wasmModule.pointFromScalar,PRIVATE_INPUT=__vite__wasmModule.PRIVATE_INPUT,xOnlyPointFromScalar$1=__vite__wasmModule.xOnlyPointFromScalar,xOnlyPointFromPoint$1=__vite__wasmModule.xOnlyPointFromPoint,pointMultiply$1=__vite__wasmModule.pointMultiply,privateAdd$1=__vite__wasmModule.privateAdd,privateSub$1=__vite__wasmModule.privateSub,privateNegate$1=__vite__wasmModule.privateNegate,sign$3=__vite__wasmModule.sign,HASH_INPUT$1=__vite__wasmModule.HASH_INPUT,EXTRA_DATA_INPUT$1=__vite__wasmModule.EXTRA_DATA_INPUT,SIGNATURE_INPUT$1=__vite__wasmModule.SIGNATURE_INPUT,signRecoverable$1=__vite__wasmModule.signRecoverable,signSchnorr$1=__vite__wasmModule.signSchnorr,verify$2=__vite__wasmModule.verify,recover$1=__vite__wasmModule.recover,verifySchnorr$1=__vite__wasmModule.verifySchnorr,rustsecp256k1_v0_8_1_default_error_callback_fn=__vite__wasmModule.rustsecp256k1_v0_8_1_default_error_callback_fn,rustsecp256k1_v0_8_1_default_illegal_callback_fn=__vite__wasmModule.rustsecp256k1_v0_8_1_default_illegal_callback_fn,__data_end=__vite__wasmModule.__data_end,__heap_base=__vite__wasmModule.__heap_base,wasm=Object.freeze(Object.defineProperty({__proto__:null,EXTRA_DATA_INPUT:EXTRA_DATA_INPUT$1,HASH_INPUT:HASH_INPUT$1,PRIVATE_INPUT,PUBLIC_KEY_INPUT:PUBLIC_KEY_INPUT$1,PUBLIC_KEY_INPUT2:PUBLIC_KEY_INPUT2$1,SIGNATURE_INPUT:SIGNATURE_INPUT$1,TWEAK_INPUT:TWEAK_INPUT$1,X_ONLY_PUBLIC_KEY_INPUT:X_ONLY_PUBLIC_KEY_INPUT$1,X_ONLY_PUBLIC_KEY_INPUT2:X_ONLY_PUBLIC_KEY_INPUT2$1,__data_end,__heap_base,initializeContext,isPoint:isPoint$1,memory,pointAdd:pointAdd$1,pointAddScalar:pointAddScalar$1,pointCompress:pointCompress$1,pointFromScalar:pointFromScalar$1,pointMultiply:pointMultiply$1,privateAdd:privateAdd$1,privateNegate:privateNegate$1,privateSub:privateSub$1,recover:recover$1,rustsecp256k1_v0_8_1_default_error_callback_fn,rustsecp256k1_v0_8_1_default_illegal_callback_fn,sign:sign$3,signRecoverable:signRecoverable$1,signSchnorr:signSchnorr$1,verify:verify$2,verifySchnorr:verifySchnorr$1,xOnlyPointAddTweak:xOnlyPointAddTweak$1,xOnlyPointAddTweakCheck:xOnlyPointAddTweakCheck$1,xOnlyPointFromPoint:xOnlyPointFromPoint$1,xOnlyPointFromScalar:xOnlyPointFromScalar$1},Symbol.toStringTag,{value:"Module"})),WASM_BUFFER=new Uint8Array(wasm.memory.buffer),WASM_PRIVATE_KEY_PTR=wasm.PRIVATE_INPUT.value,WASM_PUBLIC_KEY_INPUT_PTR=wasm.PUBLIC_KEY_INPUT.value,WASM_PUBLIC_KEY_INPUT_PTR2=wasm.PUBLIC_KEY_INPUT2.value,WASM_X_ONLY_PUBLIC_KEY_INPUT_PTR=wasm.X_ONLY_PUBLIC_KEY_INPUT.value,WASM_X_ONLY_PUBLIC_KEY_INPUT2_PTR=wasm.X_ONLY_PUBLIC_KEY_INPUT2.value,WASM_TWEAK_INPUT_PTR=wasm.TWEAK_INPUT.value,WASM_HASH_INPUT_PTR=wasm.HASH_INPUT.value,WASM_EXTRA_DATA_INPUT_PTR=wasm.EXTRA_DATA_INPUT.value,WASM_SIGNATURE_INPUT_PTR=wasm.SIGNATURE_INPUT.value,PRIVATE_KEY_INPUT=WASM_BUFFER.subarray(WASM_PRIVATE_KEY_PTR,WASM_PRIVATE_KEY_PTR+PRIVATE_KEY_SIZE),PUBLIC_KEY_INPUT=WASM_BUFFER.subarray(WASM_PUBLIC_KEY_INPUT_PTR,WASM_PUBLIC_KEY_INPUT_PTR+PUBLIC_KEY_UNCOMPRESSED_SIZE),PUBLIC_KEY_INPUT2=WASM_BUFFER.subarray(WASM_PUBLIC_KEY_INPUT_PTR2,WASM_PUBLIC_KEY_INPUT_PTR2+PUBLIC_KEY_UNCOMPRESSED_SIZE),X_ONLY_PUBLIC_KEY_INPUT=WASM_BUFFER.subarray(WASM_X_ONLY_PUBLIC_KEY_INPUT_PTR,WASM_X_ONLY_PUBLIC_KEY_INPUT_PTR+X_ONLY_PUBLIC_KEY_SIZE),X_ONLY_PUBLIC_KEY_INPUT2=WASM_BUFFER.subarray(WASM_X_ONLY_PUBLIC_KEY_INPUT2_PTR,WASM_X_ONLY_PUBLIC_KEY_INPUT2_PTR+X_ONLY_PUBLIC_KEY_SIZE),TWEAK_INPUT=WASM_BUFFER.subarray(WASM_TWEAK_INPUT_PTR,WASM_TWEAK_INPUT_PTR+TWEAK_SIZE),HASH_INPUT=WASM_BUFFER.subarray(WASM_HASH_INPUT_PTR,WASM_HASH_INPUT_PTR+HASH_SIZE),EXTRA_DATA_INPUT=WASM_BUFFER.subarray(WASM_EXTRA_DATA_INPUT_PTR,WASM_EXTRA_DATA_INPUT_PTR+EXTRA_DATA_SIZE),SIGNATURE_INPUT=WASM_BUFFER.subarray(WASM_SIGNATURE_INPUT_PTR,WASM_SIGNATURE_INPUT_PTR+SIGNATURE_SIZE);function assumeCompression(t,e){return t===void 0?e!==void 0?e.length:PUBLIC_KEY_COMPRESSED_SIZE:t?PUBLIC_KEY_COMPRESSED_SIZE:PUBLIC_KEY_UNCOMPRESSED_SIZE}function _isPoint(t){try{return PUBLIC_KEY_INPUT.set(t),wasm.isPoint(t.length)===1}finally{PUBLIC_KEY_INPUT.fill(0)}}function __initializeContext(){wasm.initializeContext()}function isPoint(t){return isDERPoint(t)&&_isPoint(t)}function isPointCompressed(t){return isPointCompressed$1(t)&&_isPoint(t)}function isXOnlyPoint(t){return isXOnlyPoint$1(t)&&_isPoint(t)}function isPrivate(t){return isPrivate$1(t)}function pointAdd(t,e,n){validatePoint(t),validatePoint(e);const a=assumeCompression(n,t);try{return PUBLIC_KEY_INPUT.set(t),PUBLIC_KEY_INPUT2.set(e),wasm.pointAdd(t.length,e.length,a)===1?PUBLIC_KEY_INPUT.slice(0,a):null}finally{PUBLIC_KEY_INPUT.fill(0),PUBLIC_KEY_INPUT2.fill(0)}}function pointAddScalar(t,e,n){validatePoint(t),validateTweak(e);const a=assumeCompression(n,t);try{return PUBLIC_KEY_INPUT.set(t),TWEAK_INPUT.set(e),wasm.pointAddScalar(t.length,a)===1?PUBLIC_KEY_INPUT.slice(0,a):null}finally{PUBLIC_KEY_INPUT.fill(0),TWEAK_INPUT.fill(0)}}function pointCompress(t,e){validatePoint(t);const n=assumeCompression(e,t);try{return PUBLIC_KEY_INPUT.set(t),wasm.pointCompress(t.length,n),PUBLIC_KEY_INPUT.slice(0,n)}finally{PUBLIC_KEY_INPUT.fill(0)}}function pointFromScalar(t,e){validatePrivate(t);const n=assumeCompression(e);try{return PRIVATE_KEY_INPUT.set(t),wasm.pointFromScalar(n)===1?PUBLIC_KEY_INPUT.slice(0,n):null}finally{PRIVATE_KEY_INPUT.fill(0),PUBLIC_KEY_INPUT.fill(0)}}function xOnlyPointFromScalar(t){validatePrivate(t);try{return PRIVATE_KEY_INPUT.set(t),wasm.xOnlyPointFromScalar(),X_ONLY_PUBLIC_KEY_INPUT.slice(0,X_ONLY_PUBLIC_KEY_SIZE)}finally{PRIVATE_KEY_INPUT.fill(0),X_ONLY_PUBLIC_KEY_INPUT.fill(0)}}function xOnlyPointFromPoint(t){validatePoint(t);try{return PUBLIC_KEY_INPUT.set(t),wasm.xOnlyPointFromPoint(t.length),X_ONLY_PUBLIC_KEY_INPUT.slice(0,X_ONLY_PUBLIC_KEY_SIZE)}finally{PUBLIC_KEY_INPUT.fill(0),X_ONLY_PUBLIC_KEY_INPUT.fill(0)}}function pointMultiply(t,e,n){validatePoint(t),validateTweak(e);const a=assumeCompression(n,t);try{return PUBLIC_KEY_INPUT.set(t),TWEAK_INPUT.set(e),wasm.pointMultiply(t.length,a)===1?PUBLIC_KEY_INPUT.slice(0,a):null}finally{PUBLIC_KEY_INPUT.fill(0),TWEAK_INPUT.fill(0)}}function privateAdd(t,e){validatePrivate(t),validateTweak(e);try{return PRIVATE_KEY_INPUT.set(t),TWEAK_INPUT.set(e),wasm.privateAdd()===1?PRIVATE_KEY_INPUT.slice(0,PRIVATE_KEY_SIZE):null}finally{PRIVATE_KEY_INPUT.fill(0),TWEAK_INPUT.fill(0)}}function privateSub(t,e){if(validatePrivate(t),validateTweak(e),isZero(e))return new Uint8Array(t);try{return PRIVATE_KEY_INPUT.set(t),TWEAK_INPUT.set(e),wasm.privateSub()===1?PRIVATE_KEY_INPUT.slice(0,PRIVATE_KEY_SIZE):null}finally{PRIVATE_KEY_INPUT.fill(0),TWEAK_INPUT.fill(0)}}function privateNegate(t){validatePrivate(t);try{return PRIVATE_KEY_INPUT.set(t),wasm.privateNegate(),PRIVATE_KEY_INPUT.slice(0,PRIVATE_KEY_SIZE)}finally{PRIVATE_KEY_INPUT.fill(0)}}function xOnlyPointAddTweak(t,e){validateXOnlyPoint(t),validateTweak(e);try{X_ONLY_PUBLIC_KEY_INPUT.set(t),TWEAK_INPUT.set(e);const n=wasm.xOnlyPointAddTweak();return n!==-1?{parity:n,xOnlyPubkey:X_ONLY_PUBLIC_KEY_INPUT.slice(0,X_ONLY_PUBLIC_KEY_SIZE)}:null}finally{X_ONLY_PUBLIC_KEY_INPUT.fill(0),TWEAK_INPUT.fill(0)}}function xOnlyPointAddTweakCheck(t,e,n,a){validateXOnlyPoint(t),validateXOnlyPoint(n),validateTweak(e);const u=a!==void 0;u&&validateParity(a);try{if(X_ONLY_PUBLIC_KEY_INPUT.set(t),X_ONLY_PUBLIC_KEY_INPUT2.set(n),TWEAK_INPUT.set(e),u)return wasm.xOnlyPointAddTweakCheck(a)===1;{wasm.xOnlyPointAddTweak();const o=X_ONLY_PUBLIC_KEY_INPUT.slice(0,X_ONLY_PUBLIC_KEY_SIZE);return compare(o,n)===0}}finally{X_ONLY_PUBLIC_KEY_INPUT.fill(0),X_ONLY_PUBLIC_KEY_INPUT2.fill(0),TWEAK_INPUT.fill(0)}}function sign$2(t,e,n){validateHash(t),validatePrivate(e),validateExtraData(n);try{return HASH_INPUT.set(t),PRIVATE_KEY_INPUT.set(e),n!==void 0&&EXTRA_DATA_INPUT.set(n),wasm.sign(n===void 0?0:1),SIGNATURE_INPUT.slice(0,SIGNATURE_SIZE)}finally{HASH_INPUT.fill(0),PRIVATE_KEY_INPUT.fill(0),n!==void 0&&EXTRA_DATA_INPUT.fill(0),SIGNATURE_INPUT.fill(0)}}function signRecoverable(t,e,n){validateHash(t),validatePrivate(e),validateExtraData(n);try{HASH_INPUT.set(t),PRIVATE_KEY_INPUT.set(e),n!==void 0&&EXTRA_DATA_INPUT.set(n);const a=wasm.signRecoverable(n===void 0?0:1);return{signature:SIGNATURE_INPUT.slice(0,SIGNATURE_SIZE),recoveryId:a}}finally{HASH_INPUT.fill(0),PRIVATE_KEY_INPUT.fill(0),n!==void 0&&EXTRA_DATA_INPUT.fill(0),SIGNATURE_INPUT.fill(0)}}function signSchnorr(t,e,n){validateHash(t),validatePrivate(e),validateExtraData(n);try{return HASH_INPUT.set(t),PRIVATE_KEY_INPUT.set(e),n!==void 0&&EXTRA_DATA_INPUT.set(n),wasm.signSchnorr(n===void 0?0:1),SIGNATURE_INPUT.slice(0,SIGNATURE_SIZE)}finally{HASH_INPUT.fill(0),PRIVATE_KEY_INPUT.fill(0),n!==void 0&&EXTRA_DATA_INPUT.fill(0),SIGNATURE_INPUT.fill(0)}}function verify$1(t,e,n,a=!1){validateHash(t),validatePoint(e),validateSignature(n);try{return HASH_INPUT.set(t),PUBLIC_KEY_INPUT.set(e),SIGNATURE_INPUT.set(n),wasm.verify(e.length,a===!0?1:0)===1}finally{HASH_INPUT.fill(0),PUBLIC_KEY_INPUT.fill(0),SIGNATURE_INPUT.fill(0)}}function recover(t,e,n,a=!1){validateHash(t),validateSignature(e),validateSignatureNonzeroRS(e),n&2&&validateSigrPMinusN(e),validateSignatureCustom(()=>isXOnlyPoint(e.subarray(0,32)));const u=assumeCompression(a);try{return HASH_INPUT.set(t),SIGNATURE_INPUT.set(e),wasm.recover(u,n)===1?PUBLIC_KEY_INPUT.slice(0,u):null}finally{HASH_INPUT.fill(0),SIGNATURE_INPUT.fill(0),PUBLIC_KEY_INPUT.fill(0)}}function verifySchnorr(t,e,n){validateHash(t),validateXOnlyPoint(e),validateSignature(n);try{return HASH_INPUT.set(t),X_ONLY_PUBLIC_KEY_INPUT.set(e),SIGNATURE_INPUT.set(n),wasm.verifySchnorr()===1}finally{HASH_INPUT.fill(0),X_ONLY_PUBLIC_KEY_INPUT.fill(0),SIGNATURE_INPUT.fill(0)}}const ecc=Object.freeze(Object.defineProperty({__proto__:null,__initializeContext,isPoint,isPointCompressed,isPrivate,isXOnlyPoint,pointAdd,pointAddScalar,pointCompress,pointFromScalar,pointMultiply,privateAdd,privateNegate,privateSub,recover,sign:sign$2,signRecoverable,signSchnorr,verify:verify$1,verifySchnorr,xOnlyPointAddTweak,xOnlyPointAddTweakCheck,xOnlyPointFromPoint,xOnlyPointFromScalar},Symbol.toStringTag,{value:"Module"})),generateDID$1=t=>`did:ethr:${t}`;class BTCWallet extends Web3Wallet{chainId;_mnemonic;constructor(e,n=src$3.networks.bitcoin,a="m/44'/0'/0'/0/0"){if(super(),!e)throw new Error("Mnemonic is required to generate wallet");const u=src$5.BIP32Factory(ecc),o=mnemonicToSeedSync_1(e),p=a,{privateKey:m,publicKey:y}=u.fromSeed(o).derivePath(p);if(!m||!y)throw new Error("Failed to generate key pair");const{address:w}=src$3.payments.p2pkh({pubkey:y,network:n});if(!w)throw new Error("Failed to generate wallet");this.address=w,this.publicKey=y.toString("hex"),this._privateKey=m.toString("hex"),this.chainId=n.wif,this._mnemonic=e}sendTransaction(e){throw console.log("sendTransaction",e),new Error("Method not implemented.")}signTransaction(e){throw console.log("signTransaction",e),new Error("Method not implemented.")}async signMessage(e){console.log("signMessage",e);const n=Buffer$1$1.from(e,"utf-8"),a=src$3.crypto.sha256(n),o=this._generateKeyPair().sign(a);return console.log(`Signature: ${o.toString("base64")}
`),o.toString("base64")}verifySignature(e,n){if(!this.address)throw new Error("Address is required to verify signature");const a=Buffer$1$1.from(e,"utf-8"),u=src$3.crypto.sha256(a);return this._generateKeyPair().verify(u,Buffer$1$1.from(n,"base64"))}async switchNetwork(e){throw console.log("switchNetwork",e),new Error("Method not implemented.")}_generateKeyPair(){if(!this._mnemonic)throw new Error("Mnemonic  is required to sign message");const e=src$5.BIP32Factory(ecc),n=mnemonicToSeedSync_1(this._mnemonic),u=e.fromSeed(n).derivePath("m/44'/0'/0'/0/0");if(!u)throw new Error("Failed to generate key pair");return u}}const generateWalletFromMnemonic$1=async t=>{const{mnemonic:e=generateMnemonic_1(),derivationPath:n,network:a}=t;if(n&&n?.split("/")[1]!=="44'")throw new Error("Invalid derivation path ");return new BTCWallet(e,a,n)},btcWallet=Object.freeze({connectWithExternalWallet:async()=>{throw new Error("Method not implemented.")},generateWalletFromMnemonic:generateWalletFromMnemonic$1,generateDID:generateDID$1});const _0n$4=BigInt(0),_1n$6=BigInt(1),_2n$4=BigInt(2);function isBytes(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function abytes(t){if(!isBytes(t))throw new Error("Uint8Array expected")}const hexes=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex(t){abytes(t);let e="";for(let n=0;n<t.length;n++)e+=hexes[t[n]];return e}function numberToHexUnpadded(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function hexToNumber(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(t){if(t>=asciis._0&&t<=asciis._9)return t-asciis._0;if(t>=asciis._A&&t<=asciis._F)return t-(asciis._A-10);if(t>=asciis._a&&t<=asciis._f)return t-(asciis._a-10)}function hexToBytes(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const a=new Uint8Array(n);for(let u=0,o=0;u<n;u++,o+=2){const p=asciiToBase16(t.charCodeAt(o)),m=asciiToBase16(t.charCodeAt(o+1));if(p===void 0||m===void 0){const y=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+o)}a[u]=p*16+m}return a}function bytesToNumberBE(t){return hexToNumber(bytesToHex(t))}function bytesToNumberLE(t){return abytes(t),hexToNumber(bytesToHex(Uint8Array.from(t).reverse()))}function numberToBytesBE(t,e){return hexToBytes(t.toString(16).padStart(e*2,"0"))}function numberToBytesLE(t,e){return numberToBytesBE(t,e).reverse()}function numberToVarBytesBE(t){return hexToBytes(numberToHexUnpadded(t))}function ensureBytes(t,e,n){let a;if(typeof e=="string")try{a=hexToBytes(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(isBytes(e))a=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const u=a.length;if(typeof n=="number"&&u!==n)throw new Error(`${t} expected ${n} bytes, got ${u}`);return a}function concatBytes(...t){let e=0;for(let a=0;a<t.length;a++){const u=t[a];abytes(u),e+=u.length}const n=new Uint8Array(e);for(let a=0,u=0;a<t.length;a++){const o=t[a];n.set(o,u),u+=o.length}return n}function equalBytes(t,e){if(t.length!==e.length)return!1;let n=0;for(let a=0;a<t.length;a++)n|=t[a]^e[a];return n===0}function utf8ToBytes(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function bitLen(t){let e;for(e=0;t>_0n$4;t>>=_1n$6,e+=1);return e}function bitGet(t,e){return t>>BigInt(e)&_1n$6}function bitSet(t,e,n){return t|(n?_1n$6:_0n$4)<<BigInt(e)}const bitMask=t=>(_2n$4<<BigInt(t-1))-_1n$6,u8n=t=>new Uint8Array(t),u8fr=t=>Uint8Array.from(t);function createHmacDrbg(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let a=u8n(t),u=u8n(t),o=0;const p=()=>{a.fill(1),u.fill(0),o=0},m=(...M)=>n(u,a,...M),y=(M=u8n())=>{u=m(u8fr([0]),M),a=m(),M.length!==0&&(u=m(u8fr([1]),M),a=m())},w=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let M=0;const T=[];for(;M<e;){a=m();const B=a.slice();T.push(B),M+=a.length}return concatBytes(...T)};return(M,T)=>{p(),y(M);let B;for(;!(B=T(w()));)y();return p(),B}}const validatorFns={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||isBytes(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function validateObject(t,e,n={}){const a=(u,o,p)=>{const m=validatorFns[o];if(typeof m!="function")throw new Error(`Invalid validator "${o}", expected function`);const y=t[u];if(!(p&&y===void 0)&&!m(y,t))throw new Error(`Invalid param ${String(u)}=${y} (${typeof y}), expected ${o}`)};for(const[u,o]of Object.entries(e))a(u,o,!1);for(const[u,o]of Object.entries(n))a(u,o,!0);return t}const ut=Object.freeze(Object.defineProperty({__proto__:null,abytes,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,isBytes,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes,validateObject},Symbol.toStringTag,{value:"Module"}));const _0n$3=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$1=BigInt(8);BigInt(9);BigInt(16);function mod(t,e){const n=t%e;return n>=_0n$3?n:e+n}function pow(t,e,n){if(n<=_0n$3||e<_0n$3)throw new Error("Expected power/modulo > 0");if(n===_1n$5)return _0n$3;let a=_1n$5;for(;e>_0n$3;)e&_1n$5&&(a=a*t%n),t=t*t%n,e>>=_1n$5;return a}function pow2(t,e,n){let a=t;for(;e-- >_0n$3;)a*=a,a%=n;return a}function invert(t,e){if(t===_0n$3||e<=_0n$3)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=mod(t,e),a=e,u=_0n$3,o=_1n$5;for(;n!==_0n$3;){const m=a/n,y=a%n,w=u-o*m;a=n,n=y,u=o,o=w}if(a!==_1n$5)throw new Error("invert: does not exist");return mod(u,e)}function tonelliShanks(t){const e=(t-_1n$5)/_2n$3;let n,a,u;for(n=t-_1n$5,a=0;n%_2n$3===_0n$3;n/=_2n$3,a++);for(u=_2n$3;u<t&&pow(u,e,t)!==t-_1n$5;u++);if(a===1){const p=(t+_1n$5)/_4n;return function(y,w){const _=y.pow(w,p);if(!y.eql(y.sqr(_),w))throw new Error("Cannot find square root");return _}}const o=(n+_1n$5)/_2n$3;return function(m,y){if(m.pow(y,e)===m.neg(m.ONE))throw new Error("Cannot find square root");let w=a,_=m.pow(m.mul(m.ONE,u),n),M=m.pow(y,o),T=m.pow(y,n);for(;!m.eql(T,m.ONE);){if(m.eql(T,m.ZERO))return m.ZERO;let B=1;for(let C=m.sqr(T);B<w&&!m.eql(C,m.ONE);B++)C=m.sqr(C);const P=m.pow(_,_1n$5<<BigInt(w-B-1));_=m.sqr(P),M=m.mul(M,P),T=m.mul(T,_),w=B}return M}}function FpSqrt(t){if(t%_4n===_3n$1){const e=(t+_1n$5)/_4n;return function(a,u){const o=a.pow(u,e);if(!a.eql(a.sqr(o),u))throw new Error("Cannot find square root");return o}}if(t%_8n$1===_5n$1){const e=(t-_5n$1)/_8n$1;return function(a,u){const o=a.mul(u,_2n$3),p=a.pow(o,e),m=a.mul(u,p),y=a.mul(a.mul(m,_2n$3),p),w=a.mul(m,a.sub(y,a.ONE));if(!a.eql(a.sqr(w),u))throw new Error("Cannot find square root");return w}}return tonelliShanks(t)}const isNegativeLE=(t,e)=>(mod(t,e)&_1n$5)===_1n$5,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=FIELD_FIELDS.reduce((a,u)=>(a[u]="function",a),e);return validateObject(t,n)}function FpPow(t,e,n){if(n<_0n$3)throw new Error("Expected power > 0");if(n===_0n$3)return t.ONE;if(n===_1n$5)return e;let a=t.ONE,u=e;for(;n>_0n$3;)n&_1n$5&&(a=t.mul(a,u)),u=t.sqr(u),n>>=_1n$5;return a}function FpInvertBatch(t,e){const n=new Array(e.length),a=e.reduce((o,p,m)=>t.is0(p)?o:(n[m]=o,t.mul(o,p)),t.ONE),u=t.inv(a);return e.reduceRight((o,p,m)=>t.is0(p)?o:(n[m]=t.mul(o,n[m]),t.mul(o,p)),u),n}function nLength(t,e){const n=e!==void 0?e:t.toString(2).length,a=Math.ceil(n/8);return{nBitLength:n,nByteLength:a}}function Field(t,e,n=!1,a={}){if(t<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:u,nByteLength:o}=nLength(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const p=FpSqrt(t),m=Object.freeze({ORDER:t,BITS:u,BYTES:o,MASK:bitMask(u),ZERO:_0n$3,ONE:_1n$5,create:y=>mod(y,t),isValid:y=>{if(typeof y!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof y}`);return _0n$3<=y&&y<t},is0:y=>y===_0n$3,isOdd:y=>(y&_1n$5)===_1n$5,neg:y=>mod(-y,t),eql:(y,w)=>y===w,sqr:y=>mod(y*y,t),add:(y,w)=>mod(y+w,t),sub:(y,w)=>mod(y-w,t),mul:(y,w)=>mod(y*w,t),pow:(y,w)=>FpPow(m,y,w),div:(y,w)=>mod(y*invert(w,t),t),sqrN:y=>y*y,addN:(y,w)=>y+w,subN:(y,w)=>y-w,mulN:(y,w)=>y*w,inv:y=>invert(y,t),sqrt:a.sqrt||(y=>p(m,y)),invertBatch:y=>FpInvertBatch(m,y),cmov:(y,w,_)=>_?w:y,toBytes:y=>n?numberToBytesLE(y,o):numberToBytesBE(y,o),fromBytes:y=>{if(y.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${y.length}`);return n?bytesToNumberLE(y):bytesToNumberBE(y)}});return Object.freeze(m)}function FpSqrtEven(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}function getFieldBytesLength(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function getMinHashLength(t){const e=getFieldBytesLength(t);return e+Math.ceil(e/2)}function mapHashToField(t,e,n=!1){const a=t.length,u=getFieldBytesLength(e),o=getMinHashLength(e);if(a<16||a<o||a>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${a}`);const p=n?bytesToNumberBE(t):bytesToNumberLE(t),m=mod(p,e-_1n$5)+_1n$5;return n?numberToBytesLE(m,u):numberToBytesBE(m,u)}const _0n$2=BigInt(0),_1n$4=BigInt(1);function wNAF(t,e){const n=(u,o)=>{const p=o.negate();return u?p:o},a=u=>{const o=Math.ceil(e/u)+1,p=2**(u-1);return{windows:o,windowSize:p}};return{constTimeNegate:n,unsafeLadder(u,o){let p=t.ZERO,m=u;for(;o>_0n$2;)o&_1n$4&&(p=p.add(m)),m=m.double(),o>>=_1n$4;return p},precomputeWindow(u,o){const{windows:p,windowSize:m}=a(o),y=[];let w=u,_=w;for(let M=0;M<p;M++){_=w,y.push(_);for(let T=1;T<m;T++)_=_.add(w),y.push(_);w=_.double()}return y},wNAF(u,o,p){const{windows:m,windowSize:y}=a(u);let w=t.ZERO,_=t.BASE;const M=BigInt(2**u-1),T=2**u,B=BigInt(u);for(let P=0;P<m;P++){const C=P*y;let L=Number(p&M);p>>=B,L>y&&(L-=T,p+=_1n$4);const U=C,q=C+Math.abs(L)-1,G=P%2!==0,X=L<0;L===0?_=_.add(n(G,o[U])):w=w.add(n(X,o[q]))}return{p:w,f:_}},wNAFCached(u,o,p,m){const y=u._WINDOW_SIZE||1;let w=o.get(u);return w||(w=this.precomputeWindow(u,y),y!==1&&o.set(u,m(w))),this.wNAF(y,w,p)}}}function validateBasic(t){return validateField(t.Fp),validateObject(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const _0n$1=BigInt(0),_1n$3=BigInt(1),_2n$2=BigInt(2),_8n=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(t){const e=validateBasic(t);return validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function twistedEdwards(t){const e=validateOpts$1(t),{Fp:n,n:a,prehash:u,hash:o,randomBytes:p,nByteLength:m,h:y}=e,w=_2n$2<<BigInt(m*8)-_1n$3,_=n.create,M=e.uvRatio||((I,S)=>{try{return{isValid:!0,value:n.sqrt(I*n.inv(S))}}catch{return{isValid:!1,value:_0n$1}}}),T=e.adjustScalarBytes||(I=>I),B=e.domain||((I,S,l)=>{if(S.length||l)throw new Error("Contexts/pre-hash are not supported");return I}),P=I=>typeof I=="bigint"&&_0n$1<I,C=(I,S)=>P(I)&&P(S)&&I<S,L=I=>I===_0n$1||C(I,w);function U(I,S){if(C(I,S))return I;throw new Error(`Expected valid scalar < ${S}, got ${typeof I} ${I}`)}function q(I){return I===_0n$1?I:U(I,a)}const G=new Map;function X(I){if(!(I instanceof te))throw new Error("ExtendedPoint expected")}class te{constructor(S,l,E,O){if(this.ex=S,this.ey=l,this.ez=E,this.et=O,!L(S))throw new Error("x required");if(!L(l))throw new Error("y required");if(!L(E))throw new Error("z required");if(!L(O))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof te)throw new Error("extended point not allowed");const{x:l,y:E}=S||{};if(!L(l)||!L(E))throw new Error("invalid affine point");return new te(l,E,_1n$3,_(l*E))}static normalizeZ(S){const l=n.invertBatch(S.map(E=>E.ez));return S.map((E,O)=>E.toAffine(l[O])).map(te.fromAffine)}_setWindowSize(S){this._WINDOW_SIZE=S,G.delete(this)}assertValidity(){const{a:S,d:l}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:E,ey:O,ez:D,et:Y}=this,F=_(E*E),V=_(O*O),H=_(D*D),ee=_(H*H),ie=_(F*S),de=_(H*_(ie+V)),Z=_(ee+_(l*_(F*V)));if(de!==Z)throw new Error("bad point: equation left != right (1)");const j=_(E*O),he=_(D*Y);if(j!==he)throw new Error("bad point: equation left != right (2)")}equals(S){X(S);const{ex:l,ey:E,ez:O}=this,{ex:D,ey:Y,ez:F}=S,V=_(l*F),H=_(D*O),ee=_(E*F),ie=_(Y*O);return V===H&&ee===ie}is0(){return this.equals(te.ZERO)}negate(){return new te(_(-this.ex),this.ey,this.ez,_(-this.et))}double(){const{a:S}=e,{ex:l,ey:E,ez:O}=this,D=_(l*l),Y=_(E*E),F=_(_2n$2*_(O*O)),V=_(S*D),H=l+E,ee=_(_(H*H)-D-Y),ie=V+Y,de=ie-F,Z=V-Y,j=_(ee*de),he=_(ie*Z),Ae=_(ee*Z),_e=_(de*ie);return new te(j,he,_e,Ae)}add(S){X(S);const{a:l,d:E}=e,{ex:O,ey:D,ez:Y,et:F}=this,{ex:V,ey:H,ez:ee,et:ie}=S;if(l===BigInt(-1)){const ze=_((D-O)*(H+V)),wt=_((D+O)*(H-V)),Ie=_(wt-ze);if(Ie===_0n$1)return this.double();const Ne=_(Y*_2n$2*ie),_t=_(F*_2n$2*ee),Pe=_t+Ne,Le=wt+ze,At=_t-Ne,ae=_(Pe*Ie),J=_(Le*At),re=_(Pe*At),le=_(Ie*Le);return new te(ae,J,le,re)}const de=_(O*V),Z=_(D*H),j=_(F*E*ie),he=_(Y*ee),Ae=_((O+D)*(V+H)-de-Z),_e=he-j,xe=he+j,Xe=_(Z-l*de),Re=_(Ae*_e),we=_(xe*Xe),Et=_(Ae*Xe),Ce=_(_e*xe);return new te(Re,we,Ce,Et)}subtract(S){return this.add(S.negate())}wNAF(S){return pe.wNAFCached(this,G,S,te.normalizeZ)}multiply(S){const{p:l,f:E}=this.wNAF(U(S,a));return te.normalizeZ([l,E])[0]}multiplyUnsafe(S){let l=q(S);return l===_0n$1?ge:this.equals(ge)||l===_1n$3?this:this.equals(ne)?this.wNAF(l).p:pe.unsafeLadder(this,l)}isSmallOrder(){return this.multiplyUnsafe(y).is0()}isTorsionFree(){return pe.unsafeLadder(this,a).is0()}toAffine(S){const{ex:l,ey:E,ez:O}=this,D=this.is0();S==null&&(S=D?_8n:n.inv(O));const Y=_(l*S),F=_(E*S),V=_(O*S);if(D)return{x:_0n$1,y:_1n$3};if(V!==_1n$3)throw new Error("invZ was invalid");return{x:Y,y:F}}clearCofactor(){const{h:S}=e;return S===_1n$3?this:this.multiplyUnsafe(S)}static fromHex(S,l=!1){const{d:E,a:O}=e,D=n.BYTES;S=ensureBytes("pointHex",S,D);const Y=S.slice(),F=S[D-1];Y[D-1]=F&-129;const V=bytesToNumberLE(Y);V===_0n$1||(l?U(V,w):U(V,n.ORDER));const H=_(V*V),ee=_(H-_1n$3),ie=_(E*H-O);let{isValid:de,value:Z}=M(ee,ie);if(!de)throw new Error("Point.fromHex: invalid y coordinate");const j=(Z&_1n$3)===_1n$3,he=(F&128)!==0;if(!l&&Z===_0n$1&&he)throw new Error("Point.fromHex: x=0 and x_0=1");return he!==j&&(Z=_(-Z)),te.fromAffine({x:Z,y:V})}static fromPrivateKey(S){return k(S).point}toRawBytes(){const{x:S,y:l}=this.toAffine(),E=numberToBytesLE(l,n.BYTES);return E[E.length-1]|=S&_1n$3?128:0,E}toHex(){return bytesToHex(this.toRawBytes())}}te.BASE=new te(e.Gx,e.Gy,_1n$3,_(e.Gx*e.Gy)),te.ZERO=new te(_0n$1,_1n$3,_1n$3,_0n$1);const{BASE:ne,ZERO:ge}=te,pe=wNAF(te,m*8);function se(I){return mod(I,a)}function Se(I){return se(bytesToNumberLE(I))}function k(I){const S=m;I=ensureBytes("private key",I,S);const l=ensureBytes("hashed private key",o(I),2*S),E=T(l.slice(0,S)),O=l.slice(S,2*S),D=Se(E),Y=ne.multiply(D),F=Y.toRawBytes();return{head:E,prefix:O,scalar:D,point:Y,pointBytes:F}}function c(I){return k(I).pointBytes}function d(I=new Uint8Array,...S){const l=concatBytes(...S);return Se(o(B(l,ensureBytes("context",I),!!u)))}function b(I,S,l={}){I=ensureBytes("message",I),u&&(I=u(I));const{prefix:E,scalar:O,pointBytes:D}=k(S),Y=d(l.context,E,I),F=ne.multiply(Y).toRawBytes(),V=d(l.context,F,D,I),H=se(Y+V*O);q(H);const ee=concatBytes(F,numberToBytesLE(H,n.BYTES));return ensureBytes("result",ee,m*2)}const v=VERIFY_DEFAULT;function A(I,S,l,E=v){const{context:O,zip215:D}=E,Y=n.BYTES;I=ensureBytes("signature",I,2*Y),S=ensureBytes("message",S),u&&(S=u(S));const F=bytesToNumberLE(I.slice(Y,2*Y));let V,H,ee;try{V=te.fromHex(l,D),H=te.fromHex(I.slice(0,Y),D),ee=ne.multiplyUnsafe(F)}catch{return!1}if(!D&&V.isSmallOrder())return!1;const ie=d(O,H.toRawBytes(),V.toRawBytes(),S);return H.add(V.multiplyUnsafe(ie)).subtract(ee).clearCofactor().equals(te.ZERO)}return ne._setWindowSize(8),{CURVE:e,getPublicKey:c,sign:b,verify:A,ExtendedPoint:te,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>p(n.BYTES),precompute(I=8,S=te.BASE){return S._setWindowSize(I),S.multiply(BigInt(3)),S}}}}const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n$2=BigInt(1),_2n$1=BigInt(2),_5n=BigInt(5),_10n=BigInt(10),_20n=BigInt(20),_40n=BigInt(40),_80n=BigInt(80);function ed25519_pow_2_252_3(t){const e=ED25519_P,a=t*t%e*t%e,u=pow2(a,_2n$1,e)*a%e,o=pow2(u,_1n$2,e)*t%e,p=pow2(o,_5n,e)*o%e,m=pow2(p,_10n,e)*p%e,y=pow2(m,_20n,e)*m%e,w=pow2(y,_40n,e)*y%e,_=pow2(w,_80n,e)*w%e,M=pow2(_,_80n,e)*w%e,T=pow2(M,_10n,e)*p%e;return{pow_p_5_8:pow2(T,_2n$1,e)*t%e,b2:a}}function adjustScalarBytes(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function uvRatio(t,e){const n=ED25519_P,a=mod(e*e*e,n),u=mod(a*a*e,n),o=ed25519_pow_2_252_3(t*u).pow_p_5_8;let p=mod(t*a*o,n);const m=mod(e*p*p,n),y=p,w=mod(p*ED25519_SQRT_M1,n),_=m===t,M=m===mod(-t,n),T=m===mod(-t*ED25519_SQRT_M1,n);return _&&(p=y),(M||T)&&(p=w),isNegativeLE(p,n)&&(p=mod(-p,n)),{isValid:_||M,value:p}}const Fp$1=Field(ED25519_P,void 0,!0),ed25519Defaults={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Fp$1,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512_1$2,randomBytes:utils$7.randomBytes,adjustScalarBytes,uvRatio},ed25519=twistedEdwards(ed25519Defaults);function ed25519_domain(t,e,n){if(e.length>255)throw new Error("Context is too big");return utils$7.concatBytes(utils$7.utf8ToBytes("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,e.length]),e,t)}({...ed25519Defaults});({...ed25519Defaults});const ELL2_C1=(Fp$1.ORDER+BigInt(3))/BigInt(8);Fp$1.pow(_2n$1,ELL2_C1);Fp$1.sqrt(Fp$1.neg(Fp$1.ONE));(Fp$1.ORDER-BigInt(5))/BigInt(8);BigInt(486662);FpSqrtEven(Fp$1,Fp$1.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var _Buffer$1=safeBufferExports$1.Buffer;function base$4(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var a=0;a<t.length;a++){var u=t.charAt(a),o=u.charCodeAt(0);if(e[o]!==255)throw new TypeError(u+" is ambiguous");e[o]=a}var p=t.length,m=t.charAt(0),y=Math.log(p)/Math.log(256),w=Math.log(256)/Math.log(p);function _(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=_Buffer$1.from(B)),!_Buffer$1.isBuffer(B))throw new TypeError("Expected Buffer");if(B.length===0)return"";for(var P=0,C=0,L=0,U=B.length;L!==U&&B[L]===0;)L++,P++;for(var q=(U-L)*w+1>>>0,G=new Uint8Array(q);L!==U;){for(var X=B[L],te=0,ne=q-1;(X!==0||te<C)&&ne!==-1;ne--,te++)X+=256*G[ne]>>>0,G[ne]=X%p>>>0,X=X/p>>>0;if(X!==0)throw new Error("Non-zero carry");C=te,L++}for(var ge=q-C;ge!==q&&G[ge]===0;)ge++;for(var pe=m.repeat(P);ge<q;++ge)pe+=t.charAt(G[ge]);return pe}function M(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return _Buffer$1.alloc(0);for(var P=0,C=0,L=0;B[P]===m;)C++,P++;for(var U=(B.length-P)*y+1>>>0,q=new Uint8Array(U);B[P];){var G=e[B.charCodeAt(P)];if(G===255)return;for(var X=0,te=U-1;(G!==0||X<L)&&te!==-1;te--,X++)G+=p*q[te]>>>0,q[te]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");L=X,P++}for(var ne=U-L;ne!==U&&q[ne]===0;)ne++;var ge=_Buffer$1.allocUnsafe(C+(U-ne));ge.fill(0,0,C);for(var pe=C;ne!==U;)ge[pe++]=q[ne++];return ge}function T(B){var P=M(B);if(P)return P;throw new Error("Non-base"+p+" character")}return{encode:_,decodeUnsafe:M,decode:T}}var src$1=base$4,basex$1=src$1,ALPHABET$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$1=basex$1(ALPHABET$1);const bs58$2=getDefaultExportFromCjs$1(bs58$1);var lib={},_Buffer=safeBufferExports$1.Buffer;function base$3(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var a=0;a<t.length;a++){var u=t.charAt(a),o=u.charCodeAt(0);if(e[o]!==255)throw new TypeError(u+" is ambiguous");e[o]=a}var p=t.length,m=t.charAt(0),y=Math.log(p)/Math.log(256),w=Math.log(256)/Math.log(p);function _(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=_Buffer.from(B)),!_Buffer.isBuffer(B))throw new TypeError("Expected Buffer");if(B.length===0)return"";for(var P=0,C=0,L=0,U=B.length;L!==U&&B[L]===0;)L++,P++;for(var q=(U-L)*w+1>>>0,G=new Uint8Array(q);L!==U;){for(var X=B[L],te=0,ne=q-1;(X!==0||te<C)&&ne!==-1;ne--,te++)X+=256*G[ne]>>>0,G[ne]=X%p>>>0,X=X/p>>>0;if(X!==0)throw new Error("Non-zero carry");C=te,L++}for(var ge=q-C;ge!==q&&G[ge]===0;)ge++;for(var pe=m.repeat(P);ge<q;++ge)pe+=t.charAt(G[ge]);return pe}function M(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return _Buffer.alloc(0);for(var P=0,C=0,L=0;B[P]===m;)C++,P++;for(var U=(B.length-P)*y+1>>>0,q=new Uint8Array(U);B[P];){var G=e[B.charCodeAt(P)];if(G===255)return;for(var X=0,te=U-1;(G!==0||X<L)&&te!==-1;te--,X++)G+=p*q[te]>>>0,q[te]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");L=X,P++}for(var ne=U-L;ne!==U&&q[ne]===0;)ne++;var ge=_Buffer.allocUnsafe(C+(U-ne));ge.fill(0,0,C);for(var pe=C;ne!==U;)ge[pe++]=q[ne++];return ge}function T(B){var P=M(B);if(P)return P;throw new Error("Non-base"+p+" character")}return{encode:_,decodeUnsafe:M,decode:T}}var src=base$3,basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);function inRange(t,e,n){return e<=t&&t<=n}function ToDictionary(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(t){for(var e=String(t),n=e.length,a=0,u=[];a<n;){var o=e.charCodeAt(a);if(o<55296||o>57343)u.push(o);else if(56320<=o&&o<=57343)u.push(65533);else if(55296<=o&&o<=56319)if(a===n-1)u.push(65533);else{var p=t.charCodeAt(a+1);if(56320<=p&&p<=57343){var m=o&1023,y=p&1023;u.push(65536+(m<<10)+y),a+=1}else u.push(65533)}a+=1}return u}function codePointsToString(t){for(var e="",n=0;n<t.length;++n){var a=t[n];a<=65535?e+=String.fromCharCode(a):(a-=65536,e+=String.fromCharCode((a>>10)+55296,(a&1023)+56320))}return e}var end_of_stream=-1;function Stream(t){this.tokens=[].slice.call(t)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var finished=-1;function decoderError(t,e){if(t)throw TypeError("Decoder error");return e||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(t,e){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(t,e);if(t=t!==void 0?String(t).toLowerCase():DEFAULT_ENCODING,t!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(e,n){var a;typeof e=="object"&&e instanceof ArrayBuffer?a=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?a=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):a=new Uint8Array(0),n=ToDictionary(n),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var u=new Stream(a),o=[],p;!u.endOfStream()&&(p=this._decoder.handler(u,u.read()),p!==finished);)p!==null&&(Array.isArray(p)?o.push.apply(o,p):o.push(p));if(!this._streaming){do{if(p=this._decoder.handler(u,u.read()),p===finished)break;p!==null&&(Array.isArray(p)?o.push.apply(o,p):o.push(p))}while(!u.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),codePointsToString(o)}};function TextEncoder$1(t,e){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(t,e);if(t=t!==void 0?String(t).toLowerCase():DEFAULT_ENCODING,t!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(e,n){e=e?String(e):"",n=ToDictionary(n),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=!!n.stream;for(var a=[],u=new Stream(stringToCodePoints(e)),o;!u.endOfStream()&&(o=this._encoder.handler(u,u.read()),o!==finished);)Array.isArray(o)?a.push.apply(a,o):a.push(o);if(!this._streaming){for(;o=this._encoder.handler(u,u.read()),o!==finished;)Array.isArray(o)?a.push.apply(a,o):a.push(o);this._encoder=null}return new Uint8Array(a)}};function UTF8Decoder(t){var e=t.fatal,n=0,a=0,u=0,o=128,p=191;this.handler=function(m,y){if(y===end_of_stream&&u!==0)return u=0,decoderError(e);if(y===end_of_stream)return finished;if(u===0){if(inRange(y,0,127))return y;if(inRange(y,194,223))u=1,n=y-192;else if(inRange(y,224,239))y===224&&(o=160),y===237&&(p=159),u=2,n=y-224;else if(inRange(y,240,244))y===240&&(o=144),y===244&&(p=143),u=3,n=y-240;else return decoderError(e);return n=n<<6*u,null}if(!inRange(y,o,p))return n=u=a=0,o=128,p=191,m.prepend(y),decoderError(e);if(o=128,p=191,a+=1,n+=y-128<<6*(u-a),a!==u)return null;var w=n;return n=u=a=0,w}}function UTF8Encoder(t){t.fatal,this.handler=function(e,n){if(n===end_of_stream)return finished;if(inRange(n,0,127))return n;var a,u;inRange(n,128,2047)?(a=1,u=192):inRange(n,2048,65535)?(a=2,u=224):inRange(n,65536,1114111)&&(a=3,u=240);for(var o=[(n>>6*a)+u];a>0;){var p=n>>6*(a-1);o.push(128|p&63),a-=1}return o}}const encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:TextDecoder$1,TextEncoder:TextEncoder$1},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(encoding$1);var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,n,a){a===void 0&&(a=n),Object.defineProperty(t,a,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,a){a===void 0&&(a=n),t[a]=e[n]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__decorate=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,n,a){var u=arguments.length,o=u<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,n):a,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,a);else for(var m=t.length-1;m>=0;m--)(p=t[m])&&(o=(u<3?p(o):u>3?p(e,n,o):p(e,n))||o);return u>3&&o&&Object.defineProperty(e,n,o),o},__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&__createBinding(e,t,n);return __setModuleDefault(e,t),e},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lib,"__esModule",{value:!0});var deserializeUnchecked_1=lib.deserializeUnchecked=deserialize_1=lib.deserialize=serialize_1=lib.serialize=lib.BinaryReader=lib.BinaryWriter=lib.BorshError=lib.baseDecode=lib.baseEncode=void 0;const bn_js_1=__importDefault(bnExports),bs58_1=__importDefault(bs58),encoding=__importStar(require$$2$1),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(t){return typeof t=="string"&&(t=Buffer$1$1.from(t,"utf8")),bs58_1.default.encode(Buffer$1$1.from(t))}lib.baseEncode=baseEncode;function baseDecode(t){return Buffer$1$1.from(bs58_1.default.decode(t))}lib.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer$1$1.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer$1$1.concat([this.buf,Buffer$1$1.alloc(INITIAL_LENGTH)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer$1$1.from(new bn_js_1.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer$1$1.from(new bn_js_1.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer$1$1.from(new bn_js_1.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer$1$1.from(new bn_js_1.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer$1$1.concat([Buffer$1$1.from(this.buf.subarray(0,this.length)),e,Buffer$1$1.alloc(INITIAL_LENGTH)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer$1$1.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer$1$1.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const a of e)this.maybeResize(),n(a)}toArray(){return this.buf.subarray(0,this.length)}}lib.BinaryWriter=BinaryWriter;function handlingRangeError(t,e,n){const a=n.value;n.value=function(...u){try{return a.apply(this,u)}catch(o){if(o instanceof RangeError){const p=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(p)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw o}}}class BinaryReader{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new bn_js_1.default(e,"le")}readU128(){const e=this.readBuffer(16);return new bn_js_1.default(e,"le")}readU256(){const e=this.readBuffer(32);return new bn_js_1.default(e,"le")}readU512(){const e=this.readBuffer(64);return new bn_js_1.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new BorshError(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return textDecoder.decode(n)}catch(a){throw new BorshError(`Error decoding UTF-8 string: ${a}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),a=Array();for(let u=0;u<n;++u)a.push(e());return a}}__decorate([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate([handlingRangeError],BinaryReader.prototype,"readArray",null);lib.BinaryReader=BinaryReader;function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}function serializeField(t,e,n,a,u){try{if(typeof a=="string")u[`write${capitalizeFirstLetter(a)}`](n);else if(a instanceof Array)if(typeof a[0]=="number"){if(n.length!==a[0])throw new BorshError(`Expecting byte array of length ${a[0]}, but got ${n.length} bytes`);u.writeFixedArray(n)}else if(a.length===2&&typeof a[1]=="number"){if(n.length!==a[1])throw new BorshError(`Expecting byte array of length ${a[1]}, but got ${n.length} bytes`);for(let o=0;o<a[1];o++)serializeField(t,null,n[o],a[0],u)}else u.writeArray(n,o=>{serializeField(t,e,o,a[0],u)});else if(a.kind!==void 0)switch(a.kind){case"option":{n==null?u.writeU8(0):(u.writeU8(1),serializeField(t,e,n,a.type,u));break}case"map":{u.writeU32(n.size),n.forEach((o,p)=>{serializeField(t,e,p,a.key,u),serializeField(t,e,o,a.value,u)});break}default:throw new BorshError(`FieldType ${a} unrecognized`)}else serializeStruct(t,n,u)}catch(o){throw o instanceof BorshError&&o.addToFieldPath(e),o}}function serializeStruct(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const a=t.get(e.constructor);if(!a)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if(a.kind==="struct")a.fields.map(([u,o])=>{serializeField(t,u,e[u],o,n)});else if(a.kind==="enum"){const u=e[a.field];for(let o=0;o<a.values.length;++o){const[p,m]=a.values[o];if(p===u){n.writeU8(o),serializeField(t,p,e[p],m,n);break}}}else throw new BorshError(`Unexpected schema kind: ${a.kind} for ${e.constructor.name}`)}function serialize(t,e,n=BinaryWriter){const a=new n;return serializeStruct(t,e,a),a.toArray()}var serialize_1=lib.serialize=serialize;function deserializeField(t,e,n,a){try{if(typeof n=="string")return a[`read${capitalizeFirstLetter(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return a.readFixedArray(n[0]);if(typeof n[1]=="number"){const u=[];for(let o=0;o<n[1];o++)u.push(deserializeField(t,null,n[0],a));return u}else return a.readArray(()=>deserializeField(t,e,n[0],a))}if(n.kind==="option")return a.readU8()?deserializeField(t,e,n.type,a):void 0;if(n.kind==="map"){let u=new Map;const o=a.readU32();for(let p=0;p<o;p++){const m=deserializeField(t,e,n.key,a),y=deserializeField(t,e,n.value,a);u.set(m,y)}return u}return deserializeStruct(t,n,a)}catch(u){throw u instanceof BorshError&&u.addToFieldPath(e),u}}function deserializeStruct(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const a=t.get(e);if(!a)throw new BorshError(`Class ${e.name} is missing in schema`);if(a.kind==="struct"){const u={};for(const[o,p]of t.get(e).fields)u[o]=deserializeField(t,o,p,n);return new e(u)}if(a.kind==="enum"){const u=n.readU8();if(u>=a.values.length)throw new BorshError(`Enum index: ${u} is out of range`);const[o,p]=a.values[u],m=deserializeField(t,o,p,n);return new e({[o]:m})}throw new BorshError(`Unexpected schema kind: ${a.kind} for ${e.constructor.name}`)}function deserialize(t,e,n,a=BinaryReader){const u=new a(n),o=deserializeStruct(t,e,u);if(u.offset<n.length)throw new BorshError(`Unexpected ${n.length-u.offset} bytes after deserialized data`);return o}var deserialize_1=lib.deserialize=deserialize;function deserializeUnchecked(t,e,n,a=BinaryReader){const u=new a(n);return deserializeStruct(t,e,u)}deserializeUnchecked_1=lib.deserializeUnchecked=deserializeUnchecked;var Layout$1={};Object.defineProperty(Layout$1,"__esModule",{value:!0});Layout$1.s16=Layout$1.s8=Layout$1.nu64be=Layout$1.u48be=Layout$1.u40be=Layout$1.u32be=Layout$1.u24be=Layout$1.u16be=nu64=Layout$1.nu64=Layout$1.u48=Layout$1.u40=u32=Layout$1.u32=Layout$1.u24=u16=Layout$1.u16=u8=Layout$1.u8=offset=Layout$1.offset=Layout$1.greedy=Layout$1.Constant=Layout$1.UTF8=Layout$1.CString=Layout$1.Blob=Layout$1.Boolean=Layout$1.BitField=Layout$1.BitStructure=Layout$1.VariantLayout=Layout$1.Union=Layout$1.UnionLayoutDiscriminator=Layout$1.UnionDiscriminator=Layout$1.Structure=Layout$1.Sequence=Layout$1.DoubleBE=Layout$1.Double=Layout$1.FloatBE=Layout$1.Float=Layout$1.NearInt64BE=Layout$1.NearInt64=Layout$1.NearUInt64BE=Layout$1.NearUInt64=Layout$1.IntBE=Layout$1.Int=Layout$1.UIntBE=Layout$1.UInt=Layout$1.OffsetLayout=Layout$1.GreedyCount=Layout$1.ExternalLayout=Layout$1.bindConstructorLayout=Layout$1.nameWithProperty=Layout$1.Layout=Layout$1.uint8ArrayToBuffer=Layout$1.checkUint8Array=void 0;Layout$1.constant=Layout$1.utf8=Layout$1.cstr=blob=Layout$1.blob=Layout$1.unionLayoutDiscriminator=Layout$1.union=seq=Layout$1.seq=Layout$1.bits=struct=Layout$1.struct=Layout$1.f64be=Layout$1.f64=Layout$1.f32be=Layout$1.f32=Layout$1.ns64be=Layout$1.s48be=Layout$1.s40be=Layout$1.s32be=Layout$1.s24be=Layout$1.s16be=ns64=Layout$1.ns64=Layout$1.s48=Layout$1.s40=Layout$1.s32=Layout$1.s24=void 0;const buffer_1=require$$0$4;function checkUint8Array(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$1.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(t){return checkUint8Array(t),buffer_1.Buffer.from(t.buffer,t.byteOffset,t.length)}Layout$1.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}Layout$1.Layout=Layout;function nameWithProperty(t,e){return e.property?t+"["+e.property+"]":t}Layout$1.nameWithProperty=nameWithProperty;function bindConstructorLayout(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,a){return e.encode(this,n,a)},writable:!0}),Object.defineProperty(t,"decode",{value(n,a){return e.decode(n,a)},writable:!0})}Layout$1.bindConstructorLayout=bindConstructorLayout;class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$1.ExternalLayout=ExternalLayout;class GreedyCount extends ExternalLayout{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){checkUint8Array(e);const a=e.length-n;return Math.floor(a/this.elementSpan)}encode(e,n,a){return 0}}Layout$1.GreedyCount=GreedyCount;class OffsetLayout extends ExternalLayout{constructor(e,n=0,a){if(!(e instanceof Layout))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,a||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,a=0){return this.layout.encode(e,n,a+this.offset)}}Layout$1.OffsetLayout=OffsetLayout;class UInt extends Layout{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return uint8ArrayToBuffer(e).readUIntLE(n,this.span)}encode(e,n,a=0){return uint8ArrayToBuffer(n).writeUIntLE(e,a,this.span),this.span}}Layout$1.UInt=UInt;class UIntBE extends Layout{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return uint8ArrayToBuffer(e).readUIntBE(n,this.span)}encode(e,n,a=0){return uint8ArrayToBuffer(n).writeUIntBE(e,a,this.span),this.span}}Layout$1.UIntBE=UIntBE;class Int extends Layout{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return uint8ArrayToBuffer(e).readIntLE(n,this.span)}encode(e,n,a=0){return uint8ArrayToBuffer(n).writeIntLE(e,a,this.span),this.span}}Layout$1.Int=Int;class IntBE extends Layout{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return uint8ArrayToBuffer(e).readIntBE(n,this.span)}encode(e,n,a=0){return uint8ArrayToBuffer(n).writeIntBE(e,a,this.span),this.span}}Layout$1.IntBE=IntBE;const V2E32=Math.pow(2,32);function divmodInt64(t){const e=Math.floor(t/V2E32),n=t-e*V2E32;return{hi32:e,lo32:n}}function roundedInt64(t,e){return t*V2E32+e}class NearUInt64 extends Layout{constructor(e){super(8,e)}decode(e,n=0){const a=uint8ArrayToBuffer(e),u=a.readUInt32LE(n),o=a.readUInt32LE(n+4);return roundedInt64(o,u)}encode(e,n,a=0){const u=divmodInt64(e),o=uint8ArrayToBuffer(n);return o.writeUInt32LE(u.lo32,a),o.writeUInt32LE(u.hi32,a+4),8}}Layout$1.NearUInt64=NearUInt64;class NearUInt64BE extends Layout{constructor(e){super(8,e)}decode(e,n=0){const a=uint8ArrayToBuffer(e),u=a.readUInt32BE(n),o=a.readUInt32BE(n+4);return roundedInt64(u,o)}encode(e,n,a=0){const u=divmodInt64(e),o=uint8ArrayToBuffer(n);return o.writeUInt32BE(u.hi32,a),o.writeUInt32BE(u.lo32,a+4),8}}Layout$1.NearUInt64BE=NearUInt64BE;class NearInt64 extends Layout{constructor(e){super(8,e)}decode(e,n=0){const a=uint8ArrayToBuffer(e),u=a.readUInt32LE(n),o=a.readInt32LE(n+4);return roundedInt64(o,u)}encode(e,n,a=0){const u=divmodInt64(e),o=uint8ArrayToBuffer(n);return o.writeUInt32LE(u.lo32,a),o.writeInt32LE(u.hi32,a+4),8}}Layout$1.NearInt64=NearInt64;class NearInt64BE extends Layout{constructor(e){super(8,e)}decode(e,n=0){const a=uint8ArrayToBuffer(e),u=a.readInt32BE(n),o=a.readUInt32BE(n+4);return roundedInt64(u,o)}encode(e,n,a=0){const u=divmodInt64(e),o=uint8ArrayToBuffer(n);return o.writeInt32BE(u.hi32,a),o.writeUInt32BE(u.lo32,a+4),8}}Layout$1.NearInt64BE=NearInt64BE;class Float extends Layout{constructor(e){super(4,e)}decode(e,n=0){return uint8ArrayToBuffer(e).readFloatLE(n)}encode(e,n,a=0){return uint8ArrayToBuffer(n).writeFloatLE(e,a),4}}Layout$1.Float=Float;class FloatBE extends Layout{constructor(e){super(4,e)}decode(e,n=0){return uint8ArrayToBuffer(e).readFloatBE(n)}encode(e,n,a=0){return uint8ArrayToBuffer(n).writeFloatBE(e,a),4}}Layout$1.FloatBE=FloatBE;class Double extends Layout{constructor(e){super(8,e)}decode(e,n=0){return uint8ArrayToBuffer(e).readDoubleLE(n)}encode(e,n,a=0){return uint8ArrayToBuffer(n).writeDoubleLE(e,a),8}}Layout$1.Double=Double;class DoubleBE extends Layout{constructor(e){super(8,e)}decode(e,n=0){return uint8ArrayToBuffer(e).readDoubleBE(n)}encode(e,n,a=0){return uint8ArrayToBuffer(n).writeDoubleBE(e,a),8}}Layout$1.DoubleBE=DoubleBE;class Sequence extends Layout{constructor(e,n,a){if(!(e instanceof Layout))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ExternalLayout&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let u=-1;!(n instanceof ExternalLayout)&&0<e.span&&(u=n*e.span),super(u,a),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let a=0,u=this.count;if(u instanceof ExternalLayout&&(u=u.decode(e,n)),0<this.elementLayout.span)a=u*this.elementLayout.span;else{let o=0;for(;o<u;)a+=this.elementLayout.getSpan(e,n+a),++o}return a}decode(e,n=0){const a=[];let u=0,o=this.count;for(o instanceof ExternalLayout&&(o=o.decode(e,n));u<o;)a.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),u+=1;return a}encode(e,n,a=0){const u=this.elementLayout,o=e.reduce((p,m)=>p+u.encode(m,n,a+p),0);return this.count instanceof ExternalLayout&&this.count.encode(e.length,n,a),o}}Layout$1.Sequence=Sequence;class Structure extends Layout{constructor(e,n,a){if(!(Array.isArray(e)&&e.reduce((o,p)=>o&&p instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&a===void 0&&(a=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let u=-1;try{u=e.reduce((o,p)=>o+p.getSpan(),0)}catch{}super(u,n),this.fields=e,this.decodePrefixes=!!a}getSpan(e,n=0){if(0<=this.span)return this.span;let a=0;try{a=this.fields.reduce((u,o)=>{const p=o.getSpan(e,n);return n+=p,u+p},0)}catch{throw new RangeError("indeterminate span")}return a}decode(e,n=0){checkUint8Array(e);const a=this.makeDestinationObject();for(const u of this.fields)if(u.property!==void 0&&(a[u.property]=u.decode(e,n)),n+=u.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return a}encode(e,n,a=0){const u=a;let o=0,p=0;for(const m of this.fields){let y=m.span;if(p=0<y?y:0,m.property!==void 0){const w=e[m.property];w!==void 0&&(p=m.encode(w,n,a),0>y&&(y=m.getSpan(n,a)))}o=a,a+=y}return o+p-u}fromArray(e){const n=this.makeDestinationObject();for(const a of this.fields)a.property!==void 0&&0<e.length&&(n[a.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const a of this.fields){if(a.property===e)return n;0>a.span?n=-1:0<=n&&(n+=a.span)}}}Layout$1.Structure=Structure;class UnionDiscriminator{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,a){throw new Error("UnionDiscriminator is abstract")}}Layout$1.UnionDiscriminator=UnionDiscriminator;class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(e,n){if(!(e instanceof ExternalLayout&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,a){return this.layout.encode(e,n,a)}}Layout$1.UnionLayoutDiscriminator=UnionLayoutDiscriminator;class Union extends Layout{constructor(e,n,a){let u;if(e instanceof UInt||e instanceof UIntBE)u=new UnionLayoutDiscriminator(new OffsetLayout(e));else if(e instanceof ExternalLayout&&e.isCount())u=new UnionLayoutDiscriminator(e);else if(e instanceof UnionDiscriminator)u=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&(e instanceof UInt||e instanceof UIntBE)&&(o+=u.layout.span)),super(o,a),this.discriminator=u,this.usesPrefixDiscriminator=e instanceof UInt||e instanceof UIntBE,this.defaultLayout=n,this.registry={};let p=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(m){return p(m)},this.configGetSourceVariant=function(m){p=m.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const a=this.getVariant(e,n);if(!a)throw new Error("unable to determine span for unrecognized variant");return a.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const a=this.registry[n];if(a.property&&Object.prototype.hasOwnProperty.call(e,a.property))return a}throw new Error("unable to infer src variant")}decode(e,n=0){let a;const u=this.discriminator,o=u.decode(e,n),p=this.registry[o];if(p===void 0){const m=this.defaultLayout;let y=0;this.usesPrefixDiscriminator&&(y=u.layout.span),a=this.makeDestinationObject(),a[u.property]=o,a[m.property]=m.decode(e,n+y)}else a=p.decode(e,n);return a}encode(e,n,a=0){const u=this.getSourceVariant(e);if(u===void 0){const o=this.discriminator,p=this.defaultLayout;let m=0;return this.usesPrefixDiscriminator&&(m=o.layout.span),o.encode(e[o.property],n,a),m+p.encode(e[p.property],n,a+m)}return u.encode(e,n,a)}addVariant(e,n,a){const u=new VariantLayout(this,e,n,a);return this.registry[e]=u,u}getVariant(e,n=0){let a;return e instanceof Uint8Array?a=this.discriminator.decode(e,n):a=e,this.registry[a]}}Layout$1.Union=Union;class VariantLayout extends Layout{constructor(e,n,a,u){if(!(e instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof a=="string"&&u===void 0&&(u=a,a=null),a){if(!(a instanceof Layout))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=a.span&&a.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof u!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=a?a.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,u),this.union=e,this.variant=n,this.layout=a||null}getSpan(e,n=0){if(0<=this.span)return this.span;let a=0;this.union.usesPrefixDiscriminator&&(a=this.union.discriminator.layout.span);let u=0;return this.layout&&(u=this.layout.getSpan(e,n+a)),a+u}decode(e,n=0){const a=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let u=0;return this.union.usesPrefixDiscriminator&&(u=this.union.discriminator.layout.span),this.layout?a[this.property]=this.layout.decode(e,n+u):this.property?a[this.property]=!0:this.union.usesPrefixDiscriminator&&(a[this.union.discriminator.property]=this.variant),a}encode(e,n,a=0){let u=0;if(this.union.usesPrefixDiscriminator&&(u=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,a);let o=u;if(this.layout&&(this.layout.encode(e[this.property],n,a+u),o+=this.layout.getSpan(n,a+u),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Layout$1.VariantLayout=VariantLayout;function fixBitwiseResult(t){return 0>t&&(t+=4294967296),t}class BitStructure extends Layout{constructor(e,n,a){if(!(e instanceof UInt||e instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&a===void 0&&(a=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,a),this.word=e,this.msb=!!n,this.fields=[];let u=0;this._packedSetValue=function(o){return u=fixBitwiseResult(o),this},this._packedGetValue=function(){return u}}decode(e,n=0){const a=this.makeDestinationObject(),u=this.word.decode(e,n);this._packedSetValue(u);for(const o of this.fields)o.property!==void 0&&(a[o.property]=o.decode(e));return a}encode(e,n,a=0){const u=this.word.decode(n,a);this._packedSetValue(u);for(const o of this.fields)if(o.property!==void 0){const p=e[o.property];p!==void 0&&o.encode(p)}return this.word.encode(this._packedGetValue(),n,a)}addField(e,n){const a=new BitField(this,e,n);return this.fields.push(a),a}addBoolean(e){const n=new Boolean$1(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}Layout$1.BitStructure=BitStructure;class BitField{constructor(e,n,a){if(!(e instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const u=8*e.span,o=e.fields.reduce((p,m)=>p+m.bits,0);if(n+o>u)throw new Error("bits too long for span remainder ("+(u-o)+" of "+u+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=u-o-n),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=a}decode(e,n){const a=this.container._packedGetValue();return fixBitwiseResult(a&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==fixBitwiseResult(e&this.valueMask))throw new TypeError(nameWithProperty("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),a=fixBitwiseResult(e<<this.start);this.container._packedSetValue(fixBitwiseResult(n&~this.wordMask)|a)}}Layout$1.BitField=BitField;let Boolean$1=class extends BitField{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Layout$1.Boolean=Boolean$1;let Blob$1=class extends Layout{constructor(e,n){if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let a=-1;e instanceof ExternalLayout||(a=e),super(a,n),this.length=e}getSpan(e,n){let a=this.span;return 0>a&&(a=this.length.decode(e,n)),a}decode(e,n=0){let a=this.span;return 0>a&&(a=this.length.decode(e,n)),uint8ArrayToBuffer(e).slice(n,n+a)}encode(e,n,a){let u=this.length;if(this.length instanceof ExternalLayout&&(u=e.length),!(e instanceof Uint8Array&&u===e.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+u+") Uint8Array as src");if(a+u>n.length)throw new RangeError("encoding overruns Uint8Array");const o=uint8ArrayToBuffer(e);return uint8ArrayToBuffer(n).write(o.toString("hex"),a,u,"hex"),this.length instanceof ExternalLayout&&this.length.encode(u,n,a),u}};Layout$1.Blob=Blob$1;class CString extends Layout{constructor(e){super(-1,e)}getSpan(e,n=0){checkUint8Array(e);let a=n;for(;a<e.length&&e[a]!==0;)a+=1;return 1+a-n}decode(e,n=0){const a=this.getSpan(e,n);return uint8ArrayToBuffer(e).slice(n,n+a-1).toString("utf-8")}encode(e,n,a=0){typeof e!="string"&&(e=String(e));const u=buffer_1.Buffer.from(e,"utf8"),o=u.length;if(a+o>n.length)throw new RangeError("encoding overruns Buffer");const p=uint8ArrayToBuffer(n);return u.copy(p,a),p[a+o]=0,o+1}}Layout$1.CString=CString;class UTF8 extends Layout{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return checkUint8Array(e),e.length-n}decode(e,n=0){const a=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(e).slice(n,n+a).toString("utf-8")}encode(e,n,a=0){typeof e!="string"&&(e=String(e));const u=buffer_1.Buffer.from(e,"utf8"),o=u.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(a+o>n.length)throw new RangeError("encoding overruns Buffer");return u.copy(uint8ArrayToBuffer(n),a),o}}Layout$1.UTF8=UTF8;class Constant extends Layout{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,a){return 0}}Layout$1.Constant=Constant;Layout$1.greedy=(t,e)=>new GreedyCount(t,e);var offset=Layout$1.offset=(t,e,n)=>new OffsetLayout(t,e,n),u8=Layout$1.u8=t=>new UInt(1,t),u16=Layout$1.u16=t=>new UInt(2,t);Layout$1.u24=t=>new UInt(3,t);var u32=Layout$1.u32=t=>new UInt(4,t);Layout$1.u40=t=>new UInt(5,t);Layout$1.u48=t=>new UInt(6,t);var nu64=Layout$1.nu64=t=>new NearUInt64(t);Layout$1.u16be=t=>new UIntBE(2,t);Layout$1.u24be=t=>new UIntBE(3,t);Layout$1.u32be=t=>new UIntBE(4,t);Layout$1.u40be=t=>new UIntBE(5,t);Layout$1.u48be=t=>new UIntBE(6,t);Layout$1.nu64be=t=>new NearUInt64BE(t);Layout$1.s8=t=>new Int(1,t);Layout$1.s16=t=>new Int(2,t);Layout$1.s24=t=>new Int(3,t);Layout$1.s32=t=>new Int(4,t);Layout$1.s40=t=>new Int(5,t);Layout$1.s48=t=>new Int(6,t);var ns64=Layout$1.ns64=t=>new NearInt64(t);Layout$1.s16be=t=>new IntBE(2,t);Layout$1.s24be=t=>new IntBE(3,t);Layout$1.s32be=t=>new IntBE(4,t);Layout$1.s40be=t=>new IntBE(5,t);Layout$1.s48be=t=>new IntBE(6,t);Layout$1.ns64be=t=>new NearInt64BE(t);Layout$1.f32=t=>new Float(t);Layout$1.f32be=t=>new FloatBE(t);Layout$1.f64=t=>new Double(t);Layout$1.f64be=t=>new DoubleBE(t);var struct=Layout$1.struct=(t,e,n)=>new Structure(t,e,n);Layout$1.bits=(t,e,n)=>new BitStructure(t,e,n);var seq=Layout$1.seq=(t,e,n)=>new Sequence(t,e,n);Layout$1.union=(t,e,n)=>new Union(t,e,n);Layout$1.unionLayoutDiscriminator=(t,e)=>new UnionLayoutDiscriminator(t,e);var blob=Layout$1.blob=(t,e)=>new Blob$1(t,e);Layout$1.cstr=t=>new CString(t);Layout$1.utf8=(t,e)=>new UTF8(t,e);Layout$1.constant=(t,e)=>new Constant(t,e);var browser$c={};Object.defineProperty(browser$c,"__esModule",{value:!0});function toBigIntLE(t){{const e=Buffer$1$1.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var toBigIntLE_1=browser$c.toBigIntLE=toBigIntLE;function toBigIntBE(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}browser$c.toBigIntBE=toBigIntBE;function toBufferLE(t,e){{const n=t.toString(16),a=Buffer$1$1.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return a.reverse(),a}}var toBufferLE_1=browser$c.toBufferLE=toBufferLE;function toBufferBE(t,e){{const n=t.toString(16);return Buffer$1$1.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}browser$c.toBufferBE=toBufferBE;class StructError extends TypeError{constructor(e,n){let a;const{message:u,...o}=e,{path:p}=e,m=p.length===0?u:"At path: "+p.join(".")+" -- "+u;super(m),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var y;return(y=a)!=null?y:a=[e,...n()]}}}function isIterable(t){return isObject(t)&&typeof t[Symbol.iterator]=="function"}function isObject(t){return typeof t=="object"&&t!=null}function print(t){return typeof t=="string"?JSON.stringify(t):""+t}function shiftIterator(t){const{done:e,value:n}=t.next();return e?void 0:n}function toFailure(t,e,n,a){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:u,branch:o}=e,{type:p}=n,{refinement:m,message:y="Expected a value of type `"+p+"`"+(m?" with refinement `"+m+"`":"")+", but received: `"+print(a)+"`"}=t;return{value:a,type:p,refinement:m,key:u[u.length-1],path:u,branch:o,...t,message:y}}function*toFailures(t,e,n,a){isIterable(t)||(t=[t]);for(const u of t){const o=toFailure(u,e,n,a);o&&(yield o)}}function*run(t,e,n={}){const{path:a=[],branch:u=[t],coerce:o=!1,mask:p=!1}=n,m={path:a,branch:u};if(o&&(t=e.coercer(t,m),p&&e.type!=="type"&&isObject(e.schema)&&isObject(t)&&!Array.isArray(t)))for(const w in t)e.schema[w]===void 0&&delete t[w];let y=!0;for(const w of e.validator(t,m))y=!1,yield[w,void 0];for(let[w,_,M]of e.entries(t,m)){const T=run(_,M,{path:w===void 0?a:[...a,w],branch:w===void 0?u:[...u,_],coerce:o,mask:p});for(const B of T)B[0]?(y=!1,yield[B[0],void 0]):o&&(_=B[1],w===void 0?t=_:t instanceof Map?t.set(w,_):t instanceof Set?t.add(_):isObject(t)&&(t[w]=_))}if(y)for(const w of e.refiner(t,m))y=!1,yield[w,void 0];y&&(yield[void 0,t])}let Struct$1=class{constructor(e){const{type:n,schema:a,validator:u,refiner:o,coercer:p=y=>y,entries:m=function*(){}}=e;this.type=n,this.schema=a,this.entries=m,this.coercer=p,u?this.validator=(y,w)=>{const _=u(y,w);return toFailures(_,w,this,y)}:this.validator=()=>[],o?this.refiner=(y,w)=>{const _=o(y,w);return toFailures(_,w,this,y)}:this.refiner=()=>[]}assert(e){return assert$1(e,this)}create(e){return create(e,this)}is(e){return is(e,this)}mask(e){return mask(e,this)}validate(e,n={}){return validate$1(e,this,n)}};function assert$1(t,e){const n=validate$1(t,e);if(n[0])throw n[0]}function create(t,e){const n=validate$1(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function mask(t,e){const n=validate$1(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function is(t,e){return!validate$1(t,e)[0]}function validate$1(t,e,n={}){const a=run(t,e,n),u=shiftIterator(a);return u[0]?[new StructError(u[0],function*(){for(const p of a)p[0]&&(yield p[0])}),void 0]:[void 0,u[1]]}function define(t,e){return new Struct$1({type:t,schema:null,validator:e})}function any(){return define("any",()=>!0)}function array(t){return new Struct$1({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,a]of e.entries())yield[n,a,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print(e)}})}function boolean(){return define("boolean",t=>typeof t=="boolean")}function instance(t){return define("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+print(e))}function literal(t){const e=print(t),n=typeof t;return new Struct$1({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(a){return a===t||"Expected the literal `"+e+"`, but received: "+print(a)}})}function never(){return define("never",()=>!1)}function nullable(t){return new Struct$1({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function number(){return define("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+print(t))}function optional(t){return new Struct$1({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function record(t,e){return new Struct$1({type:"record",schema:null,*entries(n){if(isObject(n))for(const a in n){const u=n[a];yield[a,a,t],yield[a,u,e]}},validator(n){return isObject(n)||"Expected an object, but received: "+print(n)}})}function string(){return define("string",t=>typeof t=="string"||"Expected a string, but received: "+print(t))}function tuple(t){const e=never();return new Struct$1({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const a=Math.max(t.length,n.length);for(let u=0;u<a;u++)yield[u,n[u],t[u]||e]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+print(n)}})}function type(t){const e=Object.keys(t);return new Struct$1({type:"type",schema:t,*entries(n){if(isObject(n))for(const a of e)yield[a,n[a],t[a]]},validator(n){return isObject(n)||"Expected an object, but received: "+print(n)}})}function union(t){const e=t.map(n=>n.type).join(" | ");return new Struct$1({type:"union",schema:null,validator(n,a){const u=[];for(const o of t){const[...p]=run(n,o,a),[m]=p;if(m[0])for(const[y]of p)y&&u.push(y);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print(n),...u]}})}function unknown(){return define("unknown",()=>!0)}function coerce(t,e,n){return new Struct$1({...t,coercer:(a,u)=>is(a,e)?t.coercer(n(a,u),u):t.coercer(a,u)})}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(t){return typeof t=="string"&&REGEX.test(t)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify$1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase();if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(t,e,n){var a=e&&n||0,u=e||new Array(16);t=t||{};var o=t.node||_nodeId,p=t.clockseq!==void 0?t.clockseq:_clockseq;if(o==null||p==null){var m=t.random||(t.rng||rng)();o==null&&(o=_nodeId=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),p==null&&(p=_clockseq=(m[6]<<8|m[7])&16383)}var y=t.msecs!==void 0?t.msecs:Date.now(),w=t.nsecs!==void 0?t.nsecs:_lastNSecs+1,_=y-_lastMSecs+(w-_lastNSecs)/1e4;if(_<0&&t.clockseq===void 0&&(p=p+1&16383),(_<0||y>_lastMSecs)&&t.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=y,_lastNSecs=w,_clockseq=p,y+=122192928e5;var M=((y&268435455)*1e4+w)%4294967296;u[a++]=M>>>24&255,u[a++]=M>>>16&255,u[a++]=M>>>8&255,u[a++]=M&255;var T=y/4294967296*1e4&268435455;u[a++]=T>>>8&255,u[a++]=T&255,u[a++]=T>>>24&15|16,u[a++]=T>>>16&255,u[a++]=p>>>8|128,u[a++]=p&255;for(var B=0;B<6;++B)u[a+B]=o[B];return e||stringify$1(u)}function parse(t){if(!validate(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function stringToBytes(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(t,e,n){function a(u,o,p,m){if(typeof u=="string"&&(u=stringToBytes(u)),typeof o=="string"&&(o=parse(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var y=new Uint8Array(16+u.length);if(y.set(o),y.set(u,o.length),y=n(y),y[6]=y[6]&15|e,y[8]=y[8]&63|128,p){m=m||0;for(var w=0;w<16;++w)p[m+w]=y[w];return p}return stringify$1(y)}try{a.name=t}catch{}return a.DNS=DNS,a.URL=URL$1,a}function md5$2(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(t),t.length*8))}function md5ToHexEncodedArray(t){for(var e=[],n=t.length*32,a="0123456789abcdef",u=0;u<n;u+=8){var o=t[u>>5]>>>u%32&255,p=parseInt(a.charAt(o>>>4&15)+a.charAt(o&15),16);e.push(p)}return e}function getOutputLength(t){return(t+64>>>9<<4)+14+1}function wordsToMd5(t,e){t[e>>5]|=128<<e%32,t[getOutputLength(e)-1]=e;for(var n=1732584193,a=-271733879,u=-1732584194,o=271733878,p=0;p<t.length;p+=16){var m=n,y=a,w=u,_=o;n=md5ff(n,a,u,o,t[p],7,-680876936),o=md5ff(o,n,a,u,t[p+1],12,-389564586),u=md5ff(u,o,n,a,t[p+2],17,606105819),a=md5ff(a,u,o,n,t[p+3],22,-1044525330),n=md5ff(n,a,u,o,t[p+4],7,-176418897),o=md5ff(o,n,a,u,t[p+5],12,1200080426),u=md5ff(u,o,n,a,t[p+6],17,-1473231341),a=md5ff(a,u,o,n,t[p+7],22,-45705983),n=md5ff(n,a,u,o,t[p+8],7,1770035416),o=md5ff(o,n,a,u,t[p+9],12,-1958414417),u=md5ff(u,o,n,a,t[p+10],17,-42063),a=md5ff(a,u,o,n,t[p+11],22,-1990404162),n=md5ff(n,a,u,o,t[p+12],7,1804603682),o=md5ff(o,n,a,u,t[p+13],12,-40341101),u=md5ff(u,o,n,a,t[p+14],17,-1502002290),a=md5ff(a,u,o,n,t[p+15],22,1236535329),n=md5gg(n,a,u,o,t[p+1],5,-165796510),o=md5gg(o,n,a,u,t[p+6],9,-1069501632),u=md5gg(u,o,n,a,t[p+11],14,643717713),a=md5gg(a,u,o,n,t[p],20,-373897302),n=md5gg(n,a,u,o,t[p+5],5,-701558691),o=md5gg(o,n,a,u,t[p+10],9,38016083),u=md5gg(u,o,n,a,t[p+15],14,-660478335),a=md5gg(a,u,o,n,t[p+4],20,-405537848),n=md5gg(n,a,u,o,t[p+9],5,568446438),o=md5gg(o,n,a,u,t[p+14],9,-1019803690),u=md5gg(u,o,n,a,t[p+3],14,-187363961),a=md5gg(a,u,o,n,t[p+8],20,1163531501),n=md5gg(n,a,u,o,t[p+13],5,-1444681467),o=md5gg(o,n,a,u,t[p+2],9,-51403784),u=md5gg(u,o,n,a,t[p+7],14,1735328473),a=md5gg(a,u,o,n,t[p+12],20,-1926607734),n=md5hh(n,a,u,o,t[p+5],4,-378558),o=md5hh(o,n,a,u,t[p+8],11,-2022574463),u=md5hh(u,o,n,a,t[p+11],16,1839030562),a=md5hh(a,u,o,n,t[p+14],23,-35309556),n=md5hh(n,a,u,o,t[p+1],4,-1530992060),o=md5hh(o,n,a,u,t[p+4],11,1272893353),u=md5hh(u,o,n,a,t[p+7],16,-155497632),a=md5hh(a,u,o,n,t[p+10],23,-1094730640),n=md5hh(n,a,u,o,t[p+13],4,681279174),o=md5hh(o,n,a,u,t[p],11,-358537222),u=md5hh(u,o,n,a,t[p+3],16,-722521979),a=md5hh(a,u,o,n,t[p+6],23,76029189),n=md5hh(n,a,u,o,t[p+9],4,-640364487),o=md5hh(o,n,a,u,t[p+12],11,-421815835),u=md5hh(u,o,n,a,t[p+15],16,530742520),a=md5hh(a,u,o,n,t[p+2],23,-995338651),n=md5ii(n,a,u,o,t[p],6,-198630844),o=md5ii(o,n,a,u,t[p+7],10,1126891415),u=md5ii(u,o,n,a,t[p+14],15,-1416354905),a=md5ii(a,u,o,n,t[p+5],21,-57434055),n=md5ii(n,a,u,o,t[p+12],6,1700485571),o=md5ii(o,n,a,u,t[p+3],10,-1894986606),u=md5ii(u,o,n,a,t[p+10],15,-1051523),a=md5ii(a,u,o,n,t[p+1],21,-2054922799),n=md5ii(n,a,u,o,t[p+8],6,1873313359),o=md5ii(o,n,a,u,t[p+15],10,-30611744),u=md5ii(u,o,n,a,t[p+6],15,-1560198380),a=md5ii(a,u,o,n,t[p+13],21,1309151649),n=md5ii(n,a,u,o,t[p+4],6,-145523070),o=md5ii(o,n,a,u,t[p+11],10,-1120210379),u=md5ii(u,o,n,a,t[p+2],15,718787259),a=md5ii(a,u,o,n,t[p+9],21,-343485551),n=safeAdd(n,m),a=safeAdd(a,y),u=safeAdd(u,w),o=safeAdd(o,_)}return[n,a,u,o]}function bytesToWords(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(getOutputLength(e)),a=0;a<e;a+=8)n[a>>5]|=(t[a/8]&255)<<a%32;return n}function safeAdd(t,e){var n=(t&65535)+(e&65535),a=(t>>16)+(e>>16)+(n>>16);return a<<16|n&65535}function bitRotateLeft(t,e){return t<<e|t>>>32-e}function md5cmn(t,e,n,a,u,o){return safeAdd(bitRotateLeft(safeAdd(safeAdd(e,t),safeAdd(a,o)),u),n)}function md5ff(t,e,n,a,u,o,p){return md5cmn(e&n|~e&a,t,e,u,o,p)}function md5gg(t,e,n,a,u,o,p){return md5cmn(e&a|n&~a,t,e,u,o,p)}function md5hh(t,e,n,a,u,o,p){return md5cmn(e^n^a,t,e,u,o,p)}function md5ii(t,e,n,a,u,o,p){return md5cmn(n^(e|~a),t,e,u,o,p)}var v3=v35("v3",48,md5$2);const v3$1=v3;function v4(t,e,n){t=t||{};var a=t.random||(t.rng||rng)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,e){n=n||0;for(var u=0;u<16;++u)e[n+u]=a[u];return e}return stringify$1(a)}function f(t,e,n,a){switch(t){case 0:return e&n^~e&a;case 1:return e^n^a;case 2:return e&n^e&a^n&a;case 3:return e^n^a}}function ROTL(t,e){return t<<e|t>>>32-e}function sha1(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var a=unescape(encodeURIComponent(t));t=[];for(var u=0;u<a.length;++u)t.push(a.charCodeAt(u))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,p=Math.ceil(o/16),m=new Array(p),y=0;y<p;++y){for(var w=new Uint32Array(16),_=0;_<16;++_)w[_]=t[y*64+_*4]<<24|t[y*64+_*4+1]<<16|t[y*64+_*4+2]<<8|t[y*64+_*4+3];m[y]=w}m[p-1][14]=(t.length-1)*8/Math.pow(2,32),m[p-1][14]=Math.floor(m[p-1][14]),m[p-1][15]=(t.length-1)*8&4294967295;for(var M=0;M<p;++M){for(var T=new Uint32Array(80),B=0;B<16;++B)T[B]=m[M][B];for(var P=16;P<80;++P)T[P]=ROTL(T[P-3]^T[P-8]^T[P-14]^T[P-16],1);for(var C=n[0],L=n[1],U=n[2],q=n[3],G=n[4],X=0;X<80;++X){var te=Math.floor(X/20),ne=ROTL(C,5)+f(te,L,U,q)+G+e[te]+T[X]>>>0;G=q,q=U,U=ROTL(L,30)>>>0,L=C,C=ne}n[0]=n[0]+C>>>0,n[1]=n[1]+L>>>0,n[2]=n[2]+U>>>0,n[3]=n[3]+q>>>0,n[4]=n[4]+G>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var v5=v35("v5",80,sha1);const v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version$3(t){if(!validate(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,NIL:nil,parse,stringify:stringify$1,v1,v3:v3$1,v4,v5:v5$1,validate,version:version$3},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(esmBrowser),uuid$1=require$$0$2.v4,generateRequest$1=function(t,e,n,a){if(typeof t!="string")throw new TypeError(t+" must be a string");a=a||{};const u=typeof a.version=="number"?a.version:2;if(u!==1&&u!==2)throw new TypeError(u+" must be 1 or 2");const o={method:t};if(u===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof n>"u"){const p=typeof a.generator=="function"?a.generator:function(){return uuid$1()};o.id=p(o,a)}else u===2&&n===null?a.notificationIdNull&&(o.id=null):o.id=n;return o};var generateRequest_1=generateRequest$1;const uuid=require$$0$2.v4,generateRequest=generateRequest_1,ClientBrowser=function(t,e){if(!(this instanceof ClientBrowser))return new ClientBrowser(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uuid()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var browser$b=ClientBrowser;ClientBrowser.prototype.request=function(t,e,n,a){const u=this;let o=null;const p=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&p)throw new TypeError("JSON-RPC 1.0 does not support batching");if(p||!p&&t&&typeof t=="object"&&typeof e=="function")a=e,o=t;else{typeof n=="function"&&(a=n,n=void 0);const w=typeof a=="function";try{o=generateRequest(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(_){if(w)return a(_);throw _}if(!w)return o}let y;try{y=JSON.stringify(o,this.options.replacer)}catch(w){return a(w)}return this.callServer(y,function(w,_){u._parseResponse(w,_,a)}),o};ClientBrowser.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let a;try{a=JSON.parse(e,this.options.reviver)}catch(u){return n(u)}if(n.length===3)if(Array.isArray(a)){const u=function(p){return typeof p.error<"u"},o=function(p){return!u(p)};return n(null,a.filter(u),a.filter(o))}else return n(null,a.error,a.result);n(null,a)};const RpcClient=getDefaultExportFromCjs$1(browser$b);var client={},eventemitter3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function u(y,w,_){this.fn=y,this.context=w,this.once=_||!1}function o(y,w,_,M,T){if(typeof _!="function")throw new TypeError("The listener must be a function");var B=new u(_,M||y,T),P=n?n+w:w;return y._events[P]?y._events[P].fn?y._events[P]=[y._events[P],B]:y._events[P].push(B):(y._events[P]=B,y._eventsCount++),y}function p(y,w){--y._eventsCount===0?y._events=new a:delete y._events[w]}function m(){this._events=new a,this._eventsCount=0}m.prototype.eventNames=function(){var w=[],_,M;if(this._eventsCount===0)return w;for(M in _=this._events)e.call(_,M)&&w.push(n?M.slice(1):M);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(_)):w},m.prototype.listeners=function(w){var _=n?n+w:w,M=this._events[_];if(!M)return[];if(M.fn)return[M.fn];for(var T=0,B=M.length,P=new Array(B);T<B;T++)P[T]=M[T].fn;return P},m.prototype.listenerCount=function(w){var _=n?n+w:w,M=this._events[_];return M?M.fn?1:M.length:0},m.prototype.emit=function(w,_,M,T,B,P){var C=n?n+w:w;if(!this._events[C])return!1;var L=this._events[C],U=arguments.length,q,G;if(L.fn){switch(L.once&&this.removeListener(w,L.fn,void 0,!0),U){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,_),!0;case 3:return L.fn.call(L.context,_,M),!0;case 4:return L.fn.call(L.context,_,M,T),!0;case 5:return L.fn.call(L.context,_,M,T,B),!0;case 6:return L.fn.call(L.context,_,M,T,B,P),!0}for(G=1,q=new Array(U-1);G<U;G++)q[G-1]=arguments[G];L.fn.apply(L.context,q)}else{var X=L.length,te;for(G=0;G<X;G++)switch(L[G].once&&this.removeListener(w,L[G].fn,void 0,!0),U){case 1:L[G].fn.call(L[G].context);break;case 2:L[G].fn.call(L[G].context,_);break;case 3:L[G].fn.call(L[G].context,_,M);break;case 4:L[G].fn.call(L[G].context,_,M,T);break;default:if(!q)for(te=1,q=new Array(U-1);te<U;te++)q[te-1]=arguments[te];L[G].fn.apply(L[G].context,q)}}return!0},m.prototype.on=function(w,_,M){return o(this,w,_,M,!1)},m.prototype.once=function(w,_,M){return o(this,w,_,M,!0)},m.prototype.removeListener=function(w,_,M,T){var B=n?n+w:w;if(!this._events[B])return this;if(!_)return p(this,B),this;var P=this._events[B];if(P.fn)P.fn===_&&(!T||P.once)&&(!M||P.context===M)&&p(this,B);else{for(var C=0,L=[],U=P.length;C<U;C++)(P[C].fn!==_||T&&!P[C].once||M&&P[C].context!==M)&&L.push(P[C]);L.length?this._events[B]=L.length===1?L[0]:L:p(this,B)}return this},m.prototype.removeAllListeners=function(w){var _;return w?(_=n?n+w:w,this._events[_]&&p(this,_)):(this._events=new a,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=n,m.EventEmitter=m,t.exports=m})(eventemitter3);var eventemitter3Exports=eventemitter3.exports,utils$5={};Object.defineProperty(utils$5,"__esModule",{value:!0});utils$5.createError=utils$5.DefaultDataPack=void 0;const errors=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);class DefaultDataPack{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}}utils$5.DefaultDataPack=DefaultDataPack;function createError(t,e){const n={code:t,message:errors.get(t)||"Internal Server Error"};return e&&(n.data=e),n}utils$5.createError=createError;Object.defineProperty(client,"__esModule",{value:!0});const eventemitter3_1$1=eventemitter3Exports,utils_1=utils$5;class CommonClient extends eventemitter3_1$1.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,n="ws://localhost:8080",{autoconnect:a=!0,reconnect:u=!0,reconnect_interval:o=1e3,max_reconnects:p=5,...m}={},y,w){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=a,this.ready=!1,this.reconnect=u,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=p,this.rest_options=m,this.current_reconnects=0,this.generate_request_id=y||(()=>++this.rpc_id),w?this.dataPack=w:this.dataPack=new utils_1.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,a,u){return!u&&typeof a=="object"&&(u=a,a=null),new Promise((o,p)=>{if(!this.ready)return p(new Error("socket not ready"));const m=this.generate_request_id(e,n),y={jsonrpc:"2.0",method:e,params:n||void 0,id:m};this.socket.send(this.dataPack.encode(y),u,w=>{if(w)return p(w);this.queue[m]={promise:[o,p]},a&&(this.queue[m].timeout=setTimeout(()=>{delete this.queue[m],p(new Error("reply timeout"))},a))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((a,u)=>{if(!this.ready)return u(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(o),p=>{if(p)return u(p);a()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:a})=>{a instanceof ArrayBuffer&&(a=Buffer$1$1.from(a).toString());try{a=this.dataPack.decode(a)}catch{return}if(a.notification&&this.listeners(a.notification).length){if(!Object.keys(a.params).length)return this.emit(a.notification);const u=[a.notification];if(a.params.constructor===Object)u.push(a.params);else for(let o=0;o<a.params.length;o++)u.push(a.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,u)})}if(!this.queue[a.id])return a.method?Promise.resolve().then(()=>{this.emit(a.method,a?.params)}):void 0;"error"in a=="result"in a&&this.queue[a.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[a.id].timeout&&clearTimeout(this.queue[a.id].timeout),a.error?this.queue[a.id].promise[1](a.error):this.queue[a.id].promise[0](a.result),delete this.queue[a.id]}),this.socket.addEventListener("error",a=>this.emit("error",a)),this.socket.addEventListener("close",({code:a,reason:u})=>{this.ready&&setTimeout(()=>this.emit("close",a,u),0),this.ready=!1,this.socket=void 0,a!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}}var _default$1=client.default=CommonClient,websocket_browser={};Object.defineProperty(websocket_browser,"__esModule",{value:!0});const eventemitter3_1=eventemitter3Exports;class WebSocketBrowserImpl extends eventemitter3_1.EventEmitter{socket;constructor(e,n,a){super(),this.socket=new window.WebSocket(e,a),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=u=>this.emit("message",u.data),this.socket.onerror=u=>this.emit("error",u),this.socket.onclose=u=>{this.emit("close",u.code,u.reason)}}send(e,n,a){const u=a||n;try{this.socket.send(e),u()}catch(o){u(o)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,a){this.socket.addEventListener(e,n,a)}}function default_1(t,e){return new WebSocketBrowserImpl(t,e)}var _default=websocket_browser.default=default_1;function validatePointOpts(t){const e=validateBasic(t);validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:a,a:u}=e;if(n){if(!a.eql(u,a.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=DER;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],a=t.subarray(2,n+2);if(!n||a.length!==n)throw new e("Invalid signature integer: wrong length");if(a[0]&128)throw new e("Invalid signature integer: negative");if(a[0]===0&&!(a[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:b2n(a),l:t.subarray(n+2)}},toSig(t){const{Err:e}=DER,n=typeof t=="string"?h2b(t):t;abytes(n);let a=n.length;if(a<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==a-2)throw new e("Invalid signature: incorrect length");const{d:u,l:o}=DER._parseInt(n.subarray(2)),{d:p,l:m}=DER._parseInt(o);if(m.length)throw new e("Invalid signature: left bytes after parsing");return{r:u,s:p}},hexFromSig(t){const e=w=>Number.parseInt(w[0],16)&8?"00"+w:w,n=w=>{const _=w.toString(16);return _.length&1?`0${_}`:_},a=e(n(t.s)),u=e(n(t.r)),o=a.length/2,p=u.length/2,m=n(o),y=n(p);return`30${n(p+o+4)}02${y}${u}02${m}${a}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(t){const e=validatePointOpts(t),{Fp:n}=e,a=e.toBytes||((P,C,L)=>{const U=C.toAffine();return concatBytes(Uint8Array.from([4]),n.toBytes(U.x),n.toBytes(U.y))}),u=e.fromBytes||(P=>{const C=P.subarray(1),L=n.fromBytes(C.subarray(0,n.BYTES)),U=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:L,y:U}});function o(P){const{a:C,b:L}=e,U=n.sqr(P),q=n.mul(U,P);return n.add(n.add(q,n.mul(P,C)),L)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function p(P){return typeof P=="bigint"&&_0n<P&&P<e.n}function m(P){if(!p(P))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function y(P){const{allowedPrivateKeyLengths:C,nByteLength:L,wrapPrivateKey:U,n:q}=e;if(C&&typeof P!="bigint"){if(isBytes(P)&&(P=bytesToHex(P)),typeof P!="string"||!C.includes(P.length))throw new Error("Invalid key");P=P.padStart(L*2,"0")}let G;try{G=typeof P=="bigint"?P:bytesToNumberBE(ensureBytes("private key",P,L))}catch{throw new Error(`private key must be ${L} bytes, hex or bigint, not ${typeof P}`)}return U&&(G=mod(G,q)),m(G),G}const w=new Map;function _(P){if(!(P instanceof M))throw new Error("ProjectivePoint expected")}class M{constructor(C,L,U){if(this.px=C,this.py=L,this.pz=U,C==null||!n.isValid(C))throw new Error("x required");if(L==null||!n.isValid(L))throw new Error("y required");if(U==null||!n.isValid(U))throw new Error("z required")}static fromAffine(C){const{x:L,y:U}=C||{};if(!C||!n.isValid(L)||!n.isValid(U))throw new Error("invalid affine point");if(C instanceof M)throw new Error("projective point not allowed");const q=G=>n.eql(G,n.ZERO);return q(L)&&q(U)?M.ZERO:new M(L,U,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){const L=n.invertBatch(C.map(U=>U.pz));return C.map((U,q)=>U.toAffine(L[q])).map(M.fromAffine)}static fromHex(C){const L=M.fromAffine(u(ensureBytes("pointHex",C)));return L.assertValidity(),L}static fromPrivateKey(C){return M.BASE.multiply(y(C))}_setWindowSize(C){this._WINDOW_SIZE=C,w.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:C,y:L}=this.toAffine();if(!n.isValid(C)||!n.isValid(L))throw new Error("bad point: x or y not FE");const U=n.sqr(L),q=o(C);if(!n.eql(U,q))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:C}=this.toAffine();if(n.isOdd)return!n.isOdd(C);throw new Error("Field doesn't support isOdd")}equals(C){_(C);const{px:L,py:U,pz:q}=this,{px:G,py:X,pz:te}=C,ne=n.eql(n.mul(L,te),n.mul(G,q)),ge=n.eql(n.mul(U,te),n.mul(X,q));return ne&&ge}negate(){return new M(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:L}=e,U=n.mul(L,_3n),{px:q,py:G,pz:X}=this;let te=n.ZERO,ne=n.ZERO,ge=n.ZERO,pe=n.mul(q,q),se=n.mul(G,G),Se=n.mul(X,X),k=n.mul(q,G);return k=n.add(k,k),ge=n.mul(q,X),ge=n.add(ge,ge),te=n.mul(C,ge),ne=n.mul(U,Se),ne=n.add(te,ne),te=n.sub(se,ne),ne=n.add(se,ne),ne=n.mul(te,ne),te=n.mul(k,te),ge=n.mul(U,ge),Se=n.mul(C,Se),k=n.sub(pe,Se),k=n.mul(C,k),k=n.add(k,ge),ge=n.add(pe,pe),pe=n.add(ge,pe),pe=n.add(pe,Se),pe=n.mul(pe,k),ne=n.add(ne,pe),Se=n.mul(G,X),Se=n.add(Se,Se),pe=n.mul(Se,k),te=n.sub(te,pe),ge=n.mul(Se,se),ge=n.add(ge,ge),ge=n.add(ge,ge),new M(te,ne,ge)}add(C){_(C);const{px:L,py:U,pz:q}=this,{px:G,py:X,pz:te}=C;let ne=n.ZERO,ge=n.ZERO,pe=n.ZERO;const se=e.a,Se=n.mul(e.b,_3n);let k=n.mul(L,G),c=n.mul(U,X),d=n.mul(q,te),b=n.add(L,U),v=n.add(G,X);b=n.mul(b,v),v=n.add(k,c),b=n.sub(b,v),v=n.add(L,q);let A=n.add(G,te);return v=n.mul(v,A),A=n.add(k,d),v=n.sub(v,A),A=n.add(U,q),ne=n.add(X,te),A=n.mul(A,ne),ne=n.add(c,d),A=n.sub(A,ne),pe=n.mul(se,v),ne=n.mul(Se,d),pe=n.add(ne,pe),ne=n.sub(c,pe),pe=n.add(c,pe),ge=n.mul(ne,pe),c=n.add(k,k),c=n.add(c,k),d=n.mul(se,d),v=n.mul(Se,v),c=n.add(c,d),d=n.sub(k,d),d=n.mul(se,d),v=n.add(v,d),k=n.mul(c,v),ge=n.add(ge,k),k=n.mul(A,v),ne=n.mul(b,ne),ne=n.sub(ne,k),k=n.mul(b,c),pe=n.mul(A,pe),pe=n.add(pe,k),new M(ne,ge,pe)}subtract(C){return this.add(C.negate())}is0(){return this.equals(M.ZERO)}wNAF(C){return B.wNAFCached(this,w,C,L=>{const U=n.invertBatch(L.map(q=>q.pz));return L.map((q,G)=>q.toAffine(U[G])).map(M.fromAffine)})}multiplyUnsafe(C){const L=M.ZERO;if(C===_0n)return L;if(m(C),C===_1n$1)return this;const{endo:U}=e;if(!U)return B.unsafeLadder(this,C);let{k1neg:q,k1:G,k2neg:X,k2:te}=U.splitScalar(C),ne=L,ge=L,pe=this;for(;G>_0n||te>_0n;)G&_1n$1&&(ne=ne.add(pe)),te&_1n$1&&(ge=ge.add(pe)),pe=pe.double(),G>>=_1n$1,te>>=_1n$1;return q&&(ne=ne.negate()),X&&(ge=ge.negate()),ge=new M(n.mul(ge.px,U.beta),ge.py,ge.pz),ne.add(ge)}multiply(C){m(C);let L=C,U,q;const{endo:G}=e;if(G){const{k1neg:X,k1:te,k2neg:ne,k2:ge}=G.splitScalar(L);let{p:pe,f:se}=this.wNAF(te),{p:Se,f:k}=this.wNAF(ge);pe=B.constTimeNegate(X,pe),Se=B.constTimeNegate(ne,Se),Se=new M(n.mul(Se.px,G.beta),Se.py,Se.pz),U=pe.add(Se),q=se.add(k)}else{const{p:X,f:te}=this.wNAF(L);U=X,q=te}return M.normalizeZ([U,q])[0]}multiplyAndAddUnsafe(C,L,U){const q=M.BASE,G=(te,ne)=>ne===_0n||ne===_1n$1||!te.equals(q)?te.multiplyUnsafe(ne):te.multiply(ne),X=G(this,L).add(G(C,U));return X.is0()?void 0:X}toAffine(C){const{px:L,py:U,pz:q}=this,G=this.is0();C==null&&(C=G?n.ONE:n.inv(q));const X=n.mul(L,C),te=n.mul(U,C),ne=n.mul(q,C);if(G)return{x:n.ZERO,y:n.ZERO};if(!n.eql(ne,n.ONE))throw new Error("invZ was invalid");return{x:X,y:te}}isTorsionFree(){const{h:C,isTorsionFree:L}=e;if(C===_1n$1)return!0;if(L)return L(M,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:C,clearCofactor:L}=e;return C===_1n$1?this:L?L(M,this):this.multiplyUnsafe(e.h)}toRawBytes(C=!0){return this.assertValidity(),a(M,this,C)}toHex(C=!0){return bytesToHex(this.toRawBytes(C))}}M.BASE=new M(e.Gx,e.Gy,n.ONE),M.ZERO=new M(n.ZERO,n.ONE,n.ZERO);const T=e.nBitLength,B=wNAF(M,e.endo?Math.ceil(T/2):T);return{CURVE:e,ProjectivePoint:M,normPrivateKeyToScalar:y,weierstrassEquation:o,isWithinCurveOrder:p}}function validateOpts(t){const e=validateBasic(t);return validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function weierstrass(t){const e=validateOpts(t),{Fp:n,n:a}=e,u=n.BYTES+1,o=2*n.BYTES+1;function p(v){return _0n<v&&v<n.ORDER}function m(v){return mod(v,a)}function y(v){return invert(v,a)}const{ProjectivePoint:w,normPrivateKeyToScalar:_,weierstrassEquation:M,isWithinCurveOrder:T}=weierstrassPoints({...e,toBytes(v,A,$){const I=A.toAffine(),S=n.toBytes(I.x),l=concatBytes;return $?l(Uint8Array.from([A.hasEvenY()?2:3]),S):l(Uint8Array.from([4]),S,n.toBytes(I.y))},fromBytes(v){const A=v.length,$=v[0],I=v.subarray(1);if(A===u&&($===2||$===3)){const S=bytesToNumberBE(I);if(!p(S))throw new Error("Point is not on curve");const l=M(S);let E;try{E=n.sqrt(l)}catch(Y){const F=Y instanceof Error?": "+Y.message:"";throw new Error("Point is not on curve"+F)}const O=(E&_1n$1)===_1n$1;return($&1)===1!==O&&(E=n.neg(E)),{x:S,y:E}}else if(A===o&&$===4){const S=n.fromBytes(I.subarray(0,n.BYTES)),l=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:S,y:l}}else throw new Error(`Point of length ${A} was invalid. Expected ${u} compressed bytes or ${o} uncompressed bytes`)}}),B=v=>bytesToHex(numberToBytesBE(v,e.nByteLength));function P(v){const A=a>>_1n$1;return v>A}function C(v){return P(v)?m(-v):v}const L=(v,A,$)=>bytesToNumberBE(v.slice(A,$));class U{constructor(A,$,I){this.r=A,this.s=$,this.recovery=I,this.assertValidity()}static fromCompact(A){const $=e.nByteLength;return A=ensureBytes("compactSignature",A,$*2),new U(L(A,0,$),L(A,$,2*$))}static fromDER(A){const{r:$,s:I}=DER.toSig(ensureBytes("DER",A));return new U($,I)}assertValidity(){if(!T(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!T(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new U(this.r,this.s,A)}recoverPublicKey(A){const{r:$,s:I,recovery:S}=this,l=ge(ensureBytes("msgHash",A));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const E=S===2||S===3?$+e.n:$;if(E>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const O=S&1?"03":"02",D=w.fromHex(O+B(E)),Y=y(E),F=m(-l*Y),V=m(I*Y),H=w.BASE.multiplyAndAddUnsafe(D,F,V);if(!H)throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return P(this.s)}normalizeS(){return this.hasHighS()?new U(this.r,m(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return B(this.r)+B(this.s)}}const q={isValidPrivateKey(v){try{return _(v),!0}catch{return!1}},normPrivateKeyToScalar:_,randomPrivateKey:()=>{const v=getMinHashLength(e.n);return mapHashToField(e.randomBytes(v),e.n)},precompute(v=8,A=w.BASE){return A._setWindowSize(v),A.multiply(BigInt(3)),A}};function G(v,A=!0){return w.fromPrivateKey(v).toRawBytes(A)}function X(v){const A=isBytes(v),$=typeof v=="string",I=(A||$)&&v.length;return A?I===u||I===o:$?I===2*u||I===2*o:v instanceof w}function te(v,A,$=!0){if(X(v))throw new Error("first arg must be private key");if(!X(A))throw new Error("second arg must be public key");return w.fromHex(A).multiply(_(v)).toRawBytes($)}const ne=e.bits2int||function(v){const A=bytesToNumberBE(v),$=v.length*8-e.nBitLength;return $>0?A>>BigInt($):A},ge=e.bits2int_modN||function(v){return m(ne(v))},pe=bitMask(e.nBitLength);function se(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(_0n<=v&&v<pe))throw new Error(`bigint expected < 2^${e.nBitLength}`);return numberToBytesBE(v,e.nByteLength)}function Se(v,A,$=k){if(["recovered","canonical"].some(ie=>ie in $))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:S}=e;let{lowS:l,prehash:E,extraEntropy:O}=$;l==null&&(l=!0),v=ensureBytes("msgHash",v),E&&(v=ensureBytes("prehashed msgHash",I(v)));const D=ge(v),Y=_(A),F=[se(Y),se(D)];if(O!=null&&O!==!1){const ie=O===!0?S(n.BYTES):O;F.push(ensureBytes("extraEntropy",ie))}const V=concatBytes(...F),H=D;function ee(ie){const de=ne(ie);if(!T(de))return;const Z=y(de),j=w.BASE.multiply(de).toAffine(),he=m(j.x);if(he===_0n)return;const Ae=m(Z*m(H+he*Y));if(Ae===_0n)return;let _e=(j.x===he?0:2)|Number(j.y&_1n$1),xe=Ae;return l&&P(Ae)&&(xe=C(Ae),_e^=1),new U(he,xe,_e)}return{seed:V,k2sig:ee}}const k={lowS:e.lowS,prehash:!1},c={lowS:e.lowS,prehash:!1};function d(v,A,$=k){const{seed:I,k2sig:S}=Se(v,A,$),l=e;return createHmacDrbg(l.hash.outputLen,l.nByteLength,l.hmac)(I,S)}w.BASE._setWindowSize(8);function b(v,A,$,I=c){const S=v;if(A=ensureBytes("msgHash",A),$=ensureBytes("publicKey",$),"strict"in I)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:E}=I;let O,D;try{if(typeof S=="string"||isBytes(S))try{O=U.fromDER(S)}catch(j){if(!(j instanceof DER.Err))throw j;O=U.fromCompact(S)}else if(typeof S=="object"&&typeof S.r=="bigint"&&typeof S.s=="bigint"){const{r:j,s:he}=S;O=new U(j,he)}else throw new Error("PARSE");D=w.fromHex($)}catch(j){if(j.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&O.hasHighS())return!1;E&&(A=e.hash(A));const{r:Y,s:F}=O,V=ge(A),H=y(F),ee=m(V*H),ie=m(Y*H),de=w.BASE.multiplyAndAddUnsafe(D,ee,ie)?.toAffine();return de?m(de.x)===Y:!1}return{CURVE:e,getPublicKey:G,getSharedSecret:te,sign:d,verify:b,ProjectivePoint:w,Signature:U,utils:q}}function getHash(t){return{hash:t,hmac:(e,...n)=>hmac.hmac(t,e,utils$7.concatBytes(...n)),randomBytes:utils$7.randomBytes}}function createCurve(t,e){const n=a=>weierstrass({...t,...getHash(a)});return Object.freeze({...n(e),create:n})}const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(t,e)=>(t+e/_2n)/e;function sqrtMod(t){const e=secp256k1P,n=BigInt(3),a=BigInt(6),u=BigInt(11),o=BigInt(22),p=BigInt(23),m=BigInt(44),y=BigInt(88),w=t*t*t%e,_=w*w*t%e,M=pow2(_,n,e)*_%e,T=pow2(M,n,e)*_%e,B=pow2(T,_2n,e)*w%e,P=pow2(B,u,e)*B%e,C=pow2(P,o,e)*P%e,L=pow2(C,m,e)*C%e,U=pow2(L,y,e)*L%e,q=pow2(U,m,e)*C%e,G=pow2(q,n,e)*_%e,X=pow2(G,p,e)*P%e,te=pow2(X,a,e)*w%e,ne=pow2(te,_2n,e);if(!Fp.eql(Fp.sqr(ne),t))throw new Error("Cannot find square root");return ne}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1$2=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=secp256k1N,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),u=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,p=BigInt("0x100000000000000000000000000000000"),m=divNearest(o*t,e),y=divNearest(-a*t,e);let w=mod(t-m*n-y*u,e),_=mod(-m*a-y*o,e);const M=w>p,T=_>p;if(M&&(w=e-w),T&&(_=e-_),w>p||_>p)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:M,k1:w,k2neg:T,k2:_}}}},sha256_1$3);BigInt(0);secp256k1$2.ProjectivePoint;const generateKeypair=()=>{const t=ed25519.utils.randomPrivateKey(),e=getPublicKey(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},getPublicKey=ed25519.getPublicKey;function isOnCurve(t){try{return ed25519.ExtendedPoint.fromHex(t),!0}catch{return!1}}const sign$1=(t,e)=>ed25519.sign(t,e.slice(0,32)),verify=ed25519.verify,toBuffer$1=t=>Buffer$1$1.isBuffer(t)?t:t instanceof Uint8Array?Buffer$1$1.from(t.buffer,t.byteOffset,t.byteLength):Buffer$1$1.from(t);class Struct{constructor(e){Object.assign(this,e)}encode(){return Buffer$1$1.from(serialize_1(SOLANA_SCHEMA,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA,this,e)}}const SOLANA_SCHEMA=new Map;var _PublicKey;const MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(t){return t._bn!==void 0}let uniquePublicKeyCounter=1;class PublicKey extends Struct{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData(e))this._bn=e._bn;else{if(typeof e=="string"){const n=bs58$2.decode(e);if(n.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN$1(n)}else this._bn=new BN$1(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$2.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Buffer$1$1);if(e.length===PUBLIC_KEY_LENGTH)return e;const n=Buffer$1$1.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,a){const u=Buffer$1$1.concat([e.toBuffer(),Buffer$1$1.from(n),a.toBuffer()]),o=sha256_1$3(u);return new PublicKey(o)}static createProgramAddressSync(e,n){let a=Buffer$1$1.alloc(0);e.forEach(function(o){if(o.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");a=Buffer$1$1.concat([a,toBuffer$1(o)])}),a=Buffer$1$1.concat([a,n.toBuffer(),Buffer$1$1.from("ProgramDerivedAddress")]);const u=sha256_1$3(a);if(isOnCurve(u))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(u)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let a=255,u;for(;a!=0;){try{const o=e.concat(Buffer$1$1.from([a]));u=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;a--;continue}return[u,a]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new PublicKey(e);return isOnCurve(n.toBytes())}}_PublicKey=PublicKey;PublicKey.default=new _PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});new PublicKey("BPFLoader1111111111111111111111111111111111");const PACKET_DATA_SIZE=1232,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const a=new Map;this.keySegments().flat().forEach((o,p)=>{a.set(o.toBase58(),p)});const u=o=>{const p=a.get(o.toBase58());if(p===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return p};return e.map(o=>({programIdIndex:u(o.programId),accountKeyIndexes:o.keys.map(p=>u(p.pubkey)),data:o.data}))}}const publicKey$1=(t="publicKey")=>blob(32,t),rustString=(t="string")=>{const e=struct([u32("length"),u32("lengthPadding"),blob(offset(u32(),-8),"chars")],t),n=e.decode.bind(e),a=e.encode.bind(e),u=e;return u.decode=(o,p)=>n(o,p).chars.toString(),u.encode=(o,p,m)=>{const y={chars:Buffer$1$1.from(o,"utf8")};return a(y,p,m)},u.alloc=o=>u32().span+u32().span+Buffer$1$1.from(o,"utf8").length,u},authorized=(t="authorized")=>struct([publicKey$1("staker"),publicKey$1("withdrawer")],t),lockup=(t="lockup")=>struct([ns64("unixTimestamp"),ns64("epoch"),publicKey$1("custodian")],t),voteInit=(t="voteInit")=>struct([publicKey$1("nodePubkey"),publicKey$1("authorizedVoter"),publicKey$1("authorizedWithdrawer"),u8("commission")],t),voteAuthorizeWithSeedArgs=(t="voteAuthorizeWithSeedArgs")=>struct([u32("voteAuthorizationType"),publicKey$1("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey$1("newAuthorized")],t);function getAlloc(t,e){const n=u=>{if(u.span>=0)return u.span;if(typeof u.alloc=="function")return u.alloc(e[u.property]);if("count"in u&&"elementLayout"in u){const o=e[u.property];if(Array.isArray(o))return o.length*n(u.elementLayout)}else if("fields"in u)return getAlloc({layout:u},e[u.property]);return 0};let a=0;return t.layout.fields.forEach(u=>{a+=n(u)}),a}function decodeLength(t){let e=0,n=0;for(;;){let a=t.shift();if(e|=(a&127)<<n*7,n+=1,!(a&128))break}return e}function encodeLength(t,e){let n=e;for(;;){let a=n&127;if(n>>=7,n==0){t.push(a);break}else a|=128,t.push(a)}}function assert(t,e){if(!t)throw new Error(e||"Assertion failed")}class CompiledKeys{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const a=new Map,u=p=>{const m=p.toBase58();let y=a.get(m);return y===void 0&&(y={isSigner:!1,isWritable:!1,isInvoked:!1},a.set(m,y)),y},o=u(n);o.isSigner=!0,o.isWritable=!0;for(const p of e){u(p.programId).isInvoked=!0;for(const m of p.keys){const y=u(m.pubkey);y.isSigner||=m.isSigner,y.isWritable||=m.isWritable}}return new CompiledKeys(n,a)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,y])=>y.isSigner&&y.isWritable),a=e.filter(([,y])=>y.isSigner&&!y.isWritable),u=e.filter(([,y])=>!y.isSigner&&y.isWritable),o=e.filter(([,y])=>!y.isSigner&&!y.isWritable),p={numRequiredSignatures:n.length+a.length,numReadonlySignedAccounts:a.length,numReadonlyUnsignedAccounts:o.length};{assert(n.length>0,"Expected at least one writable signer key");const[y]=n[0];assert(y===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const m=[...n.map(([y])=>new PublicKey(y)),...a.map(([y])=>new PublicKey(y)),...u.map(([y])=>new PublicKey(y)),...o.map(([y])=>new PublicKey(y))];return[p,m]}extractTableLookup(e){const[n,a]=this.drainKeysFoundInLookupTable(e.state.addresses,p=>!p.isSigner&&!p.isInvoked&&p.isWritable),[u,o]=this.drainKeysFoundInLookupTable(e.state.addresses,p=>!p.isSigner&&!p.isInvoked&&!p.isWritable);if(!(n.length===0&&u.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:u},{writable:a,readonly:o}]}drainKeysFoundInLookupTable(e,n){const a=new Array,u=new Array;for(const[o,p]of this.keyMetaMap.entries())if(n(p)){const m=new PublicKey(o),y=e.findIndex(w=>w.equals(m));y>=0&&(assert(y<256,"Max lookup table index exceeded"),a.push(y),u.push(m),this.keyMetaMap.delete(o))}return[a,u]}}const END_OF_BUFFER_ERROR_MESSAGE="Reached end of buffer unexpectedly";function guardedShift(t){if(t.length===0)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return t.shift()}function guardedSplice(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return t.splice(...e)}class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new PublicKey(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$2.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(e){const n=CompiledKeys.compile(e.instructions,e.payerKey),[a,u]=n.getMessageComponents(),p=new MessageAccountKeys(u).compileInstructions(e.instructions).map(m=>({programIdIndex:m.programIdIndex,accounts:m.accountKeyIndexes,data:bs58$2.encode(m.data)}));return new Message({header:a,accountKeys:u,recentBlockhash:e.recentBlockhash,instructions:p})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const a=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return a<o}else{const a=n-this.header.numReadonlySignedAccounts;return e<a}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];encodeLength(n,e);const a=this.instructions.map(M=>{const{accounts:T,programIdIndex:B}=M,P=Array.from(bs58$2.decode(M.data));let C=[];encodeLength(C,T.length);let L=[];return encodeLength(L,P.length),{programIdIndex:B,keyIndicesCount:Buffer$1$1.from(C),keyIndices:T,dataLength:Buffer$1$1.from(L),data:P}});let u=[];encodeLength(u,a.length);let o=Buffer$1$1.alloc(PACKET_DATA_SIZE);Buffer$1$1.from(u).copy(o);let p=u.length;a.forEach(M=>{const B=struct([u8("programIdIndex"),blob(M.keyIndicesCount.length,"keyIndicesCount"),seq(u8("keyIndex"),M.keyIndices.length,"keyIndices"),blob(M.dataLength.length,"dataLength"),seq(u8("userdatum"),M.data.length,"data")]).encode(M,o,p);p+=B}),o=o.slice(0,p);const m=struct([blob(1,"numRequiredSignatures"),blob(1,"numReadonlySignedAccounts"),blob(1,"numReadonlyUnsignedAccounts"),blob(n.length,"keyCount"),seq(publicKey$1("key"),e,"keys"),publicKey$1("recentBlockhash")]),y={numRequiredSignatures:Buffer$1$1.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Buffer$1$1.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Buffer$1$1.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Buffer$1$1.from(n),keys:this.accountKeys.map(M=>toBuffer$1(M.toBytes())),recentBlockhash:bs58$2.decode(this.recentBlockhash)};let w=Buffer$1$1.alloc(2048);const _=m.encode(y,w);return o.copy(w,_),w.slice(0,_+o.length)}static from(e){let n=[...e];const a=guardedShift(n);if(a!==(a&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const u=guardedShift(n),o=guardedShift(n),p=decodeLength(n);let m=[];for(let T=0;T<p;T++){const B=guardedSplice(n,0,PUBLIC_KEY_LENGTH);m.push(new PublicKey(Buffer$1$1.from(B)))}const y=guardedSplice(n,0,PUBLIC_KEY_LENGTH),w=decodeLength(n);let _=[];for(let T=0;T<w;T++){const B=guardedShift(n),P=decodeLength(n),C=guardedSplice(n,0,P),L=decodeLength(n),U=guardedSplice(n,0,L),q=bs58$2.encode(Buffer$1$1.from(U));_.push({programIdIndex:B,accounts:C,data:q})}const M={header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:o},recentBlockhash:bs58$2.encode(Buffer$1$1.from(y)),accountKeys:m,instructions:_};return new Message(M)}}class MessageV0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,a=this.staticAccountKeys.length;if(e>=a){const u=e-a,o=this.addressTableLookups.reduce((p,m)=>p+m.writableIndexes.length,0);return u<o}else if(e>=this.header.numRequiredSignatures){const u=e-n,p=a-n-this.header.numReadonlyUnsignedAccounts;return u<p}else{const u=n-this.header.numReadonlySignedAccounts;return e<u}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const a of this.addressTableLookups){const u=e.find(o=>o.key.equals(a.accountKey));if(!u)throw new Error(`Failed to find address lookup table account for table key ${a.accountKey.toBase58()}`);for(const o of a.writableIndexes)if(o<u.state.addresses.length)n.writable.push(u.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${a.accountKey.toBase58()}`);for(const o of a.readonlyIndexes)if(o<u.state.addresses.length)n.readonly.push(u.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${a.accountKey.toBase58()}`)}return n}static compile(e){const n=CompiledKeys.compile(e.instructions,e.payerKey),a=new Array,u={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const _ of o){const M=n.extractTableLookup(_);if(M!==void 0){const[T,{writable:B,readonly:P}]=M;a.push(T),u.writable.push(...B),u.readonly.push(...P)}}const[p,m]=n.getMessageComponents(),w=new MessageAccountKeys(m,u).compileInstructions(e.instructions);return new MessageV0({header:p,staticAccountKeys:m,recentBlockhash:e.recentBlockhash,compiledInstructions:w,addressTableLookups:a})}serialize(){const e=Array();encodeLength(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),a=Array();encodeLength(a,this.compiledInstructions.length);const u=this.serializeAddressTableLookups(),o=Array();encodeLength(o,this.addressTableLookups.length);const p=struct([u8("prefix"),struct([u8("numRequiredSignatures"),u8("numReadonlySignedAccounts"),u8("numReadonlyUnsignedAccounts")],"header"),blob(e.length,"staticAccountKeysLength"),seq(publicKey$1(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$1("recentBlockhash"),blob(a.length,"instructionsLength"),blob(n.length,"serializedInstructions"),blob(o.length,"addressTableLookupsLength"),blob(u.length,"serializedAddressTableLookups")]),m=new Uint8Array(PACKET_DATA_SIZE),w=p.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(_=>_.toBytes()),recentBlockhash:bs58$2.decode(this.recentBlockhash),instructionsLength:new Uint8Array(a),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:u},m);return m.slice(0,w)}serializeInstructions(){let e=0;const n=new Uint8Array(PACKET_DATA_SIZE);for(const a of this.compiledInstructions){const u=Array();encodeLength(u,a.accountKeyIndexes.length);const o=Array();encodeLength(o,a.data.length);const p=struct([u8("programIdIndex"),blob(u.length,"encodedAccountKeyIndexesLength"),seq(u8(),a.accountKeyIndexes.length,"accountKeyIndexes"),blob(o.length,"encodedDataLength"),blob(a.data.length,"data")]);e+=p.encode({programIdIndex:a.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(u),accountKeyIndexes:a.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:a.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(PACKET_DATA_SIZE);for(const a of this.addressTableLookups){const u=Array();encodeLength(u,a.writableIndexes.length);const o=Array();encodeLength(o,a.readonlyIndexes.length);const p=struct([publicKey$1("accountKey"),blob(u.length,"encodedWritableIndexesLength"),seq(u8(),a.writableIndexes.length,"writableIndexes"),blob(o.length,"encodedReadonlyIndexesLength"),seq(u8(),a.readonlyIndexes.length,"readonlyIndexes")]);e+=p.encode({accountKey:a.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(u),writableIndexes:a.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:a.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const a=guardedShift(n),u=a&VERSION_PREFIX_MASK;assert(a!==u,"Expected versioned message but received legacy message");const o=u;assert(o===0,`Expected versioned message with version 0 but found version ${o}`);const p={numRequiredSignatures:guardedShift(n),numReadonlySignedAccounts:guardedShift(n),numReadonlyUnsignedAccounts:guardedShift(n)},m=[],y=decodeLength(n);for(let P=0;P<y;P++)m.push(new PublicKey(guardedSplice(n,0,PUBLIC_KEY_LENGTH)));const w=bs58$2.encode(guardedSplice(n,0,PUBLIC_KEY_LENGTH)),_=decodeLength(n),M=[];for(let P=0;P<_;P++){const C=guardedShift(n),L=decodeLength(n),U=guardedSplice(n,0,L),q=decodeLength(n),G=new Uint8Array(guardedSplice(n,0,q));M.push({programIdIndex:C,accountKeyIndexes:U,data:G})}const T=decodeLength(n),B=[];for(let P=0;P<T;P++){const C=new PublicKey(guardedSplice(n,0,PUBLIC_KEY_LENGTH)),L=decodeLength(n),U=guardedSplice(n,0,L),q=decodeLength(n),G=guardedSplice(n,0,q);B.push({accountKey:C,writableIndexes:U,readonlyIndexes:G})}return new MessageV0({header:p,staticAccountKeys:m,recentBlockhash:w,compiledInstructions:M,addressTableLookups:B})}}let TransactionStatus=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const DEFAULT_SIGNATURE=Buffer$1$1.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Buffer$1$1.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:a})=>({pubkey:e.toJSON(),isSigner:n,isWritable:a})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:a}=e;this.minNonceContextSlot=n,this.nonceInfo=a}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:a}=e;this.recentBlockhash=n,this.lastValidBlockHeight=a}else{const{recentBlockhash:n,nonceInfo:a}=e;a&&(this.nonceInfo=a),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new TransactionInstruction(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let a;if(this.feePayer)a=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)a=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let C=0;C<n.length;C++)if(n[C].programId===void 0)throw new Error(`Transaction instruction index ${C} has undefined program id`);const u=[],o=[];n.forEach(C=>{C.keys.forEach(U=>{o.push({...U})});const L=C.programId.toString();u.includes(L)||u.push(L)}),u.forEach(C=>{o.push({pubkey:new PublicKey(C),isSigner:!1,isWritable:!1})});const p=[];o.forEach(C=>{const L=C.pubkey.toString(),U=p.findIndex(q=>q.pubkey.toString()===L);U>-1?(p[U].isWritable=p[U].isWritable||C.isWritable,p[U].isSigner=p[U].isSigner||C.isSigner):p.push(C)}),p.sort(function(C,L){if(C.isSigner!==L.isSigner)return C.isSigner?-1:1;if(C.isWritable!==L.isWritable)return C.isWritable?-1:1;const U={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return C.pubkey.toBase58().localeCompare(L.pubkey.toBase58(),"en",U)});const m=p.findIndex(C=>C.pubkey.equals(a));if(m>-1){const[C]=p.splice(m,1);C.isSigner=!0,C.isWritable=!0,p.unshift(C)}else p.unshift({pubkey:a,isSigner:!0,isWritable:!0});for(const C of this.signatures){const L=p.findIndex(U=>U.pubkey.equals(C.publicKey));if(L>-1)p[L].isSigner||(p[L].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${C.publicKey.toString()}`)}let y=0,w=0,_=0;const M=[],T=[];p.forEach(({pubkey:C,isSigner:L,isWritable:U})=>{L?(M.push(C.toString()),y+=1,U||(w+=1)):(T.push(C.toString()),U||(_+=1))});const B=M.concat(T),P=n.map(C=>{const{data:L,programId:U}=C;return{programIdIndex:B.indexOf(U.toString()),accounts:C.keys.map(q=>B.indexOf(q.pubkey.toString())),data:bs58$2.encode(L)}});return P.forEach(C=>{assert(C.programIdIndex>=0),C.accounts.forEach(L=>assert(L>=0))}),new Message({header:{numRequiredSignatures:y,numReadonlySignedAccounts:w,numReadonlyUnsignedAccounts:_},accountKeys:B,recentBlockhash:e,instructions:P})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((u,o)=>n[o].equals(u.publicKey))||(this.signatures=n.map(a=>({signature:null,publicKey:a}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(a=>{const u=a.toString();return n.has(u)?!1:(n.add(u),!0)}).map(a=>({signature:null,publicKey:a}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,a=[];for(const o of e){const p=o.publicKey.toString();n.has(p)||(n.add(p),a.push(o))}this.signatures=a.map(o=>({signature:null,publicKey:o.publicKey}));const u=this._compile();this._partialSign(u,...a)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,a=[];for(const o of e){const p=o.publicKey.toString();n.has(p)||(n.add(p),a.push(o))}const u=this._compile();this._partialSign(u,...a)}_partialSign(e,...n){const a=e.serialize();n.forEach(u=>{const o=sign$1(a,u.secretKey);this._addSignature(u.publicKey,toBuffer$1(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){assert(n.length===64);const a=this.signatures.findIndex(u=>e.equals(u.publicKey));if(a<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[a].signature=Buffer$1$1.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const a={};for(const{signature:u,publicKey:o}of this.signatures)u===null?n&&(a.missing||=[]).push(o):verify(u,e,o.toBytes())||(a.invalid||=[]).push(o);return a.invalid||a.missing?a:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:a}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),u=this.serializeMessage();if(a){const o=this._getMessageSignednessErrors(u,n);if(o){let p="Signature verification failed.";throw o.invalid&&(p+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(m=>m.toBase58()).join("`, `")}\`].`),o.missing&&(p+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(m=>m.toBase58()).join("`, `")}\`].`),new Error(p)}}return this._serialize(u)}_serialize(e){const{signatures:n}=this,a=[];encodeLength(a,n.length);const u=a.length+n.length*64+e.length,o=Buffer$1$1.alloc(u);return assert(n.length<256),Buffer$1$1.from(a).copy(o,0),n.forEach(({signature:p},m)=>{p!==null&&(assert(p.length===64,"signature has invalid length"),Buffer$1$1.from(p).copy(o,a.length+m*64))}),e.copy(o,a.length+n.length*64),assert(o.length<=PACKET_DATA_SIZE,`Transaction too large: ${o.length} > ${PACKET_DATA_SIZE}`),o}get keys(){return assert(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert(this.instructions.length===1),this.instructions[0].programId}get data(){return assert(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const a=decodeLength(n);let u=[];for(let o=0;o<a;o++){const p=guardedSplice(n,0,SIGNATURE_LENGTH_IN_BYTES);u.push(bs58$2.encode(Buffer$1$1.from(p)))}return Transaction.populate(Message.from(n),u)}static populate(e,n=[]){const a=new Transaction;return a.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(a.feePayer=e.accountKeys[0]),n.forEach((u,o)=>{const p={signature:u==bs58$2.encode(DEFAULT_SIGNATURE)?null:bs58$2.decode(u),publicKey:e.accountKeys[o]};a.signatures.push(p)}),e.instructions.forEach(u=>{const o=u.accounts.map(p=>{const m=e.accountKeys[p];return{pubkey:m,isSigner:a.signatures.some(y=>y.publicKey.toString()===m.toString())||e.isAccountSigner(p),isWritable:e.isAccountWritable(p)}});a.instructions.push(new TransactionInstruction({keys:o,programId:e.accountKeys[u.programIdIndex],data:bs58$2.decode(u.data)}))}),a._message=e,a._json=a.toJSON(),a}}const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND;new PublicKey("SysvarC1ock11111111111111111111111111111111");new PublicKey("SysvarEpochSchedu1e111111111111111111111111");new PublicKey("Sysvar1nstructions1111111111111111111111111");const SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111");new PublicKey("SysvarRewards111111111111111111111111111111");new PublicKey("SysvarS1otHashes111111111111111111111111111");new PublicKey("SysvarS1otHistory11111111111111111111111111");new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction(t,e,n,a){const u=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,maxRetries:a.maxRetries,minContextSlot:a.minContextSlot},o=await t.sendTransaction(e,n,u);let p;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)p=(await t.confirmTransaction({abortSignal:a?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},a&&a.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:m}=e.nonceInfo,y=m.keys[0].pubkey;p=(await t.confirmTransaction({abortSignal:a?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:y,nonceValue:e.nonceInfo.nonce,signature:o},a&&a.commitment)).value}else a?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),p=(await t.confirmTransaction(o,a&&a.commitment)).value;if(p.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(p)})`);return o}function sleep(t){return new Promise(e=>setTimeout(e,t))}function encodeData(t,e){const n=t.layout.span>=0?t.layout.span:getAlloc(t,e),a=Buffer$1$1.alloc(n),u=Object.assign({instruction:t.index},e);return t.layout.encode(u,a),a}const FeeCalculatorLayout=nu64("lamportsPerSignature"),NonceAccountLayout=struct([u32("version"),u32("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=NonceAccountLayout.decode(toBuffer$1(e),0);return new NonceAccount({authorizedPubkey:new PublicKey(n.authorizedPubkey),nonce:new PublicKey(n.nonce).toString(),feeCalculator:n.feeCalculator})}}const encodeDecode$1=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},bigInt$1=t=>e=>{const n=blob(t,e),{encode:a,decode:u}=encodeDecode$1(n),o=n;return o.decode=(p,m)=>{const y=u(p,m);return toBigIntLE_1(Buffer$1$1.from(y))},o.encode=(p,m,y)=>{const w=toBufferLE_1(p,t);return a(w,m,y)},o},u64$1=bigInt$1(8),SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct([u32("instruction"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},Assign:{index:1,layout:struct([u32("instruction"),publicKey$1("programId")])},Transfer:{index:2,layout:struct([u32("instruction"),u64$1("lamports")])},CreateWithSeed:{index:3,layout:struct([u32("instruction"),publicKey$1("base"),rustString("seed"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},AdvanceNonceAccount:{index:4,layout:struct([u32("instruction")])},WithdrawNonceAccount:{index:5,layout:struct([u32("instruction"),ns64("lamports")])},InitializeNonceAccount:{index:6,layout:struct([u32("instruction"),publicKey$1("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct([u32("instruction"),publicKey$1("authorized")])},Allocate:{index:8,layout:struct([u32("instruction"),ns64("space")])},AllocateWithSeed:{index:9,layout:struct([u32("instruction"),publicKey$1("base"),rustString("seed"),ns64("space"),publicKey$1("programId")])},AssignWithSeed:{index:10,layout:struct([u32("instruction"),publicKey$1("base"),rustString("seed"),publicKey$1("programId")])},TransferWithSeed:{index:11,layout:struct([u32("instruction"),u64$1("lamports"),rustString("seed"),publicKey$1("programId")])},UpgradeNonceAccount:{index:12,layout:struct([u32("instruction")])}});class SystemProgram{constructor(){}static createAccount(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.Create,a=encodeData(n,{lamports:e.lamports,space:e.space,programId:toBuffer$1(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:a})}static transfer(e){let n,a;if("basePubkey"in e){const u=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;n=encodeData(u,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer$1(e.programId.toBuffer())}),a=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const u=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;n=encodeData(u,{lamports:BigInt(e.lamports)}),a=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:a,programId:this.programId,data:n})}static assign(e){let n,a;if("basePubkey"in e){const u=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;n=encodeData(u,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$1(e.programId.toBuffer())}),a=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const u=SYSTEM_INSTRUCTION_LAYOUTS.Assign;n=encodeData(u,{programId:toBuffer$1(e.programId.toBuffer())}),a=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:a,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,a=encodeData(n,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$1(e.programId.toBuffer())});let u=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&u.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:u,programId:this.programId,data:a})}static createNonceAccount(e){const n=new Transaction;"basePubkey"in e&&"seed"in e?n.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):n.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const a={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(a)),n}static nonceInitialize(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,a=encodeData(n,{authorized:toBuffer$1(e.authorizedPubkey.toBuffer())}),u={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new TransactionInstruction(u)}static nonceAdvance(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,a=encodeData(n),u={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new TransactionInstruction(u)}static nonceWithdraw(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,a=encodeData(n,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static nonceAuthorize(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,a=encodeData(n,{authorized:toBuffer$1(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static allocate(e){let n,a;if("basePubkey"in e){const u=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;n=encodeData(u,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$1(e.programId.toBuffer())}),a=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const u=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;n=encodeData(u,{space:e.space}),a=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:a,programId:this.programId,data:n})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");new PublicKey("BPFLoader2111111111111111111111111111111111");function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var objToString=Object.prototype.toString,objKeys=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function stringify(t,e){var n,a,u,o,p,m,y;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return stringify(t.toJSON(),e);if(y=objToString.call(t),y==="[object Array]"){for(u="[",a=t.length-1,n=0;n<a;n++)u+=stringify(t[n],!0)+",";return a>-1&&(u+=stringify(t[n],!0)),u+"]"}else if(y==="[object Object]"){for(o=objKeys(t).sort(),a=o.length,u="",n=0;n<a;)p=o[n],m=stringify(t[p],!1),m!==void 0&&(u&&(u+=","),u+=JSON.stringify(p)+":"+m),n++;return"{"+u+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var fastStableStringify=function(t){var e=stringify(t,!1);if(e!==void 0)return""+e},fastStableStringify$1=getDefaultExportFromCjs(fastStableStringify);const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(t){let e=0;for(;t>1;)t/=2,e++;return e}function nextPowerOfTwo(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class EpochSchedule{constructor(e,n,a,u,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=a,this.firstNormalEpoch=u,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=trailingZeros(nextPowerOfTwo(e+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,a=this.getSlotsInEpoch(n),u=e-(a-MINIMUM_SLOT_PER_EPOCH);return[n,u]}else{const n=e-this.firstNormalSlot,a=Math.floor(n/this.slotsPerEpoch),u=this.firstNormalEpoch+a,o=n%this.slotsPerEpoch;return[u,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(e,n){super(e),this.logs=void 0,this.logs=n}}class SolanaJSONRPCError extends Error{constructor({code:e,message:n,data:a},u){super(u!=null?`${u}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=a,this.name="SolanaJSONRPCError"}}var fetchImpl=globalThis.fetch;class RpcWebSocketClient extends _default$1{constructor(e,n,a){const u=o=>{const p=_default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in p?this.underlyingSocket=p.socket:this.underlyingSocket=p,p};super(u,e,n,a),this.underlyingSocket=void 0}call(...e){const n=this.underlyingSocket?.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function decodeData(t,e){let n;try{n=t.layout.decode(e)}catch(a){throw new Error("invalid instruction; "+a)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const LOOKUP_TABLE_META_SIZE=56;class AddressLookupTableAccount{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=decodeData(LookupTableMetaLayout,e),a=e.length-LOOKUP_TABLE_META_SIZE;assert(a>=0,"lookup table is invalid"),assert(a%32===0,"lookup table is invalid");const u=a/32,{addresses:o}=struct([seq(publicKey$1(),u,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new PublicKey(n.authority[0]):void 0,addresses:o.map(p=>new PublicKey(p))}}}const LookupTableMetaLayout={index:1,layout:struct([u32("typeIndex"),u64$1("deactivationSlot"),nu64("lastExtendedSlot"),u8("lastExtendedStartIndex"),u8(),seq(publicKey$1(),offset(u8(),-1),"authority")])},URL_RE=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl(t){const e=t.match(URL_RE);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,a,u,o]=e,p=t.startsWith("https:")?"wss:":"ws:",m=u==null?null:parseInt(u.slice(1),10),y=m==null?"":`:${m+1}`;return`${p}//${a}${y}${o}`}const PublicKeyFromString=coerce(instance(PublicKey),string(),t=>new PublicKey(t)),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance(Buffer$1$1),RawAccountDataResult,t=>Buffer$1$1.from(t[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function assertEndpointUrl(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function extractCommitmentFromConfig(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:a,...u}=t;e=a,n=u}return{commitment:e,config:n}}function createRpcResult(t){return union([type({jsonrpc:literal("2.0"),id:string(),result:t}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(t){return coerce(createRpcResult(t),UnknownRpcResult,e=>"error"in e?e:{...e,result:create(e.result,t)})}function jsonRpcResultAndContext(t){return jsonRpcResult(type({context:type({slot:number()}),value:t}))}function notificationResultAndContext(t){return type({context:type({slot:number()}),value:t})}function versionedMessageFromResponse(t,e){return t===0?new MessageV0({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new PublicKey(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:bs58$2.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Message(e)}const GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()}),GetInflationRewardResult=jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number(),commission:optional(nullable(number()))})))),GetRecentPrioritizationFeesResult=array(type({slot:number(),prioritizationFee:number()})),GetInflationRateResult=type({total:number(),validator:number(),foundation:number(),epoch:number()}),GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature"),VersionResult=type({"solana-core":string(),"feature-set":optional(number())}),SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])})))})),BlockProductionResponseStruct=jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})}));function createRpcClient(t,e,n,a,u,o){const p=n||fetchImpl;let m;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let y;return a&&(y=async(_,M)=>{const T=await new Promise((B,P)=>{try{a(_,M,(C,L)=>B([C,L]))}catch(C){P(C)}});return await p(...T)}),new RpcClient(async(_,M)=>{const T={method:"POST",body:_,agent:m,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS)};try{let B=5,P,C=500;for(;y?P=await y(t,T):P=await p(t,T),!(P.status!==429||u===!0||(B-=1,B===0));)console.error(`Server responded with ${P.status} ${P.statusText}.  Retrying after ${C}ms delay...`),await sleep(C),C*=2;const L=await P.text();P.ok?M(null,L):M(new Error(`${P.status} ${P.statusText}: ${L}`))}catch(B){B instanceof Error&&M(B)}},{})}function createRpcRequest(t){return(e,n)=>new Promise((a,u)=>{t.request(e,n,(o,p)=>{if(o){u(o);return}a(p)})})}function createRpcBatchRequest(t){return e=>new Promise((n,a)=>{e.length===0&&n([]);const u=e.map(o=>t.request(o.methodName,o.args));t.request(u,(o,p)=>{if(o){a(o);return}n(p)})})}const GetInflationGovernorRpcResult=jsonRpcResult(GetInflationGovernorResult),GetInflationRateRpcResult=jsonRpcResult(GetInflationRateResult),GetRecentPrioritizationFeesRpcResult=jsonRpcResult(GetRecentPrioritizationFeesResult),GetEpochInfoRpcResult=jsonRpcResult(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult(number()),GetSupplyRpcResult=jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)})),TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})}))),ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString}))),AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()}),KeyedAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce(union([instance(Buffer$1$1),ParsedAccountDataResult]),union([RawAccountDataResult,ParsedAccountDataResult]),t=>Array.isArray(t)?create(t,BufferFromRawAccountData):t),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()}),KeyedParsedAccountInfoResult=type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),AccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type({parent:number(),slot:number(),root:number()}),SlotNotificationResult=type({subscription:number(),result:SlotInfoResult}),SlotUpdateResult=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]),SlotUpdateNotificationResult=type({subscription:number(),result:SlotUpdateResult}),SignatureNotificationResult=type({subscription:number(),result:notificationResultAndContext(union([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type({subscription:number(),result:number()}),ContactInfoResult=type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())}),VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())}),GetVoteAccounts=jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)})),ConfirmationStatus=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext(array(nullable(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult(number()),AddressTableLookupStruct=type({accountKey:PublicKeyFromString,writableIndexes:array(number()),readonlyIndexes:array(number())}),ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(AddressTableLookupStruct))})}),AnnotatedAccountKey=type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))}),ConfirmedTransactionAccountsModeResult=type({accountKeys:array(AnnotatedAccountKey),signatures:array(string())}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,t=>"accounts"in t?create(t,RawInstructionResult):create(t,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(AnnotatedAccountKey),instructions:array(ParsedOrRawInstruction),recentBlockhash:string(),addressTableLookups:optional(nullable(array(AddressTableLookupStruct)))})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),owner:optional(string()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type({writable:array(PublicKeyFromString),readonly:array(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),TransactionVersionStruct=union([literal(0),literal("legacy")]),RewardsResult=type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string()),commission:optional(nullable(number()))}),GetBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetNoneModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetAccountsModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedAccountsModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedNoneModeBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetConfirmedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number())}))),GetBlockSignaturesRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())}))),GetTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),meta:nullable(ConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult,version:optional(TransactionVersionStruct)}))),GetParsedTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct)}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:number()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()})),IsBlockhashValidRpcResult=jsonRpcResultAndContext(boolean()),PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult(array(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})}))),RequestAirdropRpcResult=jsonRpcResult(string()),SendTransactionRpcResult=jsonRpcResult(string()),LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()}),LogsNotificationResult=type({result:notificationResultAndContext(LogsResult),subscription:number()}),COMMON_HTTP_HEADERS={"solana-client":"js/0.0.0-development"};class Connection{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const w={};return async _=>{const{commitment:M,config:T}=extractCommitmentFromConfig(_),B=this._buildArgs([],M,void 0,T),P=fastStableStringify$1(B);return w[P]=w[P]??(async()=>{try{const C=await this._rpcRequest("getBlockHeight",B),L=create(C,jsonRpcResult(number()));if("error"in L)throw new SolanaJSONRPCError(L.error,"failed to get block height information");return L.result}finally{delete w[P]}})(),await w[P]}})();let a,u,o,p,m,y;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,a=n.wsEndpoint,u=n.httpHeaders,o=n.fetch,p=n.fetchMiddleware,m=n.disableRetryOnRateLimit,y=n.httpAgent),this._rpcEndpoint=assertEndpointUrl(e),this._rpcWsEndpoint=a||makeWebsocketUrl(e),this._rpcClient=createRpcClient(e,u,o,p,m,y),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=this._buildArgs([e.toBase58()],a,void 0,u),p=await this._rpcRequest("getBalance",o),m=create(p,jsonRpcResultAndContext(number()));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get balance for ${e.toBase58()}`);return m.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(a=>a.value).catch(a=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+a)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),a=create(n,jsonRpcResult(nullable(number())));if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get block time for slot ${e}`);return a.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=create(e,jsonRpcResult(number()));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=create(e,SlotRpcResult);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const a=await this._rpcRequest("getSupply",[n]),u=create(a,GetSupplyRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to get supply");return u.result}async getTokenSupply(e,n){const a=this._buildArgs([e.toBase58()],n),u=await this._rpcRequest("getTokenSupply",a),o=create(u,jsonRpcResultAndContext(TokenAmountResult));if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const a=this._buildArgs([e.toBase58()],n),u=await this._rpcRequest("getTokenAccountBalance",a),o=create(u,jsonRpcResultAndContext(TokenAmountResult));if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,a){const{commitment:u,config:o}=extractCommitmentFromConfig(a);let p=[e.toBase58()];"mint"in n?p.push({mint:n.mint.toBase58()}):p.push({programId:n.programId.toBase58()});const m=this._buildArgs(p,u,"base64",o),y=await this._rpcRequest("getTokenAccountsByOwner",m),w=create(y,GetTokenAccountsByOwner);if("error"in w)throw new SolanaJSONRPCError(w.error,`failed to get token accounts owned by account ${e.toBase58()}`);return w.result}async getParsedTokenAccountsByOwner(e,n,a){let u=[e.toBase58()];"mint"in n?u.push({mint:n.mint.toBase58()}):u.push({programId:n.programId.toBase58()});const o=this._buildArgs(u,a,"jsonParsed"),p=await this._rpcRequest("getTokenAccountsByOwner",o),m=create(p,GetParsedTokenAccountsByOwner);if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get token accounts owned by account ${e.toBase58()}`);return m.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},a=n.filter||n.commitment?[n]:[],u=await this._rpcRequest("getLargestAccounts",a),o=create(u,GetLargestAccountsRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const a=this._buildArgs([e.toBase58()],n),u=await this._rpcRequest("getTokenLargestAccounts",a),o=create(u,GetTokenLargestAccountsResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=this._buildArgs([e.toBase58()],a,"base64",u),p=await this._rpcRequest("getAccountInfo",o),m=create(p,jsonRpcResultAndContext(nullable(AccountInfoResult)));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get info about account ${e.toBase58()}`);return m.result}async getParsedAccountInfo(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=this._buildArgs([e.toBase58()],a,"jsonParsed",u),p=await this._rpcRequest("getAccountInfo",o),m=create(p,jsonRpcResultAndContext(nullable(ParsedAccountInfoResult)));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get info about account ${e.toBase58()}`);return m.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(a){throw new Error("failed to get info about account "+e.toBase58()+": "+a)}}async getMultipleParsedAccounts(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=e.map(w=>w.toBase58()),p=this._buildArgs([o],a,"jsonParsed",u),m=await this._rpcRequest("getMultipleAccounts",p),y=create(m,jsonRpcResultAndContext(array(nullable(ParsedAccountInfoResult))));if("error"in y)throw new SolanaJSONRPCError(y.error,`failed to get info for accounts ${o}`);return y.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=e.map(w=>w.toBase58()),p=this._buildArgs([o],a,"base64",u),m=await this._rpcRequest("getMultipleAccounts",p),y=create(m,jsonRpcResultAndContext(array(nullable(AccountInfoResult))));if("error"in y)throw new SolanaJSONRPCError(y.error,`failed to get info for accounts ${o}`);return y.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,a){const{commitment:u,config:o}=extractCommitmentFromConfig(n),p=this._buildArgs([e.toBase58()],u,void 0,{...o,epoch:a??o?.epoch}),m=await this._rpcRequest("getStakeActivation",p),y=create(m,jsonRpcResult(StakeActivationResult));if("error"in y)throw new SolanaJSONRPCError(y.error,`failed to get Stake Activation ${e.toBase58()}`);return y.result}async getProgramAccounts(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),{encoding:o,...p}=u||{},m=this._buildArgs([e.toBase58()],a,o||"base64",p),y=await this._rpcRequest("getProgramAccounts",m),w=array(KeyedAccountInfoResult),_=p.withContext===!0?create(y,jsonRpcResultAndContext(w)):create(y,jsonRpcResult(w));if("error"in _)throw new SolanaJSONRPCError(_.error,`failed to get accounts owned by program ${e.toBase58()}`);return _.result}async getParsedProgramAccounts(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=this._buildArgs([e.toBase58()],a,"jsonParsed",u),p=await this._rpcRequest("getProgramAccounts",o),m=create(p,jsonRpcResult(array(KeyedParsedAccountInfoResult)));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get accounts owned by program ${e.toBase58()}`);return m.result}async confirmTransaction(e,n){let a;if(typeof e=="string")a=e;else{const o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);a=o.signature}let u;try{u=bs58$2.decode(a)}catch{throw new Error("signature must be base58 encoded: "+a)}return assert(u.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:a}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,a)=>{e!=null&&(e.aborted?a(e.reason):e.addEventListener("abort",()=>{a(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let a,u,o=!1;const p=new Promise((y,w)=>{try{a=this.onSignature(n,(M,T)=>{a=void 0;const B={context:T,value:M};y({__type:TransactionStatus.PROCESSED,response:B})},e);const _=new Promise(M=>{a==null?M():u=this._onSubscriptionStateChange(a,T=>{T==="subscribed"&&M()})});(async()=>{if(await _,o)return;const M=await this.getSignatureStatus(n);if(o||M==null)return;const{context:T,value:B}=M;if(B!=null)if(B?.err)w(B.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(B.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(B.confirmationStatus==="processed"||B.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,y({__type:TransactionStatus.PROCESSED,response:{context:T,value:B}})}})()}catch(_){w(_)}});return{abortConfirmation:()=>{u&&(u(),u=void 0),a!=null&&(this.removeSignatureListener(a),a=void 0)},confirmationPromise:p}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:a,signature:u}}){let o=!1;const p=new Promise(M=>{const T=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let B=await T();if(!o){for(;B<=a;)if(await sleep(1e3),o||(B=await T(),o))return;M({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:m,confirmationPromise:y}=this.getTransactionConfirmationPromise({commitment:e,signature:u}),w=this.getCancellationPromise(n);let _;try{const M=await Promise.race([w,y,p]);if(M.__type===TransactionStatus.PROCESSED)_=M.response;else throw new TransactionExpiredBlockheightExceededError(u)}finally{o=!0,m()}return _}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:a,nonceAccountPubkey:u,nonceValue:o,signature:p}}){let m=!1;const y=new Promise(B=>{let P=o,C=null;const L=async()=>{try{const{context:U,value:q}=await this.getNonceAndContext(u,{commitment:e,minContextSlot:a});return C=U.slot,q?.nonce}catch{return P}};(async()=>{if(P=await L(),!m)for(;;){if(o!==P){B({__type:TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:C});return}if(await sleep(2e3),m||(P=await L(),m))return}})()}),{abortConfirmation:w,confirmationPromise:_}=this.getTransactionConfirmationPromise({commitment:e,signature:p}),M=this.getCancellationPromise(n);let T;try{const B=await Promise.race([M,_,y]);if(B.__type===TransactionStatus.PROCESSED)T=B.response;else{let P;for(;;){const C=await this.getSignatureStatus(p);if(C==null)break;if(C.context.slot<(B.slotInWhichNonceDidAdvance??a)){await sleep(400);continue}P=C;break}if(P?.value){const C=e||"finalized",{confirmationStatus:L}=P.value;switch(C){case"processed":case"recent":if(L!=="processed"&&L!=="confirmed"&&L!=="finalized")throw new TransactionExpiredNonceInvalidError(p);break;case"confirmed":case"single":case"singleGossip":if(L!=="confirmed"&&L!=="finalized")throw new TransactionExpiredNonceInvalidError(p);break;case"finalized":case"max":case"root":if(L!=="finalized")throw new TransactionExpiredNonceInvalidError(p);break;default:}T={context:P.context,value:{err:P.value.err}}}else throw new TransactionExpiredNonceInvalidError(p)}}finally{m=!0,w()}return T}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let a;const u=new Promise(y=>{let w=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{w=this._confirmTransactionInitialTimeout||3e4;break}}a=setTimeout(()=>y({__type:TransactionStatus.TIMED_OUT,timeoutMs:w}),w)}),{abortConfirmation:o,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let m;try{const y=await Promise.race([p,u]);if(y.__type===TransactionStatus.PROCESSED)m=y.response;else throw new TransactionExpiredTimeoutError(n,y.timeoutMs/1e3)}finally{clearTimeout(a),o()}return m}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=create(e,jsonRpcResult(array(ContactInfoResult)));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),a=await this._rpcRequest("getVoteAccounts",n),u=create(a,GetVoteAccounts);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to get vote accounts");return u.result}async getSlot(e){const{commitment:n,config:a}=extractCommitmentFromConfig(e),u=this._buildArgs([],n,void 0,a),o=await this._rpcRequest("getSlot",u),p=create(o,jsonRpcResult(number()));if("error"in p)throw new SolanaJSONRPCError(p.error,"failed to get slot");return p.result}async getSlotLeader(e){const{commitment:n,config:a}=extractCommitmentFromConfig(e),u=this._buildArgs([],n,void 0,a),o=await this._rpcRequest("getSlotLeader",u),p=create(o,jsonRpcResult(string()));if("error"in p)throw new SolanaJSONRPCError(p.error,"failed to get slot leader");return p.result}async getSlotLeaders(e,n){const a=[e,n],u=await this._rpcRequest("getSlotLeaders",a),o=create(u,jsonRpcResult(array(PublicKeyFromString)));if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:a,value:u}=await this.getSignatureStatuses([e],n);assert(u.length===1);const o=u[0];return{context:a,value:o}}async getSignatureStatuses(e,n){const a=[e];n&&a.push(n);const u=await this._rpcRequest("getSignatureStatuses",a),o=create(u,GetSignatureStatusesRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:a}=extractCommitmentFromConfig(e),u=this._buildArgs([],n,void 0,a),o=await this._rpcRequest("getTransactionCount",u),p=create(o,jsonRpcResult(number()));if("error"in p)throw new SolanaJSONRPCError(p.error,"failed to get transaction count");return p.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),a=await this._rpcRequest("getInflationGovernor",n),u=create(a,GetInflationGovernorRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to get inflation");return u.result}async getInflationReward(e,n,a){const{commitment:u,config:o}=extractCommitmentFromConfig(a),p=this._buildArgs([e.map(w=>w.toBase58())],u,void 0,{...o,epoch:n??o?.epoch}),m=await this._rpcRequest("getInflationReward",p),y=create(m,GetInflationRewardResult);if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get inflation reward");return y.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=create(e,GetInflationRateRpcResult);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:a}=extractCommitmentFromConfig(e),u=this._buildArgs([],n,void 0,a),o=await this._rpcRequest("getEpochInfo",u),p=create(o,GetEpochInfoRpcResult);if("error"in p)throw new SolanaJSONRPCError(p.error,"failed to get epoch info");return p.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=create(e,GetEpochScheduleRpcResult);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get epoch schedule");const a=n.result;return new EpochSchedule(a.slotsPerEpoch,a.leaderScheduleSlotOffset,a.warmup,a.firstNormalEpoch,a.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=create(e,GetLeaderScheduleRpcResult);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const a=this._buildArgs([e],n),u=await this._rpcRequest("getMinimumBalanceForRentExemption",a),o=create(u,GetMinimumBalanceForRentExemptionRpcResult);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const n=this._buildArgs([],e),a=await this._rpcRequest("getRecentBlockhash",n),u=create(a,GetRecentBlockhashAndContextRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to get recent blockhash");return u.result}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),a=create(n,GetRecentPerformanceSamplesRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get recent performance samples");return a.result}async getFeeCalculatorForBlockhash(e,n){const a=this._buildArgs([e],n),u=await this._rpcRequest("getFeeCalculatorForBlockhash",a),o=create(u,GetFeeCalculatorRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get fee calculator");const{context:p,value:m}=o.result;return{context:p,value:m!==null?m.feeCalculator:null}}async getFeeForMessage(e,n){const a=toBuffer$1(e.serialize()).toString("base64"),u=this._buildArgs([a],n),o=await this._rpcRequest("getFeeForMessage",u),p=create(o,jsonRpcResultAndContext(nullable(number())));if("error"in p)throw new SolanaJSONRPCError(p.error,"failed to get fee for message");if(p.result===null)throw new Error("invalid blockhash");return p.result}async getRecentPrioritizationFees(e){const n=e?.lockedWritableAccounts?.map(p=>p.toBase58()),a=n?.length?[n]:[],u=await this._rpcRequest("getRecentPrioritizationFees",a),o=create(u,GetRecentPrioritizationFeesRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:a}=extractCommitmentFromConfig(e),u=this._buildArgs([],n,void 0,a),o=await this._rpcRequest("getLatestBlockhash",u),p=create(o,GetLatestBlockhashRpcResult);if("error"in p)throw new SolanaJSONRPCError(p.error,"failed to get latest blockhash");return p.result}async isBlockhashValid(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=this._buildArgs([e],a,void 0,u),p=await this._rpcRequest("isBlockhashValid",o),m=create(p,IsBlockhashValidRpcResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to determine if the blockhash `"+e+"`is valid");return m.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=create(e,jsonRpcResult(VersionResult));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=create(e,jsonRpcResult(string()));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=this._buildArgsAtLeastConfirmed([e],a,void 0,u),p=await this._rpcRequest("getBlock",o);try{switch(u?.transactionDetails){case"accounts":{const m=create(p,GetAccountsModeBlockRpcResult);if("error"in m)throw m.error;return m.result}case"none":{const m=create(p,GetNoneModeBlockRpcResult);if("error"in m)throw m.error;return m.result}default:{const m=create(p,GetBlockRpcResult);if("error"in m)throw m.error;const{result:y}=m;return y?{...y,transactions:y.transactions.map(({transaction:w,meta:_,version:M})=>({meta:_,transaction:{...w,message:versionedMessageFromResponse(M,w.message)},version:M}))}:null}}}catch(m){throw new SolanaJSONRPCError(m,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=this._buildArgsAtLeastConfirmed([e],a,"jsonParsed",u),p=await this._rpcRequest("getBlock",o);try{switch(u?.transactionDetails){case"accounts":{const m=create(p,GetParsedAccountsModeBlockRpcResult);if("error"in m)throw m.error;return m.result}case"none":{const m=create(p,GetParsedNoneModeBlockRpcResult);if("error"in m)throw m.error;return m.result}default:{const m=create(p,GetParsedBlockRpcResult);if("error"in m)throw m.error;return m.result}}}catch(m){throw new SolanaJSONRPCError(m,"failed to get block")}}async getBlockProduction(e){let n,a;if(typeof e=="string")a=e;else if(e){const{commitment:m,...y}=e;a=m,n=y}const u=this._buildArgs([],a,"base64",n),o=await this._rpcRequest("getBlockProduction",u),p=create(o,BlockProductionResponseStruct);if("error"in p)throw new SolanaJSONRPCError(p.error,"failed to get block production information");return p.result}async getTransaction(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=this._buildArgsAtLeastConfirmed([e],a,void 0,u),p=await this._rpcRequest("getTransaction",o),m=create(p,GetTransactionRpcResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get transaction");const y=m.result;return y&&{...y,transaction:{...y.transaction,message:versionedMessageFromResponse(y.version,y.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=this._buildArgsAtLeastConfirmed([e],a,"jsonParsed",u),p=await this._rpcRequest("getTransaction",o),m=create(p,GetParsedTransactionRpcResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get transaction");return m.result}async getParsedTransactions(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=e.map(y=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([y],a,"jsonParsed",u)}));return(await this._rpcBatchRequest(o)).map(y=>{const w=create(y,GetParsedTransactionRpcResult);if("error"in w)throw new SolanaJSONRPCError(w.error,"failed to get transactions");return w.result})}async getTransactions(e,n){const{commitment:a,config:u}=extractCommitmentFromConfig(n),o=e.map(y=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([y],a,void 0,u)}));return(await this._rpcBatchRequest(o)).map(y=>{const w=create(y,GetTransactionRpcResult);if("error"in w)throw new SolanaJSONRPCError(w.error,"failed to get transactions");const _=w.result;return _&&{..._,transaction:{..._.transaction,message:versionedMessageFromResponse(_.version,_.transaction.message)}}})}async getConfirmedBlock(e,n){const a=this._buildArgsAtLeastConfirmed([e],n),u=await this._rpcRequest("getConfirmedBlock",a),o=create(u,GetConfirmedBlockRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get confirmed block");const p=o.result;if(!p)throw new Error("Confirmed block "+e+" not found");const m={...p,transactions:p.transactions.map(({transaction:y,meta:w})=>{const _=new Message(y.message);return{meta:w,transaction:{...y,message:_}}})};return{...m,transactions:m.transactions.map(({transaction:y,meta:w})=>({meta:w,transaction:Transaction.populate(y.message,y.signatures)}))}}async getBlocks(e,n,a){const u=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],a),o=await this._rpcRequest("getBlocks",u),p=create(o,jsonRpcResult(array(number())));if("error"in p)throw new SolanaJSONRPCError(p.error,"failed to get blocks");return p.result}async getBlockSignatures(e,n){const a=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),u=await this._rpcRequest("getBlock",a),o=create(u,GetBlockSignaturesRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get block");const p=o.result;if(!p)throw new Error("Block "+e+" not found");return p}async getConfirmedBlockSignatures(e,n){const a=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),u=await this._rpcRequest("getConfirmedBlock",a),o=create(u,GetBlockSignaturesRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get confirmed block");const p=o.result;if(!p)throw new Error("Confirmed block "+e+" not found");return p}async getConfirmedTransaction(e,n){const a=this._buildArgsAtLeastConfirmed([e],n),u=await this._rpcRequest("getConfirmedTransaction",a),o=create(u,GetTransactionRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get transaction");const p=o.result;if(!p)return p;const m=new Message(p.transaction.message),y=p.transaction.signatures;return{...p,transaction:Transaction.populate(m,y)}}async getParsedConfirmedTransaction(e,n){const a=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),u=await this._rpcRequest("getConfirmedTransaction",a),o=create(u,GetParsedTransactionRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const a=e.map(p=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([p],n,"jsonParsed")}));return(await this._rpcBatchRequest(a)).map(p=>{const m=create(p,GetParsedTransactionRpcResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get confirmed transactions");return m.result})}async getConfirmedSignaturesForAddress(e,n,a){let u={},o=await this.getFirstAvailableBlock();for(;!("until"in u)&&(n--,!(n<=0||n<o));)try{const y=await this.getConfirmedBlockSignatures(n,"finalized");y.signatures.length>0&&(u.until=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes("skipped"))continue;throw y}let p=await this.getSlot("finalized");for(;!("before"in u)&&(a++,!(a>p));)try{const y=await this.getConfirmedBlockSignatures(a);y.signatures.length>0&&(u.before=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes("skipped"))continue;throw y}return(await this.getConfirmedSignaturesForAddress2(e,u)).map(y=>y.signature)}async getConfirmedSignaturesForAddress2(e,n,a){const u=this._buildArgsAtLeastConfirmed([e.toBase58()],a,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",u),p=create(o,GetConfirmedSignaturesForAddress2RpcResult);if("error"in p)throw new SolanaJSONRPCError(p.error,"failed to get confirmed signatures for address");return p.result}async getSignaturesForAddress(e,n,a){const u=this._buildArgsAtLeastConfirmed([e.toBase58()],a,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",u),p=create(o,GetSignaturesForAddressRpcResult);if("error"in p)throw new SolanaJSONRPCError(p.error,"failed to get signatures for address");return p.result}async getAddressLookupTable(e,n){const{context:a,value:u}=await this.getAccountInfoAndContext(e,n);let o=null;return u!==null&&(o=new AddressLookupTableAccount({key:e,state:AddressLookupTableAccount.deserialize(u.data)})),{context:a,value:o}}async getNonceAndContext(e,n){const{context:a,value:u}=await this.getAccountInfoAndContext(e,n);let o=null;return u!==null&&(o=NonceAccount.fromAccountData(u.data)),{context:a,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(a=>a.value).catch(a=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+a)})}async requestAirdrop(e,n){const a=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),u=create(a,RequestAirdropRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,`airdrop to ${e.toBase58()} failed`);return u.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const a=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!a)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,a=n?n.blockhash:null;for(let u=0;u<50;u++){const o=await this.getLatestBlockhash("finalized");if(a!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:a}=extractCommitmentFromConfig(e),u=this._buildArgs([],n,"base64",a),o=await this._rpcRequest("getStakeMinimumDelegation",u),p=create(o,jsonRpcResultAndContext(number()));if("error"in p)throw new SolanaJSONRPCError(p.error,"failed to get stake minimum delegation");return p.result}async simulateTransaction(e,n,a){if("message"in e){const C=e.serialize(),L=Buffer$1$1.from(C).toString("base64");if(Array.isArray(n)||a!==void 0)throw new Error("Invalid arguments");const U=n||{};U.encoding="base64","commitment"in U||(U.commitment=this.commitment);const q=[L,U],G=await this._rpcRequest("simulateTransaction",q),X=create(G,SimulatedTransactionResponseStruct);if("error"in X)throw new Error("failed to simulate transaction: "+X.error.message);return X.result}let u;if(e instanceof Transaction){let P=e;u=new Transaction,u.feePayer=P.feePayer,u.instructions=e.instructions,u.nonceInfo=P.nonceInfo,u.signatures=P.signatures}else u=Transaction.populate(e),u._message=u._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(u.nonceInfo&&o)u.sign(...o);else{let P=this._disableBlockhashCaching;for(;;){const C=await this._blockhashWithExpiryBlockHeight(P);if(u.lastValidBlockHeight=C.lastValidBlockHeight,u.recentBlockhash=C.blockhash,!o)break;if(u.sign(...o),!u.signature)throw new Error("!signature");const L=u.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(L)&&!this._blockhashInfo.transactionSignatures.includes(L)){this._blockhashInfo.simulatedSignatures.push(L);break}else P=!0}}const p=u._compile(),m=p.serialize(),w=u._serialize(m).toString("base64"),_={encoding:"base64",commitment:this.commitment};if(a){const P=(Array.isArray(a)?a:p.nonProgramIds()).map(C=>C.toBase58());_.accounts={encoding:"base64",addresses:P}}o&&(_.sigVerify=!0);const M=[w,_],T=await this._rpcRequest("simulateTransaction",M),B=create(T,SimulatedTransactionResponseStruct);if("error"in B){let P;if("data"in B.error&&(P=B.error.data.logs,P&&Array.isArray(P))){const C=`
    `,L=C+P.join(C);console.error(B.error.message,L)}throw new SendTransactionError("failed to simulate transaction: "+B.error.message,P)}return B.result}async sendTransaction(e,n,a){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const p=e.serialize();return await this.sendRawTransaction(p,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const u=n;if(e.nonceInfo)e.sign(...u);else{let p=this._disableBlockhashCaching;for(;;){const m=await this._blockhashWithExpiryBlockHeight(p);if(e.lastValidBlockHeight=m.lastValidBlockHeight,e.recentBlockhash=m.blockhash,e.sign(...u),!e.signature)throw new Error("!signature");const y=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(y))p=!0;else{this._blockhashInfo.transactionSignatures.push(y);break}}}const o=e.serialize();return await this.sendRawTransaction(o,a)}async sendRawTransaction(e,n){const a=toBuffer$1(e).toString("base64");return await this.sendEncodedTransaction(a,n)}async sendEncodedTransaction(e,n){const a={encoding:"base64"},u=n&&n.skipPreflight,o=u===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(a.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(a.minContextSlot=n.minContextSlot),u&&(a.skipPreflight=u),o&&(a.preflightCommitment=o);const p=[e,a],m=await this._rpcRequest("sendTransaction",p),y=create(m,SendTransactionRpcResult);if("error"in y){let w;throw"data"in y.error&&(w=y.error.data.logs),new SendTransactionError("failed to send transaction: "+y.error.message,w)}return y.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,a])=>{this._setSubscription(n,{...a,state:"pending"})})}_setSubscription(e,n){const a=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=n,a!==n.state){const u=this._subscriptionStateChangeCallbacksByHash[e];u&&u.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){const a=this._subscriptionHashByClientSubscriptionId[e];if(a==null)return()=>{};const u=this._subscriptionStateChangeCallbacksByHash[a]||=new Set;return u.add(n),()=>{u.delete(n),u.size===0&&delete this._subscriptionStateChangeCallbacksByHash[a]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(a){a instanceof Error&&console.log(`Error when closing socket connection: ${a.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async a=>{const u=this._subscriptionsByHash[a];if(u!==void 0)switch(u.state){case"pending":case"unsubscribed":if(u.callbacks.size===0){delete this._subscriptionsByHash[a],u.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[u.serverSubscriptionId],await this._updateSubscriptions();return}await (async()=>{const{args:o,method:p}=u;try{this._setSubscription(a,{...u,state:"subscribing"});const m=await this._rpcWebSocket.call(p,o);this._setSubscription(a,{...u,serverSubscriptionId:m,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[m]=u.callbacks,await this._updateSubscriptions()}catch(m){if(m instanceof Error&&console.error(`${p} error for argument`,o,m.message),!n())return;this._setSubscription(a,{...u,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":u.callbacks.size===0&&await (async()=>{const{serverSubscriptionId:o,unsubscribeMethod:p}=u;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(a,{...u,state:"unsubscribing"}),this._setSubscription(a,{...u,state:"unsubscribing"});try{await this._rpcWebSocket.call(p,[o])}catch(m){if(m instanceof Error&&console.error(`${p} error:`,m.message),!n())return;this._setSubscription(a,{...u,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(a,{...u,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const a=this._subscriptionCallbacksByServerSubscriptionId[e];a!==void 0&&a.forEach(u=>{try{u(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:a}=create(e,AccountNotificationResult);this._handleServerNotification(a,[n.value,n.context])}_makeSubscription(e,n){const a=this._nextClientSubscriptionId++,u=fastStableStringify$1([e.method,n]),o=this._subscriptionsByHash[u];return o===void 0?this._subscriptionsByHash[u]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[a]=u,this._subscriptionDisposeFunctionsByClientSubscriptionId[a]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[a],delete this._subscriptionHashByClientSubscriptionId[a];const p=this._subscriptionsByHash[u];assert(p!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${a}`),p.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),a}onAccountChange(e,n,a){const u=this._buildArgs([e.toBase58()],a||this._commitment||"finalized","base64");return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},u)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:a}=create(e,ProgramAccountNotificationResult);this._handleServerNotification(a,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,a,u){const o=this._buildArgs([e.toBase58()],a||this._commitment||"finalized","base64",u?{filters:u}:void 0);return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,a){const u=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],a||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},u)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:a}=create(e,LogsNotificationResult);this._handleServerNotification(a,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:a}=create(e,SlotNotificationResult);this._handleServerNotification(a,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:a}=create(e,SlotUpdateNotificationResult);this._handleServerNotification(a,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const a=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];a?await a():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,a,u){const o=n||this._commitment;if(o||a||u){let p={};a&&(p.encoding=a),o&&(p.commitment=o),u&&(p=Object.assign(p,u)),e.push(p)}return e}_buildArgsAtLeastConfirmed(e,n,a,u){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,a,u)}_wsOnSignatureNotification(e){const{result:n,subscription:a}=create(e,SignatureNotificationResult);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(a),this._handleServerNotification(a,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,a){const u=this._buildArgs([e],a||this._commitment||"finalized"),o=this._makeSubscription({callback:(p,m)=>{if(p.type==="status"){n(p.result,m);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return o}onSignatureWithOptions(e,n,a){const{commitment:u,...o}={...a,commitment:a&&a.commitment||this._commitment||"finalized"},p=this._buildArgs([e],u,void 0,o),m=this._makeSubscription({callback:(y,w)=>{n(y,w);try{this.removeSignatureListener(m)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},p);return m}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:a}=create(e,RootNotificationResult);this._handleServerNotification(a,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const a=e.slice(32,64);if(!n||!n.skipValidation){const u=e.slice(0,32),o=getPublicKey(u);for(let p=0;p<32;p++)if(a[p]!==o[p])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:a,secretKey:e})}static fromSeed(e){const n=getPublicKey(e),a=new Uint8Array(64);return a.set(e),a.set(n,32),new Keypair({publicKey:n,secretKey:a})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:struct([u32("instruction"),u64$1("recentSlot"),u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct([u32("instruction")])},ExtendLookupTable:{index:2,layout:struct([u32("instruction"),u64$1(),seq(publicKey$1(),offset(u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct([u32("instruction")])},CloseLookupTable:{index:4,layout:struct([u32("instruction")])}});new PublicKey("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:struct([u8("instruction"),u32("units"),u32("additionalFee")])},RequestHeapFrame:{index:1,layout:struct([u8("instruction"),u32("bytes")])},SetComputeUnitLimit:{index:2,layout:struct([u8("instruction"),u32("units")])},SetComputeUnitPrice:{index:3,layout:struct([u8("instruction"),u64$1("microLamports")])}});new PublicKey("ComputeBudget111111111111111111111111111111");struct([u8("numSignatures"),u8("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);new PublicKey("Ed25519SigVerify111111111111111111111111111");secp256k1$2.utils.isValidPrivateKey;secp256k1$2.getPublicKey;struct([u8("numSignatures"),u16("signatureOffset"),u8("signatureInstructionIndex"),u16("ethAddressOffset"),u8("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8("messageInstructionIndex"),blob(20,"ethAddress"),blob(64,"signature"),u8("recoveryId")]);new PublicKey("KeccakSecp256k11111111111111111111111111111");var _Lockup;new PublicKey("StakeConfig11111111111111111111111111111111");class Lockup{constructor(e,n,a){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=a}}_Lockup=Lockup;Lockup.default=new _Lockup(0,0,PublicKey.default);Object.freeze({Initialize:{index:0,layout:struct([u32("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct([u32("instruction"),publicKey$1("newAuthorized"),u32("stakeAuthorizationType")])},Delegate:{index:2,layout:struct([u32("instruction")])},Split:{index:3,layout:struct([u32("instruction"),ns64("lamports")])},Withdraw:{index:4,layout:struct([u32("instruction"),ns64("lamports")])},Deactivate:{index:5,layout:struct([u32("instruction")])},Merge:{index:7,layout:struct([u32("instruction")])},AuthorizeWithSeed:{index:8,layout:struct([u32("instruction"),publicKey$1("newAuthorized"),u32("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$1("authorityOwner")])}});new PublicKey("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:struct([u32("instruction"),voteInit()])},Authorize:{index:1,layout:struct([u32("instruction"),publicKey$1("newAuthorized"),u32("voteAuthorizationType")])},Withdraw:{index:3,layout:struct([u32("instruction"),ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:struct([u32("instruction")])},AuthorizeWithSeed:{index:10,layout:struct([u32("instruction"),voteAuthorizeWithSeedArgs()])}});new PublicKey("Vote111111111111111111111111111111111111111");new PublicKey("Va1idator1nfo111111111111111111111111111111");type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())});new PublicKey("Vote111111111111111111111111111111111111111");struct([publicKey$1("nodePubkey"),publicKey$1("authorizedWithdrawer"),u8("commission"),nu64(),seq(struct([nu64("slot"),u32("confirmationCount")]),offset(u32(),-8),"votes"),u8("rootSlotValid"),nu64("rootSlot"),nu64(),seq(struct([nu64("epoch"),publicKey$1("authorizedVoter")]),offset(u32(),-8),"authorizedVoters"),struct([seq(struct([publicKey$1("authorizedPubkey"),nu64("epochOfLastAuthorizedSwitch"),nu64("targetEpoch")]),32,"buf"),nu64("idx"),u8("isEmpty")],"priorVoters"),nu64(),seq(struct([nu64("epoch"),nu64("credits"),nu64("prevCredits")]),offset(u32(),-8),"epochCredits"),struct([nu64("slot"),nu64("timestamp")],"lastTimestamp")]);const LAMPORTS_PER_SOL=1e9,TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new PublicKey("So11111111111111111111111111111111111111112");new PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const encodeDecode=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},bigInt=t=>e=>{const n=blob(t,e),{encode:a,decode:u}=encodeDecode(n),o=n;return o.decode=(p,m)=>{const y=u(p,m);return toBigIntLE_1(Buffer$1$1.from(y))},o.encode=(p,m,y)=>{const w=toBufferLE_1(p,t);return a(w,m,y)},o},u64=bigInt(8),bool=t=>{const e=u8(t),{encode:n,decode:a}=encodeDecode(e),u=e;return u.decode=(o,p)=>!!a(o,p),u.encode=(o,p,m)=>{const y=Number(o);return n(y,p,m)},u},publicKey=t=>{const e=blob(32,t),{encode:n,decode:a}=encodeDecode(e),u=e;return u.decode=(o,p)=>{const m=a(o,p);return new PublicKey(m)},u.encode=(o,p,m)=>{const y=o.toBuffer();return n(y,p,m)},u};class TokenError extends Error{constructor(e){super(e)}}class TokenAccountNotFoundError extends TokenError{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class TokenInvalidAccountError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class TokenInvalidAccountOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class TokenInvalidAccountSizeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class TokenInvalidMintError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class TokenInvalidOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}}class TokenOwnerOffCurveError extends TokenError{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var TokenInstruction;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension",t[t.GroupPointerExtension=40]="GroupPointerExtension",t[t.GroupMemberPointerExtension=41]="GroupMemberPointerExtension"})(TokenInstruction||(TokenInstruction={}));function addSigners(t,e,n){if(n.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(const a of n)t.push({pubkey:a instanceof PublicKey?a:a.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}function getSigners(t,e){return t instanceof PublicKey?[t,e]:[t.publicKey,[t]]}var AccountType;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(AccountType||(AccountType={}));const ACCOUNT_TYPE_SIZE=1,MultisigLayout=struct([u8("m"),u8("n"),bool("isInitialized"),publicKey("signer1"),publicKey("signer2"),publicKey("signer3"),publicKey("signer4"),publicKey("signer5"),publicKey("signer6"),publicKey("signer7"),publicKey("signer8"),publicKey("signer9"),publicKey("signer10"),publicKey("signer11")]),MULTISIG_SIZE=MultisigLayout.span;var AccountState;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(AccountState||(AccountState={}));const AccountLayout=struct([publicKey("mint"),publicKey("owner"),u64("amount"),u32("delegateOption"),publicKey("delegate"),u8("state"),u32("isNativeOption"),u64("isNative"),u64("delegatedAmount"),u32("closeAuthorityOption"),publicKey("closeAuthority")]),ACCOUNT_SIZE=AccountLayout.span;async function getAccount(t,e,n,a=TOKEN_PROGRAM_ID){const u=await t.getAccountInfo(e,n);return unpackAccount(e,u,a)}function unpackAccount(t,e,n=TOKEN_PROGRAM_ID){if(!e)throw new TokenAccountNotFoundError;if(!e.owner.equals(n))throw new TokenInvalidAccountOwnerError;if(e.data.length<ACCOUNT_SIZE)throw new TokenInvalidAccountSizeError;const a=AccountLayout.decode(e.data.slice(0,ACCOUNT_SIZE));let u=Buffer$1$1.alloc(0);if(e.data.length>ACCOUNT_SIZE){if(e.data.length===MULTISIG_SIZE)throw new TokenInvalidAccountSizeError;if(e.data[ACCOUNT_SIZE]!=AccountType.Account)throw new TokenInvalidAccountError;u=e.data.slice(ACCOUNT_SIZE+ACCOUNT_TYPE_SIZE)}return{address:t,mint:a.mint,owner:a.owner,amount:a.amount,delegate:a.delegateOption?a.delegate:null,delegatedAmount:a.delegatedAmount,isInitialized:a.state!==AccountState.Uninitialized,isFrozen:a.state===AccountState.Frozen,isNative:!!a.isNativeOption,rentExemptReserve:a.isNativeOption?a.isNative:null,closeAuthority:a.closeAuthorityOption?a.closeAuthority:null,tlvData:u}}const MintLayout=struct([u32("mintAuthorityOption"),publicKey("mintAuthority"),u64("supply"),u8("decimals"),bool("isInitialized"),u32("freezeAuthorityOption"),publicKey("freezeAuthority")]),MINT_SIZE=MintLayout.span;async function getMint(t,e,n,a=TOKEN_PROGRAM_ID){const u=await t.getAccountInfo(e,n);return unpackMint(e,u,a)}function unpackMint(t,e,n=TOKEN_PROGRAM_ID){if(!e)throw new TokenAccountNotFoundError;if(!e.owner.equals(n))throw new TokenInvalidAccountOwnerError;if(e.data.length<MINT_SIZE)throw new TokenInvalidAccountSizeError;const a=MintLayout.decode(e.data.slice(0,MINT_SIZE));let u=Buffer$1$1.alloc(0);if(e.data.length>MINT_SIZE){if(e.data.length<=ACCOUNT_SIZE)throw new TokenInvalidAccountSizeError;if(e.data.length===MULTISIG_SIZE)throw new TokenInvalidAccountSizeError;if(e.data[ACCOUNT_SIZE]!=AccountType.Mint)throw new TokenInvalidMintError;u=e.data.slice(ACCOUNT_SIZE+ACCOUNT_TYPE_SIZE)}return{address:t,mintAuthority:a.mintAuthorityOption?a.mintAuthority:null,supply:a.supply,decimals:a.decimals,isInitialized:a.isInitialized,freezeAuthority:a.freezeAuthorityOption?a.freezeAuthority:null,tlvData:u}}function getAssociatedTokenAddressSync(t,e,n=!1,a=TOKEN_PROGRAM_ID,u=ASSOCIATED_TOKEN_PROGRAM_ID){if(!n&&!PublicKey.isOnCurve(e.toBuffer()))throw new TokenOwnerOffCurveError;const[o]=PublicKey.findProgramAddressSync([e.toBuffer(),a.toBuffer(),t.toBuffer()],u);return o}var cryptoBrowserify={},browser$a={exports:{}},hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$a.exports;hasRequiredBrowser$8=1;var t=65536,e=4294967295;function n(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var a=safeBufferExports$1.Buffer,u=commonjsGlobal.crypto||commonjsGlobal.msCrypto;u&&u.getRandomValues?browser$a.exports=o:browser$a.exports=n;function o(p,m){if(p>e)throw new RangeError("requested too many random bytes");var y=a.allocUnsafe(p);if(p>0)if(p>t)for(var w=0;w<p;w+=t)u.getRandomValues(y.slice(w,w+t));else u.getRandomValues(y);return typeof m=="function"?process$1.nextTick(function(){m(null,y)}):y}return browser$a.exports}var inherits$1=inherits_browserExports,Buffer$1=safeBufferExports$1.Buffer,Base$1=cipherBase,ZEROS$1=Buffer$1.alloc(128),blocksize=64;function Hmac$1(t,e){Base$1.call(this,"digest"),typeof e=="string"&&(e=Buffer$1.from(e)),this._alg=t,this._key=e,e.length>blocksize?e=t(e):e.length<blocksize&&(e=Buffer$1.concat([e,ZEROS$1],blocksize));for(var n=this._ipad=Buffer$1.allocUnsafe(blocksize),a=this._opad=Buffer$1.allocUnsafe(blocksize),u=0;u<blocksize;u++)n[u]=e[u]^54,a[u]=e[u]^92;this._hash=[n]}inherits$1(Hmac$1,Base$1);Hmac$1.prototype._update=function(t){this._hash.push(t)};Hmac$1.prototype._final=function(){var t=this._alg(Buffer$1.concat(this._hash));return this._alg(Buffer$1.concat([this._opad,t]))};var legacy=Hmac$1,MD5=md5_js,md5$1=function(t){return new MD5().update(t).digest()},inherits=inherits_browserExports,Legacy=legacy,Base=cipherBase,Buffer=safeBufferExports$1.Buffer,md5=md5$1,RIPEMD160=ripemd160,sha=sha_jsExports,ZEROS=Buffer.alloc(128);function Hmac(t,e){Base.call(this,"digest"),typeof e=="string"&&(e=Buffer.from(e));var n=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>n){var a=t==="rmd160"?new RIPEMD160:sha(t);e=a.update(e).digest()}else e.length<n&&(e=Buffer.concat([e,ZEROS],n));for(var u=this._ipad=Buffer.allocUnsafe(n),o=this._opad=Buffer.allocUnsafe(n),p=0;p<n;p++)u[p]=e[p]^54,o[p]=e[p]^92;this._hash=t==="rmd160"?new RIPEMD160:sha(t),this._hash.update(u)}inherits(Hmac,Base);Hmac.prototype._update=function(t){this._hash.update(t)};Hmac.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new RIPEMD160:sha(this._alg);return e.update(this._opad).update(t).digest()};var browser$9=function(e,n){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Hmac("rmd160",n):e==="md5"?new Legacy(md5,n):new Hmac(e,n)};const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$8={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var t=Math.pow(2,30)-1;return precondition=function(e,n){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof n!="number")throw new TypeError("Key length not a number");if(n<0||n>t||n!==n)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var t;if(commonjsGlobal.process&&commonjsGlobal.process.browser)t="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var e=parseInt(process$1.version.split(".")[0].slice(1),10);t=e>=6?"utf-8":"binary"}else t="utf-8";return defaultEncoding_1=t,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var t=safeBufferExports$1.Buffer;return toBuffer=function(e,n,a){if(t.isBuffer(e))return e;if(typeof e=="string")return t.from(e,n);if(ArrayBuffer.isView(e))return t.from(e.buffer);throw new TypeError(a+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var t=md5$1,e=ripemd160,n=sha_jsExports,a=safeBufferExports$1.Buffer,u=requirePrecondition(),o=requireDefaultEncoding(),p=requireToBuffer(),m=a.alloc(128),y={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function w(T,B,P){var C=_(T),L=T==="sha512"||T==="sha384"?128:64;B.length>L?B=C(B):B.length<L&&(B=a.concat([B,m],L));for(var U=a.allocUnsafe(L+y[T]),q=a.allocUnsafe(L+y[T]),G=0;G<L;G++)U[G]=B[G]^54,q[G]=B[G]^92;var X=a.allocUnsafe(L+P+4);U.copy(X,0,0,L),this.ipad1=X,this.ipad2=U,this.opad=q,this.alg=T,this.blocksize=L,this.hash=C,this.size=y[T]}w.prototype.run=function(T,B){T.copy(B,this.blocksize);var P=this.hash(B);return P.copy(this.opad,this.blocksize),this.hash(this.opad)};function _(T){function B(C){return n(T).update(C).digest()}function P(C){return new e().update(C).digest()}return T==="rmd160"||T==="ripemd160"?P:T==="md5"?t:B}function M(T,B,P,C,L){u(P,C),T=p(T,o,"Password"),B=p(B,o,"Salt"),L=L||"sha1";var U=new w(L,T,B.length),q=a.allocUnsafe(C),G=a.allocUnsafe(B.length+4);B.copy(G,0,0,B.length);for(var X=0,te=y[L],ne=Math.ceil(C/te),ge=1;ge<=ne;ge++){G.writeUInt32BE(ge,B.length);for(var pe=U.run(G,U.ipad1),se=pe,Se=1;Se<P;Se++){se=U.run(se,U.ipad2);for(var k=0;k<te;k++)pe[k]^=se[k]}pe.copy(q,X),X+=te}return q}return syncBrowser=M,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var t=safeBufferExports$1.Buffer,e=requirePrecondition(),n=requireDefaultEncoding(),a=requireSyncBrowser(),u=requireToBuffer(),o,p=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,m={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function w(P){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!p||!p.importKey||!p.deriveBits)return Promise.resolve(!1);if(y[P]!==void 0)return y[P];o=o||t.alloc(8);var C=T(o,o,10,128,P).then(function(){return!0}).catch(function(){return!1});return y[P]=C,C}var _;function M(){return _||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?_=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?_=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?_=commonjsGlobal.setImmediate:_=commonjsGlobal.setTimeout,_)}function T(P,C,L,U,q){return p.importKey("raw",P,{name:"PBKDF2"},!1,["deriveBits"]).then(function(G){return p.deriveBits({name:"PBKDF2",salt:C,iterations:L,hash:{name:q}},G,U<<3)}).then(function(G){return t.from(G)})}function B(P,C){P.then(function(L){M()(function(){C(null,L)})},function(L){M()(function(){C(L)})})}return async=function(P,C,L,U,q,G){typeof q=="function"&&(G=q,q=void 0),q=q||"sha1";var X=m[q.toLowerCase()];if(!X||typeof commonjsGlobal.Promise!="function"){M()(function(){var te;try{te=a(P,C,L,U,q)}catch(ne){return G(ne)}G(null,te)});return}if(e(L,U),P=u(P,n,"Password"),C=u(C,n,"Salt"),typeof G!="function")throw new Error("No callback provided to pbkdf2");B(w(X).then(function(te){return te?T(P,C,L,U,X):a(P,C,L,U,q)}),G)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$8.pbkdf2=requireAsync(),browser$8.pbkdf2Sync=requireSyncBrowser()),browser$8}var browser$7={},des$1={},utils$4={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$4;hasRequiredUtils$3=1,utils$4.readUInt32BE=function(u,o){var p=u[0+o]<<24|u[1+o]<<16|u[2+o]<<8|u[3+o];return p>>>0},utils$4.writeUInt32BE=function(u,o,p){u[0+p]=o>>>24,u[1+p]=o>>>16&255,u[2+p]=o>>>8&255,u[3+p]=o&255},utils$4.ip=function(u,o,p,m){for(var y=0,w=0,_=6;_>=0;_-=2){for(var M=0;M<=24;M+=8)y<<=1,y|=o>>>M+_&1;for(var M=0;M<=24;M+=8)y<<=1,y|=u>>>M+_&1}for(var _=6;_>=0;_-=2){for(var M=1;M<=25;M+=8)w<<=1,w|=o>>>M+_&1;for(var M=1;M<=25;M+=8)w<<=1,w|=u>>>M+_&1}p[m+0]=y>>>0,p[m+1]=w>>>0},utils$4.rip=function(u,o,p,m){for(var y=0,w=0,_=0;_<4;_++)for(var M=24;M>=0;M-=8)y<<=1,y|=o>>>M+_&1,y<<=1,y|=u>>>M+_&1;for(var _=4;_<8;_++)for(var M=24;M>=0;M-=8)w<<=1,w|=o>>>M+_&1,w<<=1,w|=u>>>M+_&1;p[m+0]=y>>>0,p[m+1]=w>>>0},utils$4.pc1=function(u,o,p,m){for(var y=0,w=0,_=7;_>=5;_--){for(var M=0;M<=24;M+=8)y<<=1,y|=o>>M+_&1;for(var M=0;M<=24;M+=8)y<<=1,y|=u>>M+_&1}for(var M=0;M<=24;M+=8)y<<=1,y|=o>>M+_&1;for(var _=1;_<=3;_++){for(var M=0;M<=24;M+=8)w<<=1,w|=o>>M+_&1;for(var M=0;M<=24;M+=8)w<<=1,w|=u>>M+_&1}for(var M=0;M<=24;M+=8)w<<=1,w|=u>>M+_&1;p[m+0]=y>>>0,p[m+1]=w>>>0},utils$4.r28shl=function(u,o){return u<<o&268435455|u>>>28-o};var t=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$4.pc2=function(u,o,p,m){for(var y=0,w=0,_=t.length>>>1,M=0;M<_;M++)y<<=1,y|=u>>>t[M]&1;for(var M=_;M<t.length;M++)w<<=1,w|=o>>>t[M]&1;p[m+0]=y>>>0,p[m+1]=w>>>0},utils$4.expand=function(u,o,p){var m=0,y=0;m=(u&1)<<5|u>>>27;for(var w=23;w>=15;w-=4)m<<=6,m|=u>>>w&63;for(var w=11;w>=3;w-=4)y|=u>>>w&63,y<<=6;y|=(u&31)<<1|u>>>31,o[p+0]=m>>>0,o[p+1]=y>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$4.substitute=function(u,o){for(var p=0,m=0;m<4;m++){var y=u>>>18-m*6&63,w=e[m*64+y];p<<=4,p|=w}for(var m=0;m<4;m++){var y=o>>>18-m*6&63,w=e[4*64+m*64+y];p<<=4,p|=w}return p>>>0};var n=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$4.permute=function(u){for(var o=0,p=0;p<n.length;p++)o<<=1,o|=u>>>n[p]&1;return o>>>0},utils$4.padSplit=function(u,o,p){for(var m=u.toString(2);m.length<o;)m="0"+m;for(var y=[],w=0;w<o;w+=p)y.push(m.slice(w,w+p));return y.join(" ")},utils$4}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var t=minimalisticAssert$1;function e(n){this.options=n,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=n.padding!==!1}return cipher=e,e.prototype._init=function(){},e.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},e.prototype._buffer=function(a,u){for(var o=Math.min(this.buffer.length-this.bufferOff,a.length-u),p=0;p<o;p++)this.buffer[this.bufferOff+p]=a[u+p];return this.bufferOff+=o,o},e.prototype._flushBuffer=function(a,u){return this._update(this.buffer,0,a,u),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(a){var u=0,o=0,p=(this.bufferOff+a.length)/this.blockSize|0,m=new Array(p*this.blockSize);this.bufferOff!==0&&(u+=this._buffer(a,u),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(m,o)));for(var y=a.length-(a.length-u)%this.blockSize;u<y;u+=this.blockSize)this._update(a,u,m,o),o+=this.blockSize;for(;u<a.length;u++,this.bufferOff++)this.buffer[this.bufferOff]=a[u];return m},e.prototype._updateDecrypt=function(a){for(var u=0,o=0,p=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,m=new Array(p*this.blockSize);p>0;p--)u+=this._buffer(a,u),o+=this._flushBuffer(m,o);return u+=this._buffer(a,u),m},e.prototype.final=function(a){var u;a&&(u=this.update(a));var o;return this.type==="encrypt"?o=this._finalEncrypt():o=this._finalDecrypt(),u?u.concat(o):o},e.prototype._pad=function(a,u){if(u===0)return!1;for(;u<a.length;)a[u++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},e.prototype._unpad=function(a){return a},e.prototype._finalDecrypt=function(){t.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var t=minimalisticAssert$1,e=inherits_browserExports,n=requireUtils$3(),a=requireCipher();function u(){this.tmp=new Array(2),this.keys=null}function o(m){a.call(this,m);var y=new u;this._desState=y,this.deriveKeys(y,m.key)}e(o,a),des=o,o.create=function(y){return new o(y)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return o.prototype.deriveKeys=function(y,w){y.keys=new Array(16*2),t.equal(w.length,this.blockSize,"Invalid key length");var _=n.readUInt32BE(w,0),M=n.readUInt32BE(w,4);n.pc1(_,M,y.tmp,0),_=y.tmp[0],M=y.tmp[1];for(var T=0;T<y.keys.length;T+=2){var B=p[T>>>1];_=n.r28shl(_,B),M=n.r28shl(M,B),n.pc2(_,M,y.keys,T)}},o.prototype._update=function(y,w,_,M){var T=this._desState,B=n.readUInt32BE(y,w),P=n.readUInt32BE(y,w+4);n.ip(B,P,T.tmp,0),B=T.tmp[0],P=T.tmp[1],this.type==="encrypt"?this._encrypt(T,B,P,T.tmp,0):this._decrypt(T,B,P,T.tmp,0),B=T.tmp[0],P=T.tmp[1],n.writeUInt32BE(_,B,M),n.writeUInt32BE(_,P,M+4)},o.prototype._pad=function(y,w){if(this.padding===!1)return!1;for(var _=y.length-w,M=w;M<y.length;M++)y[M]=_;return!0},o.prototype._unpad=function(y){if(this.padding===!1)return y;for(var w=y[y.length-1],_=y.length-w;_<y.length;_++)t.equal(y[_],w);return y.slice(0,y.length-w)},o.prototype._encrypt=function(y,w,_,M,T){for(var B=w,P=_,C=0;C<y.keys.length;C+=2){var L=y.keys[C],U=y.keys[C+1];n.expand(P,y.tmp,0),L^=y.tmp[0],U^=y.tmp[1];var q=n.substitute(L,U),G=n.permute(q),X=P;P=(B^G)>>>0,B=X}n.rip(P,B,M,T)},o.prototype._decrypt=function(y,w,_,M,T){for(var B=_,P=w,C=y.keys.length-2;C>=0;C-=2){var L=y.keys[C],U=y.keys[C+1];n.expand(B,y.tmp,0),L^=y.tmp[0],U^=y.tmp[1];var q=n.substitute(L,U),G=n.permute(q),X=B;B=(P^G)>>>0,P=X}n.rip(B,P,M,T)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var t=minimalisticAssert$1,e=inherits_browserExports,n={};function a(o){t.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var p=0;p<this.iv.length;p++)this.iv[p]=o[p]}function u(o){function p(_){o.call(this,_),this._cbcInit()}e(p,o);for(var m=Object.keys(n),y=0;y<m.length;y++){var w=m[y];p.prototype[w]=n[w]}return p.create=function(M){return new p(M)},p}return cbc$1.instantiate=u,n._cbcInit=function(){var p=new a(this.options.iv);this._cbcState=p},n._update=function(p,m,y,w){var _=this._cbcState,M=this.constructor.super_.prototype,T=_.iv;if(this.type==="encrypt"){for(var B=0;B<this.blockSize;B++)T[B]^=p[m+B];M._update.call(this,T,0,y,w);for(var B=0;B<this.blockSize;B++)T[B]=y[w+B]}else{M._update.call(this,p,m,y,w);for(var B=0;B<this.blockSize;B++)y[w+B]^=T[B];for(var B=0;B<this.blockSize;B++)T[B]=p[m+B]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var t=minimalisticAssert$1,e=inherits_browserExports,n=requireCipher(),a=requireDes$1();function u(p,m){t.equal(m.length,24,"Invalid key length");var y=m.slice(0,8),w=m.slice(8,16),_=m.slice(16,24);p==="encrypt"?this.ciphers=[a.create({type:"encrypt",key:y}),a.create({type:"decrypt",key:w}),a.create({type:"encrypt",key:_})]:this.ciphers=[a.create({type:"decrypt",key:_}),a.create({type:"encrypt",key:w}),a.create({type:"decrypt",key:y})]}function o(p){n.call(this,p);var m=new u(this.type,this.options.key);this._edeState=m}return e(o,n),ede=o,o.create=function(m){return new o(m)},o.prototype._update=function(m,y,w,_){var M=this._edeState;M.ciphers[0]._update(m,y,w,_),M.ciphers[1]._update(w,_,w,_),M.ciphers[2]._update(w,_,w,_)},o.prototype._pad=a.prototype._pad,o.prototype._unpad=a.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var t=cipherBase,e=requireDes(),n=inherits_browserExports,a=safeBufferExports$1.Buffer,u={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],browserifyDes=o,n(o,t);function o(p){t.call(this);var m=p.mode.toLowerCase(),y=u[m],w;p.decrypt?w="decrypt":w="encrypt";var _=p.key;a.isBuffer(_)||(_=a.from(_)),(m==="des-ede"||m==="des-ede-cbc")&&(_=a.concat([_,_.slice(0,8)]));var M=p.iv;a.isBuffer(M)||(M=a.from(M)),this._des=y.create({key:_,iv:M,type:w})}return o.prototype._update=function(p){return a.from(this._des.update(p))},o.prototype._final=function(){return a.from(this._des.final())},browserifyDes}var browser$6={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(t,e){return t._cipher.encryptBlock(e)},ecb.decrypt=function(t,e){return t._cipher.decryptBlock(e)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(e,n){for(var a=Math.min(e.length,n.length),u=new Buffer$1$1(a),o=0;o<a;++o)u[o]=e[o]^n[o];return u}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var t=requireBufferXor();return cbc.encrypt=function(e,n){var a=t(n,e._prev);return e._prev=e._cipher.encryptBlock(a),e._prev},cbc.decrypt=function(e,n){var a=e._prev;e._prev=n;var u=e._cipher.decryptBlock(n);return t(u,a)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var t=safeBufferExports$1.Buffer,e=requireBufferXor();function n(a,u,o){var p=u.length,m=e(u,a._cache);return a._cache=a._cache.slice(p),a._prev=t.concat([a._prev,o?u:m]),m}return cfb.encrypt=function(a,u,o){for(var p=t.allocUnsafe(0),m;u.length;)if(a._cache.length===0&&(a._cache=a._cipher.encryptBlock(a._prev),a._prev=t.allocUnsafe(0)),a._cache.length<=u.length)m=a._cache.length,p=t.concat([p,n(a,u.slice(0,m),o)]),u=u.slice(m);else{p=t.concat([p,n(a,u,o)]);break}return p},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var t=safeBufferExports$1.Buffer;function e(n,a,u){var o=n._cipher.encryptBlock(n._prev),p=o[0]^a;return n._prev=t.concat([n._prev.slice(1),t.from([u?a:p])]),p}return cfb8.encrypt=function(n,a,u){for(var o=a.length,p=t.allocUnsafe(o),m=-1;++m<o;)p[m]=e(n,a[m],u);return p},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var t=safeBufferExports$1.Buffer;function e(a,u,o){for(var p,m=-1,y=8,w=0,_,M;++m<y;)p=a._cipher.encryptBlock(a._prev),_=u&1<<7-m?128:0,M=p[0]^_,w+=(M&128)>>m%8,a._prev=n(a._prev,o?_:M);return w}function n(a,u){var o=a.length,p=-1,m=t.allocUnsafe(a.length);for(a=t.concat([a,t.from([u])]);++p<o;)m[p]=a[p]<<1|a[p+1]>>7;return m}return cfb1.encrypt=function(a,u,o){for(var p=u.length,m=t.allocUnsafe(p),y=-1;++y<p;)m[y]=e(a,u[y],o);return m},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var t=requireBufferXor();function e(n){return n._prev=n._cipher.encryptBlock(n._prev),n._prev}return ofb.encrypt=function(n,a){for(;n._cache.length<a.length;)n._cache=Buffer$1$1.concat([n._cache,e(n)]);var u=n._cache.slice(0,a.length);return n._cache=n._cache.slice(a.length),t(a,u)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function t(e){for(var n=e.length,a;n--;)if(a=e.readUInt8(n),a===255)e.writeUInt8(0,n);else{a++,e.writeUInt8(a,n);break}}return incr32_1=t,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var t=requireBufferXor(),e=safeBufferExports$1.Buffer,n=requireIncr32();function a(o){var p=o._cipher.encryptBlockRaw(o._prev);return n(o._prev),p}var u=16;return ctr.encrypt=function(o,p){var m=Math.ceil(p.length/u),y=o._cache.length;o._cache=e.concat([o._cache,e.allocUnsafe(m*u)]);for(var w=0;w<m;w++){var _=a(o),M=y+w*u;o._cache.writeUInt32BE(_[0],M+0),o._cache.writeUInt32BE(_[1],M+4),o._cache.writeUInt32BE(_[2],M+8),o._cache.writeUInt32BE(_[3],M+12)}var T=o._cache.slice(0,p.length);return o._cache=o._cache.slice(p.length),t(p,T)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var t={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},e=require$$2;for(var n in e)e[n].module=t[e[n].mode];return modes_1=e,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var t=safeBufferExports$1.Buffer;function e(m){t.isBuffer(m)||(m=t.from(m));for(var y=m.length/4|0,w=new Array(y),_=0;_<y;_++)w[_]=m.readUInt32BE(_*4);return w}function n(m){for(var y=0;y<m.length;m++)m[y]=0}function a(m,y,w,_,M){for(var T=w[0],B=w[1],P=w[2],C=w[3],L=m[0]^y[0],U=m[1]^y[1],q=m[2]^y[2],G=m[3]^y[3],X,te,ne,ge,pe=4,se=1;se<M;se++)X=T[L>>>24]^B[U>>>16&255]^P[q>>>8&255]^C[G&255]^y[pe++],te=T[U>>>24]^B[q>>>16&255]^P[G>>>8&255]^C[L&255]^y[pe++],ne=T[q>>>24]^B[G>>>16&255]^P[L>>>8&255]^C[U&255]^y[pe++],ge=T[G>>>24]^B[L>>>16&255]^P[U>>>8&255]^C[q&255]^y[pe++],L=X,U=te,q=ne,G=ge;return X=(_[L>>>24]<<24|_[U>>>16&255]<<16|_[q>>>8&255]<<8|_[G&255])^y[pe++],te=(_[U>>>24]<<24|_[q>>>16&255]<<16|_[G>>>8&255]<<8|_[L&255])^y[pe++],ne=(_[q>>>24]<<24|_[G>>>16&255]<<16|_[L>>>8&255]<<8|_[U&255])^y[pe++],ge=(_[G>>>24]<<24|_[L>>>16&255]<<16|_[U>>>8&255]<<8|_[q&255])^y[pe++],X=X>>>0,te=te>>>0,ne=ne>>>0,ge=ge>>>0,[X,te,ne,ge]}var u=[0,1,2,4,8,16,32,64,128,27,54],o=function(){for(var m=new Array(256),y=0;y<256;y++)y<128?m[y]=y<<1:m[y]=y<<1^283;for(var w=[],_=[],M=[[],[],[],[]],T=[[],[],[],[]],B=0,P=0,C=0;C<256;++C){var L=P^P<<1^P<<2^P<<3^P<<4;L=L>>>8^L&255^99,w[B]=L,_[L]=B;var U=m[B],q=m[U],G=m[q],X=m[L]*257^L*16843008;M[0][B]=X<<24|X>>>8,M[1][B]=X<<16|X>>>16,M[2][B]=X<<8|X>>>24,M[3][B]=X,X=G*16843009^q*65537^U*257^B*16843008,T[0][L]=X<<24|X>>>8,T[1][L]=X<<16|X>>>16,T[2][L]=X<<8|X>>>24,T[3][L]=X,B===0?B=P=1:(B=U^m[m[m[G^U]]],P^=m[m[P]])}return{SBOX:w,INV_SBOX:_,SUB_MIX:M,INV_SUB_MIX:T}}();function p(m){this._key=e(m),this._reset()}return p.blockSize=4*4,p.keySize=256/8,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var m=this._key,y=m.length,w=y+6,_=(w+1)*4,M=[],T=0;T<y;T++)M[T]=m[T];for(T=y;T<_;T++){var B=M[T-1];T%y===0?(B=B<<8|B>>>24,B=o.SBOX[B>>>24]<<24|o.SBOX[B>>>16&255]<<16|o.SBOX[B>>>8&255]<<8|o.SBOX[B&255],B^=u[T/y|0]<<24):y>6&&T%y===4&&(B=o.SBOX[B>>>24]<<24|o.SBOX[B>>>16&255]<<16|o.SBOX[B>>>8&255]<<8|o.SBOX[B&255]),M[T]=M[T-y]^B}for(var P=[],C=0;C<_;C++){var L=_-C,U=M[L-(C%4?0:4)];C<4||L<=4?P[C]=U:P[C]=o.INV_SUB_MIX[0][o.SBOX[U>>>24]]^o.INV_SUB_MIX[1][o.SBOX[U>>>16&255]]^o.INV_SUB_MIX[2][o.SBOX[U>>>8&255]]^o.INV_SUB_MIX[3][o.SBOX[U&255]]}this._nRounds=w,this._keySchedule=M,this._invKeySchedule=P},p.prototype.encryptBlockRaw=function(m){return m=e(m),a(m,this._keySchedule,o.SUB_MIX,o.SBOX,this._nRounds)},p.prototype.encryptBlock=function(m){var y=this.encryptBlockRaw(m),w=t.allocUnsafe(16);return w.writeUInt32BE(y[0],0),w.writeUInt32BE(y[1],4),w.writeUInt32BE(y[2],8),w.writeUInt32BE(y[3],12),w},p.prototype.decryptBlock=function(m){m=e(m);var y=m[1];m[1]=m[3],m[3]=y;var w=a(m,this._invKeySchedule,o.INV_SUB_MIX,o.INV_SBOX,this._nRounds),_=t.allocUnsafe(16);return _.writeUInt32BE(w[0],0),_.writeUInt32BE(w[3],4),_.writeUInt32BE(w[2],8),_.writeUInt32BE(w[1],12),_},p.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},aes.AES=p,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var t=safeBufferExports$1.Buffer,e=t.alloc(16,0);function n(o){return[o.readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)]}function a(o){var p=t.allocUnsafe(16);return p.writeUInt32BE(o[0]>>>0,0),p.writeUInt32BE(o[1]>>>0,4),p.writeUInt32BE(o[2]>>>0,8),p.writeUInt32BE(o[3]>>>0,12),p}function u(o){this.h=o,this.state=t.alloc(16,0),this.cache=t.allocUnsafe(0)}return u.prototype.ghash=function(o){for(var p=-1;++p<o.length;)this.state[p]^=o[p];this._multiply()},u.prototype._multiply=function(){for(var o=n(this.h),p=[0,0,0,0],m,y,w,_=-1;++_<128;){for(y=(this.state[~~(_/8)]&1<<7-_%8)!==0,y&&(p[0]^=o[0],p[1]^=o[1],p[2]^=o[2],p[3]^=o[3]),w=(o[3]&1)!==0,m=3;m>0;m--)o[m]=o[m]>>>1|(o[m-1]&1)<<31;o[0]=o[0]>>>1,w&&(o[0]=o[0]^225<<24)}this.state=a(p)},u.prototype.update=function(o){this.cache=t.concat([this.cache,o]);for(var p;this.cache.length>=16;)p=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(p)},u.prototype.final=function(o,p){return this.cache.length&&this.ghash(t.concat([this.cache,e],16)),this.ghash(a([0,o,0,p])),this.state},ghash=u,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var t=requireAes(),e=safeBufferExports$1.Buffer,n=cipherBase,a=inherits_browserExports,u=requireGhash(),o=requireBufferXor(),p=requireIncr32();function m(_,M){var T=0;_.length!==M.length&&T++;for(var B=Math.min(_.length,M.length),P=0;P<B;++P)T+=_[P]^M[P];return T}function y(_,M,T){if(M.length===12)return _._finID=e.concat([M,e.from([0,0,0,1])]),e.concat([M,e.from([0,0,0,2])]);var B=new u(T),P=M.length,C=P%16;B.update(M),C&&(C=16-C,B.update(e.alloc(C,0))),B.update(e.alloc(8,0));var L=P*8,U=e.alloc(8);U.writeUIntBE(L,0,8),B.update(U),_._finID=B.state;var q=e.from(_._finID);return p(q),q}function w(_,M,T,B){n.call(this);var P=e.alloc(4,0);this._cipher=new t.AES(M);var C=this._cipher.encryptBlock(P);this._ghash=new u(C),T=y(this,T,C),this._prev=e.from(T),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=B,this._alen=0,this._len=0,this._mode=_,this._authTag=null,this._called=!1}return a(w,n),w.prototype._update=function(_){if(!this._called&&this._alen){var M=16-this._alen%16;M<16&&(M=e.alloc(M,0),this._ghash.update(M))}this._called=!0;var T=this._mode.encrypt(this,_);return this._decrypt?this._ghash.update(_):this._ghash.update(T),this._len+=_.length,T},w.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var _=o(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&m(_,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=_,this._cipher.scrub()},w.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},w.prototype.setAuthTag=function(M){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=M},w.prototype.setAAD=function(M){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(M),this._alen+=M.length},authCipher=w,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var t=requireAes(),e=safeBufferExports$1.Buffer,n=cipherBase,a=inherits_browserExports;function u(o,p,m,y){n.call(this),this._cipher=new t.AES(p),this._prev=e.from(m),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=y,this._mode=o}return a(u,n),u.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},streamCipher=u,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var t=safeBufferExports$1.Buffer,e=md5_js;function n(a,u,o,p){if(t.isBuffer(a)||(a=t.from(a,"binary")),u&&(t.isBuffer(u)||(u=t.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var m=o/8,y=t.alloc(m),w=t.alloc(p||0),_=t.alloc(0);m>0||p>0;){var M=new e;M.update(_),M.update(a),u&&M.update(u),_=M.digest();var T=0;if(m>0){var B=y.length-m;T=Math.min(m,_.length),_.copy(y,B,0,T),m-=T}if(T<_.length&&p>0){var P=w.length-p,C=Math.min(p,_.length-T);_.copy(w,P,T,T+C),p-=C}}return _.fill(0),{key:y,iv:w}}return evp_bytestokey=n,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var t=requireModes$1(),e=requireAuthCipher(),n=safeBufferExports$1.Buffer,a=requireStreamCipher(),u=cipherBase,o=requireAes(),p=requireEvp_bytestokey(),m=inherits_browserExports;function y(B,P,C){u.call(this),this._cache=new _,this._cipher=new o.AES(P),this._prev=n.from(C),this._mode=B,this._autopadding=!0}m(y,u),y.prototype._update=function(B){this._cache.add(B);for(var P,C,L=[];P=this._cache.get();)C=this._mode.encrypt(this,P),L.push(C);return n.concat(L)};var w=n.alloc(16,16);y.prototype._final=function(){var B=this._cache.flush();if(this._autopadding)return B=this._mode.encrypt(this,B),this._cipher.scrub(),B;if(!B.equals(w))throw this._cipher.scrub(),new Error("data not multiple of block length")},y.prototype.setAutoPadding=function(B){return this._autopadding=!!B,this};function _(){this.cache=n.allocUnsafe(0)}_.prototype.add=function(B){this.cache=n.concat([this.cache,B])},_.prototype.get=function(){if(this.cache.length>15){var B=this.cache.slice(0,16);return this.cache=this.cache.slice(16),B}return null},_.prototype.flush=function(){for(var B=16-this.cache.length,P=n.allocUnsafe(B),C=-1;++C<B;)P.writeUInt8(B,C);return n.concat([this.cache,P])};function M(B,P,C){var L=t[B.toLowerCase()];if(!L)throw new TypeError("invalid suite type");if(typeof P=="string"&&(P=n.from(P)),P.length!==L.key/8)throw new TypeError("invalid key length "+P.length);if(typeof C=="string"&&(C=n.from(C)),L.mode!=="GCM"&&C.length!==L.iv)throw new TypeError("invalid iv length "+C.length);return L.type==="stream"?new a(L.module,P,C):L.type==="auth"?new e(L.module,P,C):new y(L.module,P,C)}function T(B,P){var C=t[B.toLowerCase()];if(!C)throw new TypeError("invalid suite type");var L=p(P,!1,C.key,C.iv);return M(B,L.key,L.iv)}return encrypter.createCipheriv=M,encrypter.createCipher=T,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var t=requireAuthCipher(),e=safeBufferExports$1.Buffer,n=requireModes$1(),a=requireStreamCipher(),u=cipherBase,o=requireAes(),p=requireEvp_bytestokey(),m=inherits_browserExports;function y(B,P,C){u.call(this),this._cache=new w,this._last=void 0,this._cipher=new o.AES(P),this._prev=e.from(C),this._mode=B,this._autopadding=!0}m(y,u),y.prototype._update=function(B){this._cache.add(B);for(var P,C,L=[];P=this._cache.get(this._autopadding);)C=this._mode.decrypt(this,P),L.push(C);return e.concat(L)},y.prototype._final=function(){var B=this._cache.flush();if(this._autopadding)return _(this._mode.decrypt(this,B));if(B)throw new Error("data not multiple of block length")},y.prototype.setAutoPadding=function(B){return this._autopadding=!!B,this};function w(){this.cache=e.allocUnsafe(0)}w.prototype.add=function(B){this.cache=e.concat([this.cache,B])},w.prototype.get=function(B){var P;if(B){if(this.cache.length>16)return P=this.cache.slice(0,16),this.cache=this.cache.slice(16),P}else if(this.cache.length>=16)return P=this.cache.slice(0,16),this.cache=this.cache.slice(16),P;return null},w.prototype.flush=function(){if(this.cache.length)return this.cache};function _(B){var P=B[15];if(P<1||P>16)throw new Error("unable to decrypt data");for(var C=-1;++C<P;)if(B[C+(16-P)]!==P)throw new Error("unable to decrypt data");if(P!==16)return B.slice(0,16-P)}function M(B,P,C){var L=n[B.toLowerCase()];if(!L)throw new TypeError("invalid suite type");if(typeof C=="string"&&(C=e.from(C)),L.mode!=="GCM"&&C.length!==L.iv)throw new TypeError("invalid iv length "+C.length);if(typeof P=="string"&&(P=e.from(P)),P.length!==L.key/8)throw new TypeError("invalid key length "+P.length);return L.type==="stream"?new a(L.module,P,C,!0):L.type==="auth"?new t(L.module,P,C,!0):new y(L.module,P,C)}function T(B,P){var C=n[B.toLowerCase()];if(!C)throw new TypeError("invalid suite type");var L=p(P,!1,C.key,C.iv);return M(B,L.key,L.iv)}return decrypter.createDecipher=T,decrypter.createDecipheriv=M,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$6;hasRequiredBrowser$6=1;var t=requireEncrypter(),e=requireDecrypter(),n=require$$2;function a(){return Object.keys(n)}return browser$6.createCipher=browser$6.Cipher=t.createCipher,browser$6.createCipheriv=browser$6.Cipheriv=t.createCipheriv,browser$6.createDecipher=browser$6.Decipher=e.createDecipher,browser$6.createDecipheriv=browser$6.Decipheriv=e.createDecipheriv,browser$6.listCiphers=browser$6.getCiphers=a,browser$6}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$7;hasRequiredBrowser$5=1;var t=requireBrowserifyDes(),e=requireBrowser$6(),n=requireModes$1(),a=requireModes(),u=requireEvp_bytestokey();function o(_,M){_=_.toLowerCase();var T,B;if(n[_])T=n[_].key,B=n[_].iv;else if(a[_])T=a[_].key*8,B=a[_].iv;else throw new TypeError("invalid suite type");var P=u(M,!1,T,B);return m(_,P.key,P.iv)}function p(_,M){_=_.toLowerCase();var T,B;if(n[_])T=n[_].key,B=n[_].iv;else if(a[_])T=a[_].key*8,B=a[_].iv;else throw new TypeError("invalid suite type");var P=u(M,!1,T,B);return y(_,P.key,P.iv)}function m(_,M,T){if(_=_.toLowerCase(),n[_])return e.createCipheriv(_,M,T);if(a[_])return new t({key:M,iv:T,mode:_});throw new TypeError("invalid suite type")}function y(_,M,T){if(_=_.toLowerCase(),n[_])return e.createDecipheriv(_,M,T);if(a[_])return new t({key:M,iv:T,mode:_,decrypt:!0});throw new TypeError("invalid suite type")}function w(){return Object.keys(a).concat(e.getCiphers())}return browser$7.createCipher=browser$7.Cipher=o,browser$7.createCipheriv=browser$7.Cipheriv=m,browser$7.createDecipher=browser$7.Decipher=p,browser$7.createDecipheriv=browser$7.Decipheriv=y,browser$7.listCiphers=browser$7.getCiphers=w,browser$7}var browser$5={},bn$6={exports:{}};bn$6.exports;var hasRequiredBn$6;function requireBn$6(){return hasRequiredBn$6||(hasRequiredBn$6=1,function(t){(function(e,n){function a(k,c){if(!k)throw new Error(c||"Assertion failed")}function u(k,c){k.super_=c;var d=function(){};d.prototype=c.prototype,k.prototype=new d,k.prototype.constructor=k}function o(k,c,d){if(o.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(k||0,c||10,d||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$4.Buffer}catch{}o.isBN=function(c){return c instanceof o?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===o.wordSize&&Array.isArray(c.words)},o.max=function(c,d){return c.cmp(d)>0?c:d},o.min=function(c,d){return c.cmp(d)<0?c:d},o.prototype._init=function(c,d,b){if(typeof c=="number")return this._initNumber(c,d,b);if(typeof c=="object")return this._initArray(c,d,b);d==="hex"&&(d=16),a(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,b):(this._parseBase(c,d,v),b==="le"&&this._initArray(this.toArray(),d,b)))},o.prototype._initNumber=function(c,d,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(a(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},o.prototype._initArray=function(c,d,b){if(a(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,$,I=0;if(b==="be")for(v=c.length-1,A=0;v>=0;v-=3)$=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);else if(b==="le")for(v=0,A=0;v<c.length;v+=3)$=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);return this.strip()};function m(k,c){var d=k.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function y(k,c,d){var b=m(k,d);return d-1>=c&&(b|=m(k,d-1)<<4),b}o.prototype._parseHex=function(c,d,b){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,$=0,I;if(b==="be")for(v=c.length-1;v>=d;v-=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8;else{var S=c.length-d;for(v=S%2===0?d+1:d;v<c.length;v+=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8}this.strip()};function w(k,c,d,b){for(var v=0,A=Math.min(k.length,d),$=c;$<A;$++){var I=k.charCodeAt($)-48;v*=b,I>=49?v+=I-49+10:I>=17?v+=I-17+10:v+=I}return v}o.prototype._parseBase=function(c,d,b){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=d)v++;v--,A=A/d|0;for(var $=c.length-b,I=$%v,S=Math.min($,$-I)+b,l=0,E=b;E<S;E+=v)l=w(c,E,E+v,d),this.imuln(A),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var O=1;for(l=w(c,E,c.length,d),E=0;E<I;E++)O*=d;this.imuln(O),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},o.prototype.clone=function(){var c=new o(null);return this.copy(c),c},o.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(c,d){c=c||10,d=d|0||1;var b;if(c===16||c==="hex"){b="";for(var v=0,A=0,$=0;$<this.length;$++){var I=this.words[$],S=((I<<v|A)&16777215).toString(16);A=I>>>24-v&16777215,A!==0||$!==this.length-1?b=_[6-S.length]+S+b:b=S+b,v+=2,v>=26&&(v-=26,$--)}for(A!==0&&(b=A.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var l=M[c],E=T[c];b="";var O=this.clone();for(O.negative=0;!O.isZero();){var D=O.modn(E).toString(c);O=O.idivn(E),O.isZero()?b=D+b:b=_[l-D.length]+D+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}a(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(c,d){return a(typeof p<"u"),this.toArrayLike(p,c,d)},o.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)},o.prototype.toArrayLike=function(c,d,b){var v=this.byteLength(),A=b||Math.max(1,v);a(v<=A,"byte array longer than desired length"),a(A>0,"Requested array length <= 0"),this.strip();var $=d==="le",I=new c(A),S,l,E=this.clone();if($){for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[l]=S;for(;l<A;l++)I[l]=0}else{for(l=0;l<A-v;l++)I[l]=0;for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[A-l-1]=S}return I},Math.clz32?o.prototype._countBits=function(c){return 32-Math.clz32(c)}:o.prototype._countBits=function(c){var d=c,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},o.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},o.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function B(k){for(var c=new Array(k.bitLength()),d=0;d<c.length;d++){var b=d/26|0,v=d%26;c[d]=(k.words[b]&1<<v)>>>v}return c}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(c+=b,b!==26)break}return c},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},o.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},o.prototype.ior=function(c){return a((this.negative|c.negative)===0),this.iuor(c)},o.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},o.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},o.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=d.length,this.strip()},o.prototype.iand=function(c){return a((this.negative|c.negative)===0),this.iuand(c)},o.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},o.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},o.prototype.iuxor=function(c){var d,b;this.length>c.length?(d=this,b=c):(d=c,b=this);for(var v=0;v<b.length;v++)this.words[v]=d.words[v]^b.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(c){return a((this.negative|c.negative)===0),this.iuxor(c)},o.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},o.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},o.prototype.inotn=function(c){a(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,b=c%26;this._expand(d),b>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},o.prototype.notn=function(c){return this.clone().inotn(c)},o.prototype.setn=function(c,d){a(typeof c=="number"&&c>=0);var b=c/26|0,v=c%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},o.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var b,v;this.length>c.length?(b=this,v=c):(b=c,v=this);for(var A=0,$=0;$<v.length;$++)d=(b.words[$]|0)+(v.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;for(;A!==0&&$<b.length;$++)d=(b.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;if(this.length=b.length,A!==0)this.words[this.length]=A,this.length++;else if(b!==this)for(;$<b.length;$++)this.words[$]=b.words[$];return this},o.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},o.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;b>0?(v=this,A=c):(v=c,A=this);for(var $=0,I=0;I<A.length;I++)d=(v.words[I]|0)-(A.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;for(;$!==0&&I<v.length;I++)d=(v.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;if($===0&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(c){return this.clone().isub(c)};function P(k,c,d){d.negative=c.negative^k.negative;var b=k.length+c.length|0;d.length=b,b=b-1|0;var v=k.words[0]|0,A=c.words[0]|0,$=v*A,I=$&67108863,S=$/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var E=S>>>26,O=S&67108863,D=Math.min(l,c.length-1),Y=Math.max(0,l-k.length+1);Y<=D;Y++){var F=l-Y|0;v=k.words[F]|0,A=c.words[Y]|0,$=v*A+O,E+=$/67108864|0,O=$&67108863}d.words[l]=O|0,S=E|0}return S!==0?d.words[l]=S|0:d.length--,d.strip()}var C=function(c,d,b){var v=c.words,A=d.words,$=b.words,I=0,S,l,E,O=v[0]|0,D=O&8191,Y=O>>>13,F=v[1]|0,V=F&8191,H=F>>>13,ee=v[2]|0,ie=ee&8191,de=ee>>>13,Z=v[3]|0,j=Z&8191,he=Z>>>13,Ae=v[4]|0,_e=Ae&8191,xe=Ae>>>13,Xe=v[5]|0,Re=Xe&8191,we=Xe>>>13,Et=v[6]|0,Ce=Et&8191,ze=Et>>>13,wt=v[7]|0,Ie=wt&8191,Ne=wt>>>13,_t=v[8]|0,Pe=_t&8191,Le=_t>>>13,At=v[9]|0,ae=At&8191,J=At>>>13,re=A[0]|0,le=re&8191,be=re>>>13,Be=A[1]|0,ve=Be&8191,Te=Be>>>13,vt=A[2]|0,ke=vt&8191,Ue=vt>>>13,gt=A[3]|0,qe=gt&8191,Ve=gt>>>13,St=A[4]|0,Fe=St&8191,je=St>>>13,$t=A[5]|0,De=$t&8191,We=$t>>>13,kt=A[6]|0,Oe=kt&8191,Ge=kt>>>13,fe=A[7]|0,oe=fe&8191,ce=fe>>>13,Q=A[8]|0,ue=Q&8191,me=Q>>>13,$e=A[9]|0,ye=$e&8191,Ee=$e>>>13;b.negative=c.negative^d.negative,b.length=19,S=Math.imul(D,le),l=Math.imul(D,be),l=l+Math.imul(Y,le)|0,E=Math.imul(Y,be);var Ze=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(V,le),l=Math.imul(V,be),l=l+Math.imul(H,le)|0,E=Math.imul(H,be),S=S+Math.imul(D,ve)|0,l=l+Math.imul(D,Te)|0,l=l+Math.imul(Y,ve)|0,E=E+Math.imul(Y,Te)|0;var Ye=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(ie,le),l=Math.imul(ie,be),l=l+Math.imul(de,le)|0,E=Math.imul(de,be),S=S+Math.imul(V,ve)|0,l=l+Math.imul(V,Te)|0,l=l+Math.imul(H,ve)|0,E=E+Math.imul(H,Te)|0,S=S+Math.imul(D,ke)|0,l=l+Math.imul(D,Ue)|0,l=l+Math.imul(Y,ke)|0,E=E+Math.imul(Y,Ue)|0;var xt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(j,le),l=Math.imul(j,be),l=l+Math.imul(he,le)|0,E=Math.imul(he,be),S=S+Math.imul(ie,ve)|0,l=l+Math.imul(ie,Te)|0,l=l+Math.imul(de,ve)|0,E=E+Math.imul(de,Te)|0,S=S+Math.imul(V,ke)|0,l=l+Math.imul(V,Ue)|0,l=l+Math.imul(H,ke)|0,E=E+Math.imul(H,Ue)|0,S=S+Math.imul(D,qe)|0,l=l+Math.imul(D,Ve)|0,l=l+Math.imul(Y,qe)|0,E=E+Math.imul(Y,Ve)|0;var rt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,S=Math.imul(_e,le),l=Math.imul(_e,be),l=l+Math.imul(xe,le)|0,E=Math.imul(xe,be),S=S+Math.imul(j,ve)|0,l=l+Math.imul(j,Te)|0,l=l+Math.imul(he,ve)|0,E=E+Math.imul(he,Te)|0,S=S+Math.imul(ie,ke)|0,l=l+Math.imul(ie,Ue)|0,l=l+Math.imul(de,ke)|0,E=E+Math.imul(de,Ue)|0,S=S+Math.imul(V,qe)|0,l=l+Math.imul(V,Ve)|0,l=l+Math.imul(H,qe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(D,Fe)|0,l=l+Math.imul(D,je)|0,l=l+Math.imul(Y,Fe)|0,E=E+Math.imul(Y,je)|0;var lt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Re,le),l=Math.imul(Re,be),l=l+Math.imul(we,le)|0,E=Math.imul(we,be),S=S+Math.imul(_e,ve)|0,l=l+Math.imul(_e,Te)|0,l=l+Math.imul(xe,ve)|0,E=E+Math.imul(xe,Te)|0,S=S+Math.imul(j,ke)|0,l=l+Math.imul(j,Ue)|0,l=l+Math.imul(he,ke)|0,E=E+Math.imul(he,Ue)|0,S=S+Math.imul(ie,qe)|0,l=l+Math.imul(ie,Ve)|0,l=l+Math.imul(de,qe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(V,Fe)|0,l=l+Math.imul(V,je)|0,l=l+Math.imul(H,Fe)|0,E=E+Math.imul(H,je)|0,S=S+Math.imul(D,De)|0,l=l+Math.imul(D,We)|0,l=l+Math.imul(Y,De)|0,E=E+Math.imul(Y,We)|0;var dt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Ce,le),l=Math.imul(Ce,be),l=l+Math.imul(ze,le)|0,E=Math.imul(ze,be),S=S+Math.imul(Re,ve)|0,l=l+Math.imul(Re,Te)|0,l=l+Math.imul(we,ve)|0,E=E+Math.imul(we,Te)|0,S=S+Math.imul(_e,ke)|0,l=l+Math.imul(_e,Ue)|0,l=l+Math.imul(xe,ke)|0,E=E+Math.imul(xe,Ue)|0,S=S+Math.imul(j,qe)|0,l=l+Math.imul(j,Ve)|0,l=l+Math.imul(he,qe)|0,E=E+Math.imul(he,Ve)|0,S=S+Math.imul(ie,Fe)|0,l=l+Math.imul(ie,je)|0,l=l+Math.imul(de,Fe)|0,E=E+Math.imul(de,je)|0,S=S+Math.imul(V,De)|0,l=l+Math.imul(V,We)|0,l=l+Math.imul(H,De)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(D,Oe)|0,l=l+Math.imul(D,Ge)|0,l=l+Math.imul(Y,Oe)|0,E=E+Math.imul(Y,Ge)|0;var ht=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(Ie,le),l=Math.imul(Ie,be),l=l+Math.imul(Ne,le)|0,E=Math.imul(Ne,be),S=S+Math.imul(Ce,ve)|0,l=l+Math.imul(Ce,Te)|0,l=l+Math.imul(ze,ve)|0,E=E+Math.imul(ze,Te)|0,S=S+Math.imul(Re,ke)|0,l=l+Math.imul(Re,Ue)|0,l=l+Math.imul(we,ke)|0,E=E+Math.imul(we,Ue)|0,S=S+Math.imul(_e,qe)|0,l=l+Math.imul(_e,Ve)|0,l=l+Math.imul(xe,qe)|0,E=E+Math.imul(xe,Ve)|0,S=S+Math.imul(j,Fe)|0,l=l+Math.imul(j,je)|0,l=l+Math.imul(he,Fe)|0,E=E+Math.imul(he,je)|0,S=S+Math.imul(ie,De)|0,l=l+Math.imul(ie,We)|0,l=l+Math.imul(de,De)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(V,Oe)|0,l=l+Math.imul(V,Ge)|0,l=l+Math.imul(H,Oe)|0,E=E+Math.imul(H,Ge)|0,S=S+Math.imul(D,oe)|0,l=l+Math.imul(D,ce)|0,l=l+Math.imul(Y,oe)|0,E=E+Math.imul(Y,ce)|0;var yt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Pe,le),l=Math.imul(Pe,be),l=l+Math.imul(Le,le)|0,E=Math.imul(Le,be),S=S+Math.imul(Ie,ve)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(Ne,ve)|0,E=E+Math.imul(Ne,Te)|0,S=S+Math.imul(Ce,ke)|0,l=l+Math.imul(Ce,Ue)|0,l=l+Math.imul(ze,ke)|0,E=E+Math.imul(ze,Ue)|0,S=S+Math.imul(Re,qe)|0,l=l+Math.imul(Re,Ve)|0,l=l+Math.imul(we,qe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(_e,Fe)|0,l=l+Math.imul(_e,je)|0,l=l+Math.imul(xe,Fe)|0,E=E+Math.imul(xe,je)|0,S=S+Math.imul(j,De)|0,l=l+Math.imul(j,We)|0,l=l+Math.imul(he,De)|0,E=E+Math.imul(he,We)|0,S=S+Math.imul(ie,Oe)|0,l=l+Math.imul(ie,Ge)|0,l=l+Math.imul(de,Oe)|0,E=E+Math.imul(de,Ge)|0,S=S+Math.imul(V,oe)|0,l=l+Math.imul(V,ce)|0,l=l+Math.imul(H,oe)|0,E=E+Math.imul(H,ce)|0,S=S+Math.imul(D,ue)|0,l=l+Math.imul(D,me)|0,l=l+Math.imul(Y,ue)|0,E=E+Math.imul(Y,me)|0;var pt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(pt>>>26)|0,pt&=67108863,S=Math.imul(ae,le),l=Math.imul(ae,be),l=l+Math.imul(J,le)|0,E=Math.imul(J,be),S=S+Math.imul(Pe,ve)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(Le,ve)|0,E=E+Math.imul(Le,Te)|0,S=S+Math.imul(Ie,ke)|0,l=l+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ne,ke)|0,E=E+Math.imul(Ne,Ue)|0,S=S+Math.imul(Ce,qe)|0,l=l+Math.imul(Ce,Ve)|0,l=l+Math.imul(ze,qe)|0,E=E+Math.imul(ze,Ve)|0,S=S+Math.imul(Re,Fe)|0,l=l+Math.imul(Re,je)|0,l=l+Math.imul(we,Fe)|0,E=E+Math.imul(we,je)|0,S=S+Math.imul(_e,De)|0,l=l+Math.imul(_e,We)|0,l=l+Math.imul(xe,De)|0,E=E+Math.imul(xe,We)|0,S=S+Math.imul(j,Oe)|0,l=l+Math.imul(j,Ge)|0,l=l+Math.imul(he,Oe)|0,E=E+Math.imul(he,Ge)|0,S=S+Math.imul(ie,oe)|0,l=l+Math.imul(ie,ce)|0,l=l+Math.imul(de,oe)|0,E=E+Math.imul(de,ce)|0,S=S+Math.imul(V,ue)|0,l=l+Math.imul(V,me)|0,l=l+Math.imul(H,ue)|0,E=E+Math.imul(H,me)|0,S=S+Math.imul(D,ye)|0,l=l+Math.imul(D,Ee)|0,l=l+Math.imul(Y,ye)|0,E=E+Math.imul(Y,Ee)|0;var mt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(ae,ve),l=Math.imul(ae,Te),l=l+Math.imul(J,ve)|0,E=Math.imul(J,Te),S=S+Math.imul(Pe,ke)|0,l=l+Math.imul(Pe,Ue)|0,l=l+Math.imul(Le,ke)|0,E=E+Math.imul(Le,Ue)|0,S=S+Math.imul(Ie,qe)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(Ne,qe)|0,E=E+Math.imul(Ne,Ve)|0,S=S+Math.imul(Ce,Fe)|0,l=l+Math.imul(Ce,je)|0,l=l+Math.imul(ze,Fe)|0,E=E+Math.imul(ze,je)|0,S=S+Math.imul(Re,De)|0,l=l+Math.imul(Re,We)|0,l=l+Math.imul(we,De)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(_e,Oe)|0,l=l+Math.imul(_e,Ge)|0,l=l+Math.imul(xe,Oe)|0,E=E+Math.imul(xe,Ge)|0,S=S+Math.imul(j,oe)|0,l=l+Math.imul(j,ce)|0,l=l+Math.imul(he,oe)|0,E=E+Math.imul(he,ce)|0,S=S+Math.imul(ie,ue)|0,l=l+Math.imul(ie,me)|0,l=l+Math.imul(de,ue)|0,E=E+Math.imul(de,me)|0,S=S+Math.imul(V,ye)|0,l=l+Math.imul(V,Ee)|0,l=l+Math.imul(H,ye)|0,E=E+Math.imul(H,Ee)|0;var bt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(bt>>>26)|0,bt&=67108863,S=Math.imul(ae,ke),l=Math.imul(ae,Ue),l=l+Math.imul(J,ke)|0,E=Math.imul(J,Ue),S=S+Math.imul(Pe,qe)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(Le,qe)|0,E=E+Math.imul(Le,Ve)|0,S=S+Math.imul(Ie,Fe)|0,l=l+Math.imul(Ie,je)|0,l=l+Math.imul(Ne,Fe)|0,E=E+Math.imul(Ne,je)|0,S=S+Math.imul(Ce,De)|0,l=l+Math.imul(Ce,We)|0,l=l+Math.imul(ze,De)|0,E=E+Math.imul(ze,We)|0,S=S+Math.imul(Re,Oe)|0,l=l+Math.imul(Re,Ge)|0,l=l+Math.imul(we,Oe)|0,E=E+Math.imul(we,Ge)|0,S=S+Math.imul(_e,oe)|0,l=l+Math.imul(_e,ce)|0,l=l+Math.imul(xe,oe)|0,E=E+Math.imul(xe,ce)|0,S=S+Math.imul(j,ue)|0,l=l+Math.imul(j,me)|0,l=l+Math.imul(he,ue)|0,E=E+Math.imul(he,me)|0,S=S+Math.imul(ie,ye)|0,l=l+Math.imul(ie,Ee)|0,l=l+Math.imul(de,ye)|0,E=E+Math.imul(de,Ee)|0;var nt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(ae,qe),l=Math.imul(ae,Ve),l=l+Math.imul(J,qe)|0,E=Math.imul(J,Ve),S=S+Math.imul(Pe,Fe)|0,l=l+Math.imul(Pe,je)|0,l=l+Math.imul(Le,Fe)|0,E=E+Math.imul(Le,je)|0,S=S+Math.imul(Ie,De)|0,l=l+Math.imul(Ie,We)|0,l=l+Math.imul(Ne,De)|0,E=E+Math.imul(Ne,We)|0,S=S+Math.imul(Ce,Oe)|0,l=l+Math.imul(Ce,Ge)|0,l=l+Math.imul(ze,Oe)|0,E=E+Math.imul(ze,Ge)|0,S=S+Math.imul(Re,oe)|0,l=l+Math.imul(Re,ce)|0,l=l+Math.imul(we,oe)|0,E=E+Math.imul(we,ce)|0,S=S+Math.imul(_e,ue)|0,l=l+Math.imul(_e,me)|0,l=l+Math.imul(xe,ue)|0,E=E+Math.imul(xe,me)|0,S=S+Math.imul(j,ye)|0,l=l+Math.imul(j,Ee)|0,l=l+Math.imul(he,ye)|0,E=E+Math.imul(he,Ee)|0;var ct=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,S=Math.imul(ae,Fe),l=Math.imul(ae,je),l=l+Math.imul(J,Fe)|0,E=Math.imul(J,je),S=S+Math.imul(Pe,De)|0,l=l+Math.imul(Pe,We)|0,l=l+Math.imul(Le,De)|0,E=E+Math.imul(Le,We)|0,S=S+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,Ge)|0,l=l+Math.imul(Ne,Oe)|0,E=E+Math.imul(Ne,Ge)|0,S=S+Math.imul(Ce,oe)|0,l=l+Math.imul(Ce,ce)|0,l=l+Math.imul(ze,oe)|0,E=E+Math.imul(ze,ce)|0,S=S+Math.imul(Re,ue)|0,l=l+Math.imul(Re,me)|0,l=l+Math.imul(we,ue)|0,E=E+Math.imul(we,me)|0,S=S+Math.imul(_e,ye)|0,l=l+Math.imul(_e,Ee)|0,l=l+Math.imul(xe,ye)|0,E=E+Math.imul(xe,Ee)|0;var it=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(ae,De),l=Math.imul(ae,We),l=l+Math.imul(J,De)|0,E=Math.imul(J,We),S=S+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,Ge)|0,l=l+Math.imul(Le,Oe)|0,E=E+Math.imul(Le,Ge)|0,S=S+Math.imul(Ie,oe)|0,l=l+Math.imul(Ie,ce)|0,l=l+Math.imul(Ne,oe)|0,E=E+Math.imul(Ne,ce)|0,S=S+Math.imul(Ce,ue)|0,l=l+Math.imul(Ce,me)|0,l=l+Math.imul(ze,ue)|0,E=E+Math.imul(ze,me)|0,S=S+Math.imul(Re,ye)|0,l=l+Math.imul(Re,Ee)|0,l=l+Math.imul(we,ye)|0,E=E+Math.imul(we,Ee)|0;var at=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(ae,Oe),l=Math.imul(ae,Ge),l=l+Math.imul(J,Oe)|0,E=Math.imul(J,Ge),S=S+Math.imul(Pe,oe)|0,l=l+Math.imul(Pe,ce)|0,l=l+Math.imul(Le,oe)|0,E=E+Math.imul(Le,ce)|0,S=S+Math.imul(Ie,ue)|0,l=l+Math.imul(Ie,me)|0,l=l+Math.imul(Ne,ue)|0,E=E+Math.imul(Ne,me)|0,S=S+Math.imul(Ce,ye)|0,l=l+Math.imul(Ce,Ee)|0,l=l+Math.imul(ze,ye)|0,E=E+Math.imul(ze,Ee)|0;var st=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(ae,oe),l=Math.imul(ae,ce),l=l+Math.imul(J,oe)|0,E=Math.imul(J,ce),S=S+Math.imul(Pe,ue)|0,l=l+Math.imul(Pe,me)|0,l=l+Math.imul(Le,ue)|0,E=E+Math.imul(Le,me)|0,S=S+Math.imul(Ie,ye)|0,l=l+Math.imul(Ie,Ee)|0,l=l+Math.imul(Ne,ye)|0,E=E+Math.imul(Ne,Ee)|0;var tt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(ae,ue),l=Math.imul(ae,me),l=l+Math.imul(J,ue)|0,E=Math.imul(J,me),S=S+Math.imul(Pe,ye)|0,l=l+Math.imul(Pe,Ee)|0,l=l+Math.imul(Le,ye)|0,E=E+Math.imul(Le,Ee)|0;var He=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(He>>>26)|0,He&=67108863,S=Math.imul(ae,ye),l=Math.imul(ae,Ee),l=l+Math.imul(J,ye)|0,E=Math.imul(J,Ee);var Ke=(I+S|0)+((l&8191)<<13)|0;return I=(E+(l>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,$[0]=Ze,$[1]=Ye,$[2]=xt,$[3]=rt,$[4]=lt,$[5]=dt,$[6]=ht,$[7]=yt,$[8]=pt,$[9]=mt,$[10]=bt,$[11]=nt,$[12]=ct,$[13]=it,$[14]=at,$[15]=st,$[16]=tt,$[17]=He,$[18]=Ke,I!==0&&($[19]=I,b.length++),b};Math.imul||(C=P);function L(k,c,d){d.negative=c.negative^k.negative,d.length=k.length+c.length;for(var b=0,v=0,A=0;A<d.length-1;A++){var $=v;v=0;for(var I=b&67108863,S=Math.min(A,c.length-1),l=Math.max(0,A-k.length+1);l<=S;l++){var E=A-l,O=k.words[E]|0,D=c.words[l]|0,Y=O*D,F=Y&67108863;$=$+(Y/67108864|0)|0,F=F+I|0,I=F&67108863,$=$+(F>>>26)|0,v+=$>>>26,$&=67108863}d.words[A]=I,b=$,$=v}return b!==0?d.words[A]=b:d.length--,d.strip()}function U(k,c,d){var b=new q;return b.mulp(k,c,d)}o.prototype.mulTo=function(c,d){var b,v=this.length+c.length;return this.length===10&&c.length===10?b=C(this,c,d):v<63?b=P(this,c,d):v<1024?b=L(this,c,d):b=U(this,c,d),b};function q(k,c){this.x=k,this.y=c}q.prototype.makeRBT=function(c){for(var d=new Array(c),b=o.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,b,c);return d},q.prototype.revBin=function(c,d,b){if(c===0||c===b-1)return c;for(var v=0,A=0;A<d;A++)v|=(c&1)<<d-A-1,c>>=1;return v},q.prototype.permute=function(c,d,b,v,A,$){for(var I=0;I<$;I++)v[I]=d[c[I]],A[I]=b[c[I]]},q.prototype.transform=function(c,d,b,v,A,$){this.permute($,c,d,b,v,A);for(var I=1;I<A;I<<=1)for(var S=I<<1,l=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),O=0;O<A;O+=S)for(var D=l,Y=E,F=0;F<I;F++){var V=b[O+F],H=v[O+F],ee=b[O+F+I],ie=v[O+F+I],de=D*ee-Y*ie;ie=D*ie+Y*ee,ee=de,b[O+F]=V+ee,v[O+F]=H+ie,b[O+F+I]=V-ee,v[O+F+I]=H-ie,F!==S&&(de=l*D-E*Y,Y=l*Y+E*D,D=de)}},q.prototype.guessLen13b=function(c,d){var b=Math.max(d,c)|1,v=b&1,A=0;for(b=b/2|0;b;b=b>>>1)A++;return 1<<A+1+v},q.prototype.conjugate=function(c,d,b){if(!(b<=1))for(var v=0;v<b/2;v++){var A=c[v];c[v]=c[b-v-1],c[b-v-1]=A,A=d[v],d[v]=-d[b-v-1],d[b-v-1]=-A}},q.prototype.normalize13b=function(c,d){for(var b=0,v=0;v<d/2;v++){var A=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+b;c[v]=A&67108863,A<67108864?b=0:b=A/67108864|0}return c},q.prototype.convert13b=function(c,d,b,v){for(var A=0,$=0;$<d;$++)A=A+(c[$]|0),b[2*$]=A&8191,A=A>>>13,b[2*$+1]=A&8191,A=A>>>13;for($=2*d;$<v;++$)b[$]=0;a(A===0),a((A&-8192)===0)},q.prototype.stub=function(c){for(var d=new Array(c),b=0;b<c;b++)d[b]=0;return d},q.prototype.mulp=function(c,d,b){var v=2*this.guessLen13b(c.length,d.length),A=this.makeRBT(v),$=this.stub(v),I=new Array(v),S=new Array(v),l=new Array(v),E=new Array(v),O=new Array(v),D=new Array(v),Y=b.words;Y.length=v,this.convert13b(c.words,c.length,I,v),this.convert13b(d.words,d.length,E,v),this.transform(I,$,S,l,v,A),this.transform(E,$,O,D,v,A);for(var F=0;F<v;F++){var V=S[F]*O[F]-l[F]*D[F];l[F]=S[F]*D[F]+l[F]*O[F],S[F]=V}return this.conjugate(S,l,v),this.transform(S,l,Y,$,v,A),this.conjugate(Y,$,v),this.normalize13b(Y,v),b.negative=c.negative^d.negative,b.length=c.length+d.length,b.strip()},o.prototype.mul=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},o.prototype.mulf=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),U(this,c,d)},o.prototype.imul=function(c){return this.clone().mulTo(c,this)},o.prototype.imuln=function(c){a(typeof c=="number"),a(c<67108864);for(var d=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*c,A=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=A>>>26,this.words[b]=A&67108863}return d!==0&&(this.words[b]=d,this.length++),this},o.prototype.muln=function(c){return this.clone().imuln(c)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(c){var d=B(c);if(d.length===0)return new o(1);for(var b=this,v=0;v<d.length&&d[v]===0;v++,b=b.sqr());if(++v<d.length)for(var A=b.sqr();v<d.length;v++,A=A.sqr())d[v]!==0&&(b=b.mul(A));return b},o.prototype.iushln=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=67108863>>>26-d<<26-d,A;if(d!==0){var $=0;for(A=0;A<this.length;A++){var I=this.words[A]&v,S=(this.words[A]|0)-I<<d;this.words[A]=S|$,$=I>>>26-d}$&&(this.words[A]=$,this.length++)}if(b!==0){for(A=this.length-1;A>=0;A--)this.words[A+b]=this.words[A];for(A=0;A<b;A++)this.words[A]=0;this.length+=b}return this.strip()},o.prototype.ishln=function(c){return a(this.negative===0),this.iushln(c)},o.prototype.iushrn=function(c,d,b){a(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var A=c%26,$=Math.min((c-A)/26,this.length),I=67108863^67108863>>>A<<A,S=b;if(v-=$,v=Math.max(0,v),S){for(var l=0;l<$;l++)S.words[l]=this.words[l];S.length=$}if($!==0)if(this.length>$)for(this.length-=$,l=0;l<this.length;l++)this.words[l]=this.words[l+$];else this.words[0]=0,this.length=1;var E=0;for(l=this.length-1;l>=0&&(E!==0||l>=v);l--){var O=this.words[l]|0;this.words[l]=E<<26-A|O>>>A,E=O&I}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(c,d,b){return a(this.negative===0),this.iushrn(c,d,b)},o.prototype.shln=function(c){return this.clone().ishln(c)},o.prototype.ushln=function(c){return this.clone().iushln(c)},o.prototype.shrn=function(c){return this.clone().ishrn(c)},o.prototype.ushrn=function(c){return this.clone().iushrn(c)},o.prototype.testn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return!1;var A=this.words[b];return!!(A&v)},o.prototype.imaskn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(c){return this.clone().imaskn(c)},o.prototype.iaddn=function(c){return a(typeof c=="number"),a(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},o.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(c){if(a(typeof c=="number"),a(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(c){return this.clone().iaddn(c)},o.prototype.subn=function(c){return this.clone().isubn(c)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(c,d,b){var v=c.length+b,A;this._expand(v);var $,I=0;for(A=0;A<c.length;A++){$=(this.words[A+b]|0)+I;var S=(c.words[A]|0)*d;$-=S&67108863,I=($>>26)-(S/67108864|0),this.words[A+b]=$&67108863}for(;A<this.length-b;A++)$=(this.words[A+b]|0)+I,I=$>>26,this.words[A+b]=$&67108863;if(I===0)return this.strip();for(a(I===-1),I=0,A=0;A<this.length;A++)$=-(this.words[A]|0)+I,I=$>>26,this.words[A]=$&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(c,d){var b=this.length-c.length,v=this.clone(),A=c,$=A.words[A.length-1]|0,I=this._countBits($);b=26-I,b!==0&&(A=A.ushln(b),v.iushln(b),$=A.words[A.length-1]|0);var S=v.length-A.length,l;if(d!=="mod"){l=new o(null),l.length=S+1,l.words=new Array(l.length);for(var E=0;E<l.length;E++)l.words[E]=0}var O=v.clone()._ishlnsubmul(A,1,S);O.negative===0&&(v=O,l&&(l.words[S]=1));for(var D=S-1;D>=0;D--){var Y=(v.words[A.length+D]|0)*67108864+(v.words[A.length+D-1]|0);for(Y=Math.min(Y/$|0,67108863),v._ishlnsubmul(A,Y,D);v.negative!==0;)Y--,v.negative=0,v._ishlnsubmul(A,1,D),v.isZero()||(v.negative^=1);l&&(l.words[D]=Y)}return l&&l.strip(),v.strip(),d!=="div"&&b!==0&&v.iushrn(b),{div:l||null,mod:v}},o.prototype.divmod=function(c,d,b){if(a(!c.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,A,$;return this.negative!==0&&c.negative===0?($=this.neg().divmod(c,d),d!=="mod"&&(v=$.div.neg()),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.iadd(c)),{div:v,mod:A}):this.negative===0&&c.negative!==0?($=this.divmod(c.neg(),d),d!=="mod"&&(v=$.div.neg()),{div:v,mod:$.mod}):this.negative&c.negative?($=this.neg().divmod(c.neg(),d),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.isub(c)),{div:$.div,mod:A}):c.length>this.length||this.cmp(c)<0?{div:new o(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new o(this.modn(c.words[0]))}:this._wordDiv(c,d)},o.prototype.div=function(c){return this.divmod(c,"div",!1).div},o.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},o.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},o.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),A=c.andln(1),$=b.cmp(v);return $<0||A===1&&$===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(c){a(c<=67108863);for(var d=(1<<26)%c,b=0,v=this.length-1;v>=0;v--)b=(d*b+(this.words[v]|0))%c;return b},o.prototype.idivn=function(c){a(c<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+d*67108864;this.words[b]=v/c|0,d=v%c}return this.strip()},o.prototype.divn=function(c){return this.clone().idivn(c)},o.prototype.egcd=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=new o(0),I=new o(1),S=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++S;for(var l=b.clone(),E=d.clone();!d.isZero();){for(var O=0,D=1;!(d.words[0]&D)&&O<26;++O,D<<=1);if(O>0)for(d.iushrn(O);O-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(l),A.isub(E)),v.iushrn(1),A.iushrn(1);for(var Y=0,F=1;!(b.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(b.iushrn(Y);Y-- >0;)($.isOdd()||I.isOdd())&&($.iadd(l),I.isub(E)),$.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub($),A.isub(I)):(b.isub(d),$.isub(v),I.isub(A))}return{a:$,b:I,gcd:b.iushln(S)}},o.prototype._invmp=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,S=1;!(d.words[0]&S)&&I<26;++I,S<<=1);if(I>0)for(d.iushrn(I);I-- >0;)v.isOdd()&&v.iadd($),v.iushrn(1);for(var l=0,E=1;!(b.words[0]&E)&&l<26;++l,E<<=1);if(l>0)for(b.iushrn(l);l-- >0;)A.isOdd()&&A.iadd($),A.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub(A)):(b.isub(d),A.isub(v))}var O;return d.cmpn(1)===0?O=v:O=A,O.cmpn(0)<0&&O.iadd(c),O},o.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),b=c.clone();d.negative=0,b.negative=0;for(var v=0;d.isEven()&&b.isEven();v++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var A=d.cmp(b);if(A<0){var $=d;d=b,b=$}else if(A===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(v)},o.prototype.invm=function(c){return this.egcd(c).a.umod(c)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(c){return this.words[0]&c},o.prototype.bincn=function(c){a(typeof c=="number");var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var A=v,$=b;A!==0&&$<this.length;$++){var I=this.words[$]|0;I+=A,A=I>>>26,I&=67108863,this.words[$]=I}return A!==0&&(this.words[$]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(c=-c),a(c<=67108863,"Number is too big");var v=this.words[0]|0;b=v===c?0:v<c?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,A=c.words[b]|0;if(v!==A){v<A?d=-1:v>A&&(d=1);break}}return d},o.prototype.gtn=function(c){return this.cmpn(c)===1},o.prototype.gt=function(c){return this.cmp(c)===1},o.prototype.gten=function(c){return this.cmpn(c)>=0},o.prototype.gte=function(c){return this.cmp(c)>=0},o.prototype.ltn=function(c){return this.cmpn(c)===-1},o.prototype.lt=function(c){return this.cmp(c)===-1},o.prototype.lten=function(c){return this.cmpn(c)<=0},o.prototype.lte=function(c){return this.cmp(c)<=0},o.prototype.eqn=function(c){return this.cmpn(c)===0},o.prototype.eq=function(c){return this.cmp(c)===0},o.red=function(c){return new se(c)},o.prototype.toRed=function(c){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},o.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(c){return this.red=c,this},o.prototype.forceRed=function(c){return a(!this.red,"Already a number in reduction context"),this._forceRed(c)},o.prototype.redAdd=function(c){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},o.prototype.redIAdd=function(c){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},o.prototype.redSub=function(c){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},o.prototype.redISub=function(c){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},o.prototype.redShl=function(c){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},o.prototype.redMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},o.prototype.redIMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},o.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(c){return a(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var G={k256:null,p224:null,p192:null,p25519:null};function X(k,c){this.name=k,this.p=new o(c,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var c=new o(null);return c.words=new Array(Math.ceil(this.n/13)),c},X.prototype.ireduce=function(c){var d=c,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var v=b<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},X.prototype.split=function(c,d){c.iushrn(this.n,0,d)},X.prototype.imulK=function(c){return c.imul(this.k)};function te(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(te,X),te.prototype.split=function(c,d){for(var b=4194303,v=Math.min(c.length,9),A=0;A<v;A++)d.words[A]=c.words[A];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var $=c.words[9];for(d.words[d.length++]=$&b,A=10;A<c.length;A++){var I=c.words[A]|0;c.words[A-10]=(I&b)<<4|$>>>22,$=I}$>>>=22,c.words[A-10]=$,$===0&&c.length>10?c.length-=10:c.length-=9},te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,b=0;b<c.length;b++){var v=c.words[b]|0;d+=v*977,c.words[b]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ne(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(ne,X);function ge(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(ge,X);function pe(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(pe,X),pe.prototype.imulK=function(c){for(var d=0,b=0;b<c.length;b++){var v=(c.words[b]|0)*19+d,A=v&67108863;v>>>=26,c.words[b]=A,d=v}return d!==0&&(c.words[c.length++]=d),c},o._prime=function(c){if(G[c])return G[c];var d;if(c==="k256")d=new te;else if(c==="p224")d=new ne;else if(c==="p192")d=new ge;else if(c==="p25519")d=new pe;else throw new Error("Unknown prime "+c);return G[c]=d,d};function se(k){if(typeof k=="string"){var c=o._prime(k);this.m=c.p,this.prime=c}else a(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}se.prototype._verify1=function(c){a(c.negative===0,"red works only with positives"),a(c.red,"red works only with red numbers")},se.prototype._verify2=function(c,d){a((c.negative|d.negative)===0,"red works only with positives"),a(c.red&&c.red===d.red,"red works only with red numbers")},se.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},se.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},se.prototype.add=function(c,d){this._verify2(c,d);var b=c.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},se.prototype.iadd=function(c,d){this._verify2(c,d);var b=c.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},se.prototype.sub=function(c,d){this._verify2(c,d);var b=c.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},se.prototype.isub=function(c,d){this._verify2(c,d);var b=c.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},se.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},se.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},se.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},se.prototype.isqr=function(c){return this.imul(c,c.clone())},se.prototype.sqr=function(c){return this.mul(c,c)},se.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(a(d%2===1),d===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(c,b)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);a(!v.isZero());var $=new o(1).toRed(this),I=$.redNeg(),S=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);this.pow(l,S).cmp(I)!==0;)l.redIAdd(I);for(var E=this.pow(l,v),O=this.pow(c,v.addn(1).iushrn(1)),D=this.pow(c,v),Y=A;D.cmp($)!==0;){for(var F=D,V=0;F.cmp($)!==0;V++)F=F.redSqr();a(V<Y);var H=this.pow(E,new o(1).iushln(Y-V-1));O=O.redMul(H),E=H.redSqr(),D=D.redMul(E),Y=V}return O},se.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},se.prototype.pow=function(c,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var b=4,v=new Array(1<<b);v[0]=new o(1).toRed(this),v[1]=c;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],c);var $=v[0],I=0,S=0,l=d.bitLength()%26;for(l===0&&(l=26),A=d.length-1;A>=0;A--){for(var E=d.words[A],O=l-1;O>=0;O--){var D=E>>O&1;if($!==v[0]&&($=this.sqr($)),D===0&&I===0){S=0;continue}I<<=1,I|=D,S++,!(S!==b&&(A!==0||O!==0))&&($=this.mul($,v[I]),S=0,I=0)}l=26}return $},se.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},se.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},o.mont=function(c){return new Se(c)};function Se(k){se.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(Se,se),Se.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},Se.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},Se.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new o(0)._forceRed(this);var b=c.mul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,commonjsGlobal)}(bn$6)),bn$6.exports}var bn$5={exports:{}};bn$5.exports;var hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(t){(function(e,n){function a(k,c){if(!k)throw new Error(c||"Assertion failed")}function u(k,c){k.super_=c;var d=function(){};d.prototype=c.prototype,k.prototype=new d,k.prototype.constructor=k}function o(k,c,d){if(o.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(k||0,c||10,d||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$4.Buffer}catch{}o.isBN=function(c){return c instanceof o?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===o.wordSize&&Array.isArray(c.words)},o.max=function(c,d){return c.cmp(d)>0?c:d},o.min=function(c,d){return c.cmp(d)<0?c:d},o.prototype._init=function(c,d,b){if(typeof c=="number")return this._initNumber(c,d,b);if(typeof c=="object")return this._initArray(c,d,b);d==="hex"&&(d=16),a(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,b):(this._parseBase(c,d,v),b==="le"&&this._initArray(this.toArray(),d,b)))},o.prototype._initNumber=function(c,d,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(a(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},o.prototype._initArray=function(c,d,b){if(a(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,$,I=0;if(b==="be")for(v=c.length-1,A=0;v>=0;v-=3)$=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);else if(b==="le")for(v=0,A=0;v<c.length;v+=3)$=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);return this.strip()};function m(k,c){var d=k.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function y(k,c,d){var b=m(k,d);return d-1>=c&&(b|=m(k,d-1)<<4),b}o.prototype._parseHex=function(c,d,b){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,$=0,I;if(b==="be")for(v=c.length-1;v>=d;v-=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8;else{var S=c.length-d;for(v=S%2===0?d+1:d;v<c.length;v+=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8}this.strip()};function w(k,c,d,b){for(var v=0,A=Math.min(k.length,d),$=c;$<A;$++){var I=k.charCodeAt($)-48;v*=b,I>=49?v+=I-49+10:I>=17?v+=I-17+10:v+=I}return v}o.prototype._parseBase=function(c,d,b){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=d)v++;v--,A=A/d|0;for(var $=c.length-b,I=$%v,S=Math.min($,$-I)+b,l=0,E=b;E<S;E+=v)l=w(c,E,E+v,d),this.imuln(A),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var O=1;for(l=w(c,E,c.length,d),E=0;E<I;E++)O*=d;this.imuln(O),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},o.prototype.clone=function(){var c=new o(null);return this.copy(c),c},o.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(c,d){c=c||10,d=d|0||1;var b;if(c===16||c==="hex"){b="";for(var v=0,A=0,$=0;$<this.length;$++){var I=this.words[$],S=((I<<v|A)&16777215).toString(16);A=I>>>24-v&16777215,A!==0||$!==this.length-1?b=_[6-S.length]+S+b:b=S+b,v+=2,v>=26&&(v-=26,$--)}for(A!==0&&(b=A.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var l=M[c],E=T[c];b="";var O=this.clone();for(O.negative=0;!O.isZero();){var D=O.modn(E).toString(c);O=O.idivn(E),O.isZero()?b=D+b:b=_[l-D.length]+D+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}a(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(c,d){return a(typeof p<"u"),this.toArrayLike(p,c,d)},o.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)},o.prototype.toArrayLike=function(c,d,b){var v=this.byteLength(),A=b||Math.max(1,v);a(v<=A,"byte array longer than desired length"),a(A>0,"Requested array length <= 0"),this.strip();var $=d==="le",I=new c(A),S,l,E=this.clone();if($){for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[l]=S;for(;l<A;l++)I[l]=0}else{for(l=0;l<A-v;l++)I[l]=0;for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[A-l-1]=S}return I},Math.clz32?o.prototype._countBits=function(c){return 32-Math.clz32(c)}:o.prototype._countBits=function(c){var d=c,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},o.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},o.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function B(k){for(var c=new Array(k.bitLength()),d=0;d<c.length;d++){var b=d/26|0,v=d%26;c[d]=(k.words[b]&1<<v)>>>v}return c}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(c+=b,b!==26)break}return c},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},o.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},o.prototype.ior=function(c){return a((this.negative|c.negative)===0),this.iuor(c)},o.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},o.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},o.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=d.length,this.strip()},o.prototype.iand=function(c){return a((this.negative|c.negative)===0),this.iuand(c)},o.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},o.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},o.prototype.iuxor=function(c){var d,b;this.length>c.length?(d=this,b=c):(d=c,b=this);for(var v=0;v<b.length;v++)this.words[v]=d.words[v]^b.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(c){return a((this.negative|c.negative)===0),this.iuxor(c)},o.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},o.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},o.prototype.inotn=function(c){a(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,b=c%26;this._expand(d),b>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},o.prototype.notn=function(c){return this.clone().inotn(c)},o.prototype.setn=function(c,d){a(typeof c=="number"&&c>=0);var b=c/26|0,v=c%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},o.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var b,v;this.length>c.length?(b=this,v=c):(b=c,v=this);for(var A=0,$=0;$<v.length;$++)d=(b.words[$]|0)+(v.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;for(;A!==0&&$<b.length;$++)d=(b.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;if(this.length=b.length,A!==0)this.words[this.length]=A,this.length++;else if(b!==this)for(;$<b.length;$++)this.words[$]=b.words[$];return this},o.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},o.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;b>0?(v=this,A=c):(v=c,A=this);for(var $=0,I=0;I<A.length;I++)d=(v.words[I]|0)-(A.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;for(;$!==0&&I<v.length;I++)d=(v.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;if($===0&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(c){return this.clone().isub(c)};function P(k,c,d){d.negative=c.negative^k.negative;var b=k.length+c.length|0;d.length=b,b=b-1|0;var v=k.words[0]|0,A=c.words[0]|0,$=v*A,I=$&67108863,S=$/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var E=S>>>26,O=S&67108863,D=Math.min(l,c.length-1),Y=Math.max(0,l-k.length+1);Y<=D;Y++){var F=l-Y|0;v=k.words[F]|0,A=c.words[Y]|0,$=v*A+O,E+=$/67108864|0,O=$&67108863}d.words[l]=O|0,S=E|0}return S!==0?d.words[l]=S|0:d.length--,d.strip()}var C=function(c,d,b){var v=c.words,A=d.words,$=b.words,I=0,S,l,E,O=v[0]|0,D=O&8191,Y=O>>>13,F=v[1]|0,V=F&8191,H=F>>>13,ee=v[2]|0,ie=ee&8191,de=ee>>>13,Z=v[3]|0,j=Z&8191,he=Z>>>13,Ae=v[4]|0,_e=Ae&8191,xe=Ae>>>13,Xe=v[5]|0,Re=Xe&8191,we=Xe>>>13,Et=v[6]|0,Ce=Et&8191,ze=Et>>>13,wt=v[7]|0,Ie=wt&8191,Ne=wt>>>13,_t=v[8]|0,Pe=_t&8191,Le=_t>>>13,At=v[9]|0,ae=At&8191,J=At>>>13,re=A[0]|0,le=re&8191,be=re>>>13,Be=A[1]|0,ve=Be&8191,Te=Be>>>13,vt=A[2]|0,ke=vt&8191,Ue=vt>>>13,gt=A[3]|0,qe=gt&8191,Ve=gt>>>13,St=A[4]|0,Fe=St&8191,je=St>>>13,$t=A[5]|0,De=$t&8191,We=$t>>>13,kt=A[6]|0,Oe=kt&8191,Ge=kt>>>13,fe=A[7]|0,oe=fe&8191,ce=fe>>>13,Q=A[8]|0,ue=Q&8191,me=Q>>>13,$e=A[9]|0,ye=$e&8191,Ee=$e>>>13;b.negative=c.negative^d.negative,b.length=19,S=Math.imul(D,le),l=Math.imul(D,be),l=l+Math.imul(Y,le)|0,E=Math.imul(Y,be);var Ze=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(V,le),l=Math.imul(V,be),l=l+Math.imul(H,le)|0,E=Math.imul(H,be),S=S+Math.imul(D,ve)|0,l=l+Math.imul(D,Te)|0,l=l+Math.imul(Y,ve)|0,E=E+Math.imul(Y,Te)|0;var Ye=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(ie,le),l=Math.imul(ie,be),l=l+Math.imul(de,le)|0,E=Math.imul(de,be),S=S+Math.imul(V,ve)|0,l=l+Math.imul(V,Te)|0,l=l+Math.imul(H,ve)|0,E=E+Math.imul(H,Te)|0,S=S+Math.imul(D,ke)|0,l=l+Math.imul(D,Ue)|0,l=l+Math.imul(Y,ke)|0,E=E+Math.imul(Y,Ue)|0;var xt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(j,le),l=Math.imul(j,be),l=l+Math.imul(he,le)|0,E=Math.imul(he,be),S=S+Math.imul(ie,ve)|0,l=l+Math.imul(ie,Te)|0,l=l+Math.imul(de,ve)|0,E=E+Math.imul(de,Te)|0,S=S+Math.imul(V,ke)|0,l=l+Math.imul(V,Ue)|0,l=l+Math.imul(H,ke)|0,E=E+Math.imul(H,Ue)|0,S=S+Math.imul(D,qe)|0,l=l+Math.imul(D,Ve)|0,l=l+Math.imul(Y,qe)|0,E=E+Math.imul(Y,Ve)|0;var rt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,S=Math.imul(_e,le),l=Math.imul(_e,be),l=l+Math.imul(xe,le)|0,E=Math.imul(xe,be),S=S+Math.imul(j,ve)|0,l=l+Math.imul(j,Te)|0,l=l+Math.imul(he,ve)|0,E=E+Math.imul(he,Te)|0,S=S+Math.imul(ie,ke)|0,l=l+Math.imul(ie,Ue)|0,l=l+Math.imul(de,ke)|0,E=E+Math.imul(de,Ue)|0,S=S+Math.imul(V,qe)|0,l=l+Math.imul(V,Ve)|0,l=l+Math.imul(H,qe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(D,Fe)|0,l=l+Math.imul(D,je)|0,l=l+Math.imul(Y,Fe)|0,E=E+Math.imul(Y,je)|0;var lt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Re,le),l=Math.imul(Re,be),l=l+Math.imul(we,le)|0,E=Math.imul(we,be),S=S+Math.imul(_e,ve)|0,l=l+Math.imul(_e,Te)|0,l=l+Math.imul(xe,ve)|0,E=E+Math.imul(xe,Te)|0,S=S+Math.imul(j,ke)|0,l=l+Math.imul(j,Ue)|0,l=l+Math.imul(he,ke)|0,E=E+Math.imul(he,Ue)|0,S=S+Math.imul(ie,qe)|0,l=l+Math.imul(ie,Ve)|0,l=l+Math.imul(de,qe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(V,Fe)|0,l=l+Math.imul(V,je)|0,l=l+Math.imul(H,Fe)|0,E=E+Math.imul(H,je)|0,S=S+Math.imul(D,De)|0,l=l+Math.imul(D,We)|0,l=l+Math.imul(Y,De)|0,E=E+Math.imul(Y,We)|0;var dt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Ce,le),l=Math.imul(Ce,be),l=l+Math.imul(ze,le)|0,E=Math.imul(ze,be),S=S+Math.imul(Re,ve)|0,l=l+Math.imul(Re,Te)|0,l=l+Math.imul(we,ve)|0,E=E+Math.imul(we,Te)|0,S=S+Math.imul(_e,ke)|0,l=l+Math.imul(_e,Ue)|0,l=l+Math.imul(xe,ke)|0,E=E+Math.imul(xe,Ue)|0,S=S+Math.imul(j,qe)|0,l=l+Math.imul(j,Ve)|0,l=l+Math.imul(he,qe)|0,E=E+Math.imul(he,Ve)|0,S=S+Math.imul(ie,Fe)|0,l=l+Math.imul(ie,je)|0,l=l+Math.imul(de,Fe)|0,E=E+Math.imul(de,je)|0,S=S+Math.imul(V,De)|0,l=l+Math.imul(V,We)|0,l=l+Math.imul(H,De)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(D,Oe)|0,l=l+Math.imul(D,Ge)|0,l=l+Math.imul(Y,Oe)|0,E=E+Math.imul(Y,Ge)|0;var ht=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(Ie,le),l=Math.imul(Ie,be),l=l+Math.imul(Ne,le)|0,E=Math.imul(Ne,be),S=S+Math.imul(Ce,ve)|0,l=l+Math.imul(Ce,Te)|0,l=l+Math.imul(ze,ve)|0,E=E+Math.imul(ze,Te)|0,S=S+Math.imul(Re,ke)|0,l=l+Math.imul(Re,Ue)|0,l=l+Math.imul(we,ke)|0,E=E+Math.imul(we,Ue)|0,S=S+Math.imul(_e,qe)|0,l=l+Math.imul(_e,Ve)|0,l=l+Math.imul(xe,qe)|0,E=E+Math.imul(xe,Ve)|0,S=S+Math.imul(j,Fe)|0,l=l+Math.imul(j,je)|0,l=l+Math.imul(he,Fe)|0,E=E+Math.imul(he,je)|0,S=S+Math.imul(ie,De)|0,l=l+Math.imul(ie,We)|0,l=l+Math.imul(de,De)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(V,Oe)|0,l=l+Math.imul(V,Ge)|0,l=l+Math.imul(H,Oe)|0,E=E+Math.imul(H,Ge)|0,S=S+Math.imul(D,oe)|0,l=l+Math.imul(D,ce)|0,l=l+Math.imul(Y,oe)|0,E=E+Math.imul(Y,ce)|0;var yt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Pe,le),l=Math.imul(Pe,be),l=l+Math.imul(Le,le)|0,E=Math.imul(Le,be),S=S+Math.imul(Ie,ve)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(Ne,ve)|0,E=E+Math.imul(Ne,Te)|0,S=S+Math.imul(Ce,ke)|0,l=l+Math.imul(Ce,Ue)|0,l=l+Math.imul(ze,ke)|0,E=E+Math.imul(ze,Ue)|0,S=S+Math.imul(Re,qe)|0,l=l+Math.imul(Re,Ve)|0,l=l+Math.imul(we,qe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(_e,Fe)|0,l=l+Math.imul(_e,je)|0,l=l+Math.imul(xe,Fe)|0,E=E+Math.imul(xe,je)|0,S=S+Math.imul(j,De)|0,l=l+Math.imul(j,We)|0,l=l+Math.imul(he,De)|0,E=E+Math.imul(he,We)|0,S=S+Math.imul(ie,Oe)|0,l=l+Math.imul(ie,Ge)|0,l=l+Math.imul(de,Oe)|0,E=E+Math.imul(de,Ge)|0,S=S+Math.imul(V,oe)|0,l=l+Math.imul(V,ce)|0,l=l+Math.imul(H,oe)|0,E=E+Math.imul(H,ce)|0,S=S+Math.imul(D,ue)|0,l=l+Math.imul(D,me)|0,l=l+Math.imul(Y,ue)|0,E=E+Math.imul(Y,me)|0;var pt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(pt>>>26)|0,pt&=67108863,S=Math.imul(ae,le),l=Math.imul(ae,be),l=l+Math.imul(J,le)|0,E=Math.imul(J,be),S=S+Math.imul(Pe,ve)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(Le,ve)|0,E=E+Math.imul(Le,Te)|0,S=S+Math.imul(Ie,ke)|0,l=l+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ne,ke)|0,E=E+Math.imul(Ne,Ue)|0,S=S+Math.imul(Ce,qe)|0,l=l+Math.imul(Ce,Ve)|0,l=l+Math.imul(ze,qe)|0,E=E+Math.imul(ze,Ve)|0,S=S+Math.imul(Re,Fe)|0,l=l+Math.imul(Re,je)|0,l=l+Math.imul(we,Fe)|0,E=E+Math.imul(we,je)|0,S=S+Math.imul(_e,De)|0,l=l+Math.imul(_e,We)|0,l=l+Math.imul(xe,De)|0,E=E+Math.imul(xe,We)|0,S=S+Math.imul(j,Oe)|0,l=l+Math.imul(j,Ge)|0,l=l+Math.imul(he,Oe)|0,E=E+Math.imul(he,Ge)|0,S=S+Math.imul(ie,oe)|0,l=l+Math.imul(ie,ce)|0,l=l+Math.imul(de,oe)|0,E=E+Math.imul(de,ce)|0,S=S+Math.imul(V,ue)|0,l=l+Math.imul(V,me)|0,l=l+Math.imul(H,ue)|0,E=E+Math.imul(H,me)|0,S=S+Math.imul(D,ye)|0,l=l+Math.imul(D,Ee)|0,l=l+Math.imul(Y,ye)|0,E=E+Math.imul(Y,Ee)|0;var mt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(ae,ve),l=Math.imul(ae,Te),l=l+Math.imul(J,ve)|0,E=Math.imul(J,Te),S=S+Math.imul(Pe,ke)|0,l=l+Math.imul(Pe,Ue)|0,l=l+Math.imul(Le,ke)|0,E=E+Math.imul(Le,Ue)|0,S=S+Math.imul(Ie,qe)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(Ne,qe)|0,E=E+Math.imul(Ne,Ve)|0,S=S+Math.imul(Ce,Fe)|0,l=l+Math.imul(Ce,je)|0,l=l+Math.imul(ze,Fe)|0,E=E+Math.imul(ze,je)|0,S=S+Math.imul(Re,De)|0,l=l+Math.imul(Re,We)|0,l=l+Math.imul(we,De)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(_e,Oe)|0,l=l+Math.imul(_e,Ge)|0,l=l+Math.imul(xe,Oe)|0,E=E+Math.imul(xe,Ge)|0,S=S+Math.imul(j,oe)|0,l=l+Math.imul(j,ce)|0,l=l+Math.imul(he,oe)|0,E=E+Math.imul(he,ce)|0,S=S+Math.imul(ie,ue)|0,l=l+Math.imul(ie,me)|0,l=l+Math.imul(de,ue)|0,E=E+Math.imul(de,me)|0,S=S+Math.imul(V,ye)|0,l=l+Math.imul(V,Ee)|0,l=l+Math.imul(H,ye)|0,E=E+Math.imul(H,Ee)|0;var bt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(bt>>>26)|0,bt&=67108863,S=Math.imul(ae,ke),l=Math.imul(ae,Ue),l=l+Math.imul(J,ke)|0,E=Math.imul(J,Ue),S=S+Math.imul(Pe,qe)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(Le,qe)|0,E=E+Math.imul(Le,Ve)|0,S=S+Math.imul(Ie,Fe)|0,l=l+Math.imul(Ie,je)|0,l=l+Math.imul(Ne,Fe)|0,E=E+Math.imul(Ne,je)|0,S=S+Math.imul(Ce,De)|0,l=l+Math.imul(Ce,We)|0,l=l+Math.imul(ze,De)|0,E=E+Math.imul(ze,We)|0,S=S+Math.imul(Re,Oe)|0,l=l+Math.imul(Re,Ge)|0,l=l+Math.imul(we,Oe)|0,E=E+Math.imul(we,Ge)|0,S=S+Math.imul(_e,oe)|0,l=l+Math.imul(_e,ce)|0,l=l+Math.imul(xe,oe)|0,E=E+Math.imul(xe,ce)|0,S=S+Math.imul(j,ue)|0,l=l+Math.imul(j,me)|0,l=l+Math.imul(he,ue)|0,E=E+Math.imul(he,me)|0,S=S+Math.imul(ie,ye)|0,l=l+Math.imul(ie,Ee)|0,l=l+Math.imul(de,ye)|0,E=E+Math.imul(de,Ee)|0;var nt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(ae,qe),l=Math.imul(ae,Ve),l=l+Math.imul(J,qe)|0,E=Math.imul(J,Ve),S=S+Math.imul(Pe,Fe)|0,l=l+Math.imul(Pe,je)|0,l=l+Math.imul(Le,Fe)|0,E=E+Math.imul(Le,je)|0,S=S+Math.imul(Ie,De)|0,l=l+Math.imul(Ie,We)|0,l=l+Math.imul(Ne,De)|0,E=E+Math.imul(Ne,We)|0,S=S+Math.imul(Ce,Oe)|0,l=l+Math.imul(Ce,Ge)|0,l=l+Math.imul(ze,Oe)|0,E=E+Math.imul(ze,Ge)|0,S=S+Math.imul(Re,oe)|0,l=l+Math.imul(Re,ce)|0,l=l+Math.imul(we,oe)|0,E=E+Math.imul(we,ce)|0,S=S+Math.imul(_e,ue)|0,l=l+Math.imul(_e,me)|0,l=l+Math.imul(xe,ue)|0,E=E+Math.imul(xe,me)|0,S=S+Math.imul(j,ye)|0,l=l+Math.imul(j,Ee)|0,l=l+Math.imul(he,ye)|0,E=E+Math.imul(he,Ee)|0;var ct=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,S=Math.imul(ae,Fe),l=Math.imul(ae,je),l=l+Math.imul(J,Fe)|0,E=Math.imul(J,je),S=S+Math.imul(Pe,De)|0,l=l+Math.imul(Pe,We)|0,l=l+Math.imul(Le,De)|0,E=E+Math.imul(Le,We)|0,S=S+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,Ge)|0,l=l+Math.imul(Ne,Oe)|0,E=E+Math.imul(Ne,Ge)|0,S=S+Math.imul(Ce,oe)|0,l=l+Math.imul(Ce,ce)|0,l=l+Math.imul(ze,oe)|0,E=E+Math.imul(ze,ce)|0,S=S+Math.imul(Re,ue)|0,l=l+Math.imul(Re,me)|0,l=l+Math.imul(we,ue)|0,E=E+Math.imul(we,me)|0,S=S+Math.imul(_e,ye)|0,l=l+Math.imul(_e,Ee)|0,l=l+Math.imul(xe,ye)|0,E=E+Math.imul(xe,Ee)|0;var it=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(ae,De),l=Math.imul(ae,We),l=l+Math.imul(J,De)|0,E=Math.imul(J,We),S=S+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,Ge)|0,l=l+Math.imul(Le,Oe)|0,E=E+Math.imul(Le,Ge)|0,S=S+Math.imul(Ie,oe)|0,l=l+Math.imul(Ie,ce)|0,l=l+Math.imul(Ne,oe)|0,E=E+Math.imul(Ne,ce)|0,S=S+Math.imul(Ce,ue)|0,l=l+Math.imul(Ce,me)|0,l=l+Math.imul(ze,ue)|0,E=E+Math.imul(ze,me)|0,S=S+Math.imul(Re,ye)|0,l=l+Math.imul(Re,Ee)|0,l=l+Math.imul(we,ye)|0,E=E+Math.imul(we,Ee)|0;var at=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(ae,Oe),l=Math.imul(ae,Ge),l=l+Math.imul(J,Oe)|0,E=Math.imul(J,Ge),S=S+Math.imul(Pe,oe)|0,l=l+Math.imul(Pe,ce)|0,l=l+Math.imul(Le,oe)|0,E=E+Math.imul(Le,ce)|0,S=S+Math.imul(Ie,ue)|0,l=l+Math.imul(Ie,me)|0,l=l+Math.imul(Ne,ue)|0,E=E+Math.imul(Ne,me)|0,S=S+Math.imul(Ce,ye)|0,l=l+Math.imul(Ce,Ee)|0,l=l+Math.imul(ze,ye)|0,E=E+Math.imul(ze,Ee)|0;var st=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(ae,oe),l=Math.imul(ae,ce),l=l+Math.imul(J,oe)|0,E=Math.imul(J,ce),S=S+Math.imul(Pe,ue)|0,l=l+Math.imul(Pe,me)|0,l=l+Math.imul(Le,ue)|0,E=E+Math.imul(Le,me)|0,S=S+Math.imul(Ie,ye)|0,l=l+Math.imul(Ie,Ee)|0,l=l+Math.imul(Ne,ye)|0,E=E+Math.imul(Ne,Ee)|0;var tt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(ae,ue),l=Math.imul(ae,me),l=l+Math.imul(J,ue)|0,E=Math.imul(J,me),S=S+Math.imul(Pe,ye)|0,l=l+Math.imul(Pe,Ee)|0,l=l+Math.imul(Le,ye)|0,E=E+Math.imul(Le,Ee)|0;var He=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(He>>>26)|0,He&=67108863,S=Math.imul(ae,ye),l=Math.imul(ae,Ee),l=l+Math.imul(J,ye)|0,E=Math.imul(J,Ee);var Ke=(I+S|0)+((l&8191)<<13)|0;return I=(E+(l>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,$[0]=Ze,$[1]=Ye,$[2]=xt,$[3]=rt,$[4]=lt,$[5]=dt,$[6]=ht,$[7]=yt,$[8]=pt,$[9]=mt,$[10]=bt,$[11]=nt,$[12]=ct,$[13]=it,$[14]=at,$[15]=st,$[16]=tt,$[17]=He,$[18]=Ke,I!==0&&($[19]=I,b.length++),b};Math.imul||(C=P);function L(k,c,d){d.negative=c.negative^k.negative,d.length=k.length+c.length;for(var b=0,v=0,A=0;A<d.length-1;A++){var $=v;v=0;for(var I=b&67108863,S=Math.min(A,c.length-1),l=Math.max(0,A-k.length+1);l<=S;l++){var E=A-l,O=k.words[E]|0,D=c.words[l]|0,Y=O*D,F=Y&67108863;$=$+(Y/67108864|0)|0,F=F+I|0,I=F&67108863,$=$+(F>>>26)|0,v+=$>>>26,$&=67108863}d.words[A]=I,b=$,$=v}return b!==0?d.words[A]=b:d.length--,d.strip()}function U(k,c,d){var b=new q;return b.mulp(k,c,d)}o.prototype.mulTo=function(c,d){var b,v=this.length+c.length;return this.length===10&&c.length===10?b=C(this,c,d):v<63?b=P(this,c,d):v<1024?b=L(this,c,d):b=U(this,c,d),b};function q(k,c){this.x=k,this.y=c}q.prototype.makeRBT=function(c){for(var d=new Array(c),b=o.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,b,c);return d},q.prototype.revBin=function(c,d,b){if(c===0||c===b-1)return c;for(var v=0,A=0;A<d;A++)v|=(c&1)<<d-A-1,c>>=1;return v},q.prototype.permute=function(c,d,b,v,A,$){for(var I=0;I<$;I++)v[I]=d[c[I]],A[I]=b[c[I]]},q.prototype.transform=function(c,d,b,v,A,$){this.permute($,c,d,b,v,A);for(var I=1;I<A;I<<=1)for(var S=I<<1,l=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),O=0;O<A;O+=S)for(var D=l,Y=E,F=0;F<I;F++){var V=b[O+F],H=v[O+F],ee=b[O+F+I],ie=v[O+F+I],de=D*ee-Y*ie;ie=D*ie+Y*ee,ee=de,b[O+F]=V+ee,v[O+F]=H+ie,b[O+F+I]=V-ee,v[O+F+I]=H-ie,F!==S&&(de=l*D-E*Y,Y=l*Y+E*D,D=de)}},q.prototype.guessLen13b=function(c,d){var b=Math.max(d,c)|1,v=b&1,A=0;for(b=b/2|0;b;b=b>>>1)A++;return 1<<A+1+v},q.prototype.conjugate=function(c,d,b){if(!(b<=1))for(var v=0;v<b/2;v++){var A=c[v];c[v]=c[b-v-1],c[b-v-1]=A,A=d[v],d[v]=-d[b-v-1],d[b-v-1]=-A}},q.prototype.normalize13b=function(c,d){for(var b=0,v=0;v<d/2;v++){var A=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+b;c[v]=A&67108863,A<67108864?b=0:b=A/67108864|0}return c},q.prototype.convert13b=function(c,d,b,v){for(var A=0,$=0;$<d;$++)A=A+(c[$]|0),b[2*$]=A&8191,A=A>>>13,b[2*$+1]=A&8191,A=A>>>13;for($=2*d;$<v;++$)b[$]=0;a(A===0),a((A&-8192)===0)},q.prototype.stub=function(c){for(var d=new Array(c),b=0;b<c;b++)d[b]=0;return d},q.prototype.mulp=function(c,d,b){var v=2*this.guessLen13b(c.length,d.length),A=this.makeRBT(v),$=this.stub(v),I=new Array(v),S=new Array(v),l=new Array(v),E=new Array(v),O=new Array(v),D=new Array(v),Y=b.words;Y.length=v,this.convert13b(c.words,c.length,I,v),this.convert13b(d.words,d.length,E,v),this.transform(I,$,S,l,v,A),this.transform(E,$,O,D,v,A);for(var F=0;F<v;F++){var V=S[F]*O[F]-l[F]*D[F];l[F]=S[F]*D[F]+l[F]*O[F],S[F]=V}return this.conjugate(S,l,v),this.transform(S,l,Y,$,v,A),this.conjugate(Y,$,v),this.normalize13b(Y,v),b.negative=c.negative^d.negative,b.length=c.length+d.length,b.strip()},o.prototype.mul=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},o.prototype.mulf=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),U(this,c,d)},o.prototype.imul=function(c){return this.clone().mulTo(c,this)},o.prototype.imuln=function(c){a(typeof c=="number"),a(c<67108864);for(var d=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*c,A=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=A>>>26,this.words[b]=A&67108863}return d!==0&&(this.words[b]=d,this.length++),this},o.prototype.muln=function(c){return this.clone().imuln(c)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(c){var d=B(c);if(d.length===0)return new o(1);for(var b=this,v=0;v<d.length&&d[v]===0;v++,b=b.sqr());if(++v<d.length)for(var A=b.sqr();v<d.length;v++,A=A.sqr())d[v]!==0&&(b=b.mul(A));return b},o.prototype.iushln=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=67108863>>>26-d<<26-d,A;if(d!==0){var $=0;for(A=0;A<this.length;A++){var I=this.words[A]&v,S=(this.words[A]|0)-I<<d;this.words[A]=S|$,$=I>>>26-d}$&&(this.words[A]=$,this.length++)}if(b!==0){for(A=this.length-1;A>=0;A--)this.words[A+b]=this.words[A];for(A=0;A<b;A++)this.words[A]=0;this.length+=b}return this.strip()},o.prototype.ishln=function(c){return a(this.negative===0),this.iushln(c)},o.prototype.iushrn=function(c,d,b){a(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var A=c%26,$=Math.min((c-A)/26,this.length),I=67108863^67108863>>>A<<A,S=b;if(v-=$,v=Math.max(0,v),S){for(var l=0;l<$;l++)S.words[l]=this.words[l];S.length=$}if($!==0)if(this.length>$)for(this.length-=$,l=0;l<this.length;l++)this.words[l]=this.words[l+$];else this.words[0]=0,this.length=1;var E=0;for(l=this.length-1;l>=0&&(E!==0||l>=v);l--){var O=this.words[l]|0;this.words[l]=E<<26-A|O>>>A,E=O&I}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(c,d,b){return a(this.negative===0),this.iushrn(c,d,b)},o.prototype.shln=function(c){return this.clone().ishln(c)},o.prototype.ushln=function(c){return this.clone().iushln(c)},o.prototype.shrn=function(c){return this.clone().ishrn(c)},o.prototype.ushrn=function(c){return this.clone().iushrn(c)},o.prototype.testn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return!1;var A=this.words[b];return!!(A&v)},o.prototype.imaskn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(c){return this.clone().imaskn(c)},o.prototype.iaddn=function(c){return a(typeof c=="number"),a(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},o.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(c){if(a(typeof c=="number"),a(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(c){return this.clone().iaddn(c)},o.prototype.subn=function(c){return this.clone().isubn(c)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(c,d,b){var v=c.length+b,A;this._expand(v);var $,I=0;for(A=0;A<c.length;A++){$=(this.words[A+b]|0)+I;var S=(c.words[A]|0)*d;$-=S&67108863,I=($>>26)-(S/67108864|0),this.words[A+b]=$&67108863}for(;A<this.length-b;A++)$=(this.words[A+b]|0)+I,I=$>>26,this.words[A+b]=$&67108863;if(I===0)return this.strip();for(a(I===-1),I=0,A=0;A<this.length;A++)$=-(this.words[A]|0)+I,I=$>>26,this.words[A]=$&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(c,d){var b=this.length-c.length,v=this.clone(),A=c,$=A.words[A.length-1]|0,I=this._countBits($);b=26-I,b!==0&&(A=A.ushln(b),v.iushln(b),$=A.words[A.length-1]|0);var S=v.length-A.length,l;if(d!=="mod"){l=new o(null),l.length=S+1,l.words=new Array(l.length);for(var E=0;E<l.length;E++)l.words[E]=0}var O=v.clone()._ishlnsubmul(A,1,S);O.negative===0&&(v=O,l&&(l.words[S]=1));for(var D=S-1;D>=0;D--){var Y=(v.words[A.length+D]|0)*67108864+(v.words[A.length+D-1]|0);for(Y=Math.min(Y/$|0,67108863),v._ishlnsubmul(A,Y,D);v.negative!==0;)Y--,v.negative=0,v._ishlnsubmul(A,1,D),v.isZero()||(v.negative^=1);l&&(l.words[D]=Y)}return l&&l.strip(),v.strip(),d!=="div"&&b!==0&&v.iushrn(b),{div:l||null,mod:v}},o.prototype.divmod=function(c,d,b){if(a(!c.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,A,$;return this.negative!==0&&c.negative===0?($=this.neg().divmod(c,d),d!=="mod"&&(v=$.div.neg()),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.iadd(c)),{div:v,mod:A}):this.negative===0&&c.negative!==0?($=this.divmod(c.neg(),d),d!=="mod"&&(v=$.div.neg()),{div:v,mod:$.mod}):this.negative&c.negative?($=this.neg().divmod(c.neg(),d),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.isub(c)),{div:$.div,mod:A}):c.length>this.length||this.cmp(c)<0?{div:new o(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new o(this.modn(c.words[0]))}:this._wordDiv(c,d)},o.prototype.div=function(c){return this.divmod(c,"div",!1).div},o.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},o.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},o.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),A=c.andln(1),$=b.cmp(v);return $<0||A===1&&$===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(c){a(c<=67108863);for(var d=(1<<26)%c,b=0,v=this.length-1;v>=0;v--)b=(d*b+(this.words[v]|0))%c;return b},o.prototype.idivn=function(c){a(c<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+d*67108864;this.words[b]=v/c|0,d=v%c}return this.strip()},o.prototype.divn=function(c){return this.clone().idivn(c)},o.prototype.egcd=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=new o(0),I=new o(1),S=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++S;for(var l=b.clone(),E=d.clone();!d.isZero();){for(var O=0,D=1;!(d.words[0]&D)&&O<26;++O,D<<=1);if(O>0)for(d.iushrn(O);O-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(l),A.isub(E)),v.iushrn(1),A.iushrn(1);for(var Y=0,F=1;!(b.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(b.iushrn(Y);Y-- >0;)($.isOdd()||I.isOdd())&&($.iadd(l),I.isub(E)),$.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub($),A.isub(I)):(b.isub(d),$.isub(v),I.isub(A))}return{a:$,b:I,gcd:b.iushln(S)}},o.prototype._invmp=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,S=1;!(d.words[0]&S)&&I<26;++I,S<<=1);if(I>0)for(d.iushrn(I);I-- >0;)v.isOdd()&&v.iadd($),v.iushrn(1);for(var l=0,E=1;!(b.words[0]&E)&&l<26;++l,E<<=1);if(l>0)for(b.iushrn(l);l-- >0;)A.isOdd()&&A.iadd($),A.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub(A)):(b.isub(d),A.isub(v))}var O;return d.cmpn(1)===0?O=v:O=A,O.cmpn(0)<0&&O.iadd(c),O},o.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),b=c.clone();d.negative=0,b.negative=0;for(var v=0;d.isEven()&&b.isEven();v++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var A=d.cmp(b);if(A<0){var $=d;d=b,b=$}else if(A===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(v)},o.prototype.invm=function(c){return this.egcd(c).a.umod(c)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(c){return this.words[0]&c},o.prototype.bincn=function(c){a(typeof c=="number");var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var A=v,$=b;A!==0&&$<this.length;$++){var I=this.words[$]|0;I+=A,A=I>>>26,I&=67108863,this.words[$]=I}return A!==0&&(this.words[$]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(c=-c),a(c<=67108863,"Number is too big");var v=this.words[0]|0;b=v===c?0:v<c?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,A=c.words[b]|0;if(v!==A){v<A?d=-1:v>A&&(d=1);break}}return d},o.prototype.gtn=function(c){return this.cmpn(c)===1},o.prototype.gt=function(c){return this.cmp(c)===1},o.prototype.gten=function(c){return this.cmpn(c)>=0},o.prototype.gte=function(c){return this.cmp(c)>=0},o.prototype.ltn=function(c){return this.cmpn(c)===-1},o.prototype.lt=function(c){return this.cmp(c)===-1},o.prototype.lten=function(c){return this.cmpn(c)<=0},o.prototype.lte=function(c){return this.cmp(c)<=0},o.prototype.eqn=function(c){return this.cmpn(c)===0},o.prototype.eq=function(c){return this.cmp(c)===0},o.red=function(c){return new se(c)},o.prototype.toRed=function(c){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},o.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(c){return this.red=c,this},o.prototype.forceRed=function(c){return a(!this.red,"Already a number in reduction context"),this._forceRed(c)},o.prototype.redAdd=function(c){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},o.prototype.redIAdd=function(c){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},o.prototype.redSub=function(c){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},o.prototype.redISub=function(c){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},o.prototype.redShl=function(c){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},o.prototype.redMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},o.prototype.redIMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},o.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(c){return a(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var G={k256:null,p224:null,p192:null,p25519:null};function X(k,c){this.name=k,this.p=new o(c,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var c=new o(null);return c.words=new Array(Math.ceil(this.n/13)),c},X.prototype.ireduce=function(c){var d=c,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var v=b<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},X.prototype.split=function(c,d){c.iushrn(this.n,0,d)},X.prototype.imulK=function(c){return c.imul(this.k)};function te(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(te,X),te.prototype.split=function(c,d){for(var b=4194303,v=Math.min(c.length,9),A=0;A<v;A++)d.words[A]=c.words[A];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var $=c.words[9];for(d.words[d.length++]=$&b,A=10;A<c.length;A++){var I=c.words[A]|0;c.words[A-10]=(I&b)<<4|$>>>22,$=I}$>>>=22,c.words[A-10]=$,$===0&&c.length>10?c.length-=10:c.length-=9},te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,b=0;b<c.length;b++){var v=c.words[b]|0;d+=v*977,c.words[b]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ne(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(ne,X);function ge(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(ge,X);function pe(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(pe,X),pe.prototype.imulK=function(c){for(var d=0,b=0;b<c.length;b++){var v=(c.words[b]|0)*19+d,A=v&67108863;v>>>=26,c.words[b]=A,d=v}return d!==0&&(c.words[c.length++]=d),c},o._prime=function(c){if(G[c])return G[c];var d;if(c==="k256")d=new te;else if(c==="p224")d=new ne;else if(c==="p192")d=new ge;else if(c==="p25519")d=new pe;else throw new Error("Unknown prime "+c);return G[c]=d,d};function se(k){if(typeof k=="string"){var c=o._prime(k);this.m=c.p,this.prime=c}else a(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}se.prototype._verify1=function(c){a(c.negative===0,"red works only with positives"),a(c.red,"red works only with red numbers")},se.prototype._verify2=function(c,d){a((c.negative|d.negative)===0,"red works only with positives"),a(c.red&&c.red===d.red,"red works only with red numbers")},se.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},se.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},se.prototype.add=function(c,d){this._verify2(c,d);var b=c.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},se.prototype.iadd=function(c,d){this._verify2(c,d);var b=c.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},se.prototype.sub=function(c,d){this._verify2(c,d);var b=c.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},se.prototype.isub=function(c,d){this._verify2(c,d);var b=c.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},se.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},se.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},se.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},se.prototype.isqr=function(c){return this.imul(c,c.clone())},se.prototype.sqr=function(c){return this.mul(c,c)},se.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(a(d%2===1),d===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(c,b)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);a(!v.isZero());var $=new o(1).toRed(this),I=$.redNeg(),S=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);this.pow(l,S).cmp(I)!==0;)l.redIAdd(I);for(var E=this.pow(l,v),O=this.pow(c,v.addn(1).iushrn(1)),D=this.pow(c,v),Y=A;D.cmp($)!==0;){for(var F=D,V=0;F.cmp($)!==0;V++)F=F.redSqr();a(V<Y);var H=this.pow(E,new o(1).iushln(Y-V-1));O=O.redMul(H),E=H.redSqr(),D=D.redMul(E),Y=V}return O},se.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},se.prototype.pow=function(c,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var b=4,v=new Array(1<<b);v[0]=new o(1).toRed(this),v[1]=c;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],c);var $=v[0],I=0,S=0,l=d.bitLength()%26;for(l===0&&(l=26),A=d.length-1;A>=0;A--){for(var E=d.words[A],O=l-1;O>=0;O--){var D=E>>O&1;if($!==v[0]&&($=this.sqr($)),D===0&&I===0){S=0;continue}I<<=1,I|=D,S++,!(S!==b&&(A!==0||O!==0))&&($=this.mul($,v[I]),S=0,I=0)}l=26}return $},se.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},se.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},o.mont=function(c){return new Se(c)};function Se(k){se.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(Se,se),Se.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},Se.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},Se.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new o(0)._forceRed(this);var b=c.mul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,commonjsGlobal)}(bn$5)),bn$5.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var t;brorand.exports=function(u){return t||(t=new e(null)),t.generate(u)};function e(a){this.rand=a}if(brorand.exports.Rand=e,e.prototype.generate=function(u){return this._rand(u)},e.prototype._rand=function(u){if(this.rand.getBytes)return this.rand.getBytes(u);for(var o=new Uint8Array(u),p=0;p<o.length;p++)o[p]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(u){var o=new Uint8Array(u);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(u){var o=new Uint8Array(u);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var n=requireCryptoBrowserify();if(typeof n.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(u){return n.randomBytes(u)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var t=requireBn$5(),e=requireBrorand();function n(a){this.rand=a||new e.Rand}return mr=n,n.create=function(u){return new n(u)},n.prototype._randbelow=function(u){var o=u.bitLength(),p=Math.ceil(o/8);do var m=new t(this.rand.generate(p));while(m.cmp(u)>=0);return m},n.prototype._randrange=function(u,o){var p=o.sub(u);return u.add(this._randbelow(p))},n.prototype.test=function(u,o,p){var m=u.bitLength(),y=t.mont(u),w=new t(1).toRed(y);o||(o=Math.max(1,m/48|0));for(var _=u.subn(1),M=0;!_.testn(M);M++);for(var T=u.shrn(M),B=_.toRed(y),P=!0;o>0;o--){var C=this._randrange(new t(2),_);p&&p(C);var L=C.toRed(y).redPow(T);if(!(L.cmp(w)===0||L.cmp(B)===0)){for(var U=1;U<M;U++){if(L=L.redSqr(),L.cmp(w)===0)return!1;if(L.cmp(B)===0)break}if(U===M)return!1}}return P},n.prototype.getDivisor=function(u,o){var p=u.bitLength(),m=t.mont(u),y=new t(1).toRed(m);o||(o=Math.max(1,p/48|0));for(var w=u.subn(1),_=0;!w.testn(_);_++);for(var M=u.shrn(_),T=w.toRed(m);o>0;o--){var B=this._randrange(new t(2),w),P=u.gcd(B);if(P.cmpn(1)!==0)return P;var C=B.toRed(m).redPow(M);if(!(C.cmp(y)===0||C.cmp(T)===0)){for(var L=1;L<_;L++){if(C=C.redSqr(),C.cmp(y)===0)return C.fromRed().subn(1).gcd(u);if(C.cmp(T)===0)break}if(L===_)return C=C.redSqr(),C.fromRed().subn(1).gcd(u)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var t=requireBrowser$8();generatePrime=L,L.simpleSieve=P,L.fermatTest=C;var e=requireBn$6(),n=new e(24),a=requireMr(),u=new a,o=new e(1),p=new e(2),m=new e(5);new e(16),new e(8);var y=new e(10),w=new e(3);new e(7);var _=new e(11),M=new e(4);new e(12);var T=null;function B(){if(T!==null)return T;var U=1048576,q=[];q[0]=2;for(var G=1,X=3;X<U;X+=2){for(var te=Math.ceil(Math.sqrt(X)),ne=0;ne<G&&q[ne]<=te&&X%q[ne]!==0;ne++);G!==ne&&q[ne]<=te||(q[G++]=X)}return T=q,q}function P(U){for(var q=B(),G=0;G<q.length;G++)if(U.modn(q[G])===0)return U.cmpn(q[G])===0;return!0}function C(U){var q=e.mont(U);return p.toRed(q).redPow(U.subn(1)).fromRed().cmpn(1)===0}function L(U,q){if(U<16)return q===2||q===5?new e([140,123]):new e([140,39]);q=new e(q);for(var G,X;;){for(G=new e(t(Math.ceil(U/8)));G.bitLength()>U;)G.ishrn(1);if(G.isEven()&&G.iadd(o),G.testn(1)||G.iadd(p),q.cmp(p)){if(!q.cmp(m))for(;G.mod(y).cmp(w);)G.iadd(M)}else for(;G.mod(n).cmp(_);)G.iadd(M);if(X=G.shrn(1),P(X)&&P(G)&&C(X)&&C(G)&&u.test(X)&&u.test(G))return G}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var t=requireBn$6(),e=requireMr(),n=new e,a=new t(24),u=new t(11),o=new t(10),p=new t(3),m=new t(7),y=requireGeneratePrime(),w=requireBrowser$8();dh=P;function _(L,U){return U=U||"utf8",Buffer$1$1.isBuffer(L)||(L=new Buffer$1$1(L,U)),this._pub=new t(L),this}function M(L,U){return U=U||"utf8",Buffer$1$1.isBuffer(L)||(L=new Buffer$1$1(L,U)),this._priv=new t(L),this}var T={};function B(L,U){var q=U.toString("hex"),G=[q,L.toString(16)].join("_");if(G in T)return T[G];var X=0;if(L.isEven()||!y.simpleSieve||!y.fermatTest(L)||!n.test(L))return X+=1,q==="02"||q==="05"?X+=8:X+=4,T[G]=X,X;n.test(L.shrn(1))||(X+=2);var te;switch(q){case"02":L.mod(a).cmp(u)&&(X+=8);break;case"05":te=L.mod(o),te.cmp(p)&&te.cmp(m)&&(X+=8);break;default:X+=4}return T[G]=X,X}function P(L,U,q){this.setGenerator(U),this.__prime=new t(L),this._prime=t.mont(this.__prime),this._primeLen=L.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,q?(this.setPublicKey=_,this.setPrivateKey=M):this._primeCode=8}Object.defineProperty(P.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=B(this.__prime,this.__gen)),this._primeCode}}),P.prototype.generateKeys=function(){return this._priv||(this._priv=new t(w(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},P.prototype.computeSecret=function(L){L=new t(L),L=L.toRed(this._prime);var U=L.redPow(this._priv).fromRed(),q=new Buffer$1$1(U.toArray()),G=this.getPrime();if(q.length<G.length){var X=new Buffer$1$1(G.length-q.length);X.fill(0),q=Buffer$1$1.concat([X,q])}return q},P.prototype.getPublicKey=function(U){return C(this._pub,U)},P.prototype.getPrivateKey=function(U){return C(this._priv,U)},P.prototype.getPrime=function(L){return C(this.__prime,L)},P.prototype.getGenerator=function(L){return C(this._gen,L)},P.prototype.setGenerator=function(L,U){return U=U||"utf8",Buffer$1$1.isBuffer(L)||(L=new Buffer$1$1(L,U)),this.__gen=L,this._gen=new t(L),this};function C(L,U){var q=new Buffer$1$1(L.toArray());return U?q.toString(U):q}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$5;hasRequiredBrowser$4=1;var t=requireGeneratePrime(),e=require$$1$1,n=requireDh();function a(p){var m=new Buffer$1$1(e[p].prime,"hex"),y=new Buffer$1$1(e[p].gen,"hex");return new n(m,y)}var u={binary:!0,hex:!0,base64:!0};function o(p,m,y,w){return Buffer$1$1.isBuffer(m)||u[m]===void 0?o(p,"binary",m,y):(m=m||"binary",w=w||"binary",y=y||new Buffer$1$1([2]),Buffer$1$1.isBuffer(y)||(y=new Buffer$1$1(y,w)),typeof p=="number"?new n(t(p,y),y,!0):(Buffer$1$1.isBuffer(p)||(p=new Buffer$1$1(p,m)),new n(p,y,!0)))}return browser$5.DiffieHellmanGroup=browser$5.createDiffieHellmanGroup=browser$5.getDiffieHellman=a,browser$5.createDiffieHellman=browser$5.DiffieHellman=o,browser$5}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:t}:processNextickArgs.exports=process$1;function t(e,n,a,u){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,p,m;switch(o){case 0:case 1:return process$1.nextTick(e);case 2:return process$1.nextTick(function(){e.call(null,n)});case 3:return process$1.nextTick(function(){e.call(null,n,a)});case 4:return process$1.nextTick(function(){e.call(null,n,a,u)});default:for(p=new Array(o-1),m=0;m<p.length;)p[m++]=arguments[m];return process$1.nextTick(function(){e.apply(null,p)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var t={}.toString;return isarray=Array.isArray||function(e){return t.call(e)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(t,e){var n=require$$0$4,a=n.Buffer;function u(p,m){for(var y in p)m[y]=p[y]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=n:(u(n,e),e.Buffer=o);function o(p,m,y){return a(p,m,y)}u(a,o),o.from=function(p,m,y){if(typeof p=="number")throw new TypeError("Argument must not be a number");return a(p,m,y)},o.alloc=function(p,m,y){if(typeof p!="number")throw new TypeError("Argument must be a number");var w=a(p);return m!==void 0?typeof y=="string"?w.fill(m,y):w.fill(m):w.fill(0),w},o.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return a(p)},o.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(p)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function t(C){return Array.isArray?Array.isArray(C):P(C)==="[object Array]"}util.isArray=t;function e(C){return typeof C=="boolean"}util.isBoolean=e;function n(C){return C===null}util.isNull=n;function a(C){return C==null}util.isNullOrUndefined=a;function u(C){return typeof C=="number"}util.isNumber=u;function o(C){return typeof C=="string"}util.isString=o;function p(C){return typeof C=="symbol"}util.isSymbol=p;function m(C){return C===void 0}util.isUndefined=m;function y(C){return P(C)==="[object RegExp]"}util.isRegExp=y;function w(C){return typeof C=="object"&&C!==null}util.isObject=w;function _(C){return P(C)==="[object Date]"}util.isDate=_;function M(C){return P(C)==="[object Error]"||C instanceof Error}util.isError=M;function T(C){return typeof C=="function"}util.isFunction=T;function B(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||typeof C>"u"}util.isPrimitive=B,util.isBuffer=require$$0$4.Buffer.isBuffer;function P(C){return Object.prototype.toString.call(C)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(t){function e(o,p){if(!(o instanceof p))throw new TypeError("Cannot call a class as a function")}var n=requireSafeBuffer().Buffer,a=util$1;function u(o,p,m){o.copy(p,m)}t.exports=function(){function o(){e(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(m){var y={data:m,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length},o.prototype.unshift=function(m){var y={data:m,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length},o.prototype.shift=function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(m){if(this.length===0)return"";for(var y=this.head,w=""+y.data;y=y.next;)w+=m+y.data;return w},o.prototype.concat=function(m){if(this.length===0)return n.alloc(0);for(var y=n.allocUnsafe(m>>>0),w=this.head,_=0;w;)u(w.data,y,_),_+=w.data.length,w=w.next;return y},o}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var o=a.inspect({length:this.length});return this.constructor.name+" "+o})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var t=requireProcessNextickArgs();function e(u,o){var p=this,m=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return m||y?(o?o(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(a,this,u)):t.nextTick(a,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(w){!o&&w?p._writableState?p._writableState.errorEmitted||(p._writableState.errorEmitted=!0,t.nextTick(a,p,w)):t.nextTick(a,p,w):o&&o(w)}),this)}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(u,o){u.emit("error",o)}return destroy_1={destroy:e,undestroy:n},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var t=requireProcessNextickArgs();_stream_writable=C;function e($){var I=this;this.next=null,this.entry=null,this.finish=function(){A(I,$)}}var n=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:t.nextTick,a;C.WritableState=B;var u=Object.create(requireUtil());u.inherits=inherits_browserExports;var o={deprecate:requireBrowser$9()},p=requireStreamBrowser(),m=requireSafeBuffer().Buffer,y=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function w($){return m.from($)}function _($){return m.isBuffer($)||$ instanceof y}var M=requireDestroy();u.inherits(C,p);function T(){}function B($,I){a=a||require_stream_duplex(),$=$||{};var S=I instanceof a;this.objectMode=!!$.objectMode,S&&(this.objectMode=this.objectMode||!!$.writableObjectMode);var l=$.highWaterMark,E=$.writableHighWaterMark,O=this.objectMode?16:16*1024;l||l===0?this.highWaterMark=l:S&&(E||E===0)?this.highWaterMark=E:this.highWaterMark=O,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=$.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){ge(I,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}B.prototype.getBuffer=function(){for(var I=this.bufferedRequest,S=[];I;)S.push(I),I=I.next;return S},function(){try{Object.defineProperty(B.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var P;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function($){return P.call(this,$)?!0:this!==C?!1:$&&$._writableState instanceof B}})):P=function($){return $ instanceof this};function C($){if(a=a||require_stream_duplex(),!P.call(C,this)&&!(this instanceof a))return new C($);this._writableState=new B($,this),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),p.call(this)}C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function L($,I){var S=new Error("write after end");$.emit("error",S),t.nextTick(I,S)}function U($,I,S,l){var E=!0,O=!1;return S===null?O=new TypeError("May not write null values to stream"):typeof S!="string"&&S!==void 0&&!I.objectMode&&(O=new TypeError("Invalid non-string/buffer chunk")),O&&($.emit("error",O),t.nextTick(l,O),E=!1),E}C.prototype.write=function($,I,S){var l=this._writableState,E=!1,O=!l.objectMode&&_($);return O&&!m.isBuffer($)&&($=w($)),typeof I=="function"&&(S=I,I=null),O?I="buffer":I||(I=l.defaultEncoding),typeof S!="function"&&(S=T),l.ended?L(this,S):(O||U(this,l,$,S))&&(l.pendingcb++,E=G(this,l,O,$,I,S)),E},C.prototype.cork=function(){var $=this._writableState;$.corked++},C.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,!$.writing&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&Se(this,$))},C.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+I);return this._writableState.defaultEncoding=I,this};function q($,I,S){return!$.objectMode&&$.decodeStrings!==!1&&typeof I=="string"&&(I=m.from(I,S)),I}Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function G($,I,S,l,E,O){if(!S){var D=q(I,l,E);l!==D&&(S=!0,E="buffer",l=D)}var Y=I.objectMode?1:l.length;I.length+=Y;var F=I.length<I.highWaterMark;if(F||(I.needDrain=!0),I.writing||I.corked){var V=I.lastBufferedRequest;I.lastBufferedRequest={chunk:l,encoding:E,isBuf:S,callback:O,next:null},V?V.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else X($,I,!1,Y,l,E,O);return F}function X($,I,S,l,E,O,D){I.writelen=l,I.writecb=D,I.writing=!0,I.sync=!0,S?$._writev(E,I.onwrite):$._write(E,O,I.onwrite),I.sync=!1}function te($,I,S,l,E){--I.pendingcb,S?(t.nextTick(E,l),t.nextTick(b,$,I),$._writableState.errorEmitted=!0,$.emit("error",l)):(E(l),$._writableState.errorEmitted=!0,$.emit("error",l),b($,I))}function ne($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}function ge($,I){var S=$._writableState,l=S.sync,E=S.writecb;if(ne(S),I)te($,S,l,I,E);else{var O=k(S);!O&&!S.corked&&!S.bufferProcessing&&S.bufferedRequest&&Se($,S),l?n(pe,$,S,O,E):pe($,S,O,E)}}function pe($,I,S,l){S||se($,I),I.pendingcb--,l(),b($,I)}function se($,I){I.length===0&&I.needDrain&&(I.needDrain=!1,$.emit("drain"))}function Se($,I){I.bufferProcessing=!0;var S=I.bufferedRequest;if($._writev&&S&&S.next){var l=I.bufferedRequestCount,E=new Array(l),O=I.corkedRequestsFree;O.entry=S;for(var D=0,Y=!0;S;)E[D]=S,S.isBuf||(Y=!1),S=S.next,D+=1;E.allBuffers=Y,X($,I,!0,I.length,E,"",O.finish),I.pendingcb++,I.lastBufferedRequest=null,O.next?(I.corkedRequestsFree=O.next,O.next=null):I.corkedRequestsFree=new e(I),I.bufferedRequestCount=0}else{for(;S;){var F=S.chunk,V=S.encoding,H=S.callback,ee=I.objectMode?1:F.length;if(X($,I,!1,ee,F,V,H),S=S.next,I.bufferedRequestCount--,I.writing)break}S===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=S,I.bufferProcessing=!1}C.prototype._write=function($,I,S){S(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function($,I,S){var l=this._writableState;typeof $=="function"?(S=$,$=null,I=null):typeof I=="function"&&(S=I,I=null),$!=null&&this.write($,I),l.corked&&(l.corked=1,this.uncork()),l.ending||v(this,l,S)};function k($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function c($,I){$._final(function(S){I.pendingcb--,S&&$.emit("error",S),I.prefinished=!0,$.emit("prefinish"),b($,I)})}function d($,I){!I.prefinished&&!I.finalCalled&&(typeof $._final=="function"?(I.pendingcb++,I.finalCalled=!0,t.nextTick(c,$,I)):(I.prefinished=!0,$.emit("prefinish")))}function b($,I){var S=k(I);return S&&(d($,I),I.pendingcb===0&&(I.finished=!0,$.emit("finish"))),S}function v($,I,S){I.ending=!0,b($,I),S&&(I.finished?t.nextTick(S):$.once("finish",S)),I.ended=!0,$.writable=!1}function A($,I,S){var l=$.entry;for($.entry=null;l;){var E=l.callback;I.pendingcb--,E(S),l=l.next}I.corkedRequestsFree.next=$}return Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),C.prototype.destroy=M.destroy,C.prototype._undestroy=M.undestroy,C.prototype._destroy=function($,I){this.end(),I($)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var t=requireProcessNextickArgs(),e=Object.keys||function(M){var T=[];for(var B in M)T.push(B);return T};_stream_duplex=y;var n=Object.create(requireUtil());n.inherits=inherits_browserExports;var a=require_stream_readable(),u=require_stream_writable();n.inherits(y,a);for(var o=e(u.prototype),p=0;p<o.length;p++){var m=o[p];y.prototype[m]||(y.prototype[m]=u.prototype[m])}function y(M){if(!(this instanceof y))return new y(M);a.call(this,M),u.call(this,M),M&&M.readable===!1&&(this.readable=!1),M&&M.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,M&&M.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",w)}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function w(){this.allowHalfOpen||this._writableState.ended||t.nextTick(_,this)}function _(M){M.end()}return Object.defineProperty(y.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(M){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=M,this._writableState.destroyed=M)}}),y.prototype._destroy=function(M,T){this.push(null),this.end(),t.nextTick(T,M)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var t=requireProcessNextickArgs();_stream_readable=q;var e=requireIsarray(),n;q.ReadableState=U,eventsExports.EventEmitter;var a=function(H,ee){return H.listeners(ee).length},u=requireStreamBrowser(),o=requireSafeBuffer().Buffer,p=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function m(H){return o.from(H)}function y(H){return o.isBuffer(H)||H instanceof p}var w=Object.create(requireUtil());w.inherits=inherits_browserExports;var _=util$1,M=void 0;_&&_.debuglog?M=_.debuglog("stream"):M=function(){};var T=requireBufferList(),B=requireDestroy(),P;w.inherits(q,u);var C=["error","close","destroy","pause","resume"];function L(H,ee,ie){if(typeof H.prependListener=="function")return H.prependListener(ee,ie);!H._events||!H._events[ee]?H.on(ee,ie):e(H._events[ee])?H._events[ee].unshift(ie):H._events[ee]=[ie,H._events[ee]]}function U(H,ee){n=n||require_stream_duplex(),H=H||{};var ie=ee instanceof n;this.objectMode=!!H.objectMode,ie&&(this.objectMode=this.objectMode||!!H.readableObjectMode);var de=H.highWaterMark,Z=H.readableHighWaterMark,j=this.objectMode?16:16*1024;de||de===0?this.highWaterMark=de:ie&&(Z||Z===0)?this.highWaterMark=Z:this.highWaterMark=j,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(P||(P=string_decoder.StringDecoder),this.decoder=new P(H.encoding),this.encoding=H.encoding)}function q(H){if(n=n||require_stream_duplex(),!(this instanceof q))return new q(H);this._readableState=new U(H,this),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),u.call(this)}Object.defineProperty(q.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),q.prototype.destroy=B.destroy,q.prototype._undestroy=B.undestroy,q.prototype._destroy=function(H,ee){this.push(null),ee(H)},q.prototype.push=function(H,ee){var ie=this._readableState,de;return ie.objectMode?de=!0:typeof H=="string"&&(ee=ee||ie.defaultEncoding,ee!==ie.encoding&&(H=o.from(H,ee),ee=""),de=!0),G(this,H,ee,!1,de)},q.prototype.unshift=function(H){return G(this,H,null,!0,!1)};function G(H,ee,ie,de,Z){var j=H._readableState;if(ee===null)j.reading=!1,Se(H,j);else{var he;Z||(he=te(j,ee)),he?H.emit("error",he):j.objectMode||ee&&ee.length>0?(typeof ee!="string"&&!j.objectMode&&Object.getPrototypeOf(ee)!==o.prototype&&(ee=m(ee)),de?j.endEmitted?H.emit("error",new Error("stream.unshift() after end event")):X(H,j,ee,!0):j.ended?H.emit("error",new Error("stream.push() after EOF")):(j.reading=!1,j.decoder&&!ie?(ee=j.decoder.write(ee),j.objectMode||ee.length!==0?X(H,j,ee,!1):d(H,j)):X(H,j,ee,!1))):de||(j.reading=!1)}return ne(j)}function X(H,ee,ie,de){ee.flowing&&ee.length===0&&!ee.sync?(H.emit("data",ie),H.read(0)):(ee.length+=ee.objectMode?1:ie.length,de?ee.buffer.unshift(ie):ee.buffer.push(ie),ee.needReadable&&k(H)),d(H,ee)}function te(H,ee){var ie;return!y(ee)&&typeof ee!="string"&&ee!==void 0&&!H.objectMode&&(ie=new TypeError("Invalid non-string/buffer chunk")),ie}function ne(H){return!H.ended&&(H.needReadable||H.length<H.highWaterMark||H.length===0)}q.prototype.isPaused=function(){return this._readableState.flowing===!1},q.prototype.setEncoding=function(H){return P||(P=string_decoder.StringDecoder),this._readableState.decoder=new P(H),this._readableState.encoding=H,this};var ge=8388608;function pe(H){return H>=ge?H=ge:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}function se(H,ee){return H<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:H!==H?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(H>ee.highWaterMark&&(ee.highWaterMark=pe(H)),H<=ee.length?H:ee.ended?ee.length:(ee.needReadable=!0,0))}q.prototype.read=function(H){M("read",H),H=parseInt(H,10);var ee=this._readableState,ie=H;if(H!==0&&(ee.emittedReadable=!1),H===0&&ee.needReadable&&(ee.length>=ee.highWaterMark||ee.ended))return M("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?Y(this):k(this),null;if(H=se(H,ee),H===0&&ee.ended)return ee.length===0&&Y(this),null;var de=ee.needReadable;M("need readable",de),(ee.length===0||ee.length-H<ee.highWaterMark)&&(de=!0,M("length less than watermark",de)),ee.ended||ee.reading?(de=!1,M("reading or ended",de)):de&&(M("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(H=se(ie,ee)));var Z;return H>0?Z=l(H,ee):Z=null,Z===null?(ee.needReadable=!0,H=0):ee.length-=H,ee.length===0&&(ee.ended||(ee.needReadable=!0),ie!==H&&ee.ended&&Y(this)),Z!==null&&this.emit("data",Z),Z};function Se(H,ee){if(!ee.ended){if(ee.decoder){var ie=ee.decoder.end();ie&&ie.length&&(ee.buffer.push(ie),ee.length+=ee.objectMode?1:ie.length)}ee.ended=!0,k(H)}}function k(H){var ee=H._readableState;ee.needReadable=!1,ee.emittedReadable||(M("emitReadable",ee.flowing),ee.emittedReadable=!0,ee.sync?t.nextTick(c,H):c(H))}function c(H){M("emit readable"),H.emit("readable"),S(H)}function d(H,ee){ee.readingMore||(ee.readingMore=!0,t.nextTick(b,H,ee))}function b(H,ee){for(var ie=ee.length;!ee.reading&&!ee.flowing&&!ee.ended&&ee.length<ee.highWaterMark&&(M("maybeReadMore read 0"),H.read(0),ie!==ee.length);)ie=ee.length;ee.readingMore=!1}q.prototype._read=function(H){this.emit("error",new Error("_read() is not implemented"))},q.prototype.pipe=function(H,ee){var ie=this,de=this._readableState;switch(de.pipesCount){case 0:de.pipes=H;break;case 1:de.pipes=[de.pipes,H];break;default:de.pipes.push(H);break}de.pipesCount+=1,M("pipe count=%d opts=%j",de.pipesCount,ee);var Z=(!ee||ee.end!==!1)&&H!==process$1.stdout&&H!==process$1.stderr,j=Z?Ae:wt;de.endEmitted?t.nextTick(j):ie.once("end",j),H.on("unpipe",he);function he(Ie,Ne){M("onunpipe"),Ie===ie&&Ne&&Ne.hasUnpiped===!1&&(Ne.hasUnpiped=!0,Xe())}function Ae(){M("onend"),H.end()}var _e=v(ie);H.on("drain",_e);var xe=!1;function Xe(){M("cleanup"),H.removeListener("close",Ce),H.removeListener("finish",ze),H.removeListener("drain",_e),H.removeListener("error",Et),H.removeListener("unpipe",he),ie.removeListener("end",Ae),ie.removeListener("end",wt),ie.removeListener("data",we),xe=!0,de.awaitDrain&&(!H._writableState||H._writableState.needDrain)&&_e()}var Re=!1;ie.on("data",we);function we(Ie){M("ondata"),Re=!1;var Ne=H.write(Ie);Ne===!1&&!Re&&((de.pipesCount===1&&de.pipes===H||de.pipesCount>1&&V(de.pipes,H)!==-1)&&!xe&&(M("false write response, pause",de.awaitDrain),de.awaitDrain++,Re=!0),ie.pause())}function Et(Ie){M("onerror",Ie),wt(),H.removeListener("error",Et),a(H,"error")===0&&H.emit("error",Ie)}L(H,"error",Et);function Ce(){H.removeListener("finish",ze),wt()}H.once("close",Ce);function ze(){M("onfinish"),H.removeListener("close",Ce),wt()}H.once("finish",ze);function wt(){M("unpipe"),ie.unpipe(H)}return H.emit("pipe",ie),de.flowing||(M("pipe resume"),ie.resume()),H};function v(H){return function(){var ee=H._readableState;M("pipeOnDrain",ee.awaitDrain),ee.awaitDrain&&ee.awaitDrain--,ee.awaitDrain===0&&a(H,"data")&&(ee.flowing=!0,S(H))}}q.prototype.unpipe=function(H){var ee=this._readableState,ie={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return H&&H!==ee.pipes?this:(H||(H=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,H&&H.emit("unpipe",this,ie),this);if(!H){var de=ee.pipes,Z=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var j=0;j<Z;j++)de[j].emit("unpipe",this,{hasUnpiped:!1});return this}var he=V(ee.pipes,H);return he===-1?this:(ee.pipes.splice(he,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),H.emit("unpipe",this,ie),this)},q.prototype.on=function(H,ee){var ie=u.prototype.on.call(this,H,ee);if(H==="data")this._readableState.flowing!==!1&&this.resume();else if(H==="readable"){var de=this._readableState;!de.endEmitted&&!de.readableListening&&(de.readableListening=de.needReadable=!0,de.emittedReadable=!1,de.reading?de.length&&k(this):t.nextTick(A,this))}return ie},q.prototype.addListener=q.prototype.on;function A(H){M("readable nexttick read 0"),H.read(0)}q.prototype.resume=function(){var H=this._readableState;return H.flowing||(M("resume"),H.flowing=!0,$(this,H)),this};function $(H,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,t.nextTick(I,H,ee))}function I(H,ee){ee.reading||(M("resume read 0"),H.read(0)),ee.resumeScheduled=!1,ee.awaitDrain=0,H.emit("resume"),S(H),ee.flowing&&!ee.reading&&H.read(0)}q.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function S(H){var ee=H._readableState;for(M("flow",ee.flowing);ee.flowing&&H.read()!==null;);}q.prototype.wrap=function(H){var ee=this,ie=this._readableState,de=!1;H.on("end",function(){if(M("wrapped end"),ie.decoder&&!ie.ended){var he=ie.decoder.end();he&&he.length&&ee.push(he)}ee.push(null)}),H.on("data",function(he){if(M("wrapped data"),ie.decoder&&(he=ie.decoder.write(he)),!(ie.objectMode&&he==null)&&!(!ie.objectMode&&(!he||!he.length))){var Ae=ee.push(he);Ae||(de=!0,H.pause())}});for(var Z in H)this[Z]===void 0&&typeof H[Z]=="function"&&(this[Z]=function(he){return function(){return H[he].apply(H,arguments)}}(Z));for(var j=0;j<C.length;j++)H.on(C[j],this.emit.bind(this,C[j]));return this._read=function(he){M("wrapped _read",he),de&&(de=!1,H.resume())},this},Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),q._fromList=l;function l(H,ee){if(ee.length===0)return null;var ie;return ee.objectMode?ie=ee.buffer.shift():!H||H>=ee.length?(ee.decoder?ie=ee.buffer.join(""):ee.buffer.length===1?ie=ee.buffer.head.data:ie=ee.buffer.concat(ee.length),ee.buffer.clear()):ie=E(H,ee.buffer,ee.decoder),ie}function E(H,ee,ie){var de;return H<ee.head.data.length?(de=ee.head.data.slice(0,H),ee.head.data=ee.head.data.slice(H)):H===ee.head.data.length?de=ee.shift():de=ie?O(H,ee):D(H,ee),de}function O(H,ee){var ie=ee.head,de=1,Z=ie.data;for(H-=Z.length;ie=ie.next;){var j=ie.data,he=H>j.length?j.length:H;if(he===j.length?Z+=j:Z+=j.slice(0,H),H-=he,H===0){he===j.length?(++de,ie.next?ee.head=ie.next:ee.head=ee.tail=null):(ee.head=ie,ie.data=j.slice(he));break}++de}return ee.length-=de,Z}function D(H,ee){var ie=o.allocUnsafe(H),de=ee.head,Z=1;for(de.data.copy(ie),H-=de.data.length;de=de.next;){var j=de.data,he=H>j.length?j.length:H;if(j.copy(ie,ie.length-H,0,he),H-=he,H===0){he===j.length?(++Z,de.next?ee.head=de.next:ee.head=ee.tail=null):(ee.head=de,de.data=j.slice(he));break}++Z}return ee.length-=Z,ie}function Y(H){var ee=H._readableState;if(ee.length>0)throw new Error('"endReadable()" called on non-empty stream');ee.endEmitted||(ee.ended=!0,t.nextTick(F,ee,H))}function F(H,ee){!H.endEmitted&&H.length===0&&(H.endEmitted=!0,ee.readable=!1,ee.emit("end"))}function V(H,ee){for(var ie=0,de=H.length;ie<de;ie++)if(H[ie]===ee)return ie;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=a;var t=require_stream_duplex(),e=Object.create(requireUtil());e.inherits=inherits_browserExports,e.inherits(a,t);function n(p,m){var y=this._transformState;y.transforming=!1;var w=y.writecb;if(!w)return this.emit("error",new Error("write callback called multiple times"));y.writechunk=null,y.writecb=null,m!=null&&this.push(m),w(p);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function a(p){if(!(this instanceof a))return new a(p);t.call(this,p),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",u)}function u(){var p=this;typeof this._flush=="function"?this._flush(function(m,y){o(p,m,y)}):o(this,null,null)}a.prototype.push=function(p,m){return this._transformState.needTransform=!1,t.prototype.push.call(this,p,m)},a.prototype._transform=function(p,m,y){throw new Error("_transform() is not implemented")},a.prototype._write=function(p,m,y){var w=this._transformState;if(w.writecb=y,w.writechunk=p,w.writeencoding=m,!w.transforming){var _=this._readableState;(w.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},a.prototype._read=function(p){var m=this._transformState;m.writechunk!==null&&m.writecb&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},a.prototype._destroy=function(p,m){var y=this;t.prototype._destroy.call(this,p,function(w){m(w),y.emit("close")})};function o(p,m,y){if(m)return p.emit("error",m);if(y!=null&&p.push(y),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=n;var t=require_stream_transform(),e=Object.create(requireUtil());e.inherits=inherits_browserExports,e.inherits(n,t);function n(a){if(!(this instanceof n))return new n(a);t.call(this,a)}return n.prototype._transform=function(a,u,o){o(null,a)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(t,e){e=t.exports=require_stream_readable(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable(),e.Duplex=require_stream_duplex(),e.Transform=require_stream_transform(),e.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var t=bnExports,e=requireBrowser$8();function n(o){var p=a(o),m=p.toRed(t.mont(o.modulus)).redPow(new t(o.publicExponent)).fromRed();return{blinder:m,unblinder:p.invm(o.modulus)}}function a(o){var p=o.modulus.byteLength(),m;do m=new t(e(p));while(m.cmp(o.modulus)>=0||!m.umod(o.prime1)||!m.umod(o.prime2));return m}function u(o,p){var m=n(p),y=p.modulus.byteLength(),w=new t(o).mul(m.blinder).umod(p.modulus),_=w.toRed(t.mont(p.prime1)),M=w.toRed(t.mont(p.prime2)),T=p.coefficient,B=p.prime1,P=p.prime2,C=_.redPow(p.exponent1).fromRed(),L=M.redPow(p.exponent2).fromRed(),U=C.isub(L).imul(T).umod(B).imul(P);return L.iadd(U).imul(m.unblinder).umod(p.modulus).toArrayLike(Buffer$1$1,"be",y)}return u.getr=a,browserifyRsa=u,browserifyRsa}var elliptic$1={};const name$2="elliptic",version$2="6.5.5",description$1="EC cryptography",main$1="lib/elliptic.js",files$1=["lib"],scripts$1={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository$1={type:"git",url:"git@github.com:indutny/elliptic"},keywords$1=["EC","Elliptic","curve","Cryptography"],author$1="Fedor Indutny <fedor@indutny.com>",license$1="MIT",bugs$1={url:"https://github.com/indutny/elliptic/issues"},homepage$1="https://github.com/indutny/elliptic",devDependencies$1={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$1={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$1={name:name$2,version:version$2,description:description$1,main:main$1,files:files$1,scripts:scripts$1,repository:repository$1,keywords:keywords$1,author:author$1,license:license$1,bugs:bugs$1,homepage:homepage$1,devDependencies:devDependencies$1,dependencies:dependencies$1};var utils$3={},bn$4={exports:{}};bn$4.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(t){(function(e,n){function a(k,c){if(!k)throw new Error(c||"Assertion failed")}function u(k,c){k.super_=c;var d=function(){};d.prototype=c.prototype,k.prototype=new d,k.prototype.constructor=k}function o(k,c,d){if(o.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(k||0,c||10,d||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$4.Buffer}catch{}o.isBN=function(c){return c instanceof o?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===o.wordSize&&Array.isArray(c.words)},o.max=function(c,d){return c.cmp(d)>0?c:d},o.min=function(c,d){return c.cmp(d)<0?c:d},o.prototype._init=function(c,d,b){if(typeof c=="number")return this._initNumber(c,d,b);if(typeof c=="object")return this._initArray(c,d,b);d==="hex"&&(d=16),a(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,b):(this._parseBase(c,d,v),b==="le"&&this._initArray(this.toArray(),d,b)))},o.prototype._initNumber=function(c,d,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(a(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},o.prototype._initArray=function(c,d,b){if(a(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,$,I=0;if(b==="be")for(v=c.length-1,A=0;v>=0;v-=3)$=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);else if(b==="le")for(v=0,A=0;v<c.length;v+=3)$=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);return this.strip()};function m(k,c){var d=k.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function y(k,c,d){var b=m(k,d);return d-1>=c&&(b|=m(k,d-1)<<4),b}o.prototype._parseHex=function(c,d,b){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,$=0,I;if(b==="be")for(v=c.length-1;v>=d;v-=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8;else{var S=c.length-d;for(v=S%2===0?d+1:d;v<c.length;v+=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8}this.strip()};function w(k,c,d,b){for(var v=0,A=Math.min(k.length,d),$=c;$<A;$++){var I=k.charCodeAt($)-48;v*=b,I>=49?v+=I-49+10:I>=17?v+=I-17+10:v+=I}return v}o.prototype._parseBase=function(c,d,b){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=d)v++;v--,A=A/d|0;for(var $=c.length-b,I=$%v,S=Math.min($,$-I)+b,l=0,E=b;E<S;E+=v)l=w(c,E,E+v,d),this.imuln(A),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var O=1;for(l=w(c,E,c.length,d),E=0;E<I;E++)O*=d;this.imuln(O),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},o.prototype.clone=function(){var c=new o(null);return this.copy(c),c},o.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(c,d){c=c||10,d=d|0||1;var b;if(c===16||c==="hex"){b="";for(var v=0,A=0,$=0;$<this.length;$++){var I=this.words[$],S=((I<<v|A)&16777215).toString(16);A=I>>>24-v&16777215,A!==0||$!==this.length-1?b=_[6-S.length]+S+b:b=S+b,v+=2,v>=26&&(v-=26,$--)}for(A!==0&&(b=A.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var l=M[c],E=T[c];b="";var O=this.clone();for(O.negative=0;!O.isZero();){var D=O.modn(E).toString(c);O=O.idivn(E),O.isZero()?b=D+b:b=_[l-D.length]+D+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}a(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(c,d){return a(typeof p<"u"),this.toArrayLike(p,c,d)},o.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)},o.prototype.toArrayLike=function(c,d,b){var v=this.byteLength(),A=b||Math.max(1,v);a(v<=A,"byte array longer than desired length"),a(A>0,"Requested array length <= 0"),this.strip();var $=d==="le",I=new c(A),S,l,E=this.clone();if($){for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[l]=S;for(;l<A;l++)I[l]=0}else{for(l=0;l<A-v;l++)I[l]=0;for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[A-l-1]=S}return I},Math.clz32?o.prototype._countBits=function(c){return 32-Math.clz32(c)}:o.prototype._countBits=function(c){var d=c,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},o.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},o.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function B(k){for(var c=new Array(k.bitLength()),d=0;d<c.length;d++){var b=d/26|0,v=d%26;c[d]=(k.words[b]&1<<v)>>>v}return c}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(c+=b,b!==26)break}return c},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},o.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},o.prototype.ior=function(c){return a((this.negative|c.negative)===0),this.iuor(c)},o.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},o.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},o.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=d.length,this.strip()},o.prototype.iand=function(c){return a((this.negative|c.negative)===0),this.iuand(c)},o.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},o.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},o.prototype.iuxor=function(c){var d,b;this.length>c.length?(d=this,b=c):(d=c,b=this);for(var v=0;v<b.length;v++)this.words[v]=d.words[v]^b.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(c){return a((this.negative|c.negative)===0),this.iuxor(c)},o.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},o.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},o.prototype.inotn=function(c){a(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,b=c%26;this._expand(d),b>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},o.prototype.notn=function(c){return this.clone().inotn(c)},o.prototype.setn=function(c,d){a(typeof c=="number"&&c>=0);var b=c/26|0,v=c%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},o.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var b,v;this.length>c.length?(b=this,v=c):(b=c,v=this);for(var A=0,$=0;$<v.length;$++)d=(b.words[$]|0)+(v.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;for(;A!==0&&$<b.length;$++)d=(b.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;if(this.length=b.length,A!==0)this.words[this.length]=A,this.length++;else if(b!==this)for(;$<b.length;$++)this.words[$]=b.words[$];return this},o.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},o.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;b>0?(v=this,A=c):(v=c,A=this);for(var $=0,I=0;I<A.length;I++)d=(v.words[I]|0)-(A.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;for(;$!==0&&I<v.length;I++)d=(v.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;if($===0&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(c){return this.clone().isub(c)};function P(k,c,d){d.negative=c.negative^k.negative;var b=k.length+c.length|0;d.length=b,b=b-1|0;var v=k.words[0]|0,A=c.words[0]|0,$=v*A,I=$&67108863,S=$/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var E=S>>>26,O=S&67108863,D=Math.min(l,c.length-1),Y=Math.max(0,l-k.length+1);Y<=D;Y++){var F=l-Y|0;v=k.words[F]|0,A=c.words[Y]|0,$=v*A+O,E+=$/67108864|0,O=$&67108863}d.words[l]=O|0,S=E|0}return S!==0?d.words[l]=S|0:d.length--,d.strip()}var C=function(c,d,b){var v=c.words,A=d.words,$=b.words,I=0,S,l,E,O=v[0]|0,D=O&8191,Y=O>>>13,F=v[1]|0,V=F&8191,H=F>>>13,ee=v[2]|0,ie=ee&8191,de=ee>>>13,Z=v[3]|0,j=Z&8191,he=Z>>>13,Ae=v[4]|0,_e=Ae&8191,xe=Ae>>>13,Xe=v[5]|0,Re=Xe&8191,we=Xe>>>13,Et=v[6]|0,Ce=Et&8191,ze=Et>>>13,wt=v[7]|0,Ie=wt&8191,Ne=wt>>>13,_t=v[8]|0,Pe=_t&8191,Le=_t>>>13,At=v[9]|0,ae=At&8191,J=At>>>13,re=A[0]|0,le=re&8191,be=re>>>13,Be=A[1]|0,ve=Be&8191,Te=Be>>>13,vt=A[2]|0,ke=vt&8191,Ue=vt>>>13,gt=A[3]|0,qe=gt&8191,Ve=gt>>>13,St=A[4]|0,Fe=St&8191,je=St>>>13,$t=A[5]|0,De=$t&8191,We=$t>>>13,kt=A[6]|0,Oe=kt&8191,Ge=kt>>>13,fe=A[7]|0,oe=fe&8191,ce=fe>>>13,Q=A[8]|0,ue=Q&8191,me=Q>>>13,$e=A[9]|0,ye=$e&8191,Ee=$e>>>13;b.negative=c.negative^d.negative,b.length=19,S=Math.imul(D,le),l=Math.imul(D,be),l=l+Math.imul(Y,le)|0,E=Math.imul(Y,be);var Ze=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(V,le),l=Math.imul(V,be),l=l+Math.imul(H,le)|0,E=Math.imul(H,be),S=S+Math.imul(D,ve)|0,l=l+Math.imul(D,Te)|0,l=l+Math.imul(Y,ve)|0,E=E+Math.imul(Y,Te)|0;var Ye=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(ie,le),l=Math.imul(ie,be),l=l+Math.imul(de,le)|0,E=Math.imul(de,be),S=S+Math.imul(V,ve)|0,l=l+Math.imul(V,Te)|0,l=l+Math.imul(H,ve)|0,E=E+Math.imul(H,Te)|0,S=S+Math.imul(D,ke)|0,l=l+Math.imul(D,Ue)|0,l=l+Math.imul(Y,ke)|0,E=E+Math.imul(Y,Ue)|0;var xt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(j,le),l=Math.imul(j,be),l=l+Math.imul(he,le)|0,E=Math.imul(he,be),S=S+Math.imul(ie,ve)|0,l=l+Math.imul(ie,Te)|0,l=l+Math.imul(de,ve)|0,E=E+Math.imul(de,Te)|0,S=S+Math.imul(V,ke)|0,l=l+Math.imul(V,Ue)|0,l=l+Math.imul(H,ke)|0,E=E+Math.imul(H,Ue)|0,S=S+Math.imul(D,qe)|0,l=l+Math.imul(D,Ve)|0,l=l+Math.imul(Y,qe)|0,E=E+Math.imul(Y,Ve)|0;var rt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,S=Math.imul(_e,le),l=Math.imul(_e,be),l=l+Math.imul(xe,le)|0,E=Math.imul(xe,be),S=S+Math.imul(j,ve)|0,l=l+Math.imul(j,Te)|0,l=l+Math.imul(he,ve)|0,E=E+Math.imul(he,Te)|0,S=S+Math.imul(ie,ke)|0,l=l+Math.imul(ie,Ue)|0,l=l+Math.imul(de,ke)|0,E=E+Math.imul(de,Ue)|0,S=S+Math.imul(V,qe)|0,l=l+Math.imul(V,Ve)|0,l=l+Math.imul(H,qe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(D,Fe)|0,l=l+Math.imul(D,je)|0,l=l+Math.imul(Y,Fe)|0,E=E+Math.imul(Y,je)|0;var lt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Re,le),l=Math.imul(Re,be),l=l+Math.imul(we,le)|0,E=Math.imul(we,be),S=S+Math.imul(_e,ve)|0,l=l+Math.imul(_e,Te)|0,l=l+Math.imul(xe,ve)|0,E=E+Math.imul(xe,Te)|0,S=S+Math.imul(j,ke)|0,l=l+Math.imul(j,Ue)|0,l=l+Math.imul(he,ke)|0,E=E+Math.imul(he,Ue)|0,S=S+Math.imul(ie,qe)|0,l=l+Math.imul(ie,Ve)|0,l=l+Math.imul(de,qe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(V,Fe)|0,l=l+Math.imul(V,je)|0,l=l+Math.imul(H,Fe)|0,E=E+Math.imul(H,je)|0,S=S+Math.imul(D,De)|0,l=l+Math.imul(D,We)|0,l=l+Math.imul(Y,De)|0,E=E+Math.imul(Y,We)|0;var dt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Ce,le),l=Math.imul(Ce,be),l=l+Math.imul(ze,le)|0,E=Math.imul(ze,be),S=S+Math.imul(Re,ve)|0,l=l+Math.imul(Re,Te)|0,l=l+Math.imul(we,ve)|0,E=E+Math.imul(we,Te)|0,S=S+Math.imul(_e,ke)|0,l=l+Math.imul(_e,Ue)|0,l=l+Math.imul(xe,ke)|0,E=E+Math.imul(xe,Ue)|0,S=S+Math.imul(j,qe)|0,l=l+Math.imul(j,Ve)|0,l=l+Math.imul(he,qe)|0,E=E+Math.imul(he,Ve)|0,S=S+Math.imul(ie,Fe)|0,l=l+Math.imul(ie,je)|0,l=l+Math.imul(de,Fe)|0,E=E+Math.imul(de,je)|0,S=S+Math.imul(V,De)|0,l=l+Math.imul(V,We)|0,l=l+Math.imul(H,De)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(D,Oe)|0,l=l+Math.imul(D,Ge)|0,l=l+Math.imul(Y,Oe)|0,E=E+Math.imul(Y,Ge)|0;var ht=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(Ie,le),l=Math.imul(Ie,be),l=l+Math.imul(Ne,le)|0,E=Math.imul(Ne,be),S=S+Math.imul(Ce,ve)|0,l=l+Math.imul(Ce,Te)|0,l=l+Math.imul(ze,ve)|0,E=E+Math.imul(ze,Te)|0,S=S+Math.imul(Re,ke)|0,l=l+Math.imul(Re,Ue)|0,l=l+Math.imul(we,ke)|0,E=E+Math.imul(we,Ue)|0,S=S+Math.imul(_e,qe)|0,l=l+Math.imul(_e,Ve)|0,l=l+Math.imul(xe,qe)|0,E=E+Math.imul(xe,Ve)|0,S=S+Math.imul(j,Fe)|0,l=l+Math.imul(j,je)|0,l=l+Math.imul(he,Fe)|0,E=E+Math.imul(he,je)|0,S=S+Math.imul(ie,De)|0,l=l+Math.imul(ie,We)|0,l=l+Math.imul(de,De)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(V,Oe)|0,l=l+Math.imul(V,Ge)|0,l=l+Math.imul(H,Oe)|0,E=E+Math.imul(H,Ge)|0,S=S+Math.imul(D,oe)|0,l=l+Math.imul(D,ce)|0,l=l+Math.imul(Y,oe)|0,E=E+Math.imul(Y,ce)|0;var yt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Pe,le),l=Math.imul(Pe,be),l=l+Math.imul(Le,le)|0,E=Math.imul(Le,be),S=S+Math.imul(Ie,ve)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(Ne,ve)|0,E=E+Math.imul(Ne,Te)|0,S=S+Math.imul(Ce,ke)|0,l=l+Math.imul(Ce,Ue)|0,l=l+Math.imul(ze,ke)|0,E=E+Math.imul(ze,Ue)|0,S=S+Math.imul(Re,qe)|0,l=l+Math.imul(Re,Ve)|0,l=l+Math.imul(we,qe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(_e,Fe)|0,l=l+Math.imul(_e,je)|0,l=l+Math.imul(xe,Fe)|0,E=E+Math.imul(xe,je)|0,S=S+Math.imul(j,De)|0,l=l+Math.imul(j,We)|0,l=l+Math.imul(he,De)|0,E=E+Math.imul(he,We)|0,S=S+Math.imul(ie,Oe)|0,l=l+Math.imul(ie,Ge)|0,l=l+Math.imul(de,Oe)|0,E=E+Math.imul(de,Ge)|0,S=S+Math.imul(V,oe)|0,l=l+Math.imul(V,ce)|0,l=l+Math.imul(H,oe)|0,E=E+Math.imul(H,ce)|0,S=S+Math.imul(D,ue)|0,l=l+Math.imul(D,me)|0,l=l+Math.imul(Y,ue)|0,E=E+Math.imul(Y,me)|0;var pt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(pt>>>26)|0,pt&=67108863,S=Math.imul(ae,le),l=Math.imul(ae,be),l=l+Math.imul(J,le)|0,E=Math.imul(J,be),S=S+Math.imul(Pe,ve)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(Le,ve)|0,E=E+Math.imul(Le,Te)|0,S=S+Math.imul(Ie,ke)|0,l=l+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ne,ke)|0,E=E+Math.imul(Ne,Ue)|0,S=S+Math.imul(Ce,qe)|0,l=l+Math.imul(Ce,Ve)|0,l=l+Math.imul(ze,qe)|0,E=E+Math.imul(ze,Ve)|0,S=S+Math.imul(Re,Fe)|0,l=l+Math.imul(Re,je)|0,l=l+Math.imul(we,Fe)|0,E=E+Math.imul(we,je)|0,S=S+Math.imul(_e,De)|0,l=l+Math.imul(_e,We)|0,l=l+Math.imul(xe,De)|0,E=E+Math.imul(xe,We)|0,S=S+Math.imul(j,Oe)|0,l=l+Math.imul(j,Ge)|0,l=l+Math.imul(he,Oe)|0,E=E+Math.imul(he,Ge)|0,S=S+Math.imul(ie,oe)|0,l=l+Math.imul(ie,ce)|0,l=l+Math.imul(de,oe)|0,E=E+Math.imul(de,ce)|0,S=S+Math.imul(V,ue)|0,l=l+Math.imul(V,me)|0,l=l+Math.imul(H,ue)|0,E=E+Math.imul(H,me)|0,S=S+Math.imul(D,ye)|0,l=l+Math.imul(D,Ee)|0,l=l+Math.imul(Y,ye)|0,E=E+Math.imul(Y,Ee)|0;var mt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(ae,ve),l=Math.imul(ae,Te),l=l+Math.imul(J,ve)|0,E=Math.imul(J,Te),S=S+Math.imul(Pe,ke)|0,l=l+Math.imul(Pe,Ue)|0,l=l+Math.imul(Le,ke)|0,E=E+Math.imul(Le,Ue)|0,S=S+Math.imul(Ie,qe)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(Ne,qe)|0,E=E+Math.imul(Ne,Ve)|0,S=S+Math.imul(Ce,Fe)|0,l=l+Math.imul(Ce,je)|0,l=l+Math.imul(ze,Fe)|0,E=E+Math.imul(ze,je)|0,S=S+Math.imul(Re,De)|0,l=l+Math.imul(Re,We)|0,l=l+Math.imul(we,De)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(_e,Oe)|0,l=l+Math.imul(_e,Ge)|0,l=l+Math.imul(xe,Oe)|0,E=E+Math.imul(xe,Ge)|0,S=S+Math.imul(j,oe)|0,l=l+Math.imul(j,ce)|0,l=l+Math.imul(he,oe)|0,E=E+Math.imul(he,ce)|0,S=S+Math.imul(ie,ue)|0,l=l+Math.imul(ie,me)|0,l=l+Math.imul(de,ue)|0,E=E+Math.imul(de,me)|0,S=S+Math.imul(V,ye)|0,l=l+Math.imul(V,Ee)|0,l=l+Math.imul(H,ye)|0,E=E+Math.imul(H,Ee)|0;var bt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(bt>>>26)|0,bt&=67108863,S=Math.imul(ae,ke),l=Math.imul(ae,Ue),l=l+Math.imul(J,ke)|0,E=Math.imul(J,Ue),S=S+Math.imul(Pe,qe)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(Le,qe)|0,E=E+Math.imul(Le,Ve)|0,S=S+Math.imul(Ie,Fe)|0,l=l+Math.imul(Ie,je)|0,l=l+Math.imul(Ne,Fe)|0,E=E+Math.imul(Ne,je)|0,S=S+Math.imul(Ce,De)|0,l=l+Math.imul(Ce,We)|0,l=l+Math.imul(ze,De)|0,E=E+Math.imul(ze,We)|0,S=S+Math.imul(Re,Oe)|0,l=l+Math.imul(Re,Ge)|0,l=l+Math.imul(we,Oe)|0,E=E+Math.imul(we,Ge)|0,S=S+Math.imul(_e,oe)|0,l=l+Math.imul(_e,ce)|0,l=l+Math.imul(xe,oe)|0,E=E+Math.imul(xe,ce)|0,S=S+Math.imul(j,ue)|0,l=l+Math.imul(j,me)|0,l=l+Math.imul(he,ue)|0,E=E+Math.imul(he,me)|0,S=S+Math.imul(ie,ye)|0,l=l+Math.imul(ie,Ee)|0,l=l+Math.imul(de,ye)|0,E=E+Math.imul(de,Ee)|0;var nt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(ae,qe),l=Math.imul(ae,Ve),l=l+Math.imul(J,qe)|0,E=Math.imul(J,Ve),S=S+Math.imul(Pe,Fe)|0,l=l+Math.imul(Pe,je)|0,l=l+Math.imul(Le,Fe)|0,E=E+Math.imul(Le,je)|0,S=S+Math.imul(Ie,De)|0,l=l+Math.imul(Ie,We)|0,l=l+Math.imul(Ne,De)|0,E=E+Math.imul(Ne,We)|0,S=S+Math.imul(Ce,Oe)|0,l=l+Math.imul(Ce,Ge)|0,l=l+Math.imul(ze,Oe)|0,E=E+Math.imul(ze,Ge)|0,S=S+Math.imul(Re,oe)|0,l=l+Math.imul(Re,ce)|0,l=l+Math.imul(we,oe)|0,E=E+Math.imul(we,ce)|0,S=S+Math.imul(_e,ue)|0,l=l+Math.imul(_e,me)|0,l=l+Math.imul(xe,ue)|0,E=E+Math.imul(xe,me)|0,S=S+Math.imul(j,ye)|0,l=l+Math.imul(j,Ee)|0,l=l+Math.imul(he,ye)|0,E=E+Math.imul(he,Ee)|0;var ct=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,S=Math.imul(ae,Fe),l=Math.imul(ae,je),l=l+Math.imul(J,Fe)|0,E=Math.imul(J,je),S=S+Math.imul(Pe,De)|0,l=l+Math.imul(Pe,We)|0,l=l+Math.imul(Le,De)|0,E=E+Math.imul(Le,We)|0,S=S+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,Ge)|0,l=l+Math.imul(Ne,Oe)|0,E=E+Math.imul(Ne,Ge)|0,S=S+Math.imul(Ce,oe)|0,l=l+Math.imul(Ce,ce)|0,l=l+Math.imul(ze,oe)|0,E=E+Math.imul(ze,ce)|0,S=S+Math.imul(Re,ue)|0,l=l+Math.imul(Re,me)|0,l=l+Math.imul(we,ue)|0,E=E+Math.imul(we,me)|0,S=S+Math.imul(_e,ye)|0,l=l+Math.imul(_e,Ee)|0,l=l+Math.imul(xe,ye)|0,E=E+Math.imul(xe,Ee)|0;var it=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(ae,De),l=Math.imul(ae,We),l=l+Math.imul(J,De)|0,E=Math.imul(J,We),S=S+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,Ge)|0,l=l+Math.imul(Le,Oe)|0,E=E+Math.imul(Le,Ge)|0,S=S+Math.imul(Ie,oe)|0,l=l+Math.imul(Ie,ce)|0,l=l+Math.imul(Ne,oe)|0,E=E+Math.imul(Ne,ce)|0,S=S+Math.imul(Ce,ue)|0,l=l+Math.imul(Ce,me)|0,l=l+Math.imul(ze,ue)|0,E=E+Math.imul(ze,me)|0,S=S+Math.imul(Re,ye)|0,l=l+Math.imul(Re,Ee)|0,l=l+Math.imul(we,ye)|0,E=E+Math.imul(we,Ee)|0;var at=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(ae,Oe),l=Math.imul(ae,Ge),l=l+Math.imul(J,Oe)|0,E=Math.imul(J,Ge),S=S+Math.imul(Pe,oe)|0,l=l+Math.imul(Pe,ce)|0,l=l+Math.imul(Le,oe)|0,E=E+Math.imul(Le,ce)|0,S=S+Math.imul(Ie,ue)|0,l=l+Math.imul(Ie,me)|0,l=l+Math.imul(Ne,ue)|0,E=E+Math.imul(Ne,me)|0,S=S+Math.imul(Ce,ye)|0,l=l+Math.imul(Ce,Ee)|0,l=l+Math.imul(ze,ye)|0,E=E+Math.imul(ze,Ee)|0;var st=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(ae,oe),l=Math.imul(ae,ce),l=l+Math.imul(J,oe)|0,E=Math.imul(J,ce),S=S+Math.imul(Pe,ue)|0,l=l+Math.imul(Pe,me)|0,l=l+Math.imul(Le,ue)|0,E=E+Math.imul(Le,me)|0,S=S+Math.imul(Ie,ye)|0,l=l+Math.imul(Ie,Ee)|0,l=l+Math.imul(Ne,ye)|0,E=E+Math.imul(Ne,Ee)|0;var tt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(ae,ue),l=Math.imul(ae,me),l=l+Math.imul(J,ue)|0,E=Math.imul(J,me),S=S+Math.imul(Pe,ye)|0,l=l+Math.imul(Pe,Ee)|0,l=l+Math.imul(Le,ye)|0,E=E+Math.imul(Le,Ee)|0;var He=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(He>>>26)|0,He&=67108863,S=Math.imul(ae,ye),l=Math.imul(ae,Ee),l=l+Math.imul(J,ye)|0,E=Math.imul(J,Ee);var Ke=(I+S|0)+((l&8191)<<13)|0;return I=(E+(l>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,$[0]=Ze,$[1]=Ye,$[2]=xt,$[3]=rt,$[4]=lt,$[5]=dt,$[6]=ht,$[7]=yt,$[8]=pt,$[9]=mt,$[10]=bt,$[11]=nt,$[12]=ct,$[13]=it,$[14]=at,$[15]=st,$[16]=tt,$[17]=He,$[18]=Ke,I!==0&&($[19]=I,b.length++),b};Math.imul||(C=P);function L(k,c,d){d.negative=c.negative^k.negative,d.length=k.length+c.length;for(var b=0,v=0,A=0;A<d.length-1;A++){var $=v;v=0;for(var I=b&67108863,S=Math.min(A,c.length-1),l=Math.max(0,A-k.length+1);l<=S;l++){var E=A-l,O=k.words[E]|0,D=c.words[l]|0,Y=O*D,F=Y&67108863;$=$+(Y/67108864|0)|0,F=F+I|0,I=F&67108863,$=$+(F>>>26)|0,v+=$>>>26,$&=67108863}d.words[A]=I,b=$,$=v}return b!==0?d.words[A]=b:d.length--,d.strip()}function U(k,c,d){var b=new q;return b.mulp(k,c,d)}o.prototype.mulTo=function(c,d){var b,v=this.length+c.length;return this.length===10&&c.length===10?b=C(this,c,d):v<63?b=P(this,c,d):v<1024?b=L(this,c,d):b=U(this,c,d),b};function q(k,c){this.x=k,this.y=c}q.prototype.makeRBT=function(c){for(var d=new Array(c),b=o.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,b,c);return d},q.prototype.revBin=function(c,d,b){if(c===0||c===b-1)return c;for(var v=0,A=0;A<d;A++)v|=(c&1)<<d-A-1,c>>=1;return v},q.prototype.permute=function(c,d,b,v,A,$){for(var I=0;I<$;I++)v[I]=d[c[I]],A[I]=b[c[I]]},q.prototype.transform=function(c,d,b,v,A,$){this.permute($,c,d,b,v,A);for(var I=1;I<A;I<<=1)for(var S=I<<1,l=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),O=0;O<A;O+=S)for(var D=l,Y=E,F=0;F<I;F++){var V=b[O+F],H=v[O+F],ee=b[O+F+I],ie=v[O+F+I],de=D*ee-Y*ie;ie=D*ie+Y*ee,ee=de,b[O+F]=V+ee,v[O+F]=H+ie,b[O+F+I]=V-ee,v[O+F+I]=H-ie,F!==S&&(de=l*D-E*Y,Y=l*Y+E*D,D=de)}},q.prototype.guessLen13b=function(c,d){var b=Math.max(d,c)|1,v=b&1,A=0;for(b=b/2|0;b;b=b>>>1)A++;return 1<<A+1+v},q.prototype.conjugate=function(c,d,b){if(!(b<=1))for(var v=0;v<b/2;v++){var A=c[v];c[v]=c[b-v-1],c[b-v-1]=A,A=d[v],d[v]=-d[b-v-1],d[b-v-1]=-A}},q.prototype.normalize13b=function(c,d){for(var b=0,v=0;v<d/2;v++){var A=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+b;c[v]=A&67108863,A<67108864?b=0:b=A/67108864|0}return c},q.prototype.convert13b=function(c,d,b,v){for(var A=0,$=0;$<d;$++)A=A+(c[$]|0),b[2*$]=A&8191,A=A>>>13,b[2*$+1]=A&8191,A=A>>>13;for($=2*d;$<v;++$)b[$]=0;a(A===0),a((A&-8192)===0)},q.prototype.stub=function(c){for(var d=new Array(c),b=0;b<c;b++)d[b]=0;return d},q.prototype.mulp=function(c,d,b){var v=2*this.guessLen13b(c.length,d.length),A=this.makeRBT(v),$=this.stub(v),I=new Array(v),S=new Array(v),l=new Array(v),E=new Array(v),O=new Array(v),D=new Array(v),Y=b.words;Y.length=v,this.convert13b(c.words,c.length,I,v),this.convert13b(d.words,d.length,E,v),this.transform(I,$,S,l,v,A),this.transform(E,$,O,D,v,A);for(var F=0;F<v;F++){var V=S[F]*O[F]-l[F]*D[F];l[F]=S[F]*D[F]+l[F]*O[F],S[F]=V}return this.conjugate(S,l,v),this.transform(S,l,Y,$,v,A),this.conjugate(Y,$,v),this.normalize13b(Y,v),b.negative=c.negative^d.negative,b.length=c.length+d.length,b.strip()},o.prototype.mul=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},o.prototype.mulf=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),U(this,c,d)},o.prototype.imul=function(c){return this.clone().mulTo(c,this)},o.prototype.imuln=function(c){a(typeof c=="number"),a(c<67108864);for(var d=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*c,A=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=A>>>26,this.words[b]=A&67108863}return d!==0&&(this.words[b]=d,this.length++),this},o.prototype.muln=function(c){return this.clone().imuln(c)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(c){var d=B(c);if(d.length===0)return new o(1);for(var b=this,v=0;v<d.length&&d[v]===0;v++,b=b.sqr());if(++v<d.length)for(var A=b.sqr();v<d.length;v++,A=A.sqr())d[v]!==0&&(b=b.mul(A));return b},o.prototype.iushln=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=67108863>>>26-d<<26-d,A;if(d!==0){var $=0;for(A=0;A<this.length;A++){var I=this.words[A]&v,S=(this.words[A]|0)-I<<d;this.words[A]=S|$,$=I>>>26-d}$&&(this.words[A]=$,this.length++)}if(b!==0){for(A=this.length-1;A>=0;A--)this.words[A+b]=this.words[A];for(A=0;A<b;A++)this.words[A]=0;this.length+=b}return this.strip()},o.prototype.ishln=function(c){return a(this.negative===0),this.iushln(c)},o.prototype.iushrn=function(c,d,b){a(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var A=c%26,$=Math.min((c-A)/26,this.length),I=67108863^67108863>>>A<<A,S=b;if(v-=$,v=Math.max(0,v),S){for(var l=0;l<$;l++)S.words[l]=this.words[l];S.length=$}if($!==0)if(this.length>$)for(this.length-=$,l=0;l<this.length;l++)this.words[l]=this.words[l+$];else this.words[0]=0,this.length=1;var E=0;for(l=this.length-1;l>=0&&(E!==0||l>=v);l--){var O=this.words[l]|0;this.words[l]=E<<26-A|O>>>A,E=O&I}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(c,d,b){return a(this.negative===0),this.iushrn(c,d,b)},o.prototype.shln=function(c){return this.clone().ishln(c)},o.prototype.ushln=function(c){return this.clone().iushln(c)},o.prototype.shrn=function(c){return this.clone().ishrn(c)},o.prototype.ushrn=function(c){return this.clone().iushrn(c)},o.prototype.testn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return!1;var A=this.words[b];return!!(A&v)},o.prototype.imaskn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(c){return this.clone().imaskn(c)},o.prototype.iaddn=function(c){return a(typeof c=="number"),a(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},o.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(c){if(a(typeof c=="number"),a(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(c){return this.clone().iaddn(c)},o.prototype.subn=function(c){return this.clone().isubn(c)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(c,d,b){var v=c.length+b,A;this._expand(v);var $,I=0;for(A=0;A<c.length;A++){$=(this.words[A+b]|0)+I;var S=(c.words[A]|0)*d;$-=S&67108863,I=($>>26)-(S/67108864|0),this.words[A+b]=$&67108863}for(;A<this.length-b;A++)$=(this.words[A+b]|0)+I,I=$>>26,this.words[A+b]=$&67108863;if(I===0)return this.strip();for(a(I===-1),I=0,A=0;A<this.length;A++)$=-(this.words[A]|0)+I,I=$>>26,this.words[A]=$&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(c,d){var b=this.length-c.length,v=this.clone(),A=c,$=A.words[A.length-1]|0,I=this._countBits($);b=26-I,b!==0&&(A=A.ushln(b),v.iushln(b),$=A.words[A.length-1]|0);var S=v.length-A.length,l;if(d!=="mod"){l=new o(null),l.length=S+1,l.words=new Array(l.length);for(var E=0;E<l.length;E++)l.words[E]=0}var O=v.clone()._ishlnsubmul(A,1,S);O.negative===0&&(v=O,l&&(l.words[S]=1));for(var D=S-1;D>=0;D--){var Y=(v.words[A.length+D]|0)*67108864+(v.words[A.length+D-1]|0);for(Y=Math.min(Y/$|0,67108863),v._ishlnsubmul(A,Y,D);v.negative!==0;)Y--,v.negative=0,v._ishlnsubmul(A,1,D),v.isZero()||(v.negative^=1);l&&(l.words[D]=Y)}return l&&l.strip(),v.strip(),d!=="div"&&b!==0&&v.iushrn(b),{div:l||null,mod:v}},o.prototype.divmod=function(c,d,b){if(a(!c.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,A,$;return this.negative!==0&&c.negative===0?($=this.neg().divmod(c,d),d!=="mod"&&(v=$.div.neg()),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.iadd(c)),{div:v,mod:A}):this.negative===0&&c.negative!==0?($=this.divmod(c.neg(),d),d!=="mod"&&(v=$.div.neg()),{div:v,mod:$.mod}):this.negative&c.negative?($=this.neg().divmod(c.neg(),d),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.isub(c)),{div:$.div,mod:A}):c.length>this.length||this.cmp(c)<0?{div:new o(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new o(this.modn(c.words[0]))}:this._wordDiv(c,d)},o.prototype.div=function(c){return this.divmod(c,"div",!1).div},o.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},o.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},o.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),A=c.andln(1),$=b.cmp(v);return $<0||A===1&&$===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(c){a(c<=67108863);for(var d=(1<<26)%c,b=0,v=this.length-1;v>=0;v--)b=(d*b+(this.words[v]|0))%c;return b},o.prototype.idivn=function(c){a(c<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+d*67108864;this.words[b]=v/c|0,d=v%c}return this.strip()},o.prototype.divn=function(c){return this.clone().idivn(c)},o.prototype.egcd=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=new o(0),I=new o(1),S=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++S;for(var l=b.clone(),E=d.clone();!d.isZero();){for(var O=0,D=1;!(d.words[0]&D)&&O<26;++O,D<<=1);if(O>0)for(d.iushrn(O);O-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(l),A.isub(E)),v.iushrn(1),A.iushrn(1);for(var Y=0,F=1;!(b.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(b.iushrn(Y);Y-- >0;)($.isOdd()||I.isOdd())&&($.iadd(l),I.isub(E)),$.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub($),A.isub(I)):(b.isub(d),$.isub(v),I.isub(A))}return{a:$,b:I,gcd:b.iushln(S)}},o.prototype._invmp=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,S=1;!(d.words[0]&S)&&I<26;++I,S<<=1);if(I>0)for(d.iushrn(I);I-- >0;)v.isOdd()&&v.iadd($),v.iushrn(1);for(var l=0,E=1;!(b.words[0]&E)&&l<26;++l,E<<=1);if(l>0)for(b.iushrn(l);l-- >0;)A.isOdd()&&A.iadd($),A.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub(A)):(b.isub(d),A.isub(v))}var O;return d.cmpn(1)===0?O=v:O=A,O.cmpn(0)<0&&O.iadd(c),O},o.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),b=c.clone();d.negative=0,b.negative=0;for(var v=0;d.isEven()&&b.isEven();v++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var A=d.cmp(b);if(A<0){var $=d;d=b,b=$}else if(A===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(v)},o.prototype.invm=function(c){return this.egcd(c).a.umod(c)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(c){return this.words[0]&c},o.prototype.bincn=function(c){a(typeof c=="number");var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var A=v,$=b;A!==0&&$<this.length;$++){var I=this.words[$]|0;I+=A,A=I>>>26,I&=67108863,this.words[$]=I}return A!==0&&(this.words[$]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(c=-c),a(c<=67108863,"Number is too big");var v=this.words[0]|0;b=v===c?0:v<c?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,A=c.words[b]|0;if(v!==A){v<A?d=-1:v>A&&(d=1);break}}return d},o.prototype.gtn=function(c){return this.cmpn(c)===1},o.prototype.gt=function(c){return this.cmp(c)===1},o.prototype.gten=function(c){return this.cmpn(c)>=0},o.prototype.gte=function(c){return this.cmp(c)>=0},o.prototype.ltn=function(c){return this.cmpn(c)===-1},o.prototype.lt=function(c){return this.cmp(c)===-1},o.prototype.lten=function(c){return this.cmpn(c)<=0},o.prototype.lte=function(c){return this.cmp(c)<=0},o.prototype.eqn=function(c){return this.cmpn(c)===0},o.prototype.eq=function(c){return this.cmp(c)===0},o.red=function(c){return new se(c)},o.prototype.toRed=function(c){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},o.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(c){return this.red=c,this},o.prototype.forceRed=function(c){return a(!this.red,"Already a number in reduction context"),this._forceRed(c)},o.prototype.redAdd=function(c){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},o.prototype.redIAdd=function(c){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},o.prototype.redSub=function(c){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},o.prototype.redISub=function(c){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},o.prototype.redShl=function(c){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},o.prototype.redMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},o.prototype.redIMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},o.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(c){return a(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var G={k256:null,p224:null,p192:null,p25519:null};function X(k,c){this.name=k,this.p=new o(c,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var c=new o(null);return c.words=new Array(Math.ceil(this.n/13)),c},X.prototype.ireduce=function(c){var d=c,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var v=b<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},X.prototype.split=function(c,d){c.iushrn(this.n,0,d)},X.prototype.imulK=function(c){return c.imul(this.k)};function te(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(te,X),te.prototype.split=function(c,d){for(var b=4194303,v=Math.min(c.length,9),A=0;A<v;A++)d.words[A]=c.words[A];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var $=c.words[9];for(d.words[d.length++]=$&b,A=10;A<c.length;A++){var I=c.words[A]|0;c.words[A-10]=(I&b)<<4|$>>>22,$=I}$>>>=22,c.words[A-10]=$,$===0&&c.length>10?c.length-=10:c.length-=9},te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,b=0;b<c.length;b++){var v=c.words[b]|0;d+=v*977,c.words[b]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ne(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(ne,X);function ge(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(ge,X);function pe(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(pe,X),pe.prototype.imulK=function(c){for(var d=0,b=0;b<c.length;b++){var v=(c.words[b]|0)*19+d,A=v&67108863;v>>>=26,c.words[b]=A,d=v}return d!==0&&(c.words[c.length++]=d),c},o._prime=function(c){if(G[c])return G[c];var d;if(c==="k256")d=new te;else if(c==="p224")d=new ne;else if(c==="p192")d=new ge;else if(c==="p25519")d=new pe;else throw new Error("Unknown prime "+c);return G[c]=d,d};function se(k){if(typeof k=="string"){var c=o._prime(k);this.m=c.p,this.prime=c}else a(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}se.prototype._verify1=function(c){a(c.negative===0,"red works only with positives"),a(c.red,"red works only with red numbers")},se.prototype._verify2=function(c,d){a((c.negative|d.negative)===0,"red works only with positives"),a(c.red&&c.red===d.red,"red works only with red numbers")},se.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},se.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},se.prototype.add=function(c,d){this._verify2(c,d);var b=c.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},se.prototype.iadd=function(c,d){this._verify2(c,d);var b=c.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},se.prototype.sub=function(c,d){this._verify2(c,d);var b=c.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},se.prototype.isub=function(c,d){this._verify2(c,d);var b=c.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},se.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},se.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},se.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},se.prototype.isqr=function(c){return this.imul(c,c.clone())},se.prototype.sqr=function(c){return this.mul(c,c)},se.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(a(d%2===1),d===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(c,b)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);a(!v.isZero());var $=new o(1).toRed(this),I=$.redNeg(),S=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);this.pow(l,S).cmp(I)!==0;)l.redIAdd(I);for(var E=this.pow(l,v),O=this.pow(c,v.addn(1).iushrn(1)),D=this.pow(c,v),Y=A;D.cmp($)!==0;){for(var F=D,V=0;F.cmp($)!==0;V++)F=F.redSqr();a(V<Y);var H=this.pow(E,new o(1).iushln(Y-V-1));O=O.redMul(H),E=H.redSqr(),D=D.redMul(E),Y=V}return O},se.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},se.prototype.pow=function(c,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var b=4,v=new Array(1<<b);v[0]=new o(1).toRed(this),v[1]=c;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],c);var $=v[0],I=0,S=0,l=d.bitLength()%26;for(l===0&&(l=26),A=d.length-1;A>=0;A--){for(var E=d.words[A],O=l-1;O>=0;O--){var D=E>>O&1;if($!==v[0]&&($=this.sqr($)),D===0&&I===0){S=0;continue}I<<=1,I|=D,S++,!(S!==b&&(A!==0||O!==0))&&($=this.mul($,v[I]),S=0,I=0)}l=26}return $},se.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},se.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},o.mont=function(c){return new Se(c)};function Se(k){se.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(Se,se),Se.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},Se.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},Se.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new o(0)._forceRed(this);var b=c.mul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,commonjsGlobal)}(bn$4)),bn$4.exports}var utils$2={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(t){var e=t;function n(o,p){if(Array.isArray(o))return o.slice();if(!o)return[];var m=[];if(typeof o!="string"){for(var y=0;y<o.length;y++)m[y]=o[y]|0;return m}if(p==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var y=0;y<o.length;y+=2)m.push(parseInt(o[y]+o[y+1],16))}else for(var y=0;y<o.length;y++){var w=o.charCodeAt(y),_=w>>8,M=w&255;_?m.push(_,M):m.push(M)}return m}e.toArray=n;function a(o){return o.length===1?"0"+o:o}e.zero2=a;function u(o){for(var p="",m=0;m<o.length;m++)p+=a(o[m].toString(16));return p}e.toHex=u,e.encode=function(p,m){return m==="hex"?u(p):p}}(utils$2)),utils$2}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(t){var e=t,n=requireBn$4(),a=minimalisticAssert$1,u=requireUtils$2();e.assert=a,e.toArray=u.toArray,e.zero2=u.zero2,e.toHex=u.toHex,e.encode=u.encode;function o(_,M,T){var B=new Array(Math.max(_.bitLength(),T)+1),P;for(P=0;P<B.length;P+=1)B[P]=0;var C=1<<M+1,L=_.clone();for(P=0;P<B.length;P++){var U,q=L.andln(C-1);L.isOdd()?(q>(C>>1)-1?U=(C>>1)-q:U=q,L.isubn(U)):U=0,B[P]=U,L.iushrn(1)}return B}e.getNAF=o;function p(_,M){var T=[[],[]];_=_.clone(),M=M.clone();for(var B=0,P=0,C;_.cmpn(-B)>0||M.cmpn(-P)>0;){var L=_.andln(3)+B&3,U=M.andln(3)+P&3;L===3&&(L=-1),U===3&&(U=-1);var q;L&1?(C=_.andln(7)+B&7,(C===3||C===5)&&U===2?q=-L:q=L):q=0,T[0].push(q);var G;U&1?(C=M.andln(7)+P&7,(C===3||C===5)&&L===2?G=-U:G=U):G=0,T[1].push(G),2*B===q+1&&(B=1-B),2*P===G+1&&(P=1-P),_.iushrn(1),M.iushrn(1)}return T}e.getJSF=p;function m(_,M,T){var B="_"+M;_.prototype[M]=function(){return this[B]!==void 0?this[B]:this[B]=T.call(this)}}e.cachedProperty=m;function y(_){return typeof _=="string"?e.toArray(_,"hex"):_}e.parseBytes=y;function w(_){return new n(_,"hex","le")}e.intFromLE=w}(utils$3)),utils$3}var curve$1={},base$2,hasRequiredBase$2;function requireBase$2(){if(hasRequiredBase$2)return base$2;hasRequiredBase$2=1;var t=requireBn$4(),e=requireUtils$1(),n=e.getNAF,a=e.getJSF,u=e.assert;function o(m,y){this.type=m,this.p=new t(y.p,16),this.red=y.prime?t.red(y.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=y.n&&new t(y.n,16),this.g=y.g&&this.pointFromJSON(y.g,y.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var w=this.n&&this.p.div(this.n);!w||w.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$2=o,o.prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(y,w){u(y.precomputed);var _=y._getDoubles(),M=n(w,1,this._bitLength),T=(1<<_.step+1)-(_.step%2===0?2:1);T/=3;var B=[],P,C;for(P=0;P<M.length;P+=_.step){C=0;for(var L=P+_.step-1;L>=P;L--)C=(C<<1)+M[L];B.push(C)}for(var U=this.jpoint(null,null,null),q=this.jpoint(null,null,null),G=T;G>0;G--){for(P=0;P<B.length;P++)C=B[P],C===G?q=q.mixedAdd(_.points[P]):C===-G&&(q=q.mixedAdd(_.points[P].neg()));U=U.add(q)}return U.toP()},o.prototype._wnafMul=function(y,w){var _=4,M=y._getNAFPoints(_);_=M.wnd;for(var T=M.points,B=n(w,_,this._bitLength),P=this.jpoint(null,null,null),C=B.length-1;C>=0;C--){for(var L=0;C>=0&&B[C]===0;C--)L++;if(C>=0&&L++,P=P.dblp(L),C<0)break;var U=B[C];u(U!==0),y.type==="affine"?U>0?P=P.mixedAdd(T[U-1>>1]):P=P.mixedAdd(T[-U-1>>1].neg()):U>0?P=P.add(T[U-1>>1]):P=P.add(T[-U-1>>1].neg())}return y.type==="affine"?P.toP():P},o.prototype._wnafMulAdd=function(y,w,_,M,T){var B=this._wnafT1,P=this._wnafT2,C=this._wnafT3,L=0,U,q,G;for(U=0;U<M;U++){G=w[U];var X=G._getNAFPoints(y);B[U]=X.wnd,P[U]=X.points}for(U=M-1;U>=1;U-=2){var te=U-1,ne=U;if(B[te]!==1||B[ne]!==1){C[te]=n(_[te],B[te],this._bitLength),C[ne]=n(_[ne],B[ne],this._bitLength),L=Math.max(C[te].length,L),L=Math.max(C[ne].length,L);continue}var ge=[w[te],null,null,w[ne]];w[te].y.cmp(w[ne].y)===0?(ge[1]=w[te].add(w[ne]),ge[2]=w[te].toJ().mixedAdd(w[ne].neg())):w[te].y.cmp(w[ne].y.redNeg())===0?(ge[1]=w[te].toJ().mixedAdd(w[ne]),ge[2]=w[te].add(w[ne].neg())):(ge[1]=w[te].toJ().mixedAdd(w[ne]),ge[2]=w[te].toJ().mixedAdd(w[ne].neg()));var pe=[-3,-1,-5,-7,0,7,5,1,3],se=a(_[te],_[ne]);for(L=Math.max(se[0].length,L),C[te]=new Array(L),C[ne]=new Array(L),q=0;q<L;q++){var Se=se[0][q]|0,k=se[1][q]|0;C[te][q]=pe[(Se+1)*3+(k+1)],C[ne][q]=0,P[te]=ge}}var c=this.jpoint(null,null,null),d=this._wnafT4;for(U=L;U>=0;U--){for(var b=0;U>=0;){var v=!0;for(q=0;q<M;q++)d[q]=C[q][U]|0,d[q]!==0&&(v=!1);if(!v)break;b++,U--}if(U>=0&&b++,c=c.dblp(b),U<0)break;for(q=0;q<M;q++){var A=d[q];A!==0&&(A>0?G=P[q][A-1>>1]:A<0&&(G=P[q][-A-1>>1].neg()),G.type==="affine"?c=c.mixedAdd(G):c=c.add(G))}}for(U=0;U<M;U++)P[U]=null;return T?c:c.toP()};function p(m,y){this.curve=m,this.type=y,this.precomputed=null}return o.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(y,w){y=e.toArray(y,w);var _=this.p.byteLength();if((y[0]===4||y[0]===6||y[0]===7)&&y.length-1===2*_){y[0]===6?u(y[y.length-1]%2===0):y[0]===7&&u(y[y.length-1]%2===1);var M=this.point(y.slice(1,1+_),y.slice(1+_,1+2*_));return M}else if((y[0]===2||y[0]===3)&&y.length-1===_)return this.pointFromX(y.slice(1,1+_),y[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(y){return this.encode(y,!0)},p.prototype._encode=function(y){var w=this.curve.p.byteLength(),_=this.getX().toArray("be",w);return y?[this.getY().isEven()?2:3].concat(_):[4].concat(_,this.getY().toArray("be",w))},p.prototype.encode=function(y,w){return e.encode(this._encode(w),y)},p.prototype.precompute=function(y){if(this.precomputed)return this;var w={doubles:null,naf:null,beta:null};return w.naf=this._getNAFPoints(8),w.doubles=this._getDoubles(4,y),w.beta=this._getBeta(),this.precomputed=w,this},p.prototype._hasDoubles=function(y){if(!this.precomputed)return!1;var w=this.precomputed.doubles;return w?w.points.length>=Math.ceil((y.bitLength()+1)/w.step):!1},p.prototype._getDoubles=function(y,w){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var _=[this],M=this,T=0;T<w;T+=y){for(var B=0;B<y;B++)M=M.dbl();_.push(M)}return{step:y,points:_}},p.prototype._getNAFPoints=function(y){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var w=[this],_=(1<<y)-1,M=_===1?null:this.dbl(),T=1;T<_;T++)w[T]=w[T-1].add(M);return{wnd:y,points:w}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(y){for(var w=this,_=0;_<y;_++)w=w.dbl();return w},base$2}var short$1,hasRequiredShort$1;function requireShort$1(){if(hasRequiredShort$1)return short$1;hasRequiredShort$1=1;var t=requireUtils$1(),e=requireBn$4(),n=inherits_browserExports,a=requireBase$2(),u=t.assert;function o(y){a.call(this,"short",y),this.a=new e(y.a,16).toRed(this.red),this.b=new e(y.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(y),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}n(o,a),short$1=o,o.prototype._getEndomorphism=function(w){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var _,M;if(w.beta)_=new e(w.beta,16).toRed(this.red);else{var T=this._getEndoRoots(this.p);_=T[0].cmp(T[1])<0?T[0]:T[1],_=_.toRed(this.red)}if(w.lambda)M=new e(w.lambda,16);else{var B=this._getEndoRoots(this.n);this.g.mul(B[0]).x.cmp(this.g.x.redMul(_))===0?M=B[0]:(M=B[1],u(this.g.mul(M).x.cmp(this.g.x.redMul(_))===0))}var P;return w.basis?P=w.basis.map(function(C){return{a:new e(C.a,16),b:new e(C.b,16)}}):P=this._getEndoBasis(M),{beta:_,lambda:M,basis:P}}},o.prototype._getEndoRoots=function(w){var _=w===this.p?this.red:e.mont(w),M=new e(2).toRed(_).redInvm(),T=M.redNeg(),B=new e(3).toRed(_).redNeg().redSqrt().redMul(M),P=T.redAdd(B).fromRed(),C=T.redSub(B).fromRed();return[P,C]},o.prototype._getEndoBasis=function(w){for(var _=this.n.ushrn(Math.floor(this.n.bitLength()/2)),M=w,T=this.n.clone(),B=new e(1),P=new e(0),C=new e(0),L=new e(1),U,q,G,X,te,ne,ge,pe=0,se,Se;M.cmpn(0)!==0;){var k=T.div(M);se=T.sub(k.mul(M)),Se=C.sub(k.mul(B));var c=L.sub(k.mul(P));if(!G&&se.cmp(_)<0)U=ge.neg(),q=B,G=se.neg(),X=Se;else if(G&&++pe===2)break;ge=se,T=M,M=se,C=B,B=Se,L=P,P=c}te=se.neg(),ne=Se;var d=G.sqr().add(X.sqr()),b=te.sqr().add(ne.sqr());return b.cmp(d)>=0&&(te=U,ne=q),G.negative&&(G=G.neg(),X=X.neg()),te.negative&&(te=te.neg(),ne=ne.neg()),[{a:G,b:X},{a:te,b:ne}]},o.prototype._endoSplit=function(w){var _=this.endo.basis,M=_[0],T=_[1],B=T.b.mul(w).divRound(this.n),P=M.b.neg().mul(w).divRound(this.n),C=B.mul(M.a),L=P.mul(T.a),U=B.mul(M.b),q=P.mul(T.b),G=w.sub(C).sub(L),X=U.add(q).neg();return{k1:G,k2:X}},o.prototype.pointFromX=function(w,_){w=new e(w,16),w.red||(w=w.toRed(this.red));var M=w.redSqr().redMul(w).redIAdd(w.redMul(this.a)).redIAdd(this.b),T=M.redSqrt();if(T.redSqr().redSub(M).cmp(this.zero)!==0)throw new Error("invalid point");var B=T.fromRed().isOdd();return(_&&!B||!_&&B)&&(T=T.redNeg()),this.point(w,T)},o.prototype.validate=function(w){if(w.inf)return!0;var _=w.x,M=w.y,T=this.a.redMul(_),B=_.redSqr().redMul(_).redIAdd(T).redIAdd(this.b);return M.redSqr().redISub(B).cmpn(0)===0},o.prototype._endoWnafMulAdd=function(w,_,M){for(var T=this._endoWnafT1,B=this._endoWnafT2,P=0;P<w.length;P++){var C=this._endoSplit(_[P]),L=w[P],U=L._getBeta();C.k1.negative&&(C.k1.ineg(),L=L.neg(!0)),C.k2.negative&&(C.k2.ineg(),U=U.neg(!0)),T[P*2]=L,T[P*2+1]=U,B[P*2]=C.k1,B[P*2+1]=C.k2}for(var q=this._wnafMulAdd(1,T,B,P*2,M),G=0;G<P*2;G++)T[G]=null,B[G]=null;return q};function p(y,w,_,M){a.BasePoint.call(this,y,"affine"),w===null&&_===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(w,16),this.y=new e(_,16),M&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}n(p,a.BasePoint),o.prototype.point=function(w,_,M){return new p(this,w,_,M)},o.prototype.pointFromJSON=function(w,_){return p.fromJSON(this,w,_)},p.prototype._getBeta=function(){if(this.curve.endo){var w=this.precomputed;if(w&&w.beta)return w.beta;var _=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(w){var M=this.curve,T=function(B){return M.point(B.x.redMul(M.endo.beta),B.y)};w.beta=_,_.precomputed={beta:null,naf:w.naf&&{wnd:w.naf.wnd,points:w.naf.points.map(T)},doubles:w.doubles&&{step:w.doubles.step,points:w.doubles.points.map(T)}}}return _}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(w,_,M){typeof _=="string"&&(_=JSON.parse(_));var T=w.point(_[0],_[1],M);if(!_[2])return T;function B(C){return w.point(C[0],C[1],M)}var P=_[2];return T.precomputed={beta:null,doubles:P.doubles&&{step:P.doubles.step,points:[T].concat(P.doubles.points.map(B))},naf:P.naf&&{wnd:P.naf.wnd,points:[T].concat(P.naf.points.map(B))}},T},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(w){if(this.inf)return w;if(w.inf)return this;if(this.eq(w))return this.dbl();if(this.neg().eq(w))return this.curve.point(null,null);if(this.x.cmp(w.x)===0)return this.curve.point(null,null);var _=this.y.redSub(w.y);_.cmpn(0)!==0&&(_=_.redMul(this.x.redSub(w.x).redInvm()));var M=_.redSqr().redISub(this.x).redISub(w.x),T=_.redMul(this.x.redSub(M)).redISub(this.y);return this.curve.point(M,T)},p.prototype.dbl=function(){if(this.inf)return this;var w=this.y.redAdd(this.y);if(w.cmpn(0)===0)return this.curve.point(null,null);var _=this.curve.a,M=this.x.redSqr(),T=w.redInvm(),B=M.redAdd(M).redIAdd(M).redIAdd(_).redMul(T),P=B.redSqr().redISub(this.x.redAdd(this.x)),C=B.redMul(this.x.redSub(P)).redISub(this.y);return this.curve.point(P,C)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(w){return w=new e(w,16),this.isInfinity()?this:this._hasDoubles(w)?this.curve._fixedNafMul(this,w):this.curve.endo?this.curve._endoWnafMulAdd([this],[w]):this.curve._wnafMul(this,w)},p.prototype.mulAdd=function(w,_,M){var T=[this,_],B=[w,M];return this.curve.endo?this.curve._endoWnafMulAdd(T,B):this.curve._wnafMulAdd(1,T,B,2)},p.prototype.jmulAdd=function(w,_,M){var T=[this,_],B=[w,M];return this.curve.endo?this.curve._endoWnafMulAdd(T,B,!0):this.curve._wnafMulAdd(1,T,B,2,!0)},p.prototype.eq=function(w){return this===w||this.inf===w.inf&&(this.inf||this.x.cmp(w.x)===0&&this.y.cmp(w.y)===0)},p.prototype.neg=function(w){if(this.inf)return this;var _=this.curve.point(this.x,this.y.redNeg());if(w&&this.precomputed){var M=this.precomputed,T=function(B){return B.neg()};_.precomputed={naf:M.naf&&{wnd:M.naf.wnd,points:M.naf.points.map(T)},doubles:M.doubles&&{step:M.doubles.step,points:M.doubles.points.map(T)}}}return _},p.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var w=this.curve.jpoint(this.x,this.y,this.curve.one);return w};function m(y,w,_,M){a.BasePoint.call(this,y,"jacobian"),w===null&&_===null&&M===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(w,16),this.y=new e(_,16),this.z=new e(M,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return n(m,a.BasePoint),o.prototype.jpoint=function(w,_,M){return new m(this,w,_,M)},m.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var w=this.z.redInvm(),_=w.redSqr(),M=this.x.redMul(_),T=this.y.redMul(_).redMul(w);return this.curve.point(M,T)},m.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},m.prototype.add=function(w){if(this.isInfinity())return w;if(w.isInfinity())return this;var _=w.z.redSqr(),M=this.z.redSqr(),T=this.x.redMul(_),B=w.x.redMul(M),P=this.y.redMul(_.redMul(w.z)),C=w.y.redMul(M.redMul(this.z)),L=T.redSub(B),U=P.redSub(C);if(L.cmpn(0)===0)return U.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var q=L.redSqr(),G=q.redMul(L),X=T.redMul(q),te=U.redSqr().redIAdd(G).redISub(X).redISub(X),ne=U.redMul(X.redISub(te)).redISub(P.redMul(G)),ge=this.z.redMul(w.z).redMul(L);return this.curve.jpoint(te,ne,ge)},m.prototype.mixedAdd=function(w){if(this.isInfinity())return w.toJ();if(w.isInfinity())return this;var _=this.z.redSqr(),M=this.x,T=w.x.redMul(_),B=this.y,P=w.y.redMul(_).redMul(this.z),C=M.redSub(T),L=B.redSub(P);if(C.cmpn(0)===0)return L.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var U=C.redSqr(),q=U.redMul(C),G=M.redMul(U),X=L.redSqr().redIAdd(q).redISub(G).redISub(G),te=L.redMul(G.redISub(X)).redISub(B.redMul(q)),ne=this.z.redMul(C);return this.curve.jpoint(X,te,ne)},m.prototype.dblp=function(w){if(w===0)return this;if(this.isInfinity())return this;if(!w)return this.dbl();var _;if(this.curve.zeroA||this.curve.threeA){var M=this;for(_=0;_<w;_++)M=M.dbl();return M}var T=this.curve.a,B=this.curve.tinv,P=this.x,C=this.y,L=this.z,U=L.redSqr().redSqr(),q=C.redAdd(C);for(_=0;_<w;_++){var G=P.redSqr(),X=q.redSqr(),te=X.redSqr(),ne=G.redAdd(G).redIAdd(G).redIAdd(T.redMul(U)),ge=P.redMul(X),pe=ne.redSqr().redISub(ge.redAdd(ge)),se=ge.redISub(pe),Se=ne.redMul(se);Se=Se.redIAdd(Se).redISub(te);var k=q.redMul(L);_+1<w&&(U=U.redMul(te)),P=pe,L=k,q=Se}return this.curve.jpoint(P,q.redMul(B),L)},m.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},m.prototype._zeroDbl=function(){var w,_,M;if(this.zOne){var T=this.x.redSqr(),B=this.y.redSqr(),P=B.redSqr(),C=this.x.redAdd(B).redSqr().redISub(T).redISub(P);C=C.redIAdd(C);var L=T.redAdd(T).redIAdd(T),U=L.redSqr().redISub(C).redISub(C),q=P.redIAdd(P);q=q.redIAdd(q),q=q.redIAdd(q),w=U,_=L.redMul(C.redISub(U)).redISub(q),M=this.y.redAdd(this.y)}else{var G=this.x.redSqr(),X=this.y.redSqr(),te=X.redSqr(),ne=this.x.redAdd(X).redSqr().redISub(G).redISub(te);ne=ne.redIAdd(ne);var ge=G.redAdd(G).redIAdd(G),pe=ge.redSqr(),se=te.redIAdd(te);se=se.redIAdd(se),se=se.redIAdd(se),w=pe.redISub(ne).redISub(ne),_=ge.redMul(ne.redISub(w)).redISub(se),M=this.y.redMul(this.z),M=M.redIAdd(M)}return this.curve.jpoint(w,_,M)},m.prototype._threeDbl=function(){var w,_,M;if(this.zOne){var T=this.x.redSqr(),B=this.y.redSqr(),P=B.redSqr(),C=this.x.redAdd(B).redSqr().redISub(T).redISub(P);C=C.redIAdd(C);var L=T.redAdd(T).redIAdd(T).redIAdd(this.curve.a),U=L.redSqr().redISub(C).redISub(C);w=U;var q=P.redIAdd(P);q=q.redIAdd(q),q=q.redIAdd(q),_=L.redMul(C.redISub(U)).redISub(q),M=this.y.redAdd(this.y)}else{var G=this.z.redSqr(),X=this.y.redSqr(),te=this.x.redMul(X),ne=this.x.redSub(G).redMul(this.x.redAdd(G));ne=ne.redAdd(ne).redIAdd(ne);var ge=te.redIAdd(te);ge=ge.redIAdd(ge);var pe=ge.redAdd(ge);w=ne.redSqr().redISub(pe),M=this.y.redAdd(this.z).redSqr().redISub(X).redISub(G);var se=X.redSqr();se=se.redIAdd(se),se=se.redIAdd(se),se=se.redIAdd(se),_=ne.redMul(ge.redISub(w)).redISub(se)}return this.curve.jpoint(w,_,M)},m.prototype._dbl=function(){var w=this.curve.a,_=this.x,M=this.y,T=this.z,B=T.redSqr().redSqr(),P=_.redSqr(),C=M.redSqr(),L=P.redAdd(P).redIAdd(P).redIAdd(w.redMul(B)),U=_.redAdd(_);U=U.redIAdd(U);var q=U.redMul(C),G=L.redSqr().redISub(q.redAdd(q)),X=q.redISub(G),te=C.redSqr();te=te.redIAdd(te),te=te.redIAdd(te),te=te.redIAdd(te);var ne=L.redMul(X).redISub(te),ge=M.redAdd(M).redMul(T);return this.curve.jpoint(G,ne,ge)},m.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var w=this.x.redSqr(),_=this.y.redSqr(),M=this.z.redSqr(),T=_.redSqr(),B=w.redAdd(w).redIAdd(w),P=B.redSqr(),C=this.x.redAdd(_).redSqr().redISub(w).redISub(T);C=C.redIAdd(C),C=C.redAdd(C).redIAdd(C),C=C.redISub(P);var L=C.redSqr(),U=T.redIAdd(T);U=U.redIAdd(U),U=U.redIAdd(U),U=U.redIAdd(U);var q=B.redIAdd(C).redSqr().redISub(P).redISub(L).redISub(U),G=_.redMul(q);G=G.redIAdd(G),G=G.redIAdd(G);var X=this.x.redMul(L).redISub(G);X=X.redIAdd(X),X=X.redIAdd(X);var te=this.y.redMul(q.redMul(U.redISub(q)).redISub(C.redMul(L)));te=te.redIAdd(te),te=te.redIAdd(te),te=te.redIAdd(te);var ne=this.z.redAdd(C).redSqr().redISub(M).redISub(L);return this.curve.jpoint(X,te,ne)},m.prototype.mul=function(w,_){return w=new e(w,_),this.curve._wnafMul(this,w)},m.prototype.eq=function(w){if(w.type==="affine")return this.eq(w.toJ());if(this===w)return!0;var _=this.z.redSqr(),M=w.z.redSqr();if(this.x.redMul(M).redISub(w.x.redMul(_)).cmpn(0)!==0)return!1;var T=_.redMul(this.z),B=M.redMul(w.z);return this.y.redMul(B).redISub(w.y.redMul(T)).cmpn(0)===0},m.prototype.eqXToP=function(w){var _=this.z.redSqr(),M=w.toRed(this.curve.red).redMul(_);if(this.x.cmp(M)===0)return!0;for(var T=w.clone(),B=this.curve.redN.redMul(_);;){if(T.iadd(this.curve.n),T.cmp(this.curve.p)>=0)return!1;if(M.redIAdd(B),this.x.cmp(M)===0)return!0}},m.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},m.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short$1}var mont$1,hasRequiredMont$1;function requireMont$1(){if(hasRequiredMont$1)return mont$1;hasRequiredMont$1=1;var t=requireBn$4(),e=inherits_browserExports,n=requireBase$2(),a=requireUtils$1();function u(p){n.call(this,"mont",p),this.a=new t(p.a,16).toRed(this.red),this.b=new t(p.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(u,n),mont$1=u,u.prototype.validate=function(m){var y=m.normalize().x,w=y.redSqr(),_=w.redMul(y).redAdd(w.redMul(this.a)).redAdd(y),M=_.redSqrt();return M.redSqr().cmp(_)===0};function o(p,m,y){n.BasePoint.call(this,p,"projective"),m===null&&y===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(m,16),this.z=new t(y,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(o,n.BasePoint),u.prototype.decodePoint=function(m,y){return this.point(a.toArray(m,y),1)},u.prototype.point=function(m,y){return new o(this,m,y)},u.prototype.pointFromJSON=function(m){return o.fromJSON(this,m)},o.prototype.precompute=function(){},o.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},o.fromJSON=function(m,y){return new o(m,y[0],y[1]||m.one)},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0},o.prototype.dbl=function(){var m=this.x.redAdd(this.z),y=m.redSqr(),w=this.x.redSub(this.z),_=w.redSqr(),M=y.redSub(_),T=y.redMul(_),B=M.redMul(_.redAdd(this.curve.a24.redMul(M)));return this.curve.point(T,B)},o.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.diffAdd=function(m,y){var w=this.x.redAdd(this.z),_=this.x.redSub(this.z),M=m.x.redAdd(m.z),T=m.x.redSub(m.z),B=T.redMul(w),P=M.redMul(_),C=y.z.redMul(B.redAdd(P).redSqr()),L=y.x.redMul(B.redISub(P).redSqr());return this.curve.point(C,L)},o.prototype.mul=function(m){for(var y=m.clone(),w=this,_=this.curve.point(null,null),M=this,T=[];y.cmpn(0)!==0;y.iushrn(1))T.push(y.andln(1));for(var B=T.length-1;B>=0;B--)T[B]===0?(w=w.diffAdd(_,M),_=_.dbl()):(_=w.diffAdd(_,M),w=w.dbl());return _},o.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.eq=function(m){return this.getX().cmp(m.getX())===0},o.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont$1}var edwards$1,hasRequiredEdwards$1;function requireEdwards$1(){if(hasRequiredEdwards$1)return edwards$1;hasRequiredEdwards$1=1;var t=requireUtils$1(),e=requireBn$4(),n=inherits_browserExports,a=requireBase$2(),u=t.assert;function o(m){this.twisted=(m.a|0)!==1,this.mOneA=this.twisted&&(m.a|0)===-1,this.extended=this.mOneA,a.call(this,"edwards",m),this.a=new e(m.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(m.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(m.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(m.c|0)===1}n(o,a),edwards$1=o,o.prototype._mulA=function(y){return this.mOneA?y.redNeg():this.a.redMul(y)},o.prototype._mulC=function(y){return this.oneC?y:this.c.redMul(y)},o.prototype.jpoint=function(y,w,_,M){return this.point(y,w,_,M)},o.prototype.pointFromX=function(y,w){y=new e(y,16),y.red||(y=y.toRed(this.red));var _=y.redSqr(),M=this.c2.redSub(this.a.redMul(_)),T=this.one.redSub(this.c2.redMul(this.d).redMul(_)),B=M.redMul(T.redInvm()),P=B.redSqrt();if(P.redSqr().redSub(B).cmp(this.zero)!==0)throw new Error("invalid point");var C=P.fromRed().isOdd();return(w&&!C||!w&&C)&&(P=P.redNeg()),this.point(y,P)},o.prototype.pointFromY=function(y,w){y=new e(y,16),y.red||(y=y.toRed(this.red));var _=y.redSqr(),M=_.redSub(this.c2),T=_.redMul(this.d).redMul(this.c2).redSub(this.a),B=M.redMul(T.redInvm());if(B.cmp(this.zero)===0){if(w)throw new Error("invalid point");return this.point(this.zero,y)}var P=B.redSqrt();if(P.redSqr().redSub(B).cmp(this.zero)!==0)throw new Error("invalid point");return P.fromRed().isOdd()!==w&&(P=P.redNeg()),this.point(P,y)},o.prototype.validate=function(y){if(y.isInfinity())return!0;y.normalize();var w=y.x.redSqr(),_=y.y.redSqr(),M=w.redMul(this.a).redAdd(_),T=this.c2.redMul(this.one.redAdd(this.d.redMul(w).redMul(_)));return M.cmp(T)===0};function p(m,y,w,_,M){a.BasePoint.call(this,m,"projective"),y===null&&w===null&&_===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(y,16),this.y=new e(w,16),this.z=_?new e(_,16):this.curve.one,this.t=M&&new e(M,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return n(p,a.BasePoint),o.prototype.pointFromJSON=function(y){return p.fromJSON(this,y)},o.prototype.point=function(y,w,_,M){return new p(this,y,w,_,M)},p.fromJSON=function(y,w){return new p(y,w[0],w[1],w[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var y=this.x.redSqr(),w=this.y.redSqr(),_=this.z.redSqr();_=_.redIAdd(_);var M=this.curve._mulA(y),T=this.x.redAdd(this.y).redSqr().redISub(y).redISub(w),B=M.redAdd(w),P=B.redSub(_),C=M.redSub(w),L=T.redMul(P),U=B.redMul(C),q=T.redMul(C),G=P.redMul(B);return this.curve.point(L,U,G,q)},p.prototype._projDbl=function(){var y=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),_=this.y.redSqr(),M,T,B,P,C,L;if(this.curve.twisted){P=this.curve._mulA(w);var U=P.redAdd(_);this.zOne?(M=y.redSub(w).redSub(_).redMul(U.redSub(this.curve.two)),T=U.redMul(P.redSub(_)),B=U.redSqr().redSub(U).redSub(U)):(C=this.z.redSqr(),L=U.redSub(C).redISub(C),M=y.redSub(w).redISub(_).redMul(L),T=U.redMul(P.redSub(_)),B=U.redMul(L))}else P=w.redAdd(_),C=this.curve._mulC(this.z).redSqr(),L=P.redSub(C).redSub(C),M=this.curve._mulC(y.redISub(P)).redMul(L),T=this.curve._mulC(P).redMul(w.redISub(_)),B=P.redMul(L);return this.curve.point(M,T,B)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(y){var w=this.y.redSub(this.x).redMul(y.y.redSub(y.x)),_=this.y.redAdd(this.x).redMul(y.y.redAdd(y.x)),M=this.t.redMul(this.curve.dd).redMul(y.t),T=this.z.redMul(y.z.redAdd(y.z)),B=_.redSub(w),P=T.redSub(M),C=T.redAdd(M),L=_.redAdd(w),U=B.redMul(P),q=C.redMul(L),G=B.redMul(L),X=P.redMul(C);return this.curve.point(U,q,X,G)},p.prototype._projAdd=function(y){var w=this.z.redMul(y.z),_=w.redSqr(),M=this.x.redMul(y.x),T=this.y.redMul(y.y),B=this.curve.d.redMul(M).redMul(T),P=_.redSub(B),C=_.redAdd(B),L=this.x.redAdd(this.y).redMul(y.x.redAdd(y.y)).redISub(M).redISub(T),U=w.redMul(P).redMul(L),q,G;return this.curve.twisted?(q=w.redMul(C).redMul(T.redSub(this.curve._mulA(M))),G=P.redMul(C)):(q=w.redMul(C).redMul(T.redSub(M)),G=this.curve._mulC(P).redMul(C)),this.curve.point(U,q,G)},p.prototype.add=function(y){return this.isInfinity()?y:y.isInfinity()?this:this.curve.extended?this._extAdd(y):this._projAdd(y)},p.prototype.mul=function(y){return this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve._wnafMul(this,y)},p.prototype.mulAdd=function(y,w,_){return this.curve._wnafMulAdd(1,[this,w],[y,_],2,!1)},p.prototype.jmulAdd=function(y,w,_){return this.curve._wnafMulAdd(1,[this,w],[y,_],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var y=this.z.redInvm();return this.x=this.x.redMul(y),this.y=this.y.redMul(y),this.t&&(this.t=this.t.redMul(y)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(y){return this===y||this.getX().cmp(y.getX())===0&&this.getY().cmp(y.getY())===0},p.prototype.eqXToP=function(y){var w=y.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(w)===0)return!0;for(var _=y.clone(),M=this.curve.redN.redMul(this.z);;){if(_.iadd(this.curve.n),_.cmp(this.curve.p)>=0)return!1;if(w.redIAdd(M),this.x.cmp(w)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add,edwards$1}var hasRequiredCurve$1;function requireCurve$1(){return hasRequiredCurve$1||(hasRequiredCurve$1=1,function(t){var e=t;e.base=requireBase$2(),e.short=requireShort$1(),e.mont=requireMont$1(),e.edwards=requireEdwards$1()}(curve$1)),curve$1}var curves$1={},secp256k1$1,hasRequiredSecp256k1$1;function requireSecp256k1$1(){return hasRequiredSecp256k1$1||(hasRequiredSecp256k1$1=1,secp256k1$1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1$1}var hasRequiredCurves$1;function requireCurves$1(){return hasRequiredCurves$1||(hasRequiredCurves$1=1,function(t){var e=t,n=hash$3,a=requireCurve$1(),u=requireUtils$1(),o=u.assert;function p(w){w.type==="short"?this.curve=new a.short(w):w.type==="edwards"?this.curve=new a.edwards(w):this.curve=new a.mont(w),this.g=this.curve.g,this.n=this.curve.n,this.hash=w.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=p;function m(w,_){Object.defineProperty(e,w,{configurable:!0,enumerable:!0,get:function(){var M=new p(_);return Object.defineProperty(e,w,{configurable:!0,enumerable:!0,value:M}),M}})}m("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),m("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),m("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),m("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),m("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),m("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),m("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var y;try{y=requireSecp256k1$1()}catch{y=void 0}m("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",y]})}(curves$1)),curves$1}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var t=hash$3,e=requireUtils$2(),n=minimalisticAssert$1;function a(u){if(!(this instanceof a))return new a(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=e.toArray(u.entropy,u.entropyEnc||"hex"),p=e.toArray(u.nonce,u.nonceEnc||"hex"),m=e.toArray(u.pers,u.persEnc||"hex");n(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,p,m)}return hmacDrbg=a,a.prototype._init=function(o,p,m){var y=o.concat(p).concat(m);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var w=0;w<this.V.length;w++)this.K[w]=0,this.V[w]=1;this._update(y),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},a.prototype._update=function(o){var p=this._hmac().update(this.V).update([0]);o&&(p=p.update(o)),this.K=p.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(o,p,m,y){typeof p!="string"&&(y=m,m=p,p=null),o=e.toArray(o,p),m=e.toArray(m,y),n(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(m||[])),this._reseed=1},a.prototype.generate=function(o,p,m,y){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof p!="string"&&(y=m,m=p,p=null),m&&(m=e.toArray(m,y||"hex"),this._update(m));for(var w=[];w.length<o;)this.V=this._hmac().update(this.V).digest(),w=w.concat(this.V);var _=w.slice(0,o);return this._update(m),this._reseed++,e.encode(_,p)},hmacDrbg}var key$3,hasRequiredKey$3;function requireKey$3(){if(hasRequiredKey$3)return key$3;hasRequiredKey$3=1;var t=requireBn$4(),e=requireUtils$1(),n=e.assert;function a(u,o){this.ec=u,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}return key$3=a,a.fromPublic=function(o,p,m){return p instanceof a?p:new a(o,{pub:p,pubEnc:m})},a.fromPrivate=function(o,p,m){return p instanceof a?p:new a(o,{priv:p,privEnc:m})},a.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(o,p){return typeof o=="string"&&(p=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),p?this.pub.encode(p,o):this.pub},a.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(o,p){this.priv=new t(o,p||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(o,p){if(o.x||o.y){this.ec.curve.type==="mont"?n(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&n(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,p)},a.prototype.derive=function(o){return o.validate()||n(o.validate(),"public point not validated"),o.mul(this.priv).getX()},a.prototype.sign=function(o,p,m){return this.ec.sign(o,this,p,m)},a.prototype.verify=function(o,p){return this.ec.verify(o,p,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$3}var signature$3,hasRequiredSignature$3;function requireSignature$3(){if(hasRequiredSignature$3)return signature$3;hasRequiredSignature$3=1;var t=requireBn$4(),e=requireUtils$1(),n=e.assert;function a(y,w){if(y instanceof a)return y;this._importDER(y,w)||(n(y.r&&y.s,"Signature without r or s"),this.r=new t(y.r,16),this.s=new t(y.s,16),y.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=y.recoveryParam)}signature$3=a;function u(){this.place=0}function o(y,w){var _=y[w.place++];if(!(_&128))return _;var M=_&15;if(M===0||M>4)return!1;for(var T=0,B=0,P=w.place;B<M;B++,P++)T<<=8,T|=y[P],T>>>=0;return T<=127?!1:(w.place=P,T)}function p(y){for(var w=0,_=y.length-1;!y[w]&&!(y[w+1]&128)&&w<_;)w++;return w===0?y:y.slice(w)}a.prototype._importDER=function(w,_){w=e.toArray(w,_);var M=new u;if(w[M.place++]!==48)return!1;var T=o(w,M);if(T===!1||T+M.place!==w.length||w[M.place++]!==2)return!1;var B=o(w,M);if(B===!1)return!1;var P=w.slice(M.place,B+M.place);if(M.place+=B,w[M.place++]!==2)return!1;var C=o(w,M);if(C===!1||w.length!==C+M.place)return!1;var L=w.slice(M.place,C+M.place);if(P[0]===0)if(P[1]&128)P=P.slice(1);else return!1;if(L[0]===0)if(L[1]&128)L=L.slice(1);else return!1;return this.r=new t(P),this.s=new t(L),this.recoveryParam=null,!0};function m(y,w){if(w<128){y.push(w);return}var _=1+(Math.log(w)/Math.LN2>>>3);for(y.push(_|128);--_;)y.push(w>>>(_<<3)&255);y.push(w)}return a.prototype.toDER=function(w){var _=this.r.toArray(),M=this.s.toArray();for(_[0]&128&&(_=[0].concat(_)),M[0]&128&&(M=[0].concat(M)),_=p(_),M=p(M);!M[0]&&!(M[1]&128);)M=M.slice(1);var T=[2];m(T,_.length),T=T.concat(_),T.push(2),m(T,M.length);var B=T.concat(M),P=[48];return m(P,B.length),P=P.concat(B),e.encode(P,w)},signature$3}var ec$1,hasRequiredEc$1;function requireEc$1(){if(hasRequiredEc$1)return ec$1;hasRequiredEc$1=1;var t=requireBn$4(),e=requireHmacDrbg(),n=requireUtils$1(),a=requireCurves$1(),u=requireBrorand(),o=n.assert,p=requireKey$3(),m=requireSignature$3();function y(w){if(!(this instanceof y))return new y(w);typeof w=="string"&&(o(Object.prototype.hasOwnProperty.call(a,w),"Unknown curve "+w),w=a[w]),w instanceof a.PresetCurve&&(w={curve:w}),this.curve=w.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=w.curve.g,this.g.precompute(w.curve.n.bitLength()+1),this.hash=w.hash||w.curve.hash}return ec$1=y,y.prototype.keyPair=function(_){return new p(this,_)},y.prototype.keyFromPrivate=function(_,M){return p.fromPrivate(this,_,M)},y.prototype.keyFromPublic=function(_,M){return p.fromPublic(this,_,M)},y.prototype.genKeyPair=function(_){_||(_={});for(var M=new e({hash:this.hash,pers:_.pers,persEnc:_.persEnc||"utf8",entropy:_.entropy||u(this.hash.hmacStrength),entropyEnc:_.entropy&&_.entropyEnc||"utf8",nonce:this.n.toArray()}),T=this.n.byteLength(),B=this.n.sub(new t(2));;){var P=new t(M.generate(T));if(!(P.cmp(B)>0))return P.iaddn(1),this.keyFromPrivate(P)}},y.prototype._truncateToN=function(_,M){var T=_.byteLength()*8-this.n.bitLength();return T>0&&(_=_.ushrn(T)),!M&&_.cmp(this.n)>=0?_.sub(this.n):_},y.prototype.sign=function(_,M,T,B){typeof T=="object"&&(B=T,T=null),B||(B={}),M=this.keyFromPrivate(M,T),_=this._truncateToN(new t(_,16));for(var P=this.n.byteLength(),C=M.getPrivate().toArray("be",P),L=_.toArray("be",P),U=new e({hash:this.hash,entropy:C,nonce:L,pers:B.pers,persEnc:B.persEnc||"utf8"}),q=this.n.sub(new t(1)),G=0;;G++){var X=B.k?B.k(G):new t(U.generate(this.n.byteLength()));if(X=this._truncateToN(X,!0),!(X.cmpn(1)<=0||X.cmp(q)>=0)){var te=this.g.mul(X);if(!te.isInfinity()){var ne=te.getX(),ge=ne.umod(this.n);if(ge.cmpn(0)!==0){var pe=X.invm(this.n).mul(ge.mul(M.getPrivate()).iadd(_));if(pe=pe.umod(this.n),pe.cmpn(0)!==0){var se=(te.getY().isOdd()?1:0)|(ne.cmp(ge)!==0?2:0);return B.canonical&&pe.cmp(this.nh)>0&&(pe=this.n.sub(pe),se^=1),new m({r:ge,s:pe,recoveryParam:se})}}}}}},y.prototype.verify=function(_,M,T,B){_=this._truncateToN(new t(_,16)),T=this.keyFromPublic(T,B),M=new m(M,"hex");var P=M.r,C=M.s;if(P.cmpn(1)<0||P.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var L=C.invm(this.n),U=L.mul(_).umod(this.n),q=L.mul(P).umod(this.n),G;return this.curve._maxwellTrick?(G=this.g.jmulAdd(U,T.getPublic(),q),G.isInfinity()?!1:G.eqXToP(P)):(G=this.g.mulAdd(U,T.getPublic(),q),G.isInfinity()?!1:G.getX().umod(this.n).cmp(P)===0)},y.prototype.recoverPubKey=function(w,_,M,T){o((3&M)===M,"The recovery param is more than two bits"),_=new m(_,T);var B=this.n,P=new t(w),C=_.r,L=_.s,U=M&1,q=M>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&q)throw new Error("Unable to find sencond key candinate");q?C=this.curve.pointFromX(C.add(this.curve.n),U):C=this.curve.pointFromX(C,U);var G=_.r.invm(B),X=B.sub(P).mul(G).umod(B),te=L.mul(G).umod(B);return this.g.mulAdd(X,C,te)},y.prototype.getKeyRecoveryParam=function(w,_,M,T){if(_=new m(_,T),_.recoveryParam!==null)return _.recoveryParam;for(var B=0;B<4;B++){var P;try{P=this.recoverPubKey(w,_,B)}catch{continue}if(P.eq(M))return B}throw new Error("Unable to find valid recovery factor")},ec$1}var key$2,hasRequiredKey$2;function requireKey$2(){if(hasRequiredKey$2)return key$2;hasRequiredKey$2=1;var t=requireUtils$1(),e=t.assert,n=t.parseBytes,a=t.cachedProperty;function u(o,p){this.eddsa=o,this._secret=n(p.secret),o.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=n(p.pub)}return u.fromPublic=function(p,m){return m instanceof u?m:new u(p,{pub:m})},u.fromSecret=function(p,m){return m instanceof u?m:new u(p,{secret:m})},u.prototype.secret=function(){return this._secret},a(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(u,"privBytes",function(){var p=this.eddsa,m=this.hash(),y=p.encodingLength-1,w=m.slice(0,p.encodingLength);return w[0]&=248,w[y]&=127,w[y]|=64,w}),a(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(p){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(p,this)},u.prototype.verify=function(p,m){return this.eddsa.verify(p,m,this)},u.prototype.getSecret=function(p){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),p)},u.prototype.getPublic=function(p){return t.encode(this.pubBytes(),p)},key$2=u,key$2}var signature$2,hasRequiredSignature$2;function requireSignature$2(){if(hasRequiredSignature$2)return signature$2;hasRequiredSignature$2=1;var t=requireBn$4(),e=requireUtils$1(),n=e.assert,a=e.cachedProperty,u=e.parseBytes;function o(p,m){this.eddsa=p,typeof m!="object"&&(m=u(m)),Array.isArray(m)&&(m={R:m.slice(0,p.encodingLength),S:m.slice(p.encodingLength)}),n(m.R&&m.S,"Signature without R or S"),p.isPoint(m.R)&&(this._R=m.R),m.S instanceof t&&(this._S=m.S),this._Rencoded=Array.isArray(m.R)?m.R:m.Rencoded,this._Sencoded=Array.isArray(m.S)?m.S:m.Sencoded}return a(o,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(o,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(o,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(o,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),o.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},o.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},signature$2=o,signature$2}var eddsa$1,hasRequiredEddsa$1;function requireEddsa$1(){if(hasRequiredEddsa$1)return eddsa$1;hasRequiredEddsa$1=1;var t=hash$3,e=requireCurves$1(),n=requireUtils$1(),a=n.assert,u=n.parseBytes,o=requireKey$2(),p=requireSignature$2();function m(y){if(a(y==="ed25519","only tested with ed25519 so far"),!(this instanceof m))return new m(y);y=e[y].curve,this.curve=y,this.g=y.g,this.g.precompute(y.n.bitLength()+1),this.pointClass=y.point().constructor,this.encodingLength=Math.ceil(y.n.bitLength()/8),this.hash=t.sha512}return eddsa$1=m,m.prototype.sign=function(w,_){w=u(w);var M=this.keyFromSecret(_),T=this.hashInt(M.messagePrefix(),w),B=this.g.mul(T),P=this.encodePoint(B),C=this.hashInt(P,M.pubBytes(),w).mul(M.priv()),L=T.add(C).umod(this.curve.n);return this.makeSignature({R:B,S:L,Rencoded:P})},m.prototype.verify=function(w,_,M){w=u(w),_=this.makeSignature(_);var T=this.keyFromPublic(M),B=this.hashInt(_.Rencoded(),T.pubBytes(),w),P=this.g.mul(_.S()),C=_.R().add(T.pub().mul(B));return C.eq(P)},m.prototype.hashInt=function(){for(var w=this.hash(),_=0;_<arguments.length;_++)w.update(arguments[_]);return n.intFromLE(w.digest()).umod(this.curve.n)},m.prototype.keyFromPublic=function(w){return o.fromPublic(this,w)},m.prototype.keyFromSecret=function(w){return o.fromSecret(this,w)},m.prototype.makeSignature=function(w){return w instanceof p?w:new p(this,w)},m.prototype.encodePoint=function(w){var _=w.getY().toArray("le",this.encodingLength);return _[this.encodingLength-1]|=w.getX().isOdd()?128:0,_},m.prototype.decodePoint=function(w){w=n.parseBytes(w);var _=w.length-1,M=w.slice(0,_).concat(w[_]&-129),T=(w[_]&128)!==0,B=n.intFromLE(M);return this.curve.pointFromY(B,T)},m.prototype.encodeInt=function(w){return w.toArray("le",this.encodingLength)},m.prototype.decodeInt=function(w){return n.intFromLE(w)},m.prototype.isPoint=function(w){return w instanceof this.pointClass},eddsa$1}var hasRequiredElliptic$1;function requireElliptic$1(){return hasRequiredElliptic$1||(hasRequiredElliptic$1=1,function(t){var e=t;e.version=require$$0$1.version,e.utils=requireUtils$1(),e.rand=requireBrorand(),e.curve=requireCurve$1(),e.curves=requireCurves$1(),e.ec=requireEc$1(),e.eddsa=requireEddsa$1()}(elliptic$1)),elliptic$1}var asn1$1={},asn1={},bn$3={exports:{}};bn$3.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(t){(function(e,n){function a(k,c){if(!k)throw new Error(c||"Assertion failed")}function u(k,c){k.super_=c;var d=function(){};d.prototype=c.prototype,k.prototype=new d,k.prototype.constructor=k}function o(k,c,d){if(o.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(k||0,c||10,d||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$4.Buffer}catch{}o.isBN=function(c){return c instanceof o?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===o.wordSize&&Array.isArray(c.words)},o.max=function(c,d){return c.cmp(d)>0?c:d},o.min=function(c,d){return c.cmp(d)<0?c:d},o.prototype._init=function(c,d,b){if(typeof c=="number")return this._initNumber(c,d,b);if(typeof c=="object")return this._initArray(c,d,b);d==="hex"&&(d=16),a(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,b):(this._parseBase(c,d,v),b==="le"&&this._initArray(this.toArray(),d,b)))},o.prototype._initNumber=function(c,d,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(a(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},o.prototype._initArray=function(c,d,b){if(a(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,$,I=0;if(b==="be")for(v=c.length-1,A=0;v>=0;v-=3)$=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);else if(b==="le")for(v=0,A=0;v<c.length;v+=3)$=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);return this.strip()};function m(k,c){var d=k.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function y(k,c,d){var b=m(k,d);return d-1>=c&&(b|=m(k,d-1)<<4),b}o.prototype._parseHex=function(c,d,b){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,$=0,I;if(b==="be")for(v=c.length-1;v>=d;v-=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8;else{var S=c.length-d;for(v=S%2===0?d+1:d;v<c.length;v+=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8}this.strip()};function w(k,c,d,b){for(var v=0,A=Math.min(k.length,d),$=c;$<A;$++){var I=k.charCodeAt($)-48;v*=b,I>=49?v+=I-49+10:I>=17?v+=I-17+10:v+=I}return v}o.prototype._parseBase=function(c,d,b){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=d)v++;v--,A=A/d|0;for(var $=c.length-b,I=$%v,S=Math.min($,$-I)+b,l=0,E=b;E<S;E+=v)l=w(c,E,E+v,d),this.imuln(A),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var O=1;for(l=w(c,E,c.length,d),E=0;E<I;E++)O*=d;this.imuln(O),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},o.prototype.clone=function(){var c=new o(null);return this.copy(c),c},o.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(c,d){c=c||10,d=d|0||1;var b;if(c===16||c==="hex"){b="";for(var v=0,A=0,$=0;$<this.length;$++){var I=this.words[$],S=((I<<v|A)&16777215).toString(16);A=I>>>24-v&16777215,A!==0||$!==this.length-1?b=_[6-S.length]+S+b:b=S+b,v+=2,v>=26&&(v-=26,$--)}for(A!==0&&(b=A.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var l=M[c],E=T[c];b="";var O=this.clone();for(O.negative=0;!O.isZero();){var D=O.modn(E).toString(c);O=O.idivn(E),O.isZero()?b=D+b:b=_[l-D.length]+D+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}a(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(c,d){return a(typeof p<"u"),this.toArrayLike(p,c,d)},o.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)},o.prototype.toArrayLike=function(c,d,b){var v=this.byteLength(),A=b||Math.max(1,v);a(v<=A,"byte array longer than desired length"),a(A>0,"Requested array length <= 0"),this.strip();var $=d==="le",I=new c(A),S,l,E=this.clone();if($){for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[l]=S;for(;l<A;l++)I[l]=0}else{for(l=0;l<A-v;l++)I[l]=0;for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[A-l-1]=S}return I},Math.clz32?o.prototype._countBits=function(c){return 32-Math.clz32(c)}:o.prototype._countBits=function(c){var d=c,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},o.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},o.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function B(k){for(var c=new Array(k.bitLength()),d=0;d<c.length;d++){var b=d/26|0,v=d%26;c[d]=(k.words[b]&1<<v)>>>v}return c}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(c+=b,b!==26)break}return c},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},o.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},o.prototype.ior=function(c){return a((this.negative|c.negative)===0),this.iuor(c)},o.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},o.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},o.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=d.length,this.strip()},o.prototype.iand=function(c){return a((this.negative|c.negative)===0),this.iuand(c)},o.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},o.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},o.prototype.iuxor=function(c){var d,b;this.length>c.length?(d=this,b=c):(d=c,b=this);for(var v=0;v<b.length;v++)this.words[v]=d.words[v]^b.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(c){return a((this.negative|c.negative)===0),this.iuxor(c)},o.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},o.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},o.prototype.inotn=function(c){a(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,b=c%26;this._expand(d),b>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},o.prototype.notn=function(c){return this.clone().inotn(c)},o.prototype.setn=function(c,d){a(typeof c=="number"&&c>=0);var b=c/26|0,v=c%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},o.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var b,v;this.length>c.length?(b=this,v=c):(b=c,v=this);for(var A=0,$=0;$<v.length;$++)d=(b.words[$]|0)+(v.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;for(;A!==0&&$<b.length;$++)d=(b.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;if(this.length=b.length,A!==0)this.words[this.length]=A,this.length++;else if(b!==this)for(;$<b.length;$++)this.words[$]=b.words[$];return this},o.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},o.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;b>0?(v=this,A=c):(v=c,A=this);for(var $=0,I=0;I<A.length;I++)d=(v.words[I]|0)-(A.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;for(;$!==0&&I<v.length;I++)d=(v.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;if($===0&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(c){return this.clone().isub(c)};function P(k,c,d){d.negative=c.negative^k.negative;var b=k.length+c.length|0;d.length=b,b=b-1|0;var v=k.words[0]|0,A=c.words[0]|0,$=v*A,I=$&67108863,S=$/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var E=S>>>26,O=S&67108863,D=Math.min(l,c.length-1),Y=Math.max(0,l-k.length+1);Y<=D;Y++){var F=l-Y|0;v=k.words[F]|0,A=c.words[Y]|0,$=v*A+O,E+=$/67108864|0,O=$&67108863}d.words[l]=O|0,S=E|0}return S!==0?d.words[l]=S|0:d.length--,d.strip()}var C=function(c,d,b){var v=c.words,A=d.words,$=b.words,I=0,S,l,E,O=v[0]|0,D=O&8191,Y=O>>>13,F=v[1]|0,V=F&8191,H=F>>>13,ee=v[2]|0,ie=ee&8191,de=ee>>>13,Z=v[3]|0,j=Z&8191,he=Z>>>13,Ae=v[4]|0,_e=Ae&8191,xe=Ae>>>13,Xe=v[5]|0,Re=Xe&8191,we=Xe>>>13,Et=v[6]|0,Ce=Et&8191,ze=Et>>>13,wt=v[7]|0,Ie=wt&8191,Ne=wt>>>13,_t=v[8]|0,Pe=_t&8191,Le=_t>>>13,At=v[9]|0,ae=At&8191,J=At>>>13,re=A[0]|0,le=re&8191,be=re>>>13,Be=A[1]|0,ve=Be&8191,Te=Be>>>13,vt=A[2]|0,ke=vt&8191,Ue=vt>>>13,gt=A[3]|0,qe=gt&8191,Ve=gt>>>13,St=A[4]|0,Fe=St&8191,je=St>>>13,$t=A[5]|0,De=$t&8191,We=$t>>>13,kt=A[6]|0,Oe=kt&8191,Ge=kt>>>13,fe=A[7]|0,oe=fe&8191,ce=fe>>>13,Q=A[8]|0,ue=Q&8191,me=Q>>>13,$e=A[9]|0,ye=$e&8191,Ee=$e>>>13;b.negative=c.negative^d.negative,b.length=19,S=Math.imul(D,le),l=Math.imul(D,be),l=l+Math.imul(Y,le)|0,E=Math.imul(Y,be);var Ze=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(V,le),l=Math.imul(V,be),l=l+Math.imul(H,le)|0,E=Math.imul(H,be),S=S+Math.imul(D,ve)|0,l=l+Math.imul(D,Te)|0,l=l+Math.imul(Y,ve)|0,E=E+Math.imul(Y,Te)|0;var Ye=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(ie,le),l=Math.imul(ie,be),l=l+Math.imul(de,le)|0,E=Math.imul(de,be),S=S+Math.imul(V,ve)|0,l=l+Math.imul(V,Te)|0,l=l+Math.imul(H,ve)|0,E=E+Math.imul(H,Te)|0,S=S+Math.imul(D,ke)|0,l=l+Math.imul(D,Ue)|0,l=l+Math.imul(Y,ke)|0,E=E+Math.imul(Y,Ue)|0;var xt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(j,le),l=Math.imul(j,be),l=l+Math.imul(he,le)|0,E=Math.imul(he,be),S=S+Math.imul(ie,ve)|0,l=l+Math.imul(ie,Te)|0,l=l+Math.imul(de,ve)|0,E=E+Math.imul(de,Te)|0,S=S+Math.imul(V,ke)|0,l=l+Math.imul(V,Ue)|0,l=l+Math.imul(H,ke)|0,E=E+Math.imul(H,Ue)|0,S=S+Math.imul(D,qe)|0,l=l+Math.imul(D,Ve)|0,l=l+Math.imul(Y,qe)|0,E=E+Math.imul(Y,Ve)|0;var rt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,S=Math.imul(_e,le),l=Math.imul(_e,be),l=l+Math.imul(xe,le)|0,E=Math.imul(xe,be),S=S+Math.imul(j,ve)|0,l=l+Math.imul(j,Te)|0,l=l+Math.imul(he,ve)|0,E=E+Math.imul(he,Te)|0,S=S+Math.imul(ie,ke)|0,l=l+Math.imul(ie,Ue)|0,l=l+Math.imul(de,ke)|0,E=E+Math.imul(de,Ue)|0,S=S+Math.imul(V,qe)|0,l=l+Math.imul(V,Ve)|0,l=l+Math.imul(H,qe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(D,Fe)|0,l=l+Math.imul(D,je)|0,l=l+Math.imul(Y,Fe)|0,E=E+Math.imul(Y,je)|0;var lt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Re,le),l=Math.imul(Re,be),l=l+Math.imul(we,le)|0,E=Math.imul(we,be),S=S+Math.imul(_e,ve)|0,l=l+Math.imul(_e,Te)|0,l=l+Math.imul(xe,ve)|0,E=E+Math.imul(xe,Te)|0,S=S+Math.imul(j,ke)|0,l=l+Math.imul(j,Ue)|0,l=l+Math.imul(he,ke)|0,E=E+Math.imul(he,Ue)|0,S=S+Math.imul(ie,qe)|0,l=l+Math.imul(ie,Ve)|0,l=l+Math.imul(de,qe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(V,Fe)|0,l=l+Math.imul(V,je)|0,l=l+Math.imul(H,Fe)|0,E=E+Math.imul(H,je)|0,S=S+Math.imul(D,De)|0,l=l+Math.imul(D,We)|0,l=l+Math.imul(Y,De)|0,E=E+Math.imul(Y,We)|0;var dt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Ce,le),l=Math.imul(Ce,be),l=l+Math.imul(ze,le)|0,E=Math.imul(ze,be),S=S+Math.imul(Re,ve)|0,l=l+Math.imul(Re,Te)|0,l=l+Math.imul(we,ve)|0,E=E+Math.imul(we,Te)|0,S=S+Math.imul(_e,ke)|0,l=l+Math.imul(_e,Ue)|0,l=l+Math.imul(xe,ke)|0,E=E+Math.imul(xe,Ue)|0,S=S+Math.imul(j,qe)|0,l=l+Math.imul(j,Ve)|0,l=l+Math.imul(he,qe)|0,E=E+Math.imul(he,Ve)|0,S=S+Math.imul(ie,Fe)|0,l=l+Math.imul(ie,je)|0,l=l+Math.imul(de,Fe)|0,E=E+Math.imul(de,je)|0,S=S+Math.imul(V,De)|0,l=l+Math.imul(V,We)|0,l=l+Math.imul(H,De)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(D,Oe)|0,l=l+Math.imul(D,Ge)|0,l=l+Math.imul(Y,Oe)|0,E=E+Math.imul(Y,Ge)|0;var ht=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(Ie,le),l=Math.imul(Ie,be),l=l+Math.imul(Ne,le)|0,E=Math.imul(Ne,be),S=S+Math.imul(Ce,ve)|0,l=l+Math.imul(Ce,Te)|0,l=l+Math.imul(ze,ve)|0,E=E+Math.imul(ze,Te)|0,S=S+Math.imul(Re,ke)|0,l=l+Math.imul(Re,Ue)|0,l=l+Math.imul(we,ke)|0,E=E+Math.imul(we,Ue)|0,S=S+Math.imul(_e,qe)|0,l=l+Math.imul(_e,Ve)|0,l=l+Math.imul(xe,qe)|0,E=E+Math.imul(xe,Ve)|0,S=S+Math.imul(j,Fe)|0,l=l+Math.imul(j,je)|0,l=l+Math.imul(he,Fe)|0,E=E+Math.imul(he,je)|0,S=S+Math.imul(ie,De)|0,l=l+Math.imul(ie,We)|0,l=l+Math.imul(de,De)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(V,Oe)|0,l=l+Math.imul(V,Ge)|0,l=l+Math.imul(H,Oe)|0,E=E+Math.imul(H,Ge)|0,S=S+Math.imul(D,oe)|0,l=l+Math.imul(D,ce)|0,l=l+Math.imul(Y,oe)|0,E=E+Math.imul(Y,ce)|0;var yt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Pe,le),l=Math.imul(Pe,be),l=l+Math.imul(Le,le)|0,E=Math.imul(Le,be),S=S+Math.imul(Ie,ve)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(Ne,ve)|0,E=E+Math.imul(Ne,Te)|0,S=S+Math.imul(Ce,ke)|0,l=l+Math.imul(Ce,Ue)|0,l=l+Math.imul(ze,ke)|0,E=E+Math.imul(ze,Ue)|0,S=S+Math.imul(Re,qe)|0,l=l+Math.imul(Re,Ve)|0,l=l+Math.imul(we,qe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(_e,Fe)|0,l=l+Math.imul(_e,je)|0,l=l+Math.imul(xe,Fe)|0,E=E+Math.imul(xe,je)|0,S=S+Math.imul(j,De)|0,l=l+Math.imul(j,We)|0,l=l+Math.imul(he,De)|0,E=E+Math.imul(he,We)|0,S=S+Math.imul(ie,Oe)|0,l=l+Math.imul(ie,Ge)|0,l=l+Math.imul(de,Oe)|0,E=E+Math.imul(de,Ge)|0,S=S+Math.imul(V,oe)|0,l=l+Math.imul(V,ce)|0,l=l+Math.imul(H,oe)|0,E=E+Math.imul(H,ce)|0,S=S+Math.imul(D,ue)|0,l=l+Math.imul(D,me)|0,l=l+Math.imul(Y,ue)|0,E=E+Math.imul(Y,me)|0;var pt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(pt>>>26)|0,pt&=67108863,S=Math.imul(ae,le),l=Math.imul(ae,be),l=l+Math.imul(J,le)|0,E=Math.imul(J,be),S=S+Math.imul(Pe,ve)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(Le,ve)|0,E=E+Math.imul(Le,Te)|0,S=S+Math.imul(Ie,ke)|0,l=l+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ne,ke)|0,E=E+Math.imul(Ne,Ue)|0,S=S+Math.imul(Ce,qe)|0,l=l+Math.imul(Ce,Ve)|0,l=l+Math.imul(ze,qe)|0,E=E+Math.imul(ze,Ve)|0,S=S+Math.imul(Re,Fe)|0,l=l+Math.imul(Re,je)|0,l=l+Math.imul(we,Fe)|0,E=E+Math.imul(we,je)|0,S=S+Math.imul(_e,De)|0,l=l+Math.imul(_e,We)|0,l=l+Math.imul(xe,De)|0,E=E+Math.imul(xe,We)|0,S=S+Math.imul(j,Oe)|0,l=l+Math.imul(j,Ge)|0,l=l+Math.imul(he,Oe)|0,E=E+Math.imul(he,Ge)|0,S=S+Math.imul(ie,oe)|0,l=l+Math.imul(ie,ce)|0,l=l+Math.imul(de,oe)|0,E=E+Math.imul(de,ce)|0,S=S+Math.imul(V,ue)|0,l=l+Math.imul(V,me)|0,l=l+Math.imul(H,ue)|0,E=E+Math.imul(H,me)|0,S=S+Math.imul(D,ye)|0,l=l+Math.imul(D,Ee)|0,l=l+Math.imul(Y,ye)|0,E=E+Math.imul(Y,Ee)|0;var mt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(ae,ve),l=Math.imul(ae,Te),l=l+Math.imul(J,ve)|0,E=Math.imul(J,Te),S=S+Math.imul(Pe,ke)|0,l=l+Math.imul(Pe,Ue)|0,l=l+Math.imul(Le,ke)|0,E=E+Math.imul(Le,Ue)|0,S=S+Math.imul(Ie,qe)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(Ne,qe)|0,E=E+Math.imul(Ne,Ve)|0,S=S+Math.imul(Ce,Fe)|0,l=l+Math.imul(Ce,je)|0,l=l+Math.imul(ze,Fe)|0,E=E+Math.imul(ze,je)|0,S=S+Math.imul(Re,De)|0,l=l+Math.imul(Re,We)|0,l=l+Math.imul(we,De)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(_e,Oe)|0,l=l+Math.imul(_e,Ge)|0,l=l+Math.imul(xe,Oe)|0,E=E+Math.imul(xe,Ge)|0,S=S+Math.imul(j,oe)|0,l=l+Math.imul(j,ce)|0,l=l+Math.imul(he,oe)|0,E=E+Math.imul(he,ce)|0,S=S+Math.imul(ie,ue)|0,l=l+Math.imul(ie,me)|0,l=l+Math.imul(de,ue)|0,E=E+Math.imul(de,me)|0,S=S+Math.imul(V,ye)|0,l=l+Math.imul(V,Ee)|0,l=l+Math.imul(H,ye)|0,E=E+Math.imul(H,Ee)|0;var bt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(bt>>>26)|0,bt&=67108863,S=Math.imul(ae,ke),l=Math.imul(ae,Ue),l=l+Math.imul(J,ke)|0,E=Math.imul(J,Ue),S=S+Math.imul(Pe,qe)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(Le,qe)|0,E=E+Math.imul(Le,Ve)|0,S=S+Math.imul(Ie,Fe)|0,l=l+Math.imul(Ie,je)|0,l=l+Math.imul(Ne,Fe)|0,E=E+Math.imul(Ne,je)|0,S=S+Math.imul(Ce,De)|0,l=l+Math.imul(Ce,We)|0,l=l+Math.imul(ze,De)|0,E=E+Math.imul(ze,We)|0,S=S+Math.imul(Re,Oe)|0,l=l+Math.imul(Re,Ge)|0,l=l+Math.imul(we,Oe)|0,E=E+Math.imul(we,Ge)|0,S=S+Math.imul(_e,oe)|0,l=l+Math.imul(_e,ce)|0,l=l+Math.imul(xe,oe)|0,E=E+Math.imul(xe,ce)|0,S=S+Math.imul(j,ue)|0,l=l+Math.imul(j,me)|0,l=l+Math.imul(he,ue)|0,E=E+Math.imul(he,me)|0,S=S+Math.imul(ie,ye)|0,l=l+Math.imul(ie,Ee)|0,l=l+Math.imul(de,ye)|0,E=E+Math.imul(de,Ee)|0;var nt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(ae,qe),l=Math.imul(ae,Ve),l=l+Math.imul(J,qe)|0,E=Math.imul(J,Ve),S=S+Math.imul(Pe,Fe)|0,l=l+Math.imul(Pe,je)|0,l=l+Math.imul(Le,Fe)|0,E=E+Math.imul(Le,je)|0,S=S+Math.imul(Ie,De)|0,l=l+Math.imul(Ie,We)|0,l=l+Math.imul(Ne,De)|0,E=E+Math.imul(Ne,We)|0,S=S+Math.imul(Ce,Oe)|0,l=l+Math.imul(Ce,Ge)|0,l=l+Math.imul(ze,Oe)|0,E=E+Math.imul(ze,Ge)|0,S=S+Math.imul(Re,oe)|0,l=l+Math.imul(Re,ce)|0,l=l+Math.imul(we,oe)|0,E=E+Math.imul(we,ce)|0,S=S+Math.imul(_e,ue)|0,l=l+Math.imul(_e,me)|0,l=l+Math.imul(xe,ue)|0,E=E+Math.imul(xe,me)|0,S=S+Math.imul(j,ye)|0,l=l+Math.imul(j,Ee)|0,l=l+Math.imul(he,ye)|0,E=E+Math.imul(he,Ee)|0;var ct=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,S=Math.imul(ae,Fe),l=Math.imul(ae,je),l=l+Math.imul(J,Fe)|0,E=Math.imul(J,je),S=S+Math.imul(Pe,De)|0,l=l+Math.imul(Pe,We)|0,l=l+Math.imul(Le,De)|0,E=E+Math.imul(Le,We)|0,S=S+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,Ge)|0,l=l+Math.imul(Ne,Oe)|0,E=E+Math.imul(Ne,Ge)|0,S=S+Math.imul(Ce,oe)|0,l=l+Math.imul(Ce,ce)|0,l=l+Math.imul(ze,oe)|0,E=E+Math.imul(ze,ce)|0,S=S+Math.imul(Re,ue)|0,l=l+Math.imul(Re,me)|0,l=l+Math.imul(we,ue)|0,E=E+Math.imul(we,me)|0,S=S+Math.imul(_e,ye)|0,l=l+Math.imul(_e,Ee)|0,l=l+Math.imul(xe,ye)|0,E=E+Math.imul(xe,Ee)|0;var it=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(ae,De),l=Math.imul(ae,We),l=l+Math.imul(J,De)|0,E=Math.imul(J,We),S=S+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,Ge)|0,l=l+Math.imul(Le,Oe)|0,E=E+Math.imul(Le,Ge)|0,S=S+Math.imul(Ie,oe)|0,l=l+Math.imul(Ie,ce)|0,l=l+Math.imul(Ne,oe)|0,E=E+Math.imul(Ne,ce)|0,S=S+Math.imul(Ce,ue)|0,l=l+Math.imul(Ce,me)|0,l=l+Math.imul(ze,ue)|0,E=E+Math.imul(ze,me)|0,S=S+Math.imul(Re,ye)|0,l=l+Math.imul(Re,Ee)|0,l=l+Math.imul(we,ye)|0,E=E+Math.imul(we,Ee)|0;var at=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(ae,Oe),l=Math.imul(ae,Ge),l=l+Math.imul(J,Oe)|0,E=Math.imul(J,Ge),S=S+Math.imul(Pe,oe)|0,l=l+Math.imul(Pe,ce)|0,l=l+Math.imul(Le,oe)|0,E=E+Math.imul(Le,ce)|0,S=S+Math.imul(Ie,ue)|0,l=l+Math.imul(Ie,me)|0,l=l+Math.imul(Ne,ue)|0,E=E+Math.imul(Ne,me)|0,S=S+Math.imul(Ce,ye)|0,l=l+Math.imul(Ce,Ee)|0,l=l+Math.imul(ze,ye)|0,E=E+Math.imul(ze,Ee)|0;var st=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(ae,oe),l=Math.imul(ae,ce),l=l+Math.imul(J,oe)|0,E=Math.imul(J,ce),S=S+Math.imul(Pe,ue)|0,l=l+Math.imul(Pe,me)|0,l=l+Math.imul(Le,ue)|0,E=E+Math.imul(Le,me)|0,S=S+Math.imul(Ie,ye)|0,l=l+Math.imul(Ie,Ee)|0,l=l+Math.imul(Ne,ye)|0,E=E+Math.imul(Ne,Ee)|0;var tt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(ae,ue),l=Math.imul(ae,me),l=l+Math.imul(J,ue)|0,E=Math.imul(J,me),S=S+Math.imul(Pe,ye)|0,l=l+Math.imul(Pe,Ee)|0,l=l+Math.imul(Le,ye)|0,E=E+Math.imul(Le,Ee)|0;var He=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(He>>>26)|0,He&=67108863,S=Math.imul(ae,ye),l=Math.imul(ae,Ee),l=l+Math.imul(J,ye)|0,E=Math.imul(J,Ee);var Ke=(I+S|0)+((l&8191)<<13)|0;return I=(E+(l>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,$[0]=Ze,$[1]=Ye,$[2]=xt,$[3]=rt,$[4]=lt,$[5]=dt,$[6]=ht,$[7]=yt,$[8]=pt,$[9]=mt,$[10]=bt,$[11]=nt,$[12]=ct,$[13]=it,$[14]=at,$[15]=st,$[16]=tt,$[17]=He,$[18]=Ke,I!==0&&($[19]=I,b.length++),b};Math.imul||(C=P);function L(k,c,d){d.negative=c.negative^k.negative,d.length=k.length+c.length;for(var b=0,v=0,A=0;A<d.length-1;A++){var $=v;v=0;for(var I=b&67108863,S=Math.min(A,c.length-1),l=Math.max(0,A-k.length+1);l<=S;l++){var E=A-l,O=k.words[E]|0,D=c.words[l]|0,Y=O*D,F=Y&67108863;$=$+(Y/67108864|0)|0,F=F+I|0,I=F&67108863,$=$+(F>>>26)|0,v+=$>>>26,$&=67108863}d.words[A]=I,b=$,$=v}return b!==0?d.words[A]=b:d.length--,d.strip()}function U(k,c,d){var b=new q;return b.mulp(k,c,d)}o.prototype.mulTo=function(c,d){var b,v=this.length+c.length;return this.length===10&&c.length===10?b=C(this,c,d):v<63?b=P(this,c,d):v<1024?b=L(this,c,d):b=U(this,c,d),b};function q(k,c){this.x=k,this.y=c}q.prototype.makeRBT=function(c){for(var d=new Array(c),b=o.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,b,c);return d},q.prototype.revBin=function(c,d,b){if(c===0||c===b-1)return c;for(var v=0,A=0;A<d;A++)v|=(c&1)<<d-A-1,c>>=1;return v},q.prototype.permute=function(c,d,b,v,A,$){for(var I=0;I<$;I++)v[I]=d[c[I]],A[I]=b[c[I]]},q.prototype.transform=function(c,d,b,v,A,$){this.permute($,c,d,b,v,A);for(var I=1;I<A;I<<=1)for(var S=I<<1,l=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),O=0;O<A;O+=S)for(var D=l,Y=E,F=0;F<I;F++){var V=b[O+F],H=v[O+F],ee=b[O+F+I],ie=v[O+F+I],de=D*ee-Y*ie;ie=D*ie+Y*ee,ee=de,b[O+F]=V+ee,v[O+F]=H+ie,b[O+F+I]=V-ee,v[O+F+I]=H-ie,F!==S&&(de=l*D-E*Y,Y=l*Y+E*D,D=de)}},q.prototype.guessLen13b=function(c,d){var b=Math.max(d,c)|1,v=b&1,A=0;for(b=b/2|0;b;b=b>>>1)A++;return 1<<A+1+v},q.prototype.conjugate=function(c,d,b){if(!(b<=1))for(var v=0;v<b/2;v++){var A=c[v];c[v]=c[b-v-1],c[b-v-1]=A,A=d[v],d[v]=-d[b-v-1],d[b-v-1]=-A}},q.prototype.normalize13b=function(c,d){for(var b=0,v=0;v<d/2;v++){var A=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+b;c[v]=A&67108863,A<67108864?b=0:b=A/67108864|0}return c},q.prototype.convert13b=function(c,d,b,v){for(var A=0,$=0;$<d;$++)A=A+(c[$]|0),b[2*$]=A&8191,A=A>>>13,b[2*$+1]=A&8191,A=A>>>13;for($=2*d;$<v;++$)b[$]=0;a(A===0),a((A&-8192)===0)},q.prototype.stub=function(c){for(var d=new Array(c),b=0;b<c;b++)d[b]=0;return d},q.prototype.mulp=function(c,d,b){var v=2*this.guessLen13b(c.length,d.length),A=this.makeRBT(v),$=this.stub(v),I=new Array(v),S=new Array(v),l=new Array(v),E=new Array(v),O=new Array(v),D=new Array(v),Y=b.words;Y.length=v,this.convert13b(c.words,c.length,I,v),this.convert13b(d.words,d.length,E,v),this.transform(I,$,S,l,v,A),this.transform(E,$,O,D,v,A);for(var F=0;F<v;F++){var V=S[F]*O[F]-l[F]*D[F];l[F]=S[F]*D[F]+l[F]*O[F],S[F]=V}return this.conjugate(S,l,v),this.transform(S,l,Y,$,v,A),this.conjugate(Y,$,v),this.normalize13b(Y,v),b.negative=c.negative^d.negative,b.length=c.length+d.length,b.strip()},o.prototype.mul=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},o.prototype.mulf=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),U(this,c,d)},o.prototype.imul=function(c){return this.clone().mulTo(c,this)},o.prototype.imuln=function(c){a(typeof c=="number"),a(c<67108864);for(var d=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*c,A=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=A>>>26,this.words[b]=A&67108863}return d!==0&&(this.words[b]=d,this.length++),this},o.prototype.muln=function(c){return this.clone().imuln(c)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(c){var d=B(c);if(d.length===0)return new o(1);for(var b=this,v=0;v<d.length&&d[v]===0;v++,b=b.sqr());if(++v<d.length)for(var A=b.sqr();v<d.length;v++,A=A.sqr())d[v]!==0&&(b=b.mul(A));return b},o.prototype.iushln=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=67108863>>>26-d<<26-d,A;if(d!==0){var $=0;for(A=0;A<this.length;A++){var I=this.words[A]&v,S=(this.words[A]|0)-I<<d;this.words[A]=S|$,$=I>>>26-d}$&&(this.words[A]=$,this.length++)}if(b!==0){for(A=this.length-1;A>=0;A--)this.words[A+b]=this.words[A];for(A=0;A<b;A++)this.words[A]=0;this.length+=b}return this.strip()},o.prototype.ishln=function(c){return a(this.negative===0),this.iushln(c)},o.prototype.iushrn=function(c,d,b){a(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var A=c%26,$=Math.min((c-A)/26,this.length),I=67108863^67108863>>>A<<A,S=b;if(v-=$,v=Math.max(0,v),S){for(var l=0;l<$;l++)S.words[l]=this.words[l];S.length=$}if($!==0)if(this.length>$)for(this.length-=$,l=0;l<this.length;l++)this.words[l]=this.words[l+$];else this.words[0]=0,this.length=1;var E=0;for(l=this.length-1;l>=0&&(E!==0||l>=v);l--){var O=this.words[l]|0;this.words[l]=E<<26-A|O>>>A,E=O&I}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(c,d,b){return a(this.negative===0),this.iushrn(c,d,b)},o.prototype.shln=function(c){return this.clone().ishln(c)},o.prototype.ushln=function(c){return this.clone().iushln(c)},o.prototype.shrn=function(c){return this.clone().ishrn(c)},o.prototype.ushrn=function(c){return this.clone().iushrn(c)},o.prototype.testn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return!1;var A=this.words[b];return!!(A&v)},o.prototype.imaskn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(c){return this.clone().imaskn(c)},o.prototype.iaddn=function(c){return a(typeof c=="number"),a(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},o.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(c){if(a(typeof c=="number"),a(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(c){return this.clone().iaddn(c)},o.prototype.subn=function(c){return this.clone().isubn(c)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(c,d,b){var v=c.length+b,A;this._expand(v);var $,I=0;for(A=0;A<c.length;A++){$=(this.words[A+b]|0)+I;var S=(c.words[A]|0)*d;$-=S&67108863,I=($>>26)-(S/67108864|0),this.words[A+b]=$&67108863}for(;A<this.length-b;A++)$=(this.words[A+b]|0)+I,I=$>>26,this.words[A+b]=$&67108863;if(I===0)return this.strip();for(a(I===-1),I=0,A=0;A<this.length;A++)$=-(this.words[A]|0)+I,I=$>>26,this.words[A]=$&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(c,d){var b=this.length-c.length,v=this.clone(),A=c,$=A.words[A.length-1]|0,I=this._countBits($);b=26-I,b!==0&&(A=A.ushln(b),v.iushln(b),$=A.words[A.length-1]|0);var S=v.length-A.length,l;if(d!=="mod"){l=new o(null),l.length=S+1,l.words=new Array(l.length);for(var E=0;E<l.length;E++)l.words[E]=0}var O=v.clone()._ishlnsubmul(A,1,S);O.negative===0&&(v=O,l&&(l.words[S]=1));for(var D=S-1;D>=0;D--){var Y=(v.words[A.length+D]|0)*67108864+(v.words[A.length+D-1]|0);for(Y=Math.min(Y/$|0,67108863),v._ishlnsubmul(A,Y,D);v.negative!==0;)Y--,v.negative=0,v._ishlnsubmul(A,1,D),v.isZero()||(v.negative^=1);l&&(l.words[D]=Y)}return l&&l.strip(),v.strip(),d!=="div"&&b!==0&&v.iushrn(b),{div:l||null,mod:v}},o.prototype.divmod=function(c,d,b){if(a(!c.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,A,$;return this.negative!==0&&c.negative===0?($=this.neg().divmod(c,d),d!=="mod"&&(v=$.div.neg()),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.iadd(c)),{div:v,mod:A}):this.negative===0&&c.negative!==0?($=this.divmod(c.neg(),d),d!=="mod"&&(v=$.div.neg()),{div:v,mod:$.mod}):this.negative&c.negative?($=this.neg().divmod(c.neg(),d),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.isub(c)),{div:$.div,mod:A}):c.length>this.length||this.cmp(c)<0?{div:new o(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new o(this.modn(c.words[0]))}:this._wordDiv(c,d)},o.prototype.div=function(c){return this.divmod(c,"div",!1).div},o.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},o.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},o.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),A=c.andln(1),$=b.cmp(v);return $<0||A===1&&$===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(c){a(c<=67108863);for(var d=(1<<26)%c,b=0,v=this.length-1;v>=0;v--)b=(d*b+(this.words[v]|0))%c;return b},o.prototype.idivn=function(c){a(c<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+d*67108864;this.words[b]=v/c|0,d=v%c}return this.strip()},o.prototype.divn=function(c){return this.clone().idivn(c)},o.prototype.egcd=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=new o(0),I=new o(1),S=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++S;for(var l=b.clone(),E=d.clone();!d.isZero();){for(var O=0,D=1;!(d.words[0]&D)&&O<26;++O,D<<=1);if(O>0)for(d.iushrn(O);O-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(l),A.isub(E)),v.iushrn(1),A.iushrn(1);for(var Y=0,F=1;!(b.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(b.iushrn(Y);Y-- >0;)($.isOdd()||I.isOdd())&&($.iadd(l),I.isub(E)),$.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub($),A.isub(I)):(b.isub(d),$.isub(v),I.isub(A))}return{a:$,b:I,gcd:b.iushln(S)}},o.prototype._invmp=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,S=1;!(d.words[0]&S)&&I<26;++I,S<<=1);if(I>0)for(d.iushrn(I);I-- >0;)v.isOdd()&&v.iadd($),v.iushrn(1);for(var l=0,E=1;!(b.words[0]&E)&&l<26;++l,E<<=1);if(l>0)for(b.iushrn(l);l-- >0;)A.isOdd()&&A.iadd($),A.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub(A)):(b.isub(d),A.isub(v))}var O;return d.cmpn(1)===0?O=v:O=A,O.cmpn(0)<0&&O.iadd(c),O},o.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),b=c.clone();d.negative=0,b.negative=0;for(var v=0;d.isEven()&&b.isEven();v++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var A=d.cmp(b);if(A<0){var $=d;d=b,b=$}else if(A===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(v)},o.prototype.invm=function(c){return this.egcd(c).a.umod(c)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(c){return this.words[0]&c},o.prototype.bincn=function(c){a(typeof c=="number");var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var A=v,$=b;A!==0&&$<this.length;$++){var I=this.words[$]|0;I+=A,A=I>>>26,I&=67108863,this.words[$]=I}return A!==0&&(this.words[$]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(c=-c),a(c<=67108863,"Number is too big");var v=this.words[0]|0;b=v===c?0:v<c?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,A=c.words[b]|0;if(v!==A){v<A?d=-1:v>A&&(d=1);break}}return d},o.prototype.gtn=function(c){return this.cmpn(c)===1},o.prototype.gt=function(c){return this.cmp(c)===1},o.prototype.gten=function(c){return this.cmpn(c)>=0},o.prototype.gte=function(c){return this.cmp(c)>=0},o.prototype.ltn=function(c){return this.cmpn(c)===-1},o.prototype.lt=function(c){return this.cmp(c)===-1},o.prototype.lten=function(c){return this.cmpn(c)<=0},o.prototype.lte=function(c){return this.cmp(c)<=0},o.prototype.eqn=function(c){return this.cmpn(c)===0},o.prototype.eq=function(c){return this.cmp(c)===0},o.red=function(c){return new se(c)},o.prototype.toRed=function(c){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},o.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(c){return this.red=c,this},o.prototype.forceRed=function(c){return a(!this.red,"Already a number in reduction context"),this._forceRed(c)},o.prototype.redAdd=function(c){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},o.prototype.redIAdd=function(c){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},o.prototype.redSub=function(c){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},o.prototype.redISub=function(c){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},o.prototype.redShl=function(c){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},o.prototype.redMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},o.prototype.redIMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},o.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(c){return a(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var G={k256:null,p224:null,p192:null,p25519:null};function X(k,c){this.name=k,this.p=new o(c,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var c=new o(null);return c.words=new Array(Math.ceil(this.n/13)),c},X.prototype.ireduce=function(c){var d=c,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var v=b<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},X.prototype.split=function(c,d){c.iushrn(this.n,0,d)},X.prototype.imulK=function(c){return c.imul(this.k)};function te(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(te,X),te.prototype.split=function(c,d){for(var b=4194303,v=Math.min(c.length,9),A=0;A<v;A++)d.words[A]=c.words[A];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var $=c.words[9];for(d.words[d.length++]=$&b,A=10;A<c.length;A++){var I=c.words[A]|0;c.words[A-10]=(I&b)<<4|$>>>22,$=I}$>>>=22,c.words[A-10]=$,$===0&&c.length>10?c.length-=10:c.length-=9},te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,b=0;b<c.length;b++){var v=c.words[b]|0;d+=v*977,c.words[b]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ne(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(ne,X);function ge(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(ge,X);function pe(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(pe,X),pe.prototype.imulK=function(c){for(var d=0,b=0;b<c.length;b++){var v=(c.words[b]|0)*19+d,A=v&67108863;v>>>=26,c.words[b]=A,d=v}return d!==0&&(c.words[c.length++]=d),c},o._prime=function(c){if(G[c])return G[c];var d;if(c==="k256")d=new te;else if(c==="p224")d=new ne;else if(c==="p192")d=new ge;else if(c==="p25519")d=new pe;else throw new Error("Unknown prime "+c);return G[c]=d,d};function se(k){if(typeof k=="string"){var c=o._prime(k);this.m=c.p,this.prime=c}else a(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}se.prototype._verify1=function(c){a(c.negative===0,"red works only with positives"),a(c.red,"red works only with red numbers")},se.prototype._verify2=function(c,d){a((c.negative|d.negative)===0,"red works only with positives"),a(c.red&&c.red===d.red,"red works only with red numbers")},se.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},se.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},se.prototype.add=function(c,d){this._verify2(c,d);var b=c.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},se.prototype.iadd=function(c,d){this._verify2(c,d);var b=c.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},se.prototype.sub=function(c,d){this._verify2(c,d);var b=c.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},se.prototype.isub=function(c,d){this._verify2(c,d);var b=c.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},se.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},se.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},se.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},se.prototype.isqr=function(c){return this.imul(c,c.clone())},se.prototype.sqr=function(c){return this.mul(c,c)},se.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(a(d%2===1),d===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(c,b)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);a(!v.isZero());var $=new o(1).toRed(this),I=$.redNeg(),S=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);this.pow(l,S).cmp(I)!==0;)l.redIAdd(I);for(var E=this.pow(l,v),O=this.pow(c,v.addn(1).iushrn(1)),D=this.pow(c,v),Y=A;D.cmp($)!==0;){for(var F=D,V=0;F.cmp($)!==0;V++)F=F.redSqr();a(V<Y);var H=this.pow(E,new o(1).iushln(Y-V-1));O=O.redMul(H),E=H.redSqr(),D=D.redMul(E),Y=V}return O},se.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},se.prototype.pow=function(c,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var b=4,v=new Array(1<<b);v[0]=new o(1).toRed(this),v[1]=c;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],c);var $=v[0],I=0,S=0,l=d.bitLength()%26;for(l===0&&(l=26),A=d.length-1;A>=0;A--){for(var E=d.words[A],O=l-1;O>=0;O--){var D=E>>O&1;if($!==v[0]&&($=this.sqr($)),D===0&&I===0){S=0;continue}I<<=1,I|=D,S++,!(S!==b&&(A!==0||O!==0))&&($=this.mul($,v[I]),S=0,I=0)}l=26}return $},se.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},se.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},o.mont=function(c){return new Se(c)};function Se(k){se.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(Se,se),Se.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},Se.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},Se.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new o(0)._forceRed(this);var b=c.mul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,commonjsGlobal)}(bn$3)),bn$3.exports}var api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,n){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch{return function(e,n,a){e[n]=a}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var n=e.contentWindow,a=n.eval,u=n.execScript;!a&&u&&(u.call(n,"null"),a=n.eval),forEach(Object_keys(t),function(m){n[m]=t[m]}),forEach(globals,function(m){t[m]&&(n[m]=t[m])});var o=Object_keys(n),p=a.call(n,this.code);return forEach(Object_keys(n),function(m){(m in t||indexOf(o,m)===-1)&&(t[m]=n[m])}),forEach(globals,function(m){m in t||defineProp(t,m,n[m])}),document.body.removeChild(e),p},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),n=this.runInContext(e);return t&&forEach(Object_keys(e),function(a){t[a]=e[a]}),n},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var n=Script(e);return n[t].apply(n,[].slice.call(arguments,1))}}),exports.isContext=function(t){return t instanceof Context},exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return typeof t=="object"&&forEach(Object_keys(t),function(n){e[n]=t[n]}),e}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(t){var e=requireAsn1$1(),n=inherits_browserExports,a=t;a.define=function(p,m){return new u(p,m)};function u(o,p){this.name=o,this.body=p,this.decoders={},this.encoders={}}u.prototype._createNamed=function(p){var m;try{m=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{m=function(w){this._initNamed(w)}}return n(m,p),m.prototype._initNamed=function(w){p.call(this,w)},new m(this)},u.prototype._getDecoder=function(p){return p=p||"der",this.decoders.hasOwnProperty(p)||(this.decoders[p]=this._createNamed(e.decoders[p])),this.decoders[p]},u.prototype.decode=function(p,m,y){return this._getDecoder(m).decode(p,y)},u.prototype._getEncoder=function(p){return p=p||"der",this.encoders.hasOwnProperty(p)||(this.encoders[p]=this._createNamed(e.encoders[p])),this.encoders[p]},u.prototype.encode=function(p,m,y){return this._getEncoder(m).encode(p,y)}}(api)),api}var base$1={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var t=inherits_browserExports;function e(a){this._reporterState={obj:null,path:[],options:a||{},errors:[]}}reporter.Reporter=e,e.prototype.isError=function(u){return u instanceof n},e.prototype.save=function(){var u=this._reporterState;return{obj:u.obj,pathLen:u.path.length}},e.prototype.restore=function(u){var o=this._reporterState;o.obj=u.obj,o.path=o.path.slice(0,u.pathLen)},e.prototype.enterKey=function(u){return this._reporterState.path.push(u)},e.prototype.exitKey=function(u){var o=this._reporterState;o.path=o.path.slice(0,u-1)},e.prototype.leaveKey=function(u,o,p){var m=this._reporterState;this.exitKey(u),m.obj!==null&&(m.obj[o]=p)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){var u=this._reporterState,o=u.obj;return u.obj={},o},e.prototype.leaveObject=function(u){var o=this._reporterState,p=o.obj;return o.obj=u,p},e.prototype.error=function(u){var o,p=this._reporterState,m=u instanceof n;if(m?o=u:o=new n(p.path.map(function(y){return"["+JSON.stringify(y)+"]"}).join(""),u.message||u,u.stack),!p.options.partial)throw o;return m||p.errors.push(o),o},e.prototype.wrapResult=function(u){var o=this._reporterState;return o.options.partial?{result:this.isError(u)?null:u,errors:o.errors}:u};function n(a,u){this.path=a,this.rethrow(u)}return t(n,Error),n.prototype.rethrow=function(u){if(this.message=u+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var t=inherits_browserExports,e=requireBase$1().Reporter,n=require$$0$4.Buffer;function a(o,p){if(e.call(this,p),!n.isBuffer(o)){this.error("Input not Buffer");return}this.base=o,this.offset=0,this.length=o.length}t(a,e),buffer.DecoderBuffer=a,a.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},a.prototype.restore=function(p){var m=new a(this.base);return m.offset=p.offset,m.length=this.offset,this.offset=p.offset,e.prototype.restore.call(this,p.reporter),m},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(p){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(p||"DecoderBuffer overrun")},a.prototype.skip=function(p,m){if(!(this.offset+p<=this.length))return this.error(m||"DecoderBuffer overrun");var y=new a(this.base);return y._reporterState=this._reporterState,y.offset=this.offset,y.length=this.offset+p,this.offset+=p,y},a.prototype.raw=function(p){return this.base.slice(p?p.offset:this.offset,this.length)};function u(o,p){if(Array.isArray(o))this.length=0,this.value=o.map(function(m){return m instanceof u||(m=new u(m,p)),this.length+=m.length,m},this);else if(typeof o=="number"){if(!(0<=o&&o<=255))return p.error("non-byte EncoderBuffer value");this.value=o,this.length=1}else if(typeof o=="string")this.value=o,this.length=n.byteLength(o);else if(n.isBuffer(o))this.value=o,this.length=o.length;else return p.error("Unsupported type: "+typeof o)}return buffer.EncoderBuffer=u,u.prototype.join=function(p,m){return p||(p=new n(this.length)),m||(m=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(y){y.join(p,m),m+=y.length}):(typeof this.value=="number"?p[m]=this.value:typeof this.value=="string"?p.write(this.value,m):n.isBuffer(this.value)&&this.value.copy(p,m),m+=this.length)),p},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var t=requireBase$1().Reporter,e=requireBase$1().EncoderBuffer,n=requireBase$1().DecoderBuffer,a=minimalisticAssert$1,u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u),p=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function m(w,_){var M={};this._baseState=M,M.enc=w,M.parent=_||null,M.children=null,M.tag=null,M.args=null,M.reverseArgs=null,M.choice=null,M.optional=!1,M.any=!1,M.obj=!1,M.use=null,M.useDecoder=null,M.key=null,M.default=null,M.explicit=null,M.implicit=null,M.contains=null,M.parent||(M.children=[],this._wrap())}node=m;var y=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return m.prototype.clone=function(){var _=this._baseState,M={};y.forEach(function(B){M[B]=_[B]});var T=new this.constructor(M.parent);return T._baseState=M,T},m.prototype._wrap=function(){var _=this._baseState;o.forEach(function(M){this[M]=function(){var B=new this.constructor(this);return _.children.push(B),B[M].apply(B,arguments)}},this)},m.prototype._init=function(_){var M=this._baseState;a(M.parent===null),_.call(this),M.children=M.children.filter(function(T){return T._baseState.parent===this},this),a.equal(M.children.length,1,"Root node can have only one child")},m.prototype._useArgs=function(_){var M=this._baseState,T=_.filter(function(B){return B instanceof this.constructor},this);_=_.filter(function(B){return!(B instanceof this.constructor)},this),T.length!==0&&(a(M.children===null),M.children=T,T.forEach(function(B){B._baseState.parent=this},this)),_.length!==0&&(a(M.args===null),M.args=_,M.reverseArgs=_.map(function(B){if(typeof B!="object"||B.constructor!==Object)return B;var P={};return Object.keys(B).forEach(function(C){C==(C|0)&&(C|=0);var L=B[C];P[L]=C}),P}))},p.forEach(function(w){m.prototype[w]=function(){var M=this._baseState;throw new Error(w+" not implemented for encoding: "+M.enc)}}),u.forEach(function(w){m.prototype[w]=function(){var M=this._baseState,T=Array.prototype.slice.call(arguments);return a(M.tag===null),M.tag=w,this._useArgs(T),this}}),m.prototype.use=function(_){a(_);var M=this._baseState;return a(M.use===null),M.use=_,this},m.prototype.optional=function(){var _=this._baseState;return _.optional=!0,this},m.prototype.def=function(_){var M=this._baseState;return a(M.default===null),M.default=_,M.optional=!0,this},m.prototype.explicit=function(_){var M=this._baseState;return a(M.explicit===null&&M.implicit===null),M.explicit=_,this},m.prototype.implicit=function(_){var M=this._baseState;return a(M.explicit===null&&M.implicit===null),M.implicit=_,this},m.prototype.obj=function(){var _=this._baseState,M=Array.prototype.slice.call(arguments);return _.obj=!0,M.length!==0&&this._useArgs(M),this},m.prototype.key=function(_){var M=this._baseState;return a(M.key===null),M.key=_,this},m.prototype.any=function(){var _=this._baseState;return _.any=!0,this},m.prototype.choice=function(_){var M=this._baseState;return a(M.choice===null),M.choice=_,this._useArgs(Object.keys(_).map(function(T){return _[T]})),this},m.prototype.contains=function(_){var M=this._baseState;return a(M.use===null),M.contains=_,this},m.prototype._decode=function(_,M){var T=this._baseState;if(T.parent===null)return _.wrapResult(T.children[0]._decode(_,M));var B=T.default,P=!0,C=null;if(T.key!==null&&(C=_.enterKey(T.key)),T.optional){var L=null;if(T.explicit!==null?L=T.explicit:T.implicit!==null?L=T.implicit:T.tag!==null&&(L=T.tag),L===null&&!T.any){var U=_.save();try{T.choice===null?this._decodeGeneric(T.tag,_,M):this._decodeChoice(_,M),P=!0}catch{P=!1}_.restore(U)}else if(P=this._peekTag(_,L,T.any),_.isError(P))return P}var q;if(T.obj&&P&&(q=_.enterObject()),P){if(T.explicit!==null){var G=this._decodeTag(_,T.explicit);if(_.isError(G))return G;_=G}var X=_.offset;if(T.use===null&&T.choice===null){if(T.any)var U=_.save();var te=this._decodeTag(_,T.implicit!==null?T.implicit:T.tag,T.any);if(_.isError(te))return te;T.any?B=_.raw(U):_=te}if(M&&M.track&&T.tag!==null&&M.track(_.path(),X,_.length,"tagged"),M&&M.track&&T.tag!==null&&M.track(_.path(),_.offset,_.length,"content"),T.any?B=B:T.choice===null?B=this._decodeGeneric(T.tag,_,M):B=this._decodeChoice(_,M),_.isError(B))return B;if(!T.any&&T.choice===null&&T.children!==null&&T.children.forEach(function(pe){pe._decode(_,M)}),T.contains&&(T.tag==="octstr"||T.tag==="bitstr")){var ne=new n(B);B=this._getUse(T.contains,_._reporterState.obj)._decode(ne,M)}}return T.obj&&P&&(B=_.leaveObject(q)),T.key!==null&&(B!==null||P===!0)?_.leaveKey(C,T.key,B):C!==null&&_.exitKey(C),B},m.prototype._decodeGeneric=function(_,M,T){var B=this._baseState;return _==="seq"||_==="set"?null:_==="seqof"||_==="setof"?this._decodeList(M,_,B.args[0],T):/str$/.test(_)?this._decodeStr(M,_,T):_==="objid"&&B.args?this._decodeObjid(M,B.args[0],B.args[1],T):_==="objid"?this._decodeObjid(M,null,null,T):_==="gentime"||_==="utctime"?this._decodeTime(M,_,T):_==="null_"?this._decodeNull(M,T):_==="bool"?this._decodeBool(M,T):_==="objDesc"?this._decodeStr(M,_,T):_==="int"||_==="enum"?this._decodeInt(M,B.args&&B.args[0],T):B.use!==null?this._getUse(B.use,M._reporterState.obj)._decode(M,T):M.error("unknown tag: "+_)},m.prototype._getUse=function(_,M){var T=this._baseState;return T.useDecoder=this._use(_,M),a(T.useDecoder._baseState.parent===null),T.useDecoder=T.useDecoder._baseState.children[0],T.implicit!==T.useDecoder._baseState.implicit&&(T.useDecoder=T.useDecoder.clone(),T.useDecoder._baseState.implicit=T.implicit),T.useDecoder},m.prototype._decodeChoice=function(_,M){var T=this._baseState,B=null,P=!1;return Object.keys(T.choice).some(function(C){var L=_.save(),U=T.choice[C];try{var q=U._decode(_,M);if(_.isError(q))return!1;B={type:C,value:q},P=!0}catch{return _.restore(L),!1}return!0},this),P?B:_.error("Choice not matched")},m.prototype._createEncoderBuffer=function(_){return new e(_,this.reporter)},m.prototype._encode=function(_,M,T){var B=this._baseState;if(!(B.default!==null&&B.default===_)){var P=this._encodeValue(_,M,T);if(P!==void 0&&!this._skipDefault(P,M,T))return P}},m.prototype._encodeValue=function(_,M,T){var B=this._baseState;if(B.parent===null)return B.children[0]._encode(_,M||new t);var U=null;if(this.reporter=M,B.optional&&_===void 0)if(B.default!==null)_=B.default;else return;var P=null,C=!1;if(B.any)U=this._createEncoderBuffer(_);else if(B.choice)U=this._encodeChoice(_,M);else if(B.contains)P=this._getUse(B.contains,T)._encode(_,M),C=!0;else if(B.children)P=B.children.map(function(X){if(X._baseState.tag==="null_")return X._encode(null,M,_);if(X._baseState.key===null)return M.error("Child should have a key");var te=M.enterKey(X._baseState.key);if(typeof _!="object")return M.error("Child expected, but input is not object");var ne=X._encode(_[X._baseState.key],M,_);return M.leaveKey(te),ne},this).filter(function(X){return X}),P=this._createEncoderBuffer(P);else if(B.tag==="seqof"||B.tag==="setof"){if(!(B.args&&B.args.length===1))return M.error("Too many args for : "+B.tag);if(!Array.isArray(_))return M.error("seqof/setof, but data is not Array");var L=this.clone();L._baseState.implicit=null,P=this._createEncoderBuffer(_.map(function(X){var te=this._baseState;return this._getUse(te.args[0],_)._encode(X,M)},L))}else B.use!==null?U=this._getUse(B.use,T)._encode(_,M):(P=this._encodePrimitive(B.tag,_),C=!0);var U;if(!B.any&&B.choice===null){var q=B.implicit!==null?B.implicit:B.tag,G=B.implicit===null?"universal":"context";q===null?B.use===null&&M.error("Tag could be omitted only for .use()"):B.use===null&&(U=this._encodeComposite(q,C,G,P))}return B.explicit!==null&&(U=this._encodeComposite(B.explicit,!1,"context",U)),U},m.prototype._encodeChoice=function(_,M){var T=this._baseState,B=T.choice[_.type];return B||a(!1,_.type+" not found in "+JSON.stringify(Object.keys(T.choice))),B._encode(_.value,M)},m.prototype._encodePrimitive=function(_,M){var T=this._baseState;if(/str$/.test(_))return this._encodeStr(M,_);if(_==="objid"&&T.args)return this._encodeObjid(M,T.reverseArgs[0],T.args[1]);if(_==="objid")return this._encodeObjid(M,null,null);if(_==="gentime"||_==="utctime")return this._encodeTime(M,_);if(_==="null_")return this._encodeNull();if(_==="int"||_==="enum")return this._encodeInt(M,T.args&&T.reverseArgs[0]);if(_==="bool")return this._encodeBool(M);if(_==="objDesc")return this._encodeStr(M,_);throw new Error("Unsupported tag: "+_)},m.prototype._isNumstr=function(_){return/^[0-9 ]*$/.test(_)},m.prototype._isPrintstr=function(_){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(_)},node}var hasRequiredBase$1;function requireBase$1(){return hasRequiredBase$1||(hasRequiredBase$1=1,function(t){var e=t;e.Reporter=requireReporter().Reporter,e.DecoderBuffer=requireBuffer().DecoderBuffer,e.EncoderBuffer=requireBuffer().EncoderBuffer,e.Node=requireNode()}(base$1)),base$1}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(t){var e=requireConstants();t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e._reverse(t.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(t){var e=t;e._reverse=function(a){var u={};return Object.keys(a).forEach(function(o){(o|0)==o&&(o=o|0);var p=a[o];u[p]=o}),u},e.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var t=inherits_browserExports,e=requireAsn1$1(),n=e.base,a=e.bignum,u=e.constants.der;function o(w){this.enc="der",this.name=w.name,this.entity=w,this.tree=new p,this.tree._init(w.body)}der_1$1=o,o.prototype.decode=function(_,M){return _ instanceof n.DecoderBuffer||(_=new n.DecoderBuffer(_,M)),this.tree._decode(_,M)};function p(w){n.Node.call(this,"der",w)}t(p,n.Node),p.prototype._peekTag=function(_,M,T){if(_.isEmpty())return!1;var B=_.save(),P=m(_,'Failed to peek tag: "'+M+'"');return _.isError(P)?P:(_.restore(B),P.tag===M||P.tagStr===M||P.tagStr+"of"===M||T)},p.prototype._decodeTag=function(_,M,T){var B=m(_,'Failed to decode tag of "'+M+'"');if(_.isError(B))return B;var P=y(_,B.primitive,'Failed to get length of "'+M+'"');if(_.isError(P))return P;if(!T&&B.tag!==M&&B.tagStr!==M&&B.tagStr+"of"!==M)return _.error('Failed to match tag: "'+M+'"');if(B.primitive||P!==null)return _.skip(P,'Failed to match body of: "'+M+'"');var C=_.save(),L=this._skipUntilEnd(_,'Failed to skip indefinite length body: "'+this.tag+'"');return _.isError(L)?L:(P=_.offset-C.offset,_.restore(C),_.skip(P,'Failed to match body of: "'+M+'"'))},p.prototype._skipUntilEnd=function(_,M){for(;;){var T=m(_,M);if(_.isError(T))return T;var B=y(_,T.primitive,M);if(_.isError(B))return B;var P;if(T.primitive||B!==null?P=_.skip(B):P=this._skipUntilEnd(_,M),_.isError(P))return P;if(T.tagStr==="end")break}},p.prototype._decodeList=function(_,M,T,B){for(var P=[];!_.isEmpty();){var C=this._peekTag(_,"end");if(_.isError(C))return C;var L=T.decode(_,"der",B);if(_.isError(L)&&C)break;P.push(L)}return P},p.prototype._decodeStr=function(_,M){if(M==="bitstr"){var T=_.readUInt8();return _.isError(T)?T:{unused:T,data:_.raw()}}else if(M==="bmpstr"){var B=_.raw();if(B.length%2===1)return _.error("Decoding of string type: bmpstr length mismatch");for(var P="",C=0;C<B.length/2;C++)P+=String.fromCharCode(B.readUInt16BE(C*2));return P}else if(M==="numstr"){var L=_.raw().toString("ascii");return this._isNumstr(L)?L:_.error("Decoding of string type: numstr unsupported characters")}else{if(M==="octstr")return _.raw();if(M==="objDesc")return _.raw();if(M==="printstr"){var U=_.raw().toString("ascii");return this._isPrintstr(U)?U:_.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(M)?_.raw().toString():_.error("Decoding of string type: "+M+" unsupported")}},p.prototype._decodeObjid=function(_,M,T){for(var B,P=[],C=0;!_.isEmpty();){var L=_.readUInt8();C<<=7,C|=L&127,L&128||(P.push(C),C=0)}L&128&&P.push(C);var U=P[0]/40|0,q=P[0]%40;if(T?B=P:B=[U,q].concat(P.slice(1)),M){var G=M[B.join(" ")];G===void 0&&(G=M[B.join(".")]),G!==void 0&&(B=G)}return B},p.prototype._decodeTime=function(_,M){var T=_.raw().toString();if(M==="gentime")var B=T.slice(0,4)|0,P=T.slice(4,6)|0,C=T.slice(6,8)|0,L=T.slice(8,10)|0,U=T.slice(10,12)|0,q=T.slice(12,14)|0;else if(M==="utctime"){var B=T.slice(0,2)|0,P=T.slice(2,4)|0,C=T.slice(4,6)|0,L=T.slice(6,8)|0,U=T.slice(8,10)|0,q=T.slice(10,12)|0;B<70?B=2e3+B:B=1900+B}else return _.error("Decoding "+M+" time is not supported yet");return Date.UTC(B,P-1,C,L,U,q,0)},p.prototype._decodeNull=function(_){return null},p.prototype._decodeBool=function(_){var M=_.readUInt8();return _.isError(M)?M:M!==0},p.prototype._decodeInt=function(_,M){var T=_.raw(),B=new a(T);return M&&(B=M[B.toString(10)]||B),B},p.prototype._use=function(_,M){return typeof _=="function"&&(_=_(M)),_._getDecoder("der").tree};function m(w,_){var M=w.readUInt8(_);if(w.isError(M))return M;var T=u.tagClass[M>>6],B=(M&32)===0;if((M&31)===31){var P=M;for(M=0;(P&128)===128;){if(P=w.readUInt8(_),w.isError(P))return P;M<<=7,M|=P&127}}else M&=31;var C=u.tag[M];return{cls:T,primitive:B,tag:M,tagStr:C}}function y(w,_,M){var T=w.readUInt8(M);if(w.isError(T))return T;if(!_&&T===128)return null;if(!(T&128))return T;var B=T&127;if(B>4)return w.error("length octect is too long");T=0;for(var P=0;P<B;P++){T<<=8;var C=w.readUInt8(M);if(w.isError(C))return C;T|=C}return T}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var t=inherits_browserExports,e=require$$0$4.Buffer,n=requireDer$1();function a(u){n.call(this,u),this.enc="pem"}return t(a,n),pem$1=a,a.prototype.decode=function(o,p){for(var m=o.toString().split(/[\r\n]+/g),y=p.label.toUpperCase(),w=/^-----(BEGIN|END) ([^-]+)-----$/,_=-1,M=-1,T=0;T<m.length;T++){var B=m[T].match(w);if(B!==null&&B[2]===y)if(_===-1){if(B[1]!=="BEGIN")break;_=T}else{if(B[1]!=="END")break;M=T;break}}if(_===-1||M===-1)throw new Error("PEM section not found for: "+y);var P=m.slice(_+1,M).join("");P.replace(/[^a-z0-9\+\/=]+/gi,"");var C=new e(P,"base64");return n.prototype.decode.call(this,C,p)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(t){var e=t;e.der=requireDer$1(),e.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var t=inherits_browserExports,e=require$$0$4.Buffer,n=requireAsn1$1(),a=n.base,u=n.constants.der;function o(w){this.enc="der",this.name=w.name,this.entity=w,this.tree=new p,this.tree._init(w.body)}der_1=o,o.prototype.encode=function(_,M){return this.tree._encode(_,M).join()};function p(w){a.Node.call(this,"der",w)}t(p,a.Node),p.prototype._encodeComposite=function(_,M,T,B){var P=y(_,M,T,this.reporter);if(B.length<128){var U=new e(2);return U[0]=P,U[1]=B.length,this._createEncoderBuffer([U,B])}for(var C=1,L=B.length;L>=256;L>>=8)C++;var U=new e(2+C);U[0]=P,U[1]=128|C;for(var L=1+C,q=B.length;q>0;L--,q>>=8)U[L]=q&255;return this._createEncoderBuffer([U,B])},p.prototype._encodeStr=function(_,M){if(M==="bitstr")return this._createEncoderBuffer([_.unused|0,_.data]);if(M==="bmpstr"){for(var T=new e(_.length*2),B=0;B<_.length;B++)T.writeUInt16BE(_.charCodeAt(B),B*2);return this._createEncoderBuffer(T)}else return M==="numstr"?this._isNumstr(_)?this._createEncoderBuffer(_):this.reporter.error("Encoding of string type: numstr supports only digits and space"):M==="printstr"?this._isPrintstr(_)?this._createEncoderBuffer(_):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(M)?this._createEncoderBuffer(_):M==="objDesc"?this._createEncoderBuffer(_):this.reporter.error("Encoding of string type: "+M+" unsupported")},p.prototype._encodeObjid=function(_,M,T){if(typeof _=="string"){if(!M)return this.reporter.error("string objid given, but no values map found");if(!M.hasOwnProperty(_))return this.reporter.error("objid not found in values map");_=M[_].split(/[\s\.]+/g);for(var B=0;B<_.length;B++)_[B]|=0}else if(Array.isArray(_)){_=_.slice();for(var B=0;B<_.length;B++)_[B]|=0}if(!Array.isArray(_))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(_));if(!T){if(_[1]>=40)return this.reporter.error("Second objid identifier OOB");_.splice(0,2,_[0]*40+_[1])}for(var P=0,B=0;B<_.length;B++){var C=_[B];for(P++;C>=128;C>>=7)P++}for(var L=new e(P),U=L.length-1,B=_.length-1;B>=0;B--){var C=_[B];for(L[U--]=C&127;(C>>=7)>0;)L[U--]=128|C&127}return this._createEncoderBuffer(L)};function m(w){return w<10?"0"+w:w}p.prototype._encodeTime=function(_,M){var T,B=new Date(_);return M==="gentime"?T=[m(B.getFullYear()),m(B.getUTCMonth()+1),m(B.getUTCDate()),m(B.getUTCHours()),m(B.getUTCMinutes()),m(B.getUTCSeconds()),"Z"].join(""):M==="utctime"?T=[m(B.getFullYear()%100),m(B.getUTCMonth()+1),m(B.getUTCDate()),m(B.getUTCHours()),m(B.getUTCMinutes()),m(B.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+M+" time is not supported yet"),this._encodeStr(T,"octstr")},p.prototype._encodeNull=function(){return this._createEncoderBuffer("")},p.prototype._encodeInt=function(_,M){if(typeof _=="string"){if(!M)return this.reporter.error("String int or enum given, but no values map");if(!M.hasOwnProperty(_))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(_));_=M[_]}if(typeof _!="number"&&!e.isBuffer(_)){var T=_.toArray();!_.sign&&T[0]&128&&T.unshift(0),_=new e(T)}if(e.isBuffer(_)){var B=_.length;_.length===0&&B++;var C=new e(B);return _.copy(C),_.length===0&&(C[0]=0),this._createEncoderBuffer(C)}if(_<128)return this._createEncoderBuffer(_);if(_<256)return this._createEncoderBuffer([0,_]);for(var B=1,P=_;P>=256;P>>=8)B++;for(var C=new Array(B),P=C.length-1;P>=0;P--)C[P]=_&255,_>>=8;return C[0]&128&&C.unshift(0),this._createEncoderBuffer(new e(C))},p.prototype._encodeBool=function(_){return this._createEncoderBuffer(_?255:0)},p.prototype._use=function(_,M){return typeof _=="function"&&(_=_(M)),_._getEncoder("der").tree},p.prototype._skipDefault=function(_,M,T){var B=this._baseState,P;if(B.default===null)return!1;var C=_.join();if(B.defaultBuffer===void 0&&(B.defaultBuffer=this._encodeValue(B.default,M,T).join()),C.length!==B.defaultBuffer.length)return!1;for(P=0;P<C.length;P++)if(C[P]!==B.defaultBuffer[P])return!1;return!0};function y(w,_,M,T){var B;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),u.tagByName.hasOwnProperty(w))B=u.tagByName[w];else if(typeof w=="number"&&(w|0)===w)B=w;else return T.error("Unknown tag: "+w);return B>=31?T.error("Multi-octet tag encoding unsupported"):(_||(B|=32),B|=u.tagClassByName[M||"universal"]<<6,B)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var t=inherits_browserExports,e=requireDer();function n(a){e.call(this,a),this.enc="pem"}return t(n,e),pem=n,n.prototype.encode=function(u,o){for(var p=e.prototype.encode.call(this,u),m=p.toString("base64"),y=["-----BEGIN "+o.label+"-----"],w=0;w<m.length;w+=64)y.push(m.slice(w,w+64));return y.push("-----END "+o.label+"-----"),y.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(t){var e=t;e.der=requireDer(),e.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(t){var e=t;e.bignum=requireBn$3(),e.define=requireApi().define,e.base=requireBase$1(),e.constants=requireConstants(),e.decoders=requireDecoders(),e.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var t=requireAsn1$1(),e=t.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),n=t.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),o=t.define("RelativeDistinguishedName",function(){this.setof(n)}),p=t.define("RDNSequence",function(){this.seqof(o)}),m=t.define("Name",function(){this.choice({rdnSequence:this.use(p)})}),y=t.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),w=t.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),_=t.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(m),this.key("validity").use(y),this.key("subject").use(m),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(w).optional())}),M=t.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(_),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});return certificate=M,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var t=requireAsn1$1();asn1$1.certificate=requireCertificate();var e=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=e;var n=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=n;var a=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=u;var o=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=o;var p=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=p;var m=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=m,asn1$1.DSAparam=t.define("DSAparam",function(){this.int()});var y=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),w=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(y),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=w,asn1$1.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var t=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=requireEvp_bytestokey(),u=requireBrowser$6(),o=safeBufferExports$1.Buffer;return fixProc=function(p,m){var y=p.toString(),w=y.match(t),_;if(w){var T="aes"+w[1],B=o.from(w[2],"hex"),P=o.from(w[3].replace(/[\r\n]/g,""),"base64"),C=a(m,B.slice(0,8),parseInt(w[1],10)).key,L=[],U=u.createDecipheriv(T,C,B);L.push(U.update(P)),L.push(U.final()),_=o.concat(L)}else{var M=y.match(n);_=o.from(M[2].replace(/[\r\n]/g,""),"base64")}var q=y.match(e)[1];return{tag:q,data:_}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var t=requireAsn1(),e=require$$1,n=requireFixProc(),a=requireBrowser$6(),u=requireBrowser$7(),o=safeBufferExports$1.Buffer;function p(y,w){var _=y.algorithm.decrypt.kde.kdeparams.salt,M=parseInt(y.algorithm.decrypt.kde.kdeparams.iters.toString(),10),T=e[y.algorithm.decrypt.cipher.algo.join(".")],B=y.algorithm.decrypt.cipher.iv,P=y.subjectPrivateKey,C=parseInt(T.split("-")[1],10)/8,L=u.pbkdf2Sync(w,_,M,C,"sha1"),U=a.createDecipheriv(T,L,B),q=[];return q.push(U.update(P)),q.push(U.final()),o.concat(q)}function m(y){var w;typeof y=="object"&&!o.isBuffer(y)&&(w=y.passphrase,y=y.key),typeof y=="string"&&(y=o.from(y));var _=n(y,w),M=_.tag,T=_.data,B,P;switch(M){case"CERTIFICATE":P=t.certificate.decode(T,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(P||(P=t.PublicKey.decode(T,"der")),B=P.algorithm.algorithm.join("."),B){case"1.2.840.113549.1.1.1":return t.RSAPublicKey.decode(P.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return P.subjectPrivateKey=P.subjectPublicKey,{type:"ec",data:P};case"1.2.840.10040.4.1":return P.algorithm.params.pub_key=t.DSAparam.decode(P.subjectPublicKey.data,"der"),{type:"dsa",data:P.algorithm.params};default:throw new Error("unknown key id "+B)}case"ENCRYPTED PRIVATE KEY":T=t.EncryptedPrivateKey.decode(T,"der"),T=p(T,w);case"PRIVATE KEY":switch(P=t.PrivateKey.decode(T,"der"),B=P.algorithm.algorithm.join("."),B){case"1.2.840.113549.1.1.1":return t.RSAPrivateKey.decode(P.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:P.algorithm.curve,privateKey:t.ECPrivateKey.decode(P.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return P.algorithm.params.priv_key=t.DSAparam.decode(P.subjectPrivateKey,"der"),{type:"dsa",params:P.algorithm.params};default:throw new Error("unknown key id "+B)}case"RSA PUBLIC KEY":return t.RSAPublicKey.decode(T,"der");case"RSA PRIVATE KEY":return t.RSAPrivateKey.decode(T,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:t.DSAPrivateKey.decode(T,"der")};case"EC PRIVATE KEY":return T=t.ECPrivateKey.decode(T,"der"),{curve:T.parameters.value,privateKey:T.privateKey};default:throw new Error("unknown key type "+M)}}return m.signature=t.signature,parseAsn1=m,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var t=safeBufferExports$1.Buffer,e=browser$9,n=requireBrowserifyRsa(),a=requireElliptic$1().ec,u=bnExports,o=requireParseAsn1(),p=require$$4,m=1;function y(U,q,G,X,te){var ne=o(q);if(ne.curve){if(X!=="ecdsa"&&X!=="ecdsa/rsa")throw new Error("wrong private key type");return w(U,ne)}else if(ne.type==="dsa"){if(X!=="dsa")throw new Error("wrong private key type");return _(U,ne,G)}if(X!=="rsa"&&X!=="ecdsa/rsa")throw new Error("wrong private key type");if(q.padding!==void 0&&q.padding!==m)throw new Error("illegal or unsupported padding mode");U=t.concat([te,U]);for(var ge=ne.modulus.byteLength(),pe=[0,1];U.length+pe.length+1<ge;)pe.push(255);pe.push(0);for(var se=-1;++se<U.length;)pe.push(U[se]);var Se=n(pe,ne);return Se}function w(U,q){var G=p[q.curve.join(".")];if(!G)throw new Error("unknown curve "+q.curve.join("."));var X=new a(G),te=X.keyFromPrivate(q.privateKey),ne=te.sign(U);return t.from(ne.toDER())}function _(U,q,G){for(var X=q.params.priv_key,te=q.params.p,ne=q.params.q,ge=q.params.g,pe=new u(0),se,Se=B(U,ne).mod(ne),k=!1,c=T(X,ne,U,G);k===!1;)se=C(ne,c,G),pe=L(ge,se,te,ne),k=se.invm(ne).imul(Se.add(X.mul(pe))).mod(ne),k.cmpn(0)===0&&(k=!1,pe=new u(0));return M(pe,k)}function M(U,q){U=U.toArray(),q=q.toArray(),U[0]&128&&(U=[0].concat(U)),q[0]&128&&(q=[0].concat(q));var G=U.length+q.length+4,X=[48,G,2,U.length];return X=X.concat(U,[2,q.length],q),t.from(X)}function T(U,q,G,X){if(U=t.from(U.toArray()),U.length<q.byteLength()){var te=t.alloc(q.byteLength()-U.length);U=t.concat([te,U])}var ne=G.length,ge=P(G,q),pe=t.alloc(ne);pe.fill(1);var se=t.alloc(ne);return se=e(X,se).update(pe).update(t.from([0])).update(U).update(ge).digest(),pe=e(X,se).update(pe).digest(),se=e(X,se).update(pe).update(t.from([1])).update(U).update(ge).digest(),pe=e(X,se).update(pe).digest(),{k:se,v:pe}}function B(U,q){var G=new u(U),X=(U.length<<3)-q.bitLength();return X>0&&G.ishrn(X),G}function P(U,q){U=B(U,q),U=U.mod(q);var G=t.from(U.toArray());if(G.length<q.byteLength()){var X=t.alloc(q.byteLength()-G.length);G=t.concat([X,G])}return G}function C(U,q,G){var X,te;do{for(X=t.alloc(0);X.length*8<U.bitLength();)q.v=e(G,q.k).update(q.v).digest(),X=t.concat([X,q.v]);te=B(X,U),q.k=e(G,q.k).update(q.v).update(t.from([0])).digest(),q.v=e(G,q.k).update(q.v).digest()}while(te.cmp(U)!==-1);return te}function L(U,q,G,X){return U.toRed(u.mont(G)).redPow(q).fromRed().mod(X)}return sign.exports=y,sign.exports.getKey=T,sign.exports.makeKey=C,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var t=safeBufferExports$1.Buffer,e=bnExports,n=requireElliptic$1().ec,a=requireParseAsn1(),u=require$$4;function o(w,_,M,T,B){var P=a(M);if(P.type==="ec"){if(T!=="ecdsa"&&T!=="ecdsa/rsa")throw new Error("wrong public key type");return p(w,_,P)}else if(P.type==="dsa"){if(T!=="dsa")throw new Error("wrong public key type");return m(w,_,P)}if(T!=="rsa"&&T!=="ecdsa/rsa")throw new Error("wrong public key type");_=t.concat([B,_]);for(var C=P.modulus.byteLength(),L=[1],U=0;_.length+L.length+2<C;)L.push(255),U+=1;L.push(0);for(var q=-1;++q<_.length;)L.push(_[q]);L=t.from(L);var G=e.mont(P.modulus);w=new e(w).toRed(G),w=w.redPow(new e(P.publicExponent)),w=t.from(w.fromRed().toArray());var X=U<8?1:0;for(C=Math.min(w.length,L.length),w.length!==L.length&&(X=1),q=-1;++q<C;)X|=w[q]^L[q];return X===0}function p(w,_,M){var T=u[M.data.algorithm.curve.join(".")];if(!T)throw new Error("unknown curve "+M.data.algorithm.curve.join("."));var B=new n(T),P=M.data.subjectPrivateKey.data;return B.verify(_,w,P)}function m(w,_,M){var T=M.data.p,B=M.data.q,P=M.data.g,C=M.data.pub_key,L=a.signature.decode(w,"der"),U=L.s,q=L.r;y(U,B),y(q,B);var G=e.mont(T),X=U.invm(B),te=P.toRed(G).redPow(new e(_).mul(X).mod(B)).fromRed().mul(C.toRed(G).redPow(q.mul(X).mod(B)).fromRed()).mod(T).mod(B);return te.cmp(q)===0}function y(w,_){if(w.cmpn(0)<=0)throw new Error("invalid sig");if(w.cmp(_)>=0)throw new Error("invalid sig")}return verify_1=o,verify_1}var browser$4,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$4;hasRequiredBrowser$3=1;var t=safeBufferExports$1.Buffer,e=browser$d,n=requireReadableBrowser(),a=inherits_browserExports,u=requireSign(),o=requireVerify(),p=require$$6;Object.keys(p).forEach(function(M){p[M].id=t.from(p[M].id,"hex"),p[M.toLowerCase()]=p[M]});function m(M){n.Writable.call(this);var T=p[M];if(!T)throw new Error("Unknown message digest");this._hashType=T.hash,this._hash=e(T.hash),this._tag=T.id,this._signType=T.sign}a(m,n.Writable),m.prototype._write=function(T,B,P){this._hash.update(T),P()},m.prototype.update=function(T,B){return this._hash.update(typeof T=="string"?t.from(T,B):T),this},m.prototype.sign=function(T,B){this.end();var P=this._hash.digest(),C=u(P,T,this._hashType,this._signType,this._tag);return B?C.toString(B):C};function y(M){n.Writable.call(this);var T=p[M];if(!T)throw new Error("Unknown message digest");this._hash=e(T.hash),this._tag=T.id,this._signType=T.sign}a(y,n.Writable),y.prototype._write=function(T,B,P){this._hash.update(T),P()},y.prototype.update=function(T,B){return this._hash.update(typeof T=="string"?t.from(T,B):T),this},y.prototype.verify=function(T,B,P){var C=typeof B=="string"?t.from(B,P):B;this.end();var L=this._hash.digest();return o(C,L,T,this._signType,this._tag)};function w(M){return new m(M)}function _(M){return new y(M)}return browser$4={Sign:w,Verify:_,createSign:w,createVerify:_},browser$4}var elliptic={};const name$1="elliptic",version$1="6.5.4",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0={name:name$1,version:version$1,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$1={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(t){(function(e,n){function a(k,c){if(!k)throw new Error(c||"Assertion failed")}function u(k,c){k.super_=c;var d=function(){};d.prototype=c.prototype,k.prototype=new d,k.prototype.constructor=k}function o(k,c,d){if(o.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(k||0,c||10,d||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$4.Buffer}catch{}o.isBN=function(c){return c instanceof o?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===o.wordSize&&Array.isArray(c.words)},o.max=function(c,d){return c.cmp(d)>0?c:d},o.min=function(c,d){return c.cmp(d)<0?c:d},o.prototype._init=function(c,d,b){if(typeof c=="number")return this._initNumber(c,d,b);if(typeof c=="object")return this._initArray(c,d,b);d==="hex"&&(d=16),a(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,b):(this._parseBase(c,d,v),b==="le"&&this._initArray(this.toArray(),d,b)))},o.prototype._initNumber=function(c,d,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(a(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},o.prototype._initArray=function(c,d,b){if(a(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,$,I=0;if(b==="be")for(v=c.length-1,A=0;v>=0;v-=3)$=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);else if(b==="le")for(v=0,A=0;v<c.length;v+=3)$=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);return this.strip()};function m(k,c){var d=k.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function y(k,c,d){var b=m(k,d);return d-1>=c&&(b|=m(k,d-1)<<4),b}o.prototype._parseHex=function(c,d,b){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,$=0,I;if(b==="be")for(v=c.length-1;v>=d;v-=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8;else{var S=c.length-d;for(v=S%2===0?d+1:d;v<c.length;v+=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8}this.strip()};function w(k,c,d,b){for(var v=0,A=Math.min(k.length,d),$=c;$<A;$++){var I=k.charCodeAt($)-48;v*=b,I>=49?v+=I-49+10:I>=17?v+=I-17+10:v+=I}return v}o.prototype._parseBase=function(c,d,b){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=d)v++;v--,A=A/d|0;for(var $=c.length-b,I=$%v,S=Math.min($,$-I)+b,l=0,E=b;E<S;E+=v)l=w(c,E,E+v,d),this.imuln(A),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var O=1;for(l=w(c,E,c.length,d),E=0;E<I;E++)O*=d;this.imuln(O),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},o.prototype.clone=function(){var c=new o(null);return this.copy(c),c},o.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(c,d){c=c||10,d=d|0||1;var b;if(c===16||c==="hex"){b="";for(var v=0,A=0,$=0;$<this.length;$++){var I=this.words[$],S=((I<<v|A)&16777215).toString(16);A=I>>>24-v&16777215,A!==0||$!==this.length-1?b=_[6-S.length]+S+b:b=S+b,v+=2,v>=26&&(v-=26,$--)}for(A!==0&&(b=A.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var l=M[c],E=T[c];b="";var O=this.clone();for(O.negative=0;!O.isZero();){var D=O.modn(E).toString(c);O=O.idivn(E),O.isZero()?b=D+b:b=_[l-D.length]+D+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}a(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(c,d){return a(typeof p<"u"),this.toArrayLike(p,c,d)},o.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)},o.prototype.toArrayLike=function(c,d,b){var v=this.byteLength(),A=b||Math.max(1,v);a(v<=A,"byte array longer than desired length"),a(A>0,"Requested array length <= 0"),this.strip();var $=d==="le",I=new c(A),S,l,E=this.clone();if($){for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[l]=S;for(;l<A;l++)I[l]=0}else{for(l=0;l<A-v;l++)I[l]=0;for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[A-l-1]=S}return I},Math.clz32?o.prototype._countBits=function(c){return 32-Math.clz32(c)}:o.prototype._countBits=function(c){var d=c,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},o.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},o.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function B(k){for(var c=new Array(k.bitLength()),d=0;d<c.length;d++){var b=d/26|0,v=d%26;c[d]=(k.words[b]&1<<v)>>>v}return c}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(c+=b,b!==26)break}return c},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},o.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},o.prototype.ior=function(c){return a((this.negative|c.negative)===0),this.iuor(c)},o.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},o.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},o.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=d.length,this.strip()},o.prototype.iand=function(c){return a((this.negative|c.negative)===0),this.iuand(c)},o.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},o.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},o.prototype.iuxor=function(c){var d,b;this.length>c.length?(d=this,b=c):(d=c,b=this);for(var v=0;v<b.length;v++)this.words[v]=d.words[v]^b.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(c){return a((this.negative|c.negative)===0),this.iuxor(c)},o.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},o.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},o.prototype.inotn=function(c){a(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,b=c%26;this._expand(d),b>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},o.prototype.notn=function(c){return this.clone().inotn(c)},o.prototype.setn=function(c,d){a(typeof c=="number"&&c>=0);var b=c/26|0,v=c%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},o.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var b,v;this.length>c.length?(b=this,v=c):(b=c,v=this);for(var A=0,$=0;$<v.length;$++)d=(b.words[$]|0)+(v.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;for(;A!==0&&$<b.length;$++)d=(b.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;if(this.length=b.length,A!==0)this.words[this.length]=A,this.length++;else if(b!==this)for(;$<b.length;$++)this.words[$]=b.words[$];return this},o.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},o.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;b>0?(v=this,A=c):(v=c,A=this);for(var $=0,I=0;I<A.length;I++)d=(v.words[I]|0)-(A.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;for(;$!==0&&I<v.length;I++)d=(v.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;if($===0&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(c){return this.clone().isub(c)};function P(k,c,d){d.negative=c.negative^k.negative;var b=k.length+c.length|0;d.length=b,b=b-1|0;var v=k.words[0]|0,A=c.words[0]|0,$=v*A,I=$&67108863,S=$/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var E=S>>>26,O=S&67108863,D=Math.min(l,c.length-1),Y=Math.max(0,l-k.length+1);Y<=D;Y++){var F=l-Y|0;v=k.words[F]|0,A=c.words[Y]|0,$=v*A+O,E+=$/67108864|0,O=$&67108863}d.words[l]=O|0,S=E|0}return S!==0?d.words[l]=S|0:d.length--,d.strip()}var C=function(c,d,b){var v=c.words,A=d.words,$=b.words,I=0,S,l,E,O=v[0]|0,D=O&8191,Y=O>>>13,F=v[1]|0,V=F&8191,H=F>>>13,ee=v[2]|0,ie=ee&8191,de=ee>>>13,Z=v[3]|0,j=Z&8191,he=Z>>>13,Ae=v[4]|0,_e=Ae&8191,xe=Ae>>>13,Xe=v[5]|0,Re=Xe&8191,we=Xe>>>13,Et=v[6]|0,Ce=Et&8191,ze=Et>>>13,wt=v[7]|0,Ie=wt&8191,Ne=wt>>>13,_t=v[8]|0,Pe=_t&8191,Le=_t>>>13,At=v[9]|0,ae=At&8191,J=At>>>13,re=A[0]|0,le=re&8191,be=re>>>13,Be=A[1]|0,ve=Be&8191,Te=Be>>>13,vt=A[2]|0,ke=vt&8191,Ue=vt>>>13,gt=A[3]|0,qe=gt&8191,Ve=gt>>>13,St=A[4]|0,Fe=St&8191,je=St>>>13,$t=A[5]|0,De=$t&8191,We=$t>>>13,kt=A[6]|0,Oe=kt&8191,Ge=kt>>>13,fe=A[7]|0,oe=fe&8191,ce=fe>>>13,Q=A[8]|0,ue=Q&8191,me=Q>>>13,$e=A[9]|0,ye=$e&8191,Ee=$e>>>13;b.negative=c.negative^d.negative,b.length=19,S=Math.imul(D,le),l=Math.imul(D,be),l=l+Math.imul(Y,le)|0,E=Math.imul(Y,be);var Ze=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(V,le),l=Math.imul(V,be),l=l+Math.imul(H,le)|0,E=Math.imul(H,be),S=S+Math.imul(D,ve)|0,l=l+Math.imul(D,Te)|0,l=l+Math.imul(Y,ve)|0,E=E+Math.imul(Y,Te)|0;var Ye=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(ie,le),l=Math.imul(ie,be),l=l+Math.imul(de,le)|0,E=Math.imul(de,be),S=S+Math.imul(V,ve)|0,l=l+Math.imul(V,Te)|0,l=l+Math.imul(H,ve)|0,E=E+Math.imul(H,Te)|0,S=S+Math.imul(D,ke)|0,l=l+Math.imul(D,Ue)|0,l=l+Math.imul(Y,ke)|0,E=E+Math.imul(Y,Ue)|0;var xt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(j,le),l=Math.imul(j,be),l=l+Math.imul(he,le)|0,E=Math.imul(he,be),S=S+Math.imul(ie,ve)|0,l=l+Math.imul(ie,Te)|0,l=l+Math.imul(de,ve)|0,E=E+Math.imul(de,Te)|0,S=S+Math.imul(V,ke)|0,l=l+Math.imul(V,Ue)|0,l=l+Math.imul(H,ke)|0,E=E+Math.imul(H,Ue)|0,S=S+Math.imul(D,qe)|0,l=l+Math.imul(D,Ve)|0,l=l+Math.imul(Y,qe)|0,E=E+Math.imul(Y,Ve)|0;var rt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,S=Math.imul(_e,le),l=Math.imul(_e,be),l=l+Math.imul(xe,le)|0,E=Math.imul(xe,be),S=S+Math.imul(j,ve)|0,l=l+Math.imul(j,Te)|0,l=l+Math.imul(he,ve)|0,E=E+Math.imul(he,Te)|0,S=S+Math.imul(ie,ke)|0,l=l+Math.imul(ie,Ue)|0,l=l+Math.imul(de,ke)|0,E=E+Math.imul(de,Ue)|0,S=S+Math.imul(V,qe)|0,l=l+Math.imul(V,Ve)|0,l=l+Math.imul(H,qe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(D,Fe)|0,l=l+Math.imul(D,je)|0,l=l+Math.imul(Y,Fe)|0,E=E+Math.imul(Y,je)|0;var lt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Re,le),l=Math.imul(Re,be),l=l+Math.imul(we,le)|0,E=Math.imul(we,be),S=S+Math.imul(_e,ve)|0,l=l+Math.imul(_e,Te)|0,l=l+Math.imul(xe,ve)|0,E=E+Math.imul(xe,Te)|0,S=S+Math.imul(j,ke)|0,l=l+Math.imul(j,Ue)|0,l=l+Math.imul(he,ke)|0,E=E+Math.imul(he,Ue)|0,S=S+Math.imul(ie,qe)|0,l=l+Math.imul(ie,Ve)|0,l=l+Math.imul(de,qe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(V,Fe)|0,l=l+Math.imul(V,je)|0,l=l+Math.imul(H,Fe)|0,E=E+Math.imul(H,je)|0,S=S+Math.imul(D,De)|0,l=l+Math.imul(D,We)|0,l=l+Math.imul(Y,De)|0,E=E+Math.imul(Y,We)|0;var dt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Ce,le),l=Math.imul(Ce,be),l=l+Math.imul(ze,le)|0,E=Math.imul(ze,be),S=S+Math.imul(Re,ve)|0,l=l+Math.imul(Re,Te)|0,l=l+Math.imul(we,ve)|0,E=E+Math.imul(we,Te)|0,S=S+Math.imul(_e,ke)|0,l=l+Math.imul(_e,Ue)|0,l=l+Math.imul(xe,ke)|0,E=E+Math.imul(xe,Ue)|0,S=S+Math.imul(j,qe)|0,l=l+Math.imul(j,Ve)|0,l=l+Math.imul(he,qe)|0,E=E+Math.imul(he,Ve)|0,S=S+Math.imul(ie,Fe)|0,l=l+Math.imul(ie,je)|0,l=l+Math.imul(de,Fe)|0,E=E+Math.imul(de,je)|0,S=S+Math.imul(V,De)|0,l=l+Math.imul(V,We)|0,l=l+Math.imul(H,De)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(D,Oe)|0,l=l+Math.imul(D,Ge)|0,l=l+Math.imul(Y,Oe)|0,E=E+Math.imul(Y,Ge)|0;var ht=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(Ie,le),l=Math.imul(Ie,be),l=l+Math.imul(Ne,le)|0,E=Math.imul(Ne,be),S=S+Math.imul(Ce,ve)|0,l=l+Math.imul(Ce,Te)|0,l=l+Math.imul(ze,ve)|0,E=E+Math.imul(ze,Te)|0,S=S+Math.imul(Re,ke)|0,l=l+Math.imul(Re,Ue)|0,l=l+Math.imul(we,ke)|0,E=E+Math.imul(we,Ue)|0,S=S+Math.imul(_e,qe)|0,l=l+Math.imul(_e,Ve)|0,l=l+Math.imul(xe,qe)|0,E=E+Math.imul(xe,Ve)|0,S=S+Math.imul(j,Fe)|0,l=l+Math.imul(j,je)|0,l=l+Math.imul(he,Fe)|0,E=E+Math.imul(he,je)|0,S=S+Math.imul(ie,De)|0,l=l+Math.imul(ie,We)|0,l=l+Math.imul(de,De)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(V,Oe)|0,l=l+Math.imul(V,Ge)|0,l=l+Math.imul(H,Oe)|0,E=E+Math.imul(H,Ge)|0,S=S+Math.imul(D,oe)|0,l=l+Math.imul(D,ce)|0,l=l+Math.imul(Y,oe)|0,E=E+Math.imul(Y,ce)|0;var yt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Pe,le),l=Math.imul(Pe,be),l=l+Math.imul(Le,le)|0,E=Math.imul(Le,be),S=S+Math.imul(Ie,ve)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(Ne,ve)|0,E=E+Math.imul(Ne,Te)|0,S=S+Math.imul(Ce,ke)|0,l=l+Math.imul(Ce,Ue)|0,l=l+Math.imul(ze,ke)|0,E=E+Math.imul(ze,Ue)|0,S=S+Math.imul(Re,qe)|0,l=l+Math.imul(Re,Ve)|0,l=l+Math.imul(we,qe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(_e,Fe)|0,l=l+Math.imul(_e,je)|0,l=l+Math.imul(xe,Fe)|0,E=E+Math.imul(xe,je)|0,S=S+Math.imul(j,De)|0,l=l+Math.imul(j,We)|0,l=l+Math.imul(he,De)|0,E=E+Math.imul(he,We)|0,S=S+Math.imul(ie,Oe)|0,l=l+Math.imul(ie,Ge)|0,l=l+Math.imul(de,Oe)|0,E=E+Math.imul(de,Ge)|0,S=S+Math.imul(V,oe)|0,l=l+Math.imul(V,ce)|0,l=l+Math.imul(H,oe)|0,E=E+Math.imul(H,ce)|0,S=S+Math.imul(D,ue)|0,l=l+Math.imul(D,me)|0,l=l+Math.imul(Y,ue)|0,E=E+Math.imul(Y,me)|0;var pt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(pt>>>26)|0,pt&=67108863,S=Math.imul(ae,le),l=Math.imul(ae,be),l=l+Math.imul(J,le)|0,E=Math.imul(J,be),S=S+Math.imul(Pe,ve)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(Le,ve)|0,E=E+Math.imul(Le,Te)|0,S=S+Math.imul(Ie,ke)|0,l=l+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ne,ke)|0,E=E+Math.imul(Ne,Ue)|0,S=S+Math.imul(Ce,qe)|0,l=l+Math.imul(Ce,Ve)|0,l=l+Math.imul(ze,qe)|0,E=E+Math.imul(ze,Ve)|0,S=S+Math.imul(Re,Fe)|0,l=l+Math.imul(Re,je)|0,l=l+Math.imul(we,Fe)|0,E=E+Math.imul(we,je)|0,S=S+Math.imul(_e,De)|0,l=l+Math.imul(_e,We)|0,l=l+Math.imul(xe,De)|0,E=E+Math.imul(xe,We)|0,S=S+Math.imul(j,Oe)|0,l=l+Math.imul(j,Ge)|0,l=l+Math.imul(he,Oe)|0,E=E+Math.imul(he,Ge)|0,S=S+Math.imul(ie,oe)|0,l=l+Math.imul(ie,ce)|0,l=l+Math.imul(de,oe)|0,E=E+Math.imul(de,ce)|0,S=S+Math.imul(V,ue)|0,l=l+Math.imul(V,me)|0,l=l+Math.imul(H,ue)|0,E=E+Math.imul(H,me)|0,S=S+Math.imul(D,ye)|0,l=l+Math.imul(D,Ee)|0,l=l+Math.imul(Y,ye)|0,E=E+Math.imul(Y,Ee)|0;var mt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(ae,ve),l=Math.imul(ae,Te),l=l+Math.imul(J,ve)|0,E=Math.imul(J,Te),S=S+Math.imul(Pe,ke)|0,l=l+Math.imul(Pe,Ue)|0,l=l+Math.imul(Le,ke)|0,E=E+Math.imul(Le,Ue)|0,S=S+Math.imul(Ie,qe)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(Ne,qe)|0,E=E+Math.imul(Ne,Ve)|0,S=S+Math.imul(Ce,Fe)|0,l=l+Math.imul(Ce,je)|0,l=l+Math.imul(ze,Fe)|0,E=E+Math.imul(ze,je)|0,S=S+Math.imul(Re,De)|0,l=l+Math.imul(Re,We)|0,l=l+Math.imul(we,De)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(_e,Oe)|0,l=l+Math.imul(_e,Ge)|0,l=l+Math.imul(xe,Oe)|0,E=E+Math.imul(xe,Ge)|0,S=S+Math.imul(j,oe)|0,l=l+Math.imul(j,ce)|0,l=l+Math.imul(he,oe)|0,E=E+Math.imul(he,ce)|0,S=S+Math.imul(ie,ue)|0,l=l+Math.imul(ie,me)|0,l=l+Math.imul(de,ue)|0,E=E+Math.imul(de,me)|0,S=S+Math.imul(V,ye)|0,l=l+Math.imul(V,Ee)|0,l=l+Math.imul(H,ye)|0,E=E+Math.imul(H,Ee)|0;var bt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(bt>>>26)|0,bt&=67108863,S=Math.imul(ae,ke),l=Math.imul(ae,Ue),l=l+Math.imul(J,ke)|0,E=Math.imul(J,Ue),S=S+Math.imul(Pe,qe)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(Le,qe)|0,E=E+Math.imul(Le,Ve)|0,S=S+Math.imul(Ie,Fe)|0,l=l+Math.imul(Ie,je)|0,l=l+Math.imul(Ne,Fe)|0,E=E+Math.imul(Ne,je)|0,S=S+Math.imul(Ce,De)|0,l=l+Math.imul(Ce,We)|0,l=l+Math.imul(ze,De)|0,E=E+Math.imul(ze,We)|0,S=S+Math.imul(Re,Oe)|0,l=l+Math.imul(Re,Ge)|0,l=l+Math.imul(we,Oe)|0,E=E+Math.imul(we,Ge)|0,S=S+Math.imul(_e,oe)|0,l=l+Math.imul(_e,ce)|0,l=l+Math.imul(xe,oe)|0,E=E+Math.imul(xe,ce)|0,S=S+Math.imul(j,ue)|0,l=l+Math.imul(j,me)|0,l=l+Math.imul(he,ue)|0,E=E+Math.imul(he,me)|0,S=S+Math.imul(ie,ye)|0,l=l+Math.imul(ie,Ee)|0,l=l+Math.imul(de,ye)|0,E=E+Math.imul(de,Ee)|0;var nt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(ae,qe),l=Math.imul(ae,Ve),l=l+Math.imul(J,qe)|0,E=Math.imul(J,Ve),S=S+Math.imul(Pe,Fe)|0,l=l+Math.imul(Pe,je)|0,l=l+Math.imul(Le,Fe)|0,E=E+Math.imul(Le,je)|0,S=S+Math.imul(Ie,De)|0,l=l+Math.imul(Ie,We)|0,l=l+Math.imul(Ne,De)|0,E=E+Math.imul(Ne,We)|0,S=S+Math.imul(Ce,Oe)|0,l=l+Math.imul(Ce,Ge)|0,l=l+Math.imul(ze,Oe)|0,E=E+Math.imul(ze,Ge)|0,S=S+Math.imul(Re,oe)|0,l=l+Math.imul(Re,ce)|0,l=l+Math.imul(we,oe)|0,E=E+Math.imul(we,ce)|0,S=S+Math.imul(_e,ue)|0,l=l+Math.imul(_e,me)|0,l=l+Math.imul(xe,ue)|0,E=E+Math.imul(xe,me)|0,S=S+Math.imul(j,ye)|0,l=l+Math.imul(j,Ee)|0,l=l+Math.imul(he,ye)|0,E=E+Math.imul(he,Ee)|0;var ct=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,S=Math.imul(ae,Fe),l=Math.imul(ae,je),l=l+Math.imul(J,Fe)|0,E=Math.imul(J,je),S=S+Math.imul(Pe,De)|0,l=l+Math.imul(Pe,We)|0,l=l+Math.imul(Le,De)|0,E=E+Math.imul(Le,We)|0,S=S+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,Ge)|0,l=l+Math.imul(Ne,Oe)|0,E=E+Math.imul(Ne,Ge)|0,S=S+Math.imul(Ce,oe)|0,l=l+Math.imul(Ce,ce)|0,l=l+Math.imul(ze,oe)|0,E=E+Math.imul(ze,ce)|0,S=S+Math.imul(Re,ue)|0,l=l+Math.imul(Re,me)|0,l=l+Math.imul(we,ue)|0,E=E+Math.imul(we,me)|0,S=S+Math.imul(_e,ye)|0,l=l+Math.imul(_e,Ee)|0,l=l+Math.imul(xe,ye)|0,E=E+Math.imul(xe,Ee)|0;var it=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(ae,De),l=Math.imul(ae,We),l=l+Math.imul(J,De)|0,E=Math.imul(J,We),S=S+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,Ge)|0,l=l+Math.imul(Le,Oe)|0,E=E+Math.imul(Le,Ge)|0,S=S+Math.imul(Ie,oe)|0,l=l+Math.imul(Ie,ce)|0,l=l+Math.imul(Ne,oe)|0,E=E+Math.imul(Ne,ce)|0,S=S+Math.imul(Ce,ue)|0,l=l+Math.imul(Ce,me)|0,l=l+Math.imul(ze,ue)|0,E=E+Math.imul(ze,me)|0,S=S+Math.imul(Re,ye)|0,l=l+Math.imul(Re,Ee)|0,l=l+Math.imul(we,ye)|0,E=E+Math.imul(we,Ee)|0;var at=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(ae,Oe),l=Math.imul(ae,Ge),l=l+Math.imul(J,Oe)|0,E=Math.imul(J,Ge),S=S+Math.imul(Pe,oe)|0,l=l+Math.imul(Pe,ce)|0,l=l+Math.imul(Le,oe)|0,E=E+Math.imul(Le,ce)|0,S=S+Math.imul(Ie,ue)|0,l=l+Math.imul(Ie,me)|0,l=l+Math.imul(Ne,ue)|0,E=E+Math.imul(Ne,me)|0,S=S+Math.imul(Ce,ye)|0,l=l+Math.imul(Ce,Ee)|0,l=l+Math.imul(ze,ye)|0,E=E+Math.imul(ze,Ee)|0;var st=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(ae,oe),l=Math.imul(ae,ce),l=l+Math.imul(J,oe)|0,E=Math.imul(J,ce),S=S+Math.imul(Pe,ue)|0,l=l+Math.imul(Pe,me)|0,l=l+Math.imul(Le,ue)|0,E=E+Math.imul(Le,me)|0,S=S+Math.imul(Ie,ye)|0,l=l+Math.imul(Ie,Ee)|0,l=l+Math.imul(Ne,ye)|0,E=E+Math.imul(Ne,Ee)|0;var tt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(ae,ue),l=Math.imul(ae,me),l=l+Math.imul(J,ue)|0,E=Math.imul(J,me),S=S+Math.imul(Pe,ye)|0,l=l+Math.imul(Pe,Ee)|0,l=l+Math.imul(Le,ye)|0,E=E+Math.imul(Le,Ee)|0;var He=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(He>>>26)|0,He&=67108863,S=Math.imul(ae,ye),l=Math.imul(ae,Ee),l=l+Math.imul(J,ye)|0,E=Math.imul(J,Ee);var Ke=(I+S|0)+((l&8191)<<13)|0;return I=(E+(l>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,$[0]=Ze,$[1]=Ye,$[2]=xt,$[3]=rt,$[4]=lt,$[5]=dt,$[6]=ht,$[7]=yt,$[8]=pt,$[9]=mt,$[10]=bt,$[11]=nt,$[12]=ct,$[13]=it,$[14]=at,$[15]=st,$[16]=tt,$[17]=He,$[18]=Ke,I!==0&&($[19]=I,b.length++),b};Math.imul||(C=P);function L(k,c,d){d.negative=c.negative^k.negative,d.length=k.length+c.length;for(var b=0,v=0,A=0;A<d.length-1;A++){var $=v;v=0;for(var I=b&67108863,S=Math.min(A,c.length-1),l=Math.max(0,A-k.length+1);l<=S;l++){var E=A-l,O=k.words[E]|0,D=c.words[l]|0,Y=O*D,F=Y&67108863;$=$+(Y/67108864|0)|0,F=F+I|0,I=F&67108863,$=$+(F>>>26)|0,v+=$>>>26,$&=67108863}d.words[A]=I,b=$,$=v}return b!==0?d.words[A]=b:d.length--,d.strip()}function U(k,c,d){var b=new q;return b.mulp(k,c,d)}o.prototype.mulTo=function(c,d){var b,v=this.length+c.length;return this.length===10&&c.length===10?b=C(this,c,d):v<63?b=P(this,c,d):v<1024?b=L(this,c,d):b=U(this,c,d),b};function q(k,c){this.x=k,this.y=c}q.prototype.makeRBT=function(c){for(var d=new Array(c),b=o.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,b,c);return d},q.prototype.revBin=function(c,d,b){if(c===0||c===b-1)return c;for(var v=0,A=0;A<d;A++)v|=(c&1)<<d-A-1,c>>=1;return v},q.prototype.permute=function(c,d,b,v,A,$){for(var I=0;I<$;I++)v[I]=d[c[I]],A[I]=b[c[I]]},q.prototype.transform=function(c,d,b,v,A,$){this.permute($,c,d,b,v,A);for(var I=1;I<A;I<<=1)for(var S=I<<1,l=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),O=0;O<A;O+=S)for(var D=l,Y=E,F=0;F<I;F++){var V=b[O+F],H=v[O+F],ee=b[O+F+I],ie=v[O+F+I],de=D*ee-Y*ie;ie=D*ie+Y*ee,ee=de,b[O+F]=V+ee,v[O+F]=H+ie,b[O+F+I]=V-ee,v[O+F+I]=H-ie,F!==S&&(de=l*D-E*Y,Y=l*Y+E*D,D=de)}},q.prototype.guessLen13b=function(c,d){var b=Math.max(d,c)|1,v=b&1,A=0;for(b=b/2|0;b;b=b>>>1)A++;return 1<<A+1+v},q.prototype.conjugate=function(c,d,b){if(!(b<=1))for(var v=0;v<b/2;v++){var A=c[v];c[v]=c[b-v-1],c[b-v-1]=A,A=d[v],d[v]=-d[b-v-1],d[b-v-1]=-A}},q.prototype.normalize13b=function(c,d){for(var b=0,v=0;v<d/2;v++){var A=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+b;c[v]=A&67108863,A<67108864?b=0:b=A/67108864|0}return c},q.prototype.convert13b=function(c,d,b,v){for(var A=0,$=0;$<d;$++)A=A+(c[$]|0),b[2*$]=A&8191,A=A>>>13,b[2*$+1]=A&8191,A=A>>>13;for($=2*d;$<v;++$)b[$]=0;a(A===0),a((A&-8192)===0)},q.prototype.stub=function(c){for(var d=new Array(c),b=0;b<c;b++)d[b]=0;return d},q.prototype.mulp=function(c,d,b){var v=2*this.guessLen13b(c.length,d.length),A=this.makeRBT(v),$=this.stub(v),I=new Array(v),S=new Array(v),l=new Array(v),E=new Array(v),O=new Array(v),D=new Array(v),Y=b.words;Y.length=v,this.convert13b(c.words,c.length,I,v),this.convert13b(d.words,d.length,E,v),this.transform(I,$,S,l,v,A),this.transform(E,$,O,D,v,A);for(var F=0;F<v;F++){var V=S[F]*O[F]-l[F]*D[F];l[F]=S[F]*D[F]+l[F]*O[F],S[F]=V}return this.conjugate(S,l,v),this.transform(S,l,Y,$,v,A),this.conjugate(Y,$,v),this.normalize13b(Y,v),b.negative=c.negative^d.negative,b.length=c.length+d.length,b.strip()},o.prototype.mul=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},o.prototype.mulf=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),U(this,c,d)},o.prototype.imul=function(c){return this.clone().mulTo(c,this)},o.prototype.imuln=function(c){a(typeof c=="number"),a(c<67108864);for(var d=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*c,A=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=A>>>26,this.words[b]=A&67108863}return d!==0&&(this.words[b]=d,this.length++),this},o.prototype.muln=function(c){return this.clone().imuln(c)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(c){var d=B(c);if(d.length===0)return new o(1);for(var b=this,v=0;v<d.length&&d[v]===0;v++,b=b.sqr());if(++v<d.length)for(var A=b.sqr();v<d.length;v++,A=A.sqr())d[v]!==0&&(b=b.mul(A));return b},o.prototype.iushln=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=67108863>>>26-d<<26-d,A;if(d!==0){var $=0;for(A=0;A<this.length;A++){var I=this.words[A]&v,S=(this.words[A]|0)-I<<d;this.words[A]=S|$,$=I>>>26-d}$&&(this.words[A]=$,this.length++)}if(b!==0){for(A=this.length-1;A>=0;A--)this.words[A+b]=this.words[A];for(A=0;A<b;A++)this.words[A]=0;this.length+=b}return this.strip()},o.prototype.ishln=function(c){return a(this.negative===0),this.iushln(c)},o.prototype.iushrn=function(c,d,b){a(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var A=c%26,$=Math.min((c-A)/26,this.length),I=67108863^67108863>>>A<<A,S=b;if(v-=$,v=Math.max(0,v),S){for(var l=0;l<$;l++)S.words[l]=this.words[l];S.length=$}if($!==0)if(this.length>$)for(this.length-=$,l=0;l<this.length;l++)this.words[l]=this.words[l+$];else this.words[0]=0,this.length=1;var E=0;for(l=this.length-1;l>=0&&(E!==0||l>=v);l--){var O=this.words[l]|0;this.words[l]=E<<26-A|O>>>A,E=O&I}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(c,d,b){return a(this.negative===0),this.iushrn(c,d,b)},o.prototype.shln=function(c){return this.clone().ishln(c)},o.prototype.ushln=function(c){return this.clone().iushln(c)},o.prototype.shrn=function(c){return this.clone().ishrn(c)},o.prototype.ushrn=function(c){return this.clone().iushrn(c)},o.prototype.testn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return!1;var A=this.words[b];return!!(A&v)},o.prototype.imaskn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(c){return this.clone().imaskn(c)},o.prototype.iaddn=function(c){return a(typeof c=="number"),a(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},o.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(c){if(a(typeof c=="number"),a(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(c){return this.clone().iaddn(c)},o.prototype.subn=function(c){return this.clone().isubn(c)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(c,d,b){var v=c.length+b,A;this._expand(v);var $,I=0;for(A=0;A<c.length;A++){$=(this.words[A+b]|0)+I;var S=(c.words[A]|0)*d;$-=S&67108863,I=($>>26)-(S/67108864|0),this.words[A+b]=$&67108863}for(;A<this.length-b;A++)$=(this.words[A+b]|0)+I,I=$>>26,this.words[A+b]=$&67108863;if(I===0)return this.strip();for(a(I===-1),I=0,A=0;A<this.length;A++)$=-(this.words[A]|0)+I,I=$>>26,this.words[A]=$&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(c,d){var b=this.length-c.length,v=this.clone(),A=c,$=A.words[A.length-1]|0,I=this._countBits($);b=26-I,b!==0&&(A=A.ushln(b),v.iushln(b),$=A.words[A.length-1]|0);var S=v.length-A.length,l;if(d!=="mod"){l=new o(null),l.length=S+1,l.words=new Array(l.length);for(var E=0;E<l.length;E++)l.words[E]=0}var O=v.clone()._ishlnsubmul(A,1,S);O.negative===0&&(v=O,l&&(l.words[S]=1));for(var D=S-1;D>=0;D--){var Y=(v.words[A.length+D]|0)*67108864+(v.words[A.length+D-1]|0);for(Y=Math.min(Y/$|0,67108863),v._ishlnsubmul(A,Y,D);v.negative!==0;)Y--,v.negative=0,v._ishlnsubmul(A,1,D),v.isZero()||(v.negative^=1);l&&(l.words[D]=Y)}return l&&l.strip(),v.strip(),d!=="div"&&b!==0&&v.iushrn(b),{div:l||null,mod:v}},o.prototype.divmod=function(c,d,b){if(a(!c.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,A,$;return this.negative!==0&&c.negative===0?($=this.neg().divmod(c,d),d!=="mod"&&(v=$.div.neg()),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.iadd(c)),{div:v,mod:A}):this.negative===0&&c.negative!==0?($=this.divmod(c.neg(),d),d!=="mod"&&(v=$.div.neg()),{div:v,mod:$.mod}):this.negative&c.negative?($=this.neg().divmod(c.neg(),d),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.isub(c)),{div:$.div,mod:A}):c.length>this.length||this.cmp(c)<0?{div:new o(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new o(this.modn(c.words[0]))}:this._wordDiv(c,d)},o.prototype.div=function(c){return this.divmod(c,"div",!1).div},o.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},o.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},o.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),A=c.andln(1),$=b.cmp(v);return $<0||A===1&&$===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(c){a(c<=67108863);for(var d=(1<<26)%c,b=0,v=this.length-1;v>=0;v--)b=(d*b+(this.words[v]|0))%c;return b},o.prototype.idivn=function(c){a(c<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+d*67108864;this.words[b]=v/c|0,d=v%c}return this.strip()},o.prototype.divn=function(c){return this.clone().idivn(c)},o.prototype.egcd=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=new o(0),I=new o(1),S=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++S;for(var l=b.clone(),E=d.clone();!d.isZero();){for(var O=0,D=1;!(d.words[0]&D)&&O<26;++O,D<<=1);if(O>0)for(d.iushrn(O);O-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(l),A.isub(E)),v.iushrn(1),A.iushrn(1);for(var Y=0,F=1;!(b.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(b.iushrn(Y);Y-- >0;)($.isOdd()||I.isOdd())&&($.iadd(l),I.isub(E)),$.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub($),A.isub(I)):(b.isub(d),$.isub(v),I.isub(A))}return{a:$,b:I,gcd:b.iushln(S)}},o.prototype._invmp=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,S=1;!(d.words[0]&S)&&I<26;++I,S<<=1);if(I>0)for(d.iushrn(I);I-- >0;)v.isOdd()&&v.iadd($),v.iushrn(1);for(var l=0,E=1;!(b.words[0]&E)&&l<26;++l,E<<=1);if(l>0)for(b.iushrn(l);l-- >0;)A.isOdd()&&A.iadd($),A.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub(A)):(b.isub(d),A.isub(v))}var O;return d.cmpn(1)===0?O=v:O=A,O.cmpn(0)<0&&O.iadd(c),O},o.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),b=c.clone();d.negative=0,b.negative=0;for(var v=0;d.isEven()&&b.isEven();v++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var A=d.cmp(b);if(A<0){var $=d;d=b,b=$}else if(A===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(v)},o.prototype.invm=function(c){return this.egcd(c).a.umod(c)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(c){return this.words[0]&c},o.prototype.bincn=function(c){a(typeof c=="number");var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var A=v,$=b;A!==0&&$<this.length;$++){var I=this.words[$]|0;I+=A,A=I>>>26,I&=67108863,this.words[$]=I}return A!==0&&(this.words[$]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(c=-c),a(c<=67108863,"Number is too big");var v=this.words[0]|0;b=v===c?0:v<c?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,A=c.words[b]|0;if(v!==A){v<A?d=-1:v>A&&(d=1);break}}return d},o.prototype.gtn=function(c){return this.cmpn(c)===1},o.prototype.gt=function(c){return this.cmp(c)===1},o.prototype.gten=function(c){return this.cmpn(c)>=0},o.prototype.gte=function(c){return this.cmp(c)>=0},o.prototype.ltn=function(c){return this.cmpn(c)===-1},o.prototype.lt=function(c){return this.cmp(c)===-1},o.prototype.lten=function(c){return this.cmpn(c)<=0},o.prototype.lte=function(c){return this.cmp(c)<=0},o.prototype.eqn=function(c){return this.cmpn(c)===0},o.prototype.eq=function(c){return this.cmp(c)===0},o.red=function(c){return new se(c)},o.prototype.toRed=function(c){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},o.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(c){return this.red=c,this},o.prototype.forceRed=function(c){return a(!this.red,"Already a number in reduction context"),this._forceRed(c)},o.prototype.redAdd=function(c){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},o.prototype.redIAdd=function(c){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},o.prototype.redSub=function(c){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},o.prototype.redISub=function(c){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},o.prototype.redShl=function(c){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},o.prototype.redMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},o.prototype.redIMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},o.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(c){return a(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var G={k256:null,p224:null,p192:null,p25519:null};function X(k,c){this.name=k,this.p=new o(c,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var c=new o(null);return c.words=new Array(Math.ceil(this.n/13)),c},X.prototype.ireduce=function(c){var d=c,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var v=b<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},X.prototype.split=function(c,d){c.iushrn(this.n,0,d)},X.prototype.imulK=function(c){return c.imul(this.k)};function te(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(te,X),te.prototype.split=function(c,d){for(var b=4194303,v=Math.min(c.length,9),A=0;A<v;A++)d.words[A]=c.words[A];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var $=c.words[9];for(d.words[d.length++]=$&b,A=10;A<c.length;A++){var I=c.words[A]|0;c.words[A-10]=(I&b)<<4|$>>>22,$=I}$>>>=22,c.words[A-10]=$,$===0&&c.length>10?c.length-=10:c.length-=9},te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,b=0;b<c.length;b++){var v=c.words[b]|0;d+=v*977,c.words[b]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ne(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(ne,X);function ge(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(ge,X);function pe(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(pe,X),pe.prototype.imulK=function(c){for(var d=0,b=0;b<c.length;b++){var v=(c.words[b]|0)*19+d,A=v&67108863;v>>>=26,c.words[b]=A,d=v}return d!==0&&(c.words[c.length++]=d),c},o._prime=function(c){if(G[c])return G[c];var d;if(c==="k256")d=new te;else if(c==="p224")d=new ne;else if(c==="p192")d=new ge;else if(c==="p25519")d=new pe;else throw new Error("Unknown prime "+c);return G[c]=d,d};function se(k){if(typeof k=="string"){var c=o._prime(k);this.m=c.p,this.prime=c}else a(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}se.prototype._verify1=function(c){a(c.negative===0,"red works only with positives"),a(c.red,"red works only with red numbers")},se.prototype._verify2=function(c,d){a((c.negative|d.negative)===0,"red works only with positives"),a(c.red&&c.red===d.red,"red works only with red numbers")},se.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},se.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},se.prototype.add=function(c,d){this._verify2(c,d);var b=c.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},se.prototype.iadd=function(c,d){this._verify2(c,d);var b=c.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},se.prototype.sub=function(c,d){this._verify2(c,d);var b=c.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},se.prototype.isub=function(c,d){this._verify2(c,d);var b=c.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},se.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},se.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},se.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},se.prototype.isqr=function(c){return this.imul(c,c.clone())},se.prototype.sqr=function(c){return this.mul(c,c)},se.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(a(d%2===1),d===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(c,b)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);a(!v.isZero());var $=new o(1).toRed(this),I=$.redNeg(),S=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);this.pow(l,S).cmp(I)!==0;)l.redIAdd(I);for(var E=this.pow(l,v),O=this.pow(c,v.addn(1).iushrn(1)),D=this.pow(c,v),Y=A;D.cmp($)!==0;){for(var F=D,V=0;F.cmp($)!==0;V++)F=F.redSqr();a(V<Y);var H=this.pow(E,new o(1).iushln(Y-V-1));O=O.redMul(H),E=H.redSqr(),D=D.redMul(E),Y=V}return O},se.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},se.prototype.pow=function(c,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var b=4,v=new Array(1<<b);v[0]=new o(1).toRed(this),v[1]=c;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],c);var $=v[0],I=0,S=0,l=d.bitLength()%26;for(l===0&&(l=26),A=d.length-1;A>=0;A--){for(var E=d.words[A],O=l-1;O>=0;O--){var D=E>>O&1;if($!==v[0]&&($=this.sqr($)),D===0&&I===0){S=0;continue}I<<=1,I|=D,S++,!(S!==b&&(A!==0||O!==0))&&($=this.mul($,v[I]),S=0,I=0)}l=26}return $},se.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},se.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},o.mont=function(c){return new Se(c)};function Se(k){se.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(Se,se),Se.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},Se.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},Se.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new o(0)._forceRed(this);var b=c.mul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,commonjsGlobal)}(bn$2)),bn$2.exports}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(t){var e=t,n=requireBn$2(),a=minimalisticAssert$1,u=requireUtils$2();e.assert=a,e.toArray=u.toArray,e.zero2=u.zero2,e.toHex=u.toHex,e.encode=u.encode;function o(_,M,T){var B=new Array(Math.max(_.bitLength(),T)+1);B.fill(0);for(var P=1<<M+1,C=_.clone(),L=0;L<B.length;L++){var U,q=C.andln(P-1);C.isOdd()?(q>(P>>1)-1?U=(P>>1)-q:U=q,C.isubn(U)):U=0,B[L]=U,C.iushrn(1)}return B}e.getNAF=o;function p(_,M){var T=[[],[]];_=_.clone(),M=M.clone();for(var B=0,P=0,C;_.cmpn(-B)>0||M.cmpn(-P)>0;){var L=_.andln(3)+B&3,U=M.andln(3)+P&3;L===3&&(L=-1),U===3&&(U=-1);var q;L&1?(C=_.andln(7)+B&7,(C===3||C===5)&&U===2?q=-L:q=L):q=0,T[0].push(q);var G;U&1?(C=M.andln(7)+P&7,(C===3||C===5)&&L===2?G=-U:G=U):G=0,T[1].push(G),2*B===q+1&&(B=1-B),2*P===G+1&&(P=1-P),_.iushrn(1),M.iushrn(1)}return T}e.getJSF=p;function m(_,M,T){var B="_"+M;_.prototype[M]=function(){return this[B]!==void 0?this[B]:this[B]=T.call(this)}}e.cachedProperty=m;function y(_){return typeof _=="string"?e.toArray(_,"hex"):_}e.parseBytes=y;function w(_){return new n(_,"hex","le")}e.intFromLE=w}(utils$1)),utils$1}var curve={},base,hasRequiredBase;function requireBase(){if(hasRequiredBase)return base;hasRequiredBase=1;var t=requireBn$2(),e=requireUtils(),n=e.getNAF,a=e.getJSF,u=e.assert;function o(m,y){this.type=m,this.p=new t(y.p,16),this.red=y.prime?t.red(y.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=y.n&&new t(y.n,16),this.g=y.g&&this.pointFromJSON(y.g,y.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var w=this.n&&this.p.div(this.n);!w||w.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base=o,o.prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(y,w){u(y.precomputed);var _=y._getDoubles(),M=n(w,1,this._bitLength),T=(1<<_.step+1)-(_.step%2===0?2:1);T/=3;var B=[],P,C;for(P=0;P<M.length;P+=_.step){C=0;for(var L=P+_.step-1;L>=P;L--)C=(C<<1)+M[L];B.push(C)}for(var U=this.jpoint(null,null,null),q=this.jpoint(null,null,null),G=T;G>0;G--){for(P=0;P<B.length;P++)C=B[P],C===G?q=q.mixedAdd(_.points[P]):C===-G&&(q=q.mixedAdd(_.points[P].neg()));U=U.add(q)}return U.toP()},o.prototype._wnafMul=function(y,w){var _=4,M=y._getNAFPoints(_);_=M.wnd;for(var T=M.points,B=n(w,_,this._bitLength),P=this.jpoint(null,null,null),C=B.length-1;C>=0;C--){for(var L=0;C>=0&&B[C]===0;C--)L++;if(C>=0&&L++,P=P.dblp(L),C<0)break;var U=B[C];u(U!==0),y.type==="affine"?U>0?P=P.mixedAdd(T[U-1>>1]):P=P.mixedAdd(T[-U-1>>1].neg()):U>0?P=P.add(T[U-1>>1]):P=P.add(T[-U-1>>1].neg())}return y.type==="affine"?P.toP():P},o.prototype._wnafMulAdd=function(y,w,_,M,T){var B=this._wnafT1,P=this._wnafT2,C=this._wnafT3,L=0,U,q,G;for(U=0;U<M;U++){G=w[U];var X=G._getNAFPoints(y);B[U]=X.wnd,P[U]=X.points}for(U=M-1;U>=1;U-=2){var te=U-1,ne=U;if(B[te]!==1||B[ne]!==1){C[te]=n(_[te],B[te],this._bitLength),C[ne]=n(_[ne],B[ne],this._bitLength),L=Math.max(C[te].length,L),L=Math.max(C[ne].length,L);continue}var ge=[w[te],null,null,w[ne]];w[te].y.cmp(w[ne].y)===0?(ge[1]=w[te].add(w[ne]),ge[2]=w[te].toJ().mixedAdd(w[ne].neg())):w[te].y.cmp(w[ne].y.redNeg())===0?(ge[1]=w[te].toJ().mixedAdd(w[ne]),ge[2]=w[te].add(w[ne].neg())):(ge[1]=w[te].toJ().mixedAdd(w[ne]),ge[2]=w[te].toJ().mixedAdd(w[ne].neg()));var pe=[-3,-1,-5,-7,0,7,5,1,3],se=a(_[te],_[ne]);for(L=Math.max(se[0].length,L),C[te]=new Array(L),C[ne]=new Array(L),q=0;q<L;q++){var Se=se[0][q]|0,k=se[1][q]|0;C[te][q]=pe[(Se+1)*3+(k+1)],C[ne][q]=0,P[te]=ge}}var c=this.jpoint(null,null,null),d=this._wnafT4;for(U=L;U>=0;U--){for(var b=0;U>=0;){var v=!0;for(q=0;q<M;q++)d[q]=C[q][U]|0,d[q]!==0&&(v=!1);if(!v)break;b++,U--}if(U>=0&&b++,c=c.dblp(b),U<0)break;for(q=0;q<M;q++){var A=d[q];A!==0&&(A>0?G=P[q][A-1>>1]:A<0&&(G=P[q][-A-1>>1].neg()),G.type==="affine"?c=c.mixedAdd(G):c=c.add(G))}}for(U=0;U<M;U++)P[U]=null;return T?c:c.toP()};function p(m,y){this.curve=m,this.type=y,this.precomputed=null}return o.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(y,w){y=e.toArray(y,w);var _=this.p.byteLength();if((y[0]===4||y[0]===6||y[0]===7)&&y.length-1===2*_){y[0]===6?u(y[y.length-1]%2===0):y[0]===7&&u(y[y.length-1]%2===1);var M=this.point(y.slice(1,1+_),y.slice(1+_,1+2*_));return M}else if((y[0]===2||y[0]===3)&&y.length-1===_)return this.pointFromX(y.slice(1,1+_),y[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(y){return this.encode(y,!0)},p.prototype._encode=function(y){var w=this.curve.p.byteLength(),_=this.getX().toArray("be",w);return y?[this.getY().isEven()?2:3].concat(_):[4].concat(_,this.getY().toArray("be",w))},p.prototype.encode=function(y,w){return e.encode(this._encode(w),y)},p.prototype.precompute=function(y){if(this.precomputed)return this;var w={doubles:null,naf:null,beta:null};return w.naf=this._getNAFPoints(8),w.doubles=this._getDoubles(4,y),w.beta=this._getBeta(),this.precomputed=w,this},p.prototype._hasDoubles=function(y){if(!this.precomputed)return!1;var w=this.precomputed.doubles;return w?w.points.length>=Math.ceil((y.bitLength()+1)/w.step):!1},p.prototype._getDoubles=function(y,w){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var _=[this],M=this,T=0;T<w;T+=y){for(var B=0;B<y;B++)M=M.dbl();_.push(M)}return{step:y,points:_}},p.prototype._getNAFPoints=function(y){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var w=[this],_=(1<<y)-1,M=_===1?null:this.dbl(),T=1;T<_;T++)w[T]=w[T-1].add(M);return{wnd:y,points:w}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(y){for(var w=this,_=0;_<y;_++)w=w.dbl();return w},base}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var t=requireUtils(),e=requireBn$2(),n=inherits_browserExports,a=requireBase(),u=t.assert;function o(y){a.call(this,"short",y),this.a=new e(y.a,16).toRed(this.red),this.b=new e(y.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(y),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}n(o,a),short=o,o.prototype._getEndomorphism=function(w){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var _,M;if(w.beta)_=new e(w.beta,16).toRed(this.red);else{var T=this._getEndoRoots(this.p);_=T[0].cmp(T[1])<0?T[0]:T[1],_=_.toRed(this.red)}if(w.lambda)M=new e(w.lambda,16);else{var B=this._getEndoRoots(this.n);this.g.mul(B[0]).x.cmp(this.g.x.redMul(_))===0?M=B[0]:(M=B[1],u(this.g.mul(M).x.cmp(this.g.x.redMul(_))===0))}var P;return w.basis?P=w.basis.map(function(C){return{a:new e(C.a,16),b:new e(C.b,16)}}):P=this._getEndoBasis(M),{beta:_,lambda:M,basis:P}}},o.prototype._getEndoRoots=function(w){var _=w===this.p?this.red:e.mont(w),M=new e(2).toRed(_).redInvm(),T=M.redNeg(),B=new e(3).toRed(_).redNeg().redSqrt().redMul(M),P=T.redAdd(B).fromRed(),C=T.redSub(B).fromRed();return[P,C]},o.prototype._getEndoBasis=function(w){for(var _=this.n.ushrn(Math.floor(this.n.bitLength()/2)),M=w,T=this.n.clone(),B=new e(1),P=new e(0),C=new e(0),L=new e(1),U,q,G,X,te,ne,ge,pe=0,se,Se;M.cmpn(0)!==0;){var k=T.div(M);se=T.sub(k.mul(M)),Se=C.sub(k.mul(B));var c=L.sub(k.mul(P));if(!G&&se.cmp(_)<0)U=ge.neg(),q=B,G=se.neg(),X=Se;else if(G&&++pe===2)break;ge=se,T=M,M=se,C=B,B=Se,L=P,P=c}te=se.neg(),ne=Se;var d=G.sqr().add(X.sqr()),b=te.sqr().add(ne.sqr());return b.cmp(d)>=0&&(te=U,ne=q),G.negative&&(G=G.neg(),X=X.neg()),te.negative&&(te=te.neg(),ne=ne.neg()),[{a:G,b:X},{a:te,b:ne}]},o.prototype._endoSplit=function(w){var _=this.endo.basis,M=_[0],T=_[1],B=T.b.mul(w).divRound(this.n),P=M.b.neg().mul(w).divRound(this.n),C=B.mul(M.a),L=P.mul(T.a),U=B.mul(M.b),q=P.mul(T.b),G=w.sub(C).sub(L),X=U.add(q).neg();return{k1:G,k2:X}},o.prototype.pointFromX=function(w,_){w=new e(w,16),w.red||(w=w.toRed(this.red));var M=w.redSqr().redMul(w).redIAdd(w.redMul(this.a)).redIAdd(this.b),T=M.redSqrt();if(T.redSqr().redSub(M).cmp(this.zero)!==0)throw new Error("invalid point");var B=T.fromRed().isOdd();return(_&&!B||!_&&B)&&(T=T.redNeg()),this.point(w,T)},o.prototype.validate=function(w){if(w.inf)return!0;var _=w.x,M=w.y,T=this.a.redMul(_),B=_.redSqr().redMul(_).redIAdd(T).redIAdd(this.b);return M.redSqr().redISub(B).cmpn(0)===0},o.prototype._endoWnafMulAdd=function(w,_,M){for(var T=this._endoWnafT1,B=this._endoWnafT2,P=0;P<w.length;P++){var C=this._endoSplit(_[P]),L=w[P],U=L._getBeta();C.k1.negative&&(C.k1.ineg(),L=L.neg(!0)),C.k2.negative&&(C.k2.ineg(),U=U.neg(!0)),T[P*2]=L,T[P*2+1]=U,B[P*2]=C.k1,B[P*2+1]=C.k2}for(var q=this._wnafMulAdd(1,T,B,P*2,M),G=0;G<P*2;G++)T[G]=null,B[G]=null;return q};function p(y,w,_,M){a.BasePoint.call(this,y,"affine"),w===null&&_===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(w,16),this.y=new e(_,16),M&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}n(p,a.BasePoint),o.prototype.point=function(w,_,M){return new p(this,w,_,M)},o.prototype.pointFromJSON=function(w,_){return p.fromJSON(this,w,_)},p.prototype._getBeta=function(){if(this.curve.endo){var w=this.precomputed;if(w&&w.beta)return w.beta;var _=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(w){var M=this.curve,T=function(B){return M.point(B.x.redMul(M.endo.beta),B.y)};w.beta=_,_.precomputed={beta:null,naf:w.naf&&{wnd:w.naf.wnd,points:w.naf.points.map(T)},doubles:w.doubles&&{step:w.doubles.step,points:w.doubles.points.map(T)}}}return _}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(w,_,M){typeof _=="string"&&(_=JSON.parse(_));var T=w.point(_[0],_[1],M);if(!_[2])return T;function B(C){return w.point(C[0],C[1],M)}var P=_[2];return T.precomputed={beta:null,doubles:P.doubles&&{step:P.doubles.step,points:[T].concat(P.doubles.points.map(B))},naf:P.naf&&{wnd:P.naf.wnd,points:[T].concat(P.naf.points.map(B))}},T},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(w){if(this.inf)return w;if(w.inf)return this;if(this.eq(w))return this.dbl();if(this.neg().eq(w))return this.curve.point(null,null);if(this.x.cmp(w.x)===0)return this.curve.point(null,null);var _=this.y.redSub(w.y);_.cmpn(0)!==0&&(_=_.redMul(this.x.redSub(w.x).redInvm()));var M=_.redSqr().redISub(this.x).redISub(w.x),T=_.redMul(this.x.redSub(M)).redISub(this.y);return this.curve.point(M,T)},p.prototype.dbl=function(){if(this.inf)return this;var w=this.y.redAdd(this.y);if(w.cmpn(0)===0)return this.curve.point(null,null);var _=this.curve.a,M=this.x.redSqr(),T=w.redInvm(),B=M.redAdd(M).redIAdd(M).redIAdd(_).redMul(T),P=B.redSqr().redISub(this.x.redAdd(this.x)),C=B.redMul(this.x.redSub(P)).redISub(this.y);return this.curve.point(P,C)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(w){return w=new e(w,16),this.isInfinity()?this:this._hasDoubles(w)?this.curve._fixedNafMul(this,w):this.curve.endo?this.curve._endoWnafMulAdd([this],[w]):this.curve._wnafMul(this,w)},p.prototype.mulAdd=function(w,_,M){var T=[this,_],B=[w,M];return this.curve.endo?this.curve._endoWnafMulAdd(T,B):this.curve._wnafMulAdd(1,T,B,2)},p.prototype.jmulAdd=function(w,_,M){var T=[this,_],B=[w,M];return this.curve.endo?this.curve._endoWnafMulAdd(T,B,!0):this.curve._wnafMulAdd(1,T,B,2,!0)},p.prototype.eq=function(w){return this===w||this.inf===w.inf&&(this.inf||this.x.cmp(w.x)===0&&this.y.cmp(w.y)===0)},p.prototype.neg=function(w){if(this.inf)return this;var _=this.curve.point(this.x,this.y.redNeg());if(w&&this.precomputed){var M=this.precomputed,T=function(B){return B.neg()};_.precomputed={naf:M.naf&&{wnd:M.naf.wnd,points:M.naf.points.map(T)},doubles:M.doubles&&{step:M.doubles.step,points:M.doubles.points.map(T)}}}return _},p.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var w=this.curve.jpoint(this.x,this.y,this.curve.one);return w};function m(y,w,_,M){a.BasePoint.call(this,y,"jacobian"),w===null&&_===null&&M===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(w,16),this.y=new e(_,16),this.z=new e(M,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return n(m,a.BasePoint),o.prototype.jpoint=function(w,_,M){return new m(this,w,_,M)},m.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var w=this.z.redInvm(),_=w.redSqr(),M=this.x.redMul(_),T=this.y.redMul(_).redMul(w);return this.curve.point(M,T)},m.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},m.prototype.add=function(w){if(this.isInfinity())return w;if(w.isInfinity())return this;var _=w.z.redSqr(),M=this.z.redSqr(),T=this.x.redMul(_),B=w.x.redMul(M),P=this.y.redMul(_.redMul(w.z)),C=w.y.redMul(M.redMul(this.z)),L=T.redSub(B),U=P.redSub(C);if(L.cmpn(0)===0)return U.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var q=L.redSqr(),G=q.redMul(L),X=T.redMul(q),te=U.redSqr().redIAdd(G).redISub(X).redISub(X),ne=U.redMul(X.redISub(te)).redISub(P.redMul(G)),ge=this.z.redMul(w.z).redMul(L);return this.curve.jpoint(te,ne,ge)},m.prototype.mixedAdd=function(w){if(this.isInfinity())return w.toJ();if(w.isInfinity())return this;var _=this.z.redSqr(),M=this.x,T=w.x.redMul(_),B=this.y,P=w.y.redMul(_).redMul(this.z),C=M.redSub(T),L=B.redSub(P);if(C.cmpn(0)===0)return L.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var U=C.redSqr(),q=U.redMul(C),G=M.redMul(U),X=L.redSqr().redIAdd(q).redISub(G).redISub(G),te=L.redMul(G.redISub(X)).redISub(B.redMul(q)),ne=this.z.redMul(C);return this.curve.jpoint(X,te,ne)},m.prototype.dblp=function(w){if(w===0)return this;if(this.isInfinity())return this;if(!w)return this.dbl();var _;if(this.curve.zeroA||this.curve.threeA){var M=this;for(_=0;_<w;_++)M=M.dbl();return M}var T=this.curve.a,B=this.curve.tinv,P=this.x,C=this.y,L=this.z,U=L.redSqr().redSqr(),q=C.redAdd(C);for(_=0;_<w;_++){var G=P.redSqr(),X=q.redSqr(),te=X.redSqr(),ne=G.redAdd(G).redIAdd(G).redIAdd(T.redMul(U)),ge=P.redMul(X),pe=ne.redSqr().redISub(ge.redAdd(ge)),se=ge.redISub(pe),Se=ne.redMul(se);Se=Se.redIAdd(Se).redISub(te);var k=q.redMul(L);_+1<w&&(U=U.redMul(te)),P=pe,L=k,q=Se}return this.curve.jpoint(P,q.redMul(B),L)},m.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},m.prototype._zeroDbl=function(){var w,_,M;if(this.zOne){var T=this.x.redSqr(),B=this.y.redSqr(),P=B.redSqr(),C=this.x.redAdd(B).redSqr().redISub(T).redISub(P);C=C.redIAdd(C);var L=T.redAdd(T).redIAdd(T),U=L.redSqr().redISub(C).redISub(C),q=P.redIAdd(P);q=q.redIAdd(q),q=q.redIAdd(q),w=U,_=L.redMul(C.redISub(U)).redISub(q),M=this.y.redAdd(this.y)}else{var G=this.x.redSqr(),X=this.y.redSqr(),te=X.redSqr(),ne=this.x.redAdd(X).redSqr().redISub(G).redISub(te);ne=ne.redIAdd(ne);var ge=G.redAdd(G).redIAdd(G),pe=ge.redSqr(),se=te.redIAdd(te);se=se.redIAdd(se),se=se.redIAdd(se),w=pe.redISub(ne).redISub(ne),_=ge.redMul(ne.redISub(w)).redISub(se),M=this.y.redMul(this.z),M=M.redIAdd(M)}return this.curve.jpoint(w,_,M)},m.prototype._threeDbl=function(){var w,_,M;if(this.zOne){var T=this.x.redSqr(),B=this.y.redSqr(),P=B.redSqr(),C=this.x.redAdd(B).redSqr().redISub(T).redISub(P);C=C.redIAdd(C);var L=T.redAdd(T).redIAdd(T).redIAdd(this.curve.a),U=L.redSqr().redISub(C).redISub(C);w=U;var q=P.redIAdd(P);q=q.redIAdd(q),q=q.redIAdd(q),_=L.redMul(C.redISub(U)).redISub(q),M=this.y.redAdd(this.y)}else{var G=this.z.redSqr(),X=this.y.redSqr(),te=this.x.redMul(X),ne=this.x.redSub(G).redMul(this.x.redAdd(G));ne=ne.redAdd(ne).redIAdd(ne);var ge=te.redIAdd(te);ge=ge.redIAdd(ge);var pe=ge.redAdd(ge);w=ne.redSqr().redISub(pe),M=this.y.redAdd(this.z).redSqr().redISub(X).redISub(G);var se=X.redSqr();se=se.redIAdd(se),se=se.redIAdd(se),se=se.redIAdd(se),_=ne.redMul(ge.redISub(w)).redISub(se)}return this.curve.jpoint(w,_,M)},m.prototype._dbl=function(){var w=this.curve.a,_=this.x,M=this.y,T=this.z,B=T.redSqr().redSqr(),P=_.redSqr(),C=M.redSqr(),L=P.redAdd(P).redIAdd(P).redIAdd(w.redMul(B)),U=_.redAdd(_);U=U.redIAdd(U);var q=U.redMul(C),G=L.redSqr().redISub(q.redAdd(q)),X=q.redISub(G),te=C.redSqr();te=te.redIAdd(te),te=te.redIAdd(te),te=te.redIAdd(te);var ne=L.redMul(X).redISub(te),ge=M.redAdd(M).redMul(T);return this.curve.jpoint(G,ne,ge)},m.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var w=this.x.redSqr(),_=this.y.redSqr(),M=this.z.redSqr(),T=_.redSqr(),B=w.redAdd(w).redIAdd(w),P=B.redSqr(),C=this.x.redAdd(_).redSqr().redISub(w).redISub(T);C=C.redIAdd(C),C=C.redAdd(C).redIAdd(C),C=C.redISub(P);var L=C.redSqr(),U=T.redIAdd(T);U=U.redIAdd(U),U=U.redIAdd(U),U=U.redIAdd(U);var q=B.redIAdd(C).redSqr().redISub(P).redISub(L).redISub(U),G=_.redMul(q);G=G.redIAdd(G),G=G.redIAdd(G);var X=this.x.redMul(L).redISub(G);X=X.redIAdd(X),X=X.redIAdd(X);var te=this.y.redMul(q.redMul(U.redISub(q)).redISub(C.redMul(L)));te=te.redIAdd(te),te=te.redIAdd(te),te=te.redIAdd(te);var ne=this.z.redAdd(C).redSqr().redISub(M).redISub(L);return this.curve.jpoint(X,te,ne)},m.prototype.mul=function(w,_){return w=new e(w,_),this.curve._wnafMul(this,w)},m.prototype.eq=function(w){if(w.type==="affine")return this.eq(w.toJ());if(this===w)return!0;var _=this.z.redSqr(),M=w.z.redSqr();if(this.x.redMul(M).redISub(w.x.redMul(_)).cmpn(0)!==0)return!1;var T=_.redMul(this.z),B=M.redMul(w.z);return this.y.redMul(B).redISub(w.y.redMul(T)).cmpn(0)===0},m.prototype.eqXToP=function(w){var _=this.z.redSqr(),M=w.toRed(this.curve.red).redMul(_);if(this.x.cmp(M)===0)return!0;for(var T=w.clone(),B=this.curve.redN.redMul(_);;){if(T.iadd(this.curve.n),T.cmp(this.curve.p)>=0)return!1;if(M.redIAdd(B),this.x.cmp(M)===0)return!0}},m.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},m.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var t=requireBn$2(),e=inherits_browserExports,n=requireBase(),a=requireUtils();function u(p){n.call(this,"mont",p),this.a=new t(p.a,16).toRed(this.red),this.b=new t(p.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(u,n),mont=u,u.prototype.validate=function(m){var y=m.normalize().x,w=y.redSqr(),_=w.redMul(y).redAdd(w.redMul(this.a)).redAdd(y),M=_.redSqrt();return M.redSqr().cmp(_)===0};function o(p,m,y){n.BasePoint.call(this,p,"projective"),m===null&&y===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(m,16),this.z=new t(y,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(o,n.BasePoint),u.prototype.decodePoint=function(m,y){return this.point(a.toArray(m,y),1)},u.prototype.point=function(m,y){return new o(this,m,y)},u.prototype.pointFromJSON=function(m){return o.fromJSON(this,m)},o.prototype.precompute=function(){},o.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},o.fromJSON=function(m,y){return new o(m,y[0],y[1]||m.one)},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0},o.prototype.dbl=function(){var m=this.x.redAdd(this.z),y=m.redSqr(),w=this.x.redSub(this.z),_=w.redSqr(),M=y.redSub(_),T=y.redMul(_),B=M.redMul(_.redAdd(this.curve.a24.redMul(M)));return this.curve.point(T,B)},o.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.diffAdd=function(m,y){var w=this.x.redAdd(this.z),_=this.x.redSub(this.z),M=m.x.redAdd(m.z),T=m.x.redSub(m.z),B=T.redMul(w),P=M.redMul(_),C=y.z.redMul(B.redAdd(P).redSqr()),L=y.x.redMul(B.redISub(P).redSqr());return this.curve.point(C,L)},o.prototype.mul=function(m){for(var y=m.clone(),w=this,_=this.curve.point(null,null),M=this,T=[];y.cmpn(0)!==0;y.iushrn(1))T.push(y.andln(1));for(var B=T.length-1;B>=0;B--)T[B]===0?(w=w.diffAdd(_,M),_=_.dbl()):(_=w.diffAdd(_,M),w=w.dbl());return _},o.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.eq=function(m){return this.getX().cmp(m.getX())===0},o.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var t=requireUtils(),e=requireBn$2(),n=inherits_browserExports,a=requireBase(),u=t.assert;function o(m){this.twisted=(m.a|0)!==1,this.mOneA=this.twisted&&(m.a|0)===-1,this.extended=this.mOneA,a.call(this,"edwards",m),this.a=new e(m.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(m.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(m.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(m.c|0)===1}n(o,a),edwards=o,o.prototype._mulA=function(y){return this.mOneA?y.redNeg():this.a.redMul(y)},o.prototype._mulC=function(y){return this.oneC?y:this.c.redMul(y)},o.prototype.jpoint=function(y,w,_,M){return this.point(y,w,_,M)},o.prototype.pointFromX=function(y,w){y=new e(y,16),y.red||(y=y.toRed(this.red));var _=y.redSqr(),M=this.c2.redSub(this.a.redMul(_)),T=this.one.redSub(this.c2.redMul(this.d).redMul(_)),B=M.redMul(T.redInvm()),P=B.redSqrt();if(P.redSqr().redSub(B).cmp(this.zero)!==0)throw new Error("invalid point");var C=P.fromRed().isOdd();return(w&&!C||!w&&C)&&(P=P.redNeg()),this.point(y,P)},o.prototype.pointFromY=function(y,w){y=new e(y,16),y.red||(y=y.toRed(this.red));var _=y.redSqr(),M=_.redSub(this.c2),T=_.redMul(this.d).redMul(this.c2).redSub(this.a),B=M.redMul(T.redInvm());if(B.cmp(this.zero)===0){if(w)throw new Error("invalid point");return this.point(this.zero,y)}var P=B.redSqrt();if(P.redSqr().redSub(B).cmp(this.zero)!==0)throw new Error("invalid point");return P.fromRed().isOdd()!==w&&(P=P.redNeg()),this.point(P,y)},o.prototype.validate=function(y){if(y.isInfinity())return!0;y.normalize();var w=y.x.redSqr(),_=y.y.redSqr(),M=w.redMul(this.a).redAdd(_),T=this.c2.redMul(this.one.redAdd(this.d.redMul(w).redMul(_)));return M.cmp(T)===0};function p(m,y,w,_,M){a.BasePoint.call(this,m,"projective"),y===null&&w===null&&_===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(y,16),this.y=new e(w,16),this.z=_?new e(_,16):this.curve.one,this.t=M&&new e(M,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return n(p,a.BasePoint),o.prototype.pointFromJSON=function(y){return p.fromJSON(this,y)},o.prototype.point=function(y,w,_,M){return new p(this,y,w,_,M)},p.fromJSON=function(y,w){return new p(y,w[0],w[1],w[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var y=this.x.redSqr(),w=this.y.redSqr(),_=this.z.redSqr();_=_.redIAdd(_);var M=this.curve._mulA(y),T=this.x.redAdd(this.y).redSqr().redISub(y).redISub(w),B=M.redAdd(w),P=B.redSub(_),C=M.redSub(w),L=T.redMul(P),U=B.redMul(C),q=T.redMul(C),G=P.redMul(B);return this.curve.point(L,U,G,q)},p.prototype._projDbl=function(){var y=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),_=this.y.redSqr(),M,T,B,P,C,L;if(this.curve.twisted){P=this.curve._mulA(w);var U=P.redAdd(_);this.zOne?(M=y.redSub(w).redSub(_).redMul(U.redSub(this.curve.two)),T=U.redMul(P.redSub(_)),B=U.redSqr().redSub(U).redSub(U)):(C=this.z.redSqr(),L=U.redSub(C).redISub(C),M=y.redSub(w).redISub(_).redMul(L),T=U.redMul(P.redSub(_)),B=U.redMul(L))}else P=w.redAdd(_),C=this.curve._mulC(this.z).redSqr(),L=P.redSub(C).redSub(C),M=this.curve._mulC(y.redISub(P)).redMul(L),T=this.curve._mulC(P).redMul(w.redISub(_)),B=P.redMul(L);return this.curve.point(M,T,B)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(y){var w=this.y.redSub(this.x).redMul(y.y.redSub(y.x)),_=this.y.redAdd(this.x).redMul(y.y.redAdd(y.x)),M=this.t.redMul(this.curve.dd).redMul(y.t),T=this.z.redMul(y.z.redAdd(y.z)),B=_.redSub(w),P=T.redSub(M),C=T.redAdd(M),L=_.redAdd(w),U=B.redMul(P),q=C.redMul(L),G=B.redMul(L),X=P.redMul(C);return this.curve.point(U,q,X,G)},p.prototype._projAdd=function(y){var w=this.z.redMul(y.z),_=w.redSqr(),M=this.x.redMul(y.x),T=this.y.redMul(y.y),B=this.curve.d.redMul(M).redMul(T),P=_.redSub(B),C=_.redAdd(B),L=this.x.redAdd(this.y).redMul(y.x.redAdd(y.y)).redISub(M).redISub(T),U=w.redMul(P).redMul(L),q,G;return this.curve.twisted?(q=w.redMul(C).redMul(T.redSub(this.curve._mulA(M))),G=P.redMul(C)):(q=w.redMul(C).redMul(T.redSub(M)),G=this.curve._mulC(P).redMul(C)),this.curve.point(U,q,G)},p.prototype.add=function(y){return this.isInfinity()?y:y.isInfinity()?this:this.curve.extended?this._extAdd(y):this._projAdd(y)},p.prototype.mul=function(y){return this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve._wnafMul(this,y)},p.prototype.mulAdd=function(y,w,_){return this.curve._wnafMulAdd(1,[this,w],[y,_],2,!1)},p.prototype.jmulAdd=function(y,w,_){return this.curve._wnafMulAdd(1,[this,w],[y,_],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var y=this.z.redInvm();return this.x=this.x.redMul(y),this.y=this.y.redMul(y),this.t&&(this.t=this.t.redMul(y)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(y){return this===y||this.getX().cmp(y.getX())===0&&this.getY().cmp(y.getY())===0},p.prototype.eqXToP=function(y){var w=y.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(w)===0)return!0;for(var _=y.clone(),M=this.curve.redN.redMul(this.z);;){if(_.iadd(this.curve.n),_.cmp(this.curve.p)>=0)return!1;if(w.redIAdd(M),this.x.cmp(w)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(t){var e=t;e.base=requireBase(),e.short=requireShort(),e.mont=requireMont(),e.edwards=requireEdwards()}(curve)),curve}var curves={},secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(t){var e=t,n=hash$3,a=requireCurve(),u=requireUtils(),o=u.assert;function p(w){w.type==="short"?this.curve=new a.short(w):w.type==="edwards"?this.curve=new a.edwards(w):this.curve=new a.mont(w),this.g=this.curve.g,this.n=this.curve.n,this.hash=w.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=p;function m(w,_){Object.defineProperty(e,w,{configurable:!0,enumerable:!0,get:function(){var M=new p(_);return Object.defineProperty(e,w,{configurable:!0,enumerable:!0,value:M}),M}})}m("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),m("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),m("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),m("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),m("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),m("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),m("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var y;try{y=requireSecp256k1()}catch{y=void 0}m("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",y]})}(curves)),curves}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var t=requireBn$2(),e=requireUtils(),n=e.assert;function a(u,o){this.ec=u,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}return key$1=a,a.fromPublic=function(o,p,m){return p instanceof a?p:new a(o,{pub:p,pubEnc:m})},a.fromPrivate=function(o,p,m){return p instanceof a?p:new a(o,{priv:p,privEnc:m})},a.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(o,p){return typeof o=="string"&&(p=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),p?this.pub.encode(p,o):this.pub},a.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(o,p){this.priv=new t(o,p||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(o,p){if(o.x||o.y){this.ec.curve.type==="mont"?n(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&n(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,p)},a.prototype.derive=function(o){return o.validate()||n(o.validate(),"public point not validated"),o.mul(this.priv).getX()},a.prototype.sign=function(o,p,m){return this.ec.sign(o,this,p,m)},a.prototype.verify=function(o,p){return this.ec.verify(o,p,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var t=requireBn$2(),e=requireUtils(),n=e.assert;function a(y,w){if(y instanceof a)return y;this._importDER(y,w)||(n(y.r&&y.s,"Signature without r or s"),this.r=new t(y.r,16),this.s=new t(y.s,16),y.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=y.recoveryParam)}signature$1=a;function u(){this.place=0}function o(y,w){var _=y[w.place++];if(!(_&128))return _;var M=_&15;if(M===0||M>4)return!1;for(var T=0,B=0,P=w.place;B<M;B++,P++)T<<=8,T|=y[P],T>>>=0;return T<=127?!1:(w.place=P,T)}function p(y){for(var w=0,_=y.length-1;!y[w]&&!(y[w+1]&128)&&w<_;)w++;return w===0?y:y.slice(w)}a.prototype._importDER=function(w,_){w=e.toArray(w,_);var M=new u;if(w[M.place++]!==48)return!1;var T=o(w,M);if(T===!1||T+M.place!==w.length||w[M.place++]!==2)return!1;var B=o(w,M);if(B===!1)return!1;var P=w.slice(M.place,B+M.place);if(M.place+=B,w[M.place++]!==2)return!1;var C=o(w,M);if(C===!1||w.length!==C+M.place)return!1;var L=w.slice(M.place,C+M.place);if(P[0]===0)if(P[1]&128)P=P.slice(1);else return!1;if(L[0]===0)if(L[1]&128)L=L.slice(1);else return!1;return this.r=new t(P),this.s=new t(L),this.recoveryParam=null,!0};function m(y,w){if(w<128){y.push(w);return}var _=1+(Math.log(w)/Math.LN2>>>3);for(y.push(_|128);--_;)y.push(w>>>(_<<3)&255);y.push(w)}return a.prototype.toDER=function(w){var _=this.r.toArray(),M=this.s.toArray();for(_[0]&128&&(_=[0].concat(_)),M[0]&128&&(M=[0].concat(M)),_=p(_),M=p(M);!M[0]&&!(M[1]&128);)M=M.slice(1);var T=[2];m(T,_.length),T=T.concat(_),T.push(2),m(T,M.length);var B=T.concat(M),P=[48];return m(P,B.length),P=P.concat(B),e.encode(P,w)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var t=requireBn$2(),e=requireHmacDrbg(),n=requireUtils(),a=requireCurves(),u=requireBrorand(),o=n.assert,p=requireKey$1(),m=requireSignature$1();function y(w){if(!(this instanceof y))return new y(w);typeof w=="string"&&(o(Object.prototype.hasOwnProperty.call(a,w),"Unknown curve "+w),w=a[w]),w instanceof a.PresetCurve&&(w={curve:w}),this.curve=w.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=w.curve.g,this.g.precompute(w.curve.n.bitLength()+1),this.hash=w.hash||w.curve.hash}return ec=y,y.prototype.keyPair=function(_){return new p(this,_)},y.prototype.keyFromPrivate=function(_,M){return p.fromPrivate(this,_,M)},y.prototype.keyFromPublic=function(_,M){return p.fromPublic(this,_,M)},y.prototype.genKeyPair=function(_){_||(_={});for(var M=new e({hash:this.hash,pers:_.pers,persEnc:_.persEnc||"utf8",entropy:_.entropy||u(this.hash.hmacStrength),entropyEnc:_.entropy&&_.entropyEnc||"utf8",nonce:this.n.toArray()}),T=this.n.byteLength(),B=this.n.sub(new t(2));;){var P=new t(M.generate(T));if(!(P.cmp(B)>0))return P.iaddn(1),this.keyFromPrivate(P)}},y.prototype._truncateToN=function(_,M){var T=_.byteLength()*8-this.n.bitLength();return T>0&&(_=_.ushrn(T)),!M&&_.cmp(this.n)>=0?_.sub(this.n):_},y.prototype.sign=function(_,M,T,B){typeof T=="object"&&(B=T,T=null),B||(B={}),M=this.keyFromPrivate(M,T),_=this._truncateToN(new t(_,16));for(var P=this.n.byteLength(),C=M.getPrivate().toArray("be",P),L=_.toArray("be",P),U=new e({hash:this.hash,entropy:C,nonce:L,pers:B.pers,persEnc:B.persEnc||"utf8"}),q=this.n.sub(new t(1)),G=0;;G++){var X=B.k?B.k(G):new t(U.generate(this.n.byteLength()));if(X=this._truncateToN(X,!0),!(X.cmpn(1)<=0||X.cmp(q)>=0)){var te=this.g.mul(X);if(!te.isInfinity()){var ne=te.getX(),ge=ne.umod(this.n);if(ge.cmpn(0)!==0){var pe=X.invm(this.n).mul(ge.mul(M.getPrivate()).iadd(_));if(pe=pe.umod(this.n),pe.cmpn(0)!==0){var se=(te.getY().isOdd()?1:0)|(ne.cmp(ge)!==0?2:0);return B.canonical&&pe.cmp(this.nh)>0&&(pe=this.n.sub(pe),se^=1),new m({r:ge,s:pe,recoveryParam:se})}}}}}},y.prototype.verify=function(_,M,T,B){_=this._truncateToN(new t(_,16)),T=this.keyFromPublic(T,B),M=new m(M,"hex");var P=M.r,C=M.s;if(P.cmpn(1)<0||P.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var L=C.invm(this.n),U=L.mul(_).umod(this.n),q=L.mul(P).umod(this.n),G;return this.curve._maxwellTrick?(G=this.g.jmulAdd(U,T.getPublic(),q),G.isInfinity()?!1:G.eqXToP(P)):(G=this.g.mulAdd(U,T.getPublic(),q),G.isInfinity()?!1:G.getX().umod(this.n).cmp(P)===0)},y.prototype.recoverPubKey=function(w,_,M,T){o((3&M)===M,"The recovery param is more than two bits"),_=new m(_,T);var B=this.n,P=new t(w),C=_.r,L=_.s,U=M&1,q=M>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&q)throw new Error("Unable to find sencond key candinate");q?C=this.curve.pointFromX(C.add(this.curve.n),U):C=this.curve.pointFromX(C,U);var G=_.r.invm(B),X=B.sub(P).mul(G).umod(B),te=L.mul(G).umod(B);return this.g.mulAdd(X,C,te)},y.prototype.getKeyRecoveryParam=function(w,_,M,T){if(_=new m(_,T),_.recoveryParam!==null)return _.recoveryParam;for(var B=0;B<4;B++){var P;try{P=this.recoverPubKey(w,_,B)}catch{continue}if(P.eq(M))return B}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var t=requireUtils(),e=t.assert,n=t.parseBytes,a=t.cachedProperty;function u(o,p){this.eddsa=o,this._secret=n(p.secret),o.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=n(p.pub)}return u.fromPublic=function(p,m){return m instanceof u?m:new u(p,{pub:m})},u.fromSecret=function(p,m){return m instanceof u?m:new u(p,{secret:m})},u.prototype.secret=function(){return this._secret},a(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(u,"privBytes",function(){var p=this.eddsa,m=this.hash(),y=p.encodingLength-1,w=m.slice(0,p.encodingLength);return w[0]&=248,w[y]&=127,w[y]|=64,w}),a(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(p){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(p,this)},u.prototype.verify=function(p,m){return this.eddsa.verify(p,m,this)},u.prototype.getSecret=function(p){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),p)},u.prototype.getPublic=function(p){return t.encode(this.pubBytes(),p)},key=u,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var t=requireBn$2(),e=requireUtils(),n=e.assert,a=e.cachedProperty,u=e.parseBytes;function o(p,m){this.eddsa=p,typeof m!="object"&&(m=u(m)),Array.isArray(m)&&(m={R:m.slice(0,p.encodingLength),S:m.slice(p.encodingLength)}),n(m.R&&m.S,"Signature without R or S"),p.isPoint(m.R)&&(this._R=m.R),m.S instanceof t&&(this._S=m.S),this._Rencoded=Array.isArray(m.R)?m.R:m.Rencoded,this._Sencoded=Array.isArray(m.S)?m.S:m.Sencoded}return a(o,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(o,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(o,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(o,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),o.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},o.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},signature=o,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var t=hash$3,e=requireCurves(),n=requireUtils(),a=n.assert,u=n.parseBytes,o=requireKey(),p=requireSignature();function m(y){if(a(y==="ed25519","only tested with ed25519 so far"),!(this instanceof m))return new m(y);y=e[y].curve,this.curve=y,this.g=y.g,this.g.precompute(y.n.bitLength()+1),this.pointClass=y.point().constructor,this.encodingLength=Math.ceil(y.n.bitLength()/8),this.hash=t.sha512}return eddsa=m,m.prototype.sign=function(w,_){w=u(w);var M=this.keyFromSecret(_),T=this.hashInt(M.messagePrefix(),w),B=this.g.mul(T),P=this.encodePoint(B),C=this.hashInt(P,M.pubBytes(),w).mul(M.priv()),L=T.add(C).umod(this.curve.n);return this.makeSignature({R:B,S:L,Rencoded:P})},m.prototype.verify=function(w,_,M){w=u(w),_=this.makeSignature(_);var T=this.keyFromPublic(M),B=this.hashInt(_.Rencoded(),T.pubBytes(),w),P=this.g.mul(_.S()),C=_.R().add(T.pub().mul(B));return C.eq(P)},m.prototype.hashInt=function(){for(var w=this.hash(),_=0;_<arguments.length;_++)w.update(arguments[_]);return n.intFromLE(w.digest()).umod(this.curve.n)},m.prototype.keyFromPublic=function(w){return o.fromPublic(this,w)},m.prototype.keyFromSecret=function(w){return o.fromSecret(this,w)},m.prototype.makeSignature=function(w){return w instanceof p?w:new p(this,w)},m.prototype.encodePoint=function(w){var _=w.getY().toArray("le",this.encodingLength);return _[this.encodingLength-1]|=w.getX().isOdd()?128:0,_},m.prototype.decodePoint=function(w){w=n.parseBytes(w);var _=w.length-1,M=w.slice(0,_).concat(w[_]&-129),T=(w[_]&128)!==0,B=n.intFromLE(M);return this.curve.pointFromY(B,T)},m.prototype.encodeInt=function(w){return w.toArray("le",this.encodingLength)},m.prototype.decodeInt=function(w){return n.intFromLE(w)},m.prototype.isPoint=function(w){return w instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(t){var e=t;e.version=require$$0.version,e.utils=requireUtils(),e.rand=requireBrorand(),e.curve=requireCurve(),e.curves=requireCurves(),e.ec=requireEc(),e.eddsa=requireEddsa()}(elliptic)),elliptic}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(t){(function(e,n){function a(k,c){if(!k)throw new Error(c||"Assertion failed")}function u(k,c){k.super_=c;var d=function(){};d.prototype=c.prototype,k.prototype=new d,k.prototype.constructor=k}function o(k,c,d){if(o.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(k||0,c||10,d||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$4.Buffer}catch{}o.isBN=function(c){return c instanceof o?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===o.wordSize&&Array.isArray(c.words)},o.max=function(c,d){return c.cmp(d)>0?c:d},o.min=function(c,d){return c.cmp(d)<0?c:d},o.prototype._init=function(c,d,b){if(typeof c=="number")return this._initNumber(c,d,b);if(typeof c=="object")return this._initArray(c,d,b);d==="hex"&&(d=16),a(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,b):(this._parseBase(c,d,v),b==="le"&&this._initArray(this.toArray(),d,b)))},o.prototype._initNumber=function(c,d,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(a(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},o.prototype._initArray=function(c,d,b){if(a(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,$,I=0;if(b==="be")for(v=c.length-1,A=0;v>=0;v-=3)$=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);else if(b==="le")for(v=0,A=0;v<c.length;v+=3)$=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);return this.strip()};function m(k,c){var d=k.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function y(k,c,d){var b=m(k,d);return d-1>=c&&(b|=m(k,d-1)<<4),b}o.prototype._parseHex=function(c,d,b){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,$=0,I;if(b==="be")for(v=c.length-1;v>=d;v-=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8;else{var S=c.length-d;for(v=S%2===0?d+1:d;v<c.length;v+=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8}this.strip()};function w(k,c,d,b){for(var v=0,A=Math.min(k.length,d),$=c;$<A;$++){var I=k.charCodeAt($)-48;v*=b,I>=49?v+=I-49+10:I>=17?v+=I-17+10:v+=I}return v}o.prototype._parseBase=function(c,d,b){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=d)v++;v--,A=A/d|0;for(var $=c.length-b,I=$%v,S=Math.min($,$-I)+b,l=0,E=b;E<S;E+=v)l=w(c,E,E+v,d),this.imuln(A),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var O=1;for(l=w(c,E,c.length,d),E=0;E<I;E++)O*=d;this.imuln(O),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},o.prototype.clone=function(){var c=new o(null);return this.copy(c),c},o.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(c,d){c=c||10,d=d|0||1;var b;if(c===16||c==="hex"){b="";for(var v=0,A=0,$=0;$<this.length;$++){var I=this.words[$],S=((I<<v|A)&16777215).toString(16);A=I>>>24-v&16777215,A!==0||$!==this.length-1?b=_[6-S.length]+S+b:b=S+b,v+=2,v>=26&&(v-=26,$--)}for(A!==0&&(b=A.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var l=M[c],E=T[c];b="";var O=this.clone();for(O.negative=0;!O.isZero();){var D=O.modn(E).toString(c);O=O.idivn(E),O.isZero()?b=D+b:b=_[l-D.length]+D+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}a(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(c,d){return a(typeof p<"u"),this.toArrayLike(p,c,d)},o.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)},o.prototype.toArrayLike=function(c,d,b){var v=this.byteLength(),A=b||Math.max(1,v);a(v<=A,"byte array longer than desired length"),a(A>0,"Requested array length <= 0"),this.strip();var $=d==="le",I=new c(A),S,l,E=this.clone();if($){for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[l]=S;for(;l<A;l++)I[l]=0}else{for(l=0;l<A-v;l++)I[l]=0;for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[A-l-1]=S}return I},Math.clz32?o.prototype._countBits=function(c){return 32-Math.clz32(c)}:o.prototype._countBits=function(c){var d=c,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},o.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},o.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function B(k){for(var c=new Array(k.bitLength()),d=0;d<c.length;d++){var b=d/26|0,v=d%26;c[d]=(k.words[b]&1<<v)>>>v}return c}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(c+=b,b!==26)break}return c},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},o.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},o.prototype.ior=function(c){return a((this.negative|c.negative)===0),this.iuor(c)},o.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},o.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},o.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=d.length,this.strip()},o.prototype.iand=function(c){return a((this.negative|c.negative)===0),this.iuand(c)},o.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},o.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},o.prototype.iuxor=function(c){var d,b;this.length>c.length?(d=this,b=c):(d=c,b=this);for(var v=0;v<b.length;v++)this.words[v]=d.words[v]^b.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(c){return a((this.negative|c.negative)===0),this.iuxor(c)},o.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},o.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},o.prototype.inotn=function(c){a(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,b=c%26;this._expand(d),b>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},o.prototype.notn=function(c){return this.clone().inotn(c)},o.prototype.setn=function(c,d){a(typeof c=="number"&&c>=0);var b=c/26|0,v=c%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},o.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var b,v;this.length>c.length?(b=this,v=c):(b=c,v=this);for(var A=0,$=0;$<v.length;$++)d=(b.words[$]|0)+(v.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;for(;A!==0&&$<b.length;$++)d=(b.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;if(this.length=b.length,A!==0)this.words[this.length]=A,this.length++;else if(b!==this)for(;$<b.length;$++)this.words[$]=b.words[$];return this},o.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},o.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;b>0?(v=this,A=c):(v=c,A=this);for(var $=0,I=0;I<A.length;I++)d=(v.words[I]|0)-(A.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;for(;$!==0&&I<v.length;I++)d=(v.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;if($===0&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(c){return this.clone().isub(c)};function P(k,c,d){d.negative=c.negative^k.negative;var b=k.length+c.length|0;d.length=b,b=b-1|0;var v=k.words[0]|0,A=c.words[0]|0,$=v*A,I=$&67108863,S=$/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var E=S>>>26,O=S&67108863,D=Math.min(l,c.length-1),Y=Math.max(0,l-k.length+1);Y<=D;Y++){var F=l-Y|0;v=k.words[F]|0,A=c.words[Y]|0,$=v*A+O,E+=$/67108864|0,O=$&67108863}d.words[l]=O|0,S=E|0}return S!==0?d.words[l]=S|0:d.length--,d.strip()}var C=function(c,d,b){var v=c.words,A=d.words,$=b.words,I=0,S,l,E,O=v[0]|0,D=O&8191,Y=O>>>13,F=v[1]|0,V=F&8191,H=F>>>13,ee=v[2]|0,ie=ee&8191,de=ee>>>13,Z=v[3]|0,j=Z&8191,he=Z>>>13,Ae=v[4]|0,_e=Ae&8191,xe=Ae>>>13,Xe=v[5]|0,Re=Xe&8191,we=Xe>>>13,Et=v[6]|0,Ce=Et&8191,ze=Et>>>13,wt=v[7]|0,Ie=wt&8191,Ne=wt>>>13,_t=v[8]|0,Pe=_t&8191,Le=_t>>>13,At=v[9]|0,ae=At&8191,J=At>>>13,re=A[0]|0,le=re&8191,be=re>>>13,Be=A[1]|0,ve=Be&8191,Te=Be>>>13,vt=A[2]|0,ke=vt&8191,Ue=vt>>>13,gt=A[3]|0,qe=gt&8191,Ve=gt>>>13,St=A[4]|0,Fe=St&8191,je=St>>>13,$t=A[5]|0,De=$t&8191,We=$t>>>13,kt=A[6]|0,Oe=kt&8191,Ge=kt>>>13,fe=A[7]|0,oe=fe&8191,ce=fe>>>13,Q=A[8]|0,ue=Q&8191,me=Q>>>13,$e=A[9]|0,ye=$e&8191,Ee=$e>>>13;b.negative=c.negative^d.negative,b.length=19,S=Math.imul(D,le),l=Math.imul(D,be),l=l+Math.imul(Y,le)|0,E=Math.imul(Y,be);var Ze=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(V,le),l=Math.imul(V,be),l=l+Math.imul(H,le)|0,E=Math.imul(H,be),S=S+Math.imul(D,ve)|0,l=l+Math.imul(D,Te)|0,l=l+Math.imul(Y,ve)|0,E=E+Math.imul(Y,Te)|0;var Ye=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(ie,le),l=Math.imul(ie,be),l=l+Math.imul(de,le)|0,E=Math.imul(de,be),S=S+Math.imul(V,ve)|0,l=l+Math.imul(V,Te)|0,l=l+Math.imul(H,ve)|0,E=E+Math.imul(H,Te)|0,S=S+Math.imul(D,ke)|0,l=l+Math.imul(D,Ue)|0,l=l+Math.imul(Y,ke)|0,E=E+Math.imul(Y,Ue)|0;var xt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(j,le),l=Math.imul(j,be),l=l+Math.imul(he,le)|0,E=Math.imul(he,be),S=S+Math.imul(ie,ve)|0,l=l+Math.imul(ie,Te)|0,l=l+Math.imul(de,ve)|0,E=E+Math.imul(de,Te)|0,S=S+Math.imul(V,ke)|0,l=l+Math.imul(V,Ue)|0,l=l+Math.imul(H,ke)|0,E=E+Math.imul(H,Ue)|0,S=S+Math.imul(D,qe)|0,l=l+Math.imul(D,Ve)|0,l=l+Math.imul(Y,qe)|0,E=E+Math.imul(Y,Ve)|0;var rt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,S=Math.imul(_e,le),l=Math.imul(_e,be),l=l+Math.imul(xe,le)|0,E=Math.imul(xe,be),S=S+Math.imul(j,ve)|0,l=l+Math.imul(j,Te)|0,l=l+Math.imul(he,ve)|0,E=E+Math.imul(he,Te)|0,S=S+Math.imul(ie,ke)|0,l=l+Math.imul(ie,Ue)|0,l=l+Math.imul(de,ke)|0,E=E+Math.imul(de,Ue)|0,S=S+Math.imul(V,qe)|0,l=l+Math.imul(V,Ve)|0,l=l+Math.imul(H,qe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(D,Fe)|0,l=l+Math.imul(D,je)|0,l=l+Math.imul(Y,Fe)|0,E=E+Math.imul(Y,je)|0;var lt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Re,le),l=Math.imul(Re,be),l=l+Math.imul(we,le)|0,E=Math.imul(we,be),S=S+Math.imul(_e,ve)|0,l=l+Math.imul(_e,Te)|0,l=l+Math.imul(xe,ve)|0,E=E+Math.imul(xe,Te)|0,S=S+Math.imul(j,ke)|0,l=l+Math.imul(j,Ue)|0,l=l+Math.imul(he,ke)|0,E=E+Math.imul(he,Ue)|0,S=S+Math.imul(ie,qe)|0,l=l+Math.imul(ie,Ve)|0,l=l+Math.imul(de,qe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(V,Fe)|0,l=l+Math.imul(V,je)|0,l=l+Math.imul(H,Fe)|0,E=E+Math.imul(H,je)|0,S=S+Math.imul(D,De)|0,l=l+Math.imul(D,We)|0,l=l+Math.imul(Y,De)|0,E=E+Math.imul(Y,We)|0;var dt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Ce,le),l=Math.imul(Ce,be),l=l+Math.imul(ze,le)|0,E=Math.imul(ze,be),S=S+Math.imul(Re,ve)|0,l=l+Math.imul(Re,Te)|0,l=l+Math.imul(we,ve)|0,E=E+Math.imul(we,Te)|0,S=S+Math.imul(_e,ke)|0,l=l+Math.imul(_e,Ue)|0,l=l+Math.imul(xe,ke)|0,E=E+Math.imul(xe,Ue)|0,S=S+Math.imul(j,qe)|0,l=l+Math.imul(j,Ve)|0,l=l+Math.imul(he,qe)|0,E=E+Math.imul(he,Ve)|0,S=S+Math.imul(ie,Fe)|0,l=l+Math.imul(ie,je)|0,l=l+Math.imul(de,Fe)|0,E=E+Math.imul(de,je)|0,S=S+Math.imul(V,De)|0,l=l+Math.imul(V,We)|0,l=l+Math.imul(H,De)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(D,Oe)|0,l=l+Math.imul(D,Ge)|0,l=l+Math.imul(Y,Oe)|0,E=E+Math.imul(Y,Ge)|0;var ht=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(Ie,le),l=Math.imul(Ie,be),l=l+Math.imul(Ne,le)|0,E=Math.imul(Ne,be),S=S+Math.imul(Ce,ve)|0,l=l+Math.imul(Ce,Te)|0,l=l+Math.imul(ze,ve)|0,E=E+Math.imul(ze,Te)|0,S=S+Math.imul(Re,ke)|0,l=l+Math.imul(Re,Ue)|0,l=l+Math.imul(we,ke)|0,E=E+Math.imul(we,Ue)|0,S=S+Math.imul(_e,qe)|0,l=l+Math.imul(_e,Ve)|0,l=l+Math.imul(xe,qe)|0,E=E+Math.imul(xe,Ve)|0,S=S+Math.imul(j,Fe)|0,l=l+Math.imul(j,je)|0,l=l+Math.imul(he,Fe)|0,E=E+Math.imul(he,je)|0,S=S+Math.imul(ie,De)|0,l=l+Math.imul(ie,We)|0,l=l+Math.imul(de,De)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(V,Oe)|0,l=l+Math.imul(V,Ge)|0,l=l+Math.imul(H,Oe)|0,E=E+Math.imul(H,Ge)|0,S=S+Math.imul(D,oe)|0,l=l+Math.imul(D,ce)|0,l=l+Math.imul(Y,oe)|0,E=E+Math.imul(Y,ce)|0;var yt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Pe,le),l=Math.imul(Pe,be),l=l+Math.imul(Le,le)|0,E=Math.imul(Le,be),S=S+Math.imul(Ie,ve)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(Ne,ve)|0,E=E+Math.imul(Ne,Te)|0,S=S+Math.imul(Ce,ke)|0,l=l+Math.imul(Ce,Ue)|0,l=l+Math.imul(ze,ke)|0,E=E+Math.imul(ze,Ue)|0,S=S+Math.imul(Re,qe)|0,l=l+Math.imul(Re,Ve)|0,l=l+Math.imul(we,qe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(_e,Fe)|0,l=l+Math.imul(_e,je)|0,l=l+Math.imul(xe,Fe)|0,E=E+Math.imul(xe,je)|0,S=S+Math.imul(j,De)|0,l=l+Math.imul(j,We)|0,l=l+Math.imul(he,De)|0,E=E+Math.imul(he,We)|0,S=S+Math.imul(ie,Oe)|0,l=l+Math.imul(ie,Ge)|0,l=l+Math.imul(de,Oe)|0,E=E+Math.imul(de,Ge)|0,S=S+Math.imul(V,oe)|0,l=l+Math.imul(V,ce)|0,l=l+Math.imul(H,oe)|0,E=E+Math.imul(H,ce)|0,S=S+Math.imul(D,ue)|0,l=l+Math.imul(D,me)|0,l=l+Math.imul(Y,ue)|0,E=E+Math.imul(Y,me)|0;var pt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(pt>>>26)|0,pt&=67108863,S=Math.imul(ae,le),l=Math.imul(ae,be),l=l+Math.imul(J,le)|0,E=Math.imul(J,be),S=S+Math.imul(Pe,ve)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(Le,ve)|0,E=E+Math.imul(Le,Te)|0,S=S+Math.imul(Ie,ke)|0,l=l+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ne,ke)|0,E=E+Math.imul(Ne,Ue)|0,S=S+Math.imul(Ce,qe)|0,l=l+Math.imul(Ce,Ve)|0,l=l+Math.imul(ze,qe)|0,E=E+Math.imul(ze,Ve)|0,S=S+Math.imul(Re,Fe)|0,l=l+Math.imul(Re,je)|0,l=l+Math.imul(we,Fe)|0,E=E+Math.imul(we,je)|0,S=S+Math.imul(_e,De)|0,l=l+Math.imul(_e,We)|0,l=l+Math.imul(xe,De)|0,E=E+Math.imul(xe,We)|0,S=S+Math.imul(j,Oe)|0,l=l+Math.imul(j,Ge)|0,l=l+Math.imul(he,Oe)|0,E=E+Math.imul(he,Ge)|0,S=S+Math.imul(ie,oe)|0,l=l+Math.imul(ie,ce)|0,l=l+Math.imul(de,oe)|0,E=E+Math.imul(de,ce)|0,S=S+Math.imul(V,ue)|0,l=l+Math.imul(V,me)|0,l=l+Math.imul(H,ue)|0,E=E+Math.imul(H,me)|0,S=S+Math.imul(D,ye)|0,l=l+Math.imul(D,Ee)|0,l=l+Math.imul(Y,ye)|0,E=E+Math.imul(Y,Ee)|0;var mt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(ae,ve),l=Math.imul(ae,Te),l=l+Math.imul(J,ve)|0,E=Math.imul(J,Te),S=S+Math.imul(Pe,ke)|0,l=l+Math.imul(Pe,Ue)|0,l=l+Math.imul(Le,ke)|0,E=E+Math.imul(Le,Ue)|0,S=S+Math.imul(Ie,qe)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(Ne,qe)|0,E=E+Math.imul(Ne,Ve)|0,S=S+Math.imul(Ce,Fe)|0,l=l+Math.imul(Ce,je)|0,l=l+Math.imul(ze,Fe)|0,E=E+Math.imul(ze,je)|0,S=S+Math.imul(Re,De)|0,l=l+Math.imul(Re,We)|0,l=l+Math.imul(we,De)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(_e,Oe)|0,l=l+Math.imul(_e,Ge)|0,l=l+Math.imul(xe,Oe)|0,E=E+Math.imul(xe,Ge)|0,S=S+Math.imul(j,oe)|0,l=l+Math.imul(j,ce)|0,l=l+Math.imul(he,oe)|0,E=E+Math.imul(he,ce)|0,S=S+Math.imul(ie,ue)|0,l=l+Math.imul(ie,me)|0,l=l+Math.imul(de,ue)|0,E=E+Math.imul(de,me)|0,S=S+Math.imul(V,ye)|0,l=l+Math.imul(V,Ee)|0,l=l+Math.imul(H,ye)|0,E=E+Math.imul(H,Ee)|0;var bt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(bt>>>26)|0,bt&=67108863,S=Math.imul(ae,ke),l=Math.imul(ae,Ue),l=l+Math.imul(J,ke)|0,E=Math.imul(J,Ue),S=S+Math.imul(Pe,qe)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(Le,qe)|0,E=E+Math.imul(Le,Ve)|0,S=S+Math.imul(Ie,Fe)|0,l=l+Math.imul(Ie,je)|0,l=l+Math.imul(Ne,Fe)|0,E=E+Math.imul(Ne,je)|0,S=S+Math.imul(Ce,De)|0,l=l+Math.imul(Ce,We)|0,l=l+Math.imul(ze,De)|0,E=E+Math.imul(ze,We)|0,S=S+Math.imul(Re,Oe)|0,l=l+Math.imul(Re,Ge)|0,l=l+Math.imul(we,Oe)|0,E=E+Math.imul(we,Ge)|0,S=S+Math.imul(_e,oe)|0,l=l+Math.imul(_e,ce)|0,l=l+Math.imul(xe,oe)|0,E=E+Math.imul(xe,ce)|0,S=S+Math.imul(j,ue)|0,l=l+Math.imul(j,me)|0,l=l+Math.imul(he,ue)|0,E=E+Math.imul(he,me)|0,S=S+Math.imul(ie,ye)|0,l=l+Math.imul(ie,Ee)|0,l=l+Math.imul(de,ye)|0,E=E+Math.imul(de,Ee)|0;var nt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(ae,qe),l=Math.imul(ae,Ve),l=l+Math.imul(J,qe)|0,E=Math.imul(J,Ve),S=S+Math.imul(Pe,Fe)|0,l=l+Math.imul(Pe,je)|0,l=l+Math.imul(Le,Fe)|0,E=E+Math.imul(Le,je)|0,S=S+Math.imul(Ie,De)|0,l=l+Math.imul(Ie,We)|0,l=l+Math.imul(Ne,De)|0,E=E+Math.imul(Ne,We)|0,S=S+Math.imul(Ce,Oe)|0,l=l+Math.imul(Ce,Ge)|0,l=l+Math.imul(ze,Oe)|0,E=E+Math.imul(ze,Ge)|0,S=S+Math.imul(Re,oe)|0,l=l+Math.imul(Re,ce)|0,l=l+Math.imul(we,oe)|0,E=E+Math.imul(we,ce)|0,S=S+Math.imul(_e,ue)|0,l=l+Math.imul(_e,me)|0,l=l+Math.imul(xe,ue)|0,E=E+Math.imul(xe,me)|0,S=S+Math.imul(j,ye)|0,l=l+Math.imul(j,Ee)|0,l=l+Math.imul(he,ye)|0,E=E+Math.imul(he,Ee)|0;var ct=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,S=Math.imul(ae,Fe),l=Math.imul(ae,je),l=l+Math.imul(J,Fe)|0,E=Math.imul(J,je),S=S+Math.imul(Pe,De)|0,l=l+Math.imul(Pe,We)|0,l=l+Math.imul(Le,De)|0,E=E+Math.imul(Le,We)|0,S=S+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,Ge)|0,l=l+Math.imul(Ne,Oe)|0,E=E+Math.imul(Ne,Ge)|0,S=S+Math.imul(Ce,oe)|0,l=l+Math.imul(Ce,ce)|0,l=l+Math.imul(ze,oe)|0,E=E+Math.imul(ze,ce)|0,S=S+Math.imul(Re,ue)|0,l=l+Math.imul(Re,me)|0,l=l+Math.imul(we,ue)|0,E=E+Math.imul(we,me)|0,S=S+Math.imul(_e,ye)|0,l=l+Math.imul(_e,Ee)|0,l=l+Math.imul(xe,ye)|0,E=E+Math.imul(xe,Ee)|0;var it=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(ae,De),l=Math.imul(ae,We),l=l+Math.imul(J,De)|0,E=Math.imul(J,We),S=S+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,Ge)|0,l=l+Math.imul(Le,Oe)|0,E=E+Math.imul(Le,Ge)|0,S=S+Math.imul(Ie,oe)|0,l=l+Math.imul(Ie,ce)|0,l=l+Math.imul(Ne,oe)|0,E=E+Math.imul(Ne,ce)|0,S=S+Math.imul(Ce,ue)|0,l=l+Math.imul(Ce,me)|0,l=l+Math.imul(ze,ue)|0,E=E+Math.imul(ze,me)|0,S=S+Math.imul(Re,ye)|0,l=l+Math.imul(Re,Ee)|0,l=l+Math.imul(we,ye)|0,E=E+Math.imul(we,Ee)|0;var at=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(ae,Oe),l=Math.imul(ae,Ge),l=l+Math.imul(J,Oe)|0,E=Math.imul(J,Ge),S=S+Math.imul(Pe,oe)|0,l=l+Math.imul(Pe,ce)|0,l=l+Math.imul(Le,oe)|0,E=E+Math.imul(Le,ce)|0,S=S+Math.imul(Ie,ue)|0,l=l+Math.imul(Ie,me)|0,l=l+Math.imul(Ne,ue)|0,E=E+Math.imul(Ne,me)|0,S=S+Math.imul(Ce,ye)|0,l=l+Math.imul(Ce,Ee)|0,l=l+Math.imul(ze,ye)|0,E=E+Math.imul(ze,Ee)|0;var st=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(ae,oe),l=Math.imul(ae,ce),l=l+Math.imul(J,oe)|0,E=Math.imul(J,ce),S=S+Math.imul(Pe,ue)|0,l=l+Math.imul(Pe,me)|0,l=l+Math.imul(Le,ue)|0,E=E+Math.imul(Le,me)|0,S=S+Math.imul(Ie,ye)|0,l=l+Math.imul(Ie,Ee)|0,l=l+Math.imul(Ne,ye)|0,E=E+Math.imul(Ne,Ee)|0;var tt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(ae,ue),l=Math.imul(ae,me),l=l+Math.imul(J,ue)|0,E=Math.imul(J,me),S=S+Math.imul(Pe,ye)|0,l=l+Math.imul(Pe,Ee)|0,l=l+Math.imul(Le,ye)|0,E=E+Math.imul(Le,Ee)|0;var He=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(He>>>26)|0,He&=67108863,S=Math.imul(ae,ye),l=Math.imul(ae,Ee),l=l+Math.imul(J,ye)|0,E=Math.imul(J,Ee);var Ke=(I+S|0)+((l&8191)<<13)|0;return I=(E+(l>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,$[0]=Ze,$[1]=Ye,$[2]=xt,$[3]=rt,$[4]=lt,$[5]=dt,$[6]=ht,$[7]=yt,$[8]=pt,$[9]=mt,$[10]=bt,$[11]=nt,$[12]=ct,$[13]=it,$[14]=at,$[15]=st,$[16]=tt,$[17]=He,$[18]=Ke,I!==0&&($[19]=I,b.length++),b};Math.imul||(C=P);function L(k,c,d){d.negative=c.negative^k.negative,d.length=k.length+c.length;for(var b=0,v=0,A=0;A<d.length-1;A++){var $=v;v=0;for(var I=b&67108863,S=Math.min(A,c.length-1),l=Math.max(0,A-k.length+1);l<=S;l++){var E=A-l,O=k.words[E]|0,D=c.words[l]|0,Y=O*D,F=Y&67108863;$=$+(Y/67108864|0)|0,F=F+I|0,I=F&67108863,$=$+(F>>>26)|0,v+=$>>>26,$&=67108863}d.words[A]=I,b=$,$=v}return b!==0?d.words[A]=b:d.length--,d.strip()}function U(k,c,d){var b=new q;return b.mulp(k,c,d)}o.prototype.mulTo=function(c,d){var b,v=this.length+c.length;return this.length===10&&c.length===10?b=C(this,c,d):v<63?b=P(this,c,d):v<1024?b=L(this,c,d):b=U(this,c,d),b};function q(k,c){this.x=k,this.y=c}q.prototype.makeRBT=function(c){for(var d=new Array(c),b=o.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,b,c);return d},q.prototype.revBin=function(c,d,b){if(c===0||c===b-1)return c;for(var v=0,A=0;A<d;A++)v|=(c&1)<<d-A-1,c>>=1;return v},q.prototype.permute=function(c,d,b,v,A,$){for(var I=0;I<$;I++)v[I]=d[c[I]],A[I]=b[c[I]]},q.prototype.transform=function(c,d,b,v,A,$){this.permute($,c,d,b,v,A);for(var I=1;I<A;I<<=1)for(var S=I<<1,l=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),O=0;O<A;O+=S)for(var D=l,Y=E,F=0;F<I;F++){var V=b[O+F],H=v[O+F],ee=b[O+F+I],ie=v[O+F+I],de=D*ee-Y*ie;ie=D*ie+Y*ee,ee=de,b[O+F]=V+ee,v[O+F]=H+ie,b[O+F+I]=V-ee,v[O+F+I]=H-ie,F!==S&&(de=l*D-E*Y,Y=l*Y+E*D,D=de)}},q.prototype.guessLen13b=function(c,d){var b=Math.max(d,c)|1,v=b&1,A=0;for(b=b/2|0;b;b=b>>>1)A++;return 1<<A+1+v},q.prototype.conjugate=function(c,d,b){if(!(b<=1))for(var v=0;v<b/2;v++){var A=c[v];c[v]=c[b-v-1],c[b-v-1]=A,A=d[v],d[v]=-d[b-v-1],d[b-v-1]=-A}},q.prototype.normalize13b=function(c,d){for(var b=0,v=0;v<d/2;v++){var A=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+b;c[v]=A&67108863,A<67108864?b=0:b=A/67108864|0}return c},q.prototype.convert13b=function(c,d,b,v){for(var A=0,$=0;$<d;$++)A=A+(c[$]|0),b[2*$]=A&8191,A=A>>>13,b[2*$+1]=A&8191,A=A>>>13;for($=2*d;$<v;++$)b[$]=0;a(A===0),a((A&-8192)===0)},q.prototype.stub=function(c){for(var d=new Array(c),b=0;b<c;b++)d[b]=0;return d},q.prototype.mulp=function(c,d,b){var v=2*this.guessLen13b(c.length,d.length),A=this.makeRBT(v),$=this.stub(v),I=new Array(v),S=new Array(v),l=new Array(v),E=new Array(v),O=new Array(v),D=new Array(v),Y=b.words;Y.length=v,this.convert13b(c.words,c.length,I,v),this.convert13b(d.words,d.length,E,v),this.transform(I,$,S,l,v,A),this.transform(E,$,O,D,v,A);for(var F=0;F<v;F++){var V=S[F]*O[F]-l[F]*D[F];l[F]=S[F]*D[F]+l[F]*O[F],S[F]=V}return this.conjugate(S,l,v),this.transform(S,l,Y,$,v,A),this.conjugate(Y,$,v),this.normalize13b(Y,v),b.negative=c.negative^d.negative,b.length=c.length+d.length,b.strip()},o.prototype.mul=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},o.prototype.mulf=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),U(this,c,d)},o.prototype.imul=function(c){return this.clone().mulTo(c,this)},o.prototype.imuln=function(c){a(typeof c=="number"),a(c<67108864);for(var d=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*c,A=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=A>>>26,this.words[b]=A&67108863}return d!==0&&(this.words[b]=d,this.length++),this},o.prototype.muln=function(c){return this.clone().imuln(c)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(c){var d=B(c);if(d.length===0)return new o(1);for(var b=this,v=0;v<d.length&&d[v]===0;v++,b=b.sqr());if(++v<d.length)for(var A=b.sqr();v<d.length;v++,A=A.sqr())d[v]!==0&&(b=b.mul(A));return b},o.prototype.iushln=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=67108863>>>26-d<<26-d,A;if(d!==0){var $=0;for(A=0;A<this.length;A++){var I=this.words[A]&v,S=(this.words[A]|0)-I<<d;this.words[A]=S|$,$=I>>>26-d}$&&(this.words[A]=$,this.length++)}if(b!==0){for(A=this.length-1;A>=0;A--)this.words[A+b]=this.words[A];for(A=0;A<b;A++)this.words[A]=0;this.length+=b}return this.strip()},o.prototype.ishln=function(c){return a(this.negative===0),this.iushln(c)},o.prototype.iushrn=function(c,d,b){a(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var A=c%26,$=Math.min((c-A)/26,this.length),I=67108863^67108863>>>A<<A,S=b;if(v-=$,v=Math.max(0,v),S){for(var l=0;l<$;l++)S.words[l]=this.words[l];S.length=$}if($!==0)if(this.length>$)for(this.length-=$,l=0;l<this.length;l++)this.words[l]=this.words[l+$];else this.words[0]=0,this.length=1;var E=0;for(l=this.length-1;l>=0&&(E!==0||l>=v);l--){var O=this.words[l]|0;this.words[l]=E<<26-A|O>>>A,E=O&I}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(c,d,b){return a(this.negative===0),this.iushrn(c,d,b)},o.prototype.shln=function(c){return this.clone().ishln(c)},o.prototype.ushln=function(c){return this.clone().iushln(c)},o.prototype.shrn=function(c){return this.clone().ishrn(c)},o.prototype.ushrn=function(c){return this.clone().iushrn(c)},o.prototype.testn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return!1;var A=this.words[b];return!!(A&v)},o.prototype.imaskn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(c){return this.clone().imaskn(c)},o.prototype.iaddn=function(c){return a(typeof c=="number"),a(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},o.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(c){if(a(typeof c=="number"),a(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(c){return this.clone().iaddn(c)},o.prototype.subn=function(c){return this.clone().isubn(c)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(c,d,b){var v=c.length+b,A;this._expand(v);var $,I=0;for(A=0;A<c.length;A++){$=(this.words[A+b]|0)+I;var S=(c.words[A]|0)*d;$-=S&67108863,I=($>>26)-(S/67108864|0),this.words[A+b]=$&67108863}for(;A<this.length-b;A++)$=(this.words[A+b]|0)+I,I=$>>26,this.words[A+b]=$&67108863;if(I===0)return this.strip();for(a(I===-1),I=0,A=0;A<this.length;A++)$=-(this.words[A]|0)+I,I=$>>26,this.words[A]=$&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(c,d){var b=this.length-c.length,v=this.clone(),A=c,$=A.words[A.length-1]|0,I=this._countBits($);b=26-I,b!==0&&(A=A.ushln(b),v.iushln(b),$=A.words[A.length-1]|0);var S=v.length-A.length,l;if(d!=="mod"){l=new o(null),l.length=S+1,l.words=new Array(l.length);for(var E=0;E<l.length;E++)l.words[E]=0}var O=v.clone()._ishlnsubmul(A,1,S);O.negative===0&&(v=O,l&&(l.words[S]=1));for(var D=S-1;D>=0;D--){var Y=(v.words[A.length+D]|0)*67108864+(v.words[A.length+D-1]|0);for(Y=Math.min(Y/$|0,67108863),v._ishlnsubmul(A,Y,D);v.negative!==0;)Y--,v.negative=0,v._ishlnsubmul(A,1,D),v.isZero()||(v.negative^=1);l&&(l.words[D]=Y)}return l&&l.strip(),v.strip(),d!=="div"&&b!==0&&v.iushrn(b),{div:l||null,mod:v}},o.prototype.divmod=function(c,d,b){if(a(!c.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,A,$;return this.negative!==0&&c.negative===0?($=this.neg().divmod(c,d),d!=="mod"&&(v=$.div.neg()),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.iadd(c)),{div:v,mod:A}):this.negative===0&&c.negative!==0?($=this.divmod(c.neg(),d),d!=="mod"&&(v=$.div.neg()),{div:v,mod:$.mod}):this.negative&c.negative?($=this.neg().divmod(c.neg(),d),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.isub(c)),{div:$.div,mod:A}):c.length>this.length||this.cmp(c)<0?{div:new o(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new o(this.modn(c.words[0]))}:this._wordDiv(c,d)},o.prototype.div=function(c){return this.divmod(c,"div",!1).div},o.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},o.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},o.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),A=c.andln(1),$=b.cmp(v);return $<0||A===1&&$===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(c){a(c<=67108863);for(var d=(1<<26)%c,b=0,v=this.length-1;v>=0;v--)b=(d*b+(this.words[v]|0))%c;return b},o.prototype.idivn=function(c){a(c<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+d*67108864;this.words[b]=v/c|0,d=v%c}return this.strip()},o.prototype.divn=function(c){return this.clone().idivn(c)},o.prototype.egcd=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=new o(0),I=new o(1),S=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++S;for(var l=b.clone(),E=d.clone();!d.isZero();){for(var O=0,D=1;!(d.words[0]&D)&&O<26;++O,D<<=1);if(O>0)for(d.iushrn(O);O-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(l),A.isub(E)),v.iushrn(1),A.iushrn(1);for(var Y=0,F=1;!(b.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(b.iushrn(Y);Y-- >0;)($.isOdd()||I.isOdd())&&($.iadd(l),I.isub(E)),$.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub($),A.isub(I)):(b.isub(d),$.isub(v),I.isub(A))}return{a:$,b:I,gcd:b.iushln(S)}},o.prototype._invmp=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,S=1;!(d.words[0]&S)&&I<26;++I,S<<=1);if(I>0)for(d.iushrn(I);I-- >0;)v.isOdd()&&v.iadd($),v.iushrn(1);for(var l=0,E=1;!(b.words[0]&E)&&l<26;++l,E<<=1);if(l>0)for(b.iushrn(l);l-- >0;)A.isOdd()&&A.iadd($),A.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub(A)):(b.isub(d),A.isub(v))}var O;return d.cmpn(1)===0?O=v:O=A,O.cmpn(0)<0&&O.iadd(c),O},o.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),b=c.clone();d.negative=0,b.negative=0;for(var v=0;d.isEven()&&b.isEven();v++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var A=d.cmp(b);if(A<0){var $=d;d=b,b=$}else if(A===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(v)},o.prototype.invm=function(c){return this.egcd(c).a.umod(c)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(c){return this.words[0]&c},o.prototype.bincn=function(c){a(typeof c=="number");var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var A=v,$=b;A!==0&&$<this.length;$++){var I=this.words[$]|0;I+=A,A=I>>>26,I&=67108863,this.words[$]=I}return A!==0&&(this.words[$]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(c=-c),a(c<=67108863,"Number is too big");var v=this.words[0]|0;b=v===c?0:v<c?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,A=c.words[b]|0;if(v!==A){v<A?d=-1:v>A&&(d=1);break}}return d},o.prototype.gtn=function(c){return this.cmpn(c)===1},o.prototype.gt=function(c){return this.cmp(c)===1},o.prototype.gten=function(c){return this.cmpn(c)>=0},o.prototype.gte=function(c){return this.cmp(c)>=0},o.prototype.ltn=function(c){return this.cmpn(c)===-1},o.prototype.lt=function(c){return this.cmp(c)===-1},o.prototype.lten=function(c){return this.cmpn(c)<=0},o.prototype.lte=function(c){return this.cmp(c)<=0},o.prototype.eqn=function(c){return this.cmpn(c)===0},o.prototype.eq=function(c){return this.cmp(c)===0},o.red=function(c){return new se(c)},o.prototype.toRed=function(c){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},o.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(c){return this.red=c,this},o.prototype.forceRed=function(c){return a(!this.red,"Already a number in reduction context"),this._forceRed(c)},o.prototype.redAdd=function(c){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},o.prototype.redIAdd=function(c){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},o.prototype.redSub=function(c){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},o.prototype.redISub=function(c){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},o.prototype.redShl=function(c){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},o.prototype.redMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},o.prototype.redIMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},o.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(c){return a(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var G={k256:null,p224:null,p192:null,p25519:null};function X(k,c){this.name=k,this.p=new o(c,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var c=new o(null);return c.words=new Array(Math.ceil(this.n/13)),c},X.prototype.ireduce=function(c){var d=c,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var v=b<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},X.prototype.split=function(c,d){c.iushrn(this.n,0,d)},X.prototype.imulK=function(c){return c.imul(this.k)};function te(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(te,X),te.prototype.split=function(c,d){for(var b=4194303,v=Math.min(c.length,9),A=0;A<v;A++)d.words[A]=c.words[A];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var $=c.words[9];for(d.words[d.length++]=$&b,A=10;A<c.length;A++){var I=c.words[A]|0;c.words[A-10]=(I&b)<<4|$>>>22,$=I}$>>>=22,c.words[A-10]=$,$===0&&c.length>10?c.length-=10:c.length-=9},te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,b=0;b<c.length;b++){var v=c.words[b]|0;d+=v*977,c.words[b]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ne(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(ne,X);function ge(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(ge,X);function pe(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(pe,X),pe.prototype.imulK=function(c){for(var d=0,b=0;b<c.length;b++){var v=(c.words[b]|0)*19+d,A=v&67108863;v>>>=26,c.words[b]=A,d=v}return d!==0&&(c.words[c.length++]=d),c},o._prime=function(c){if(G[c])return G[c];var d;if(c==="k256")d=new te;else if(c==="p224")d=new ne;else if(c==="p192")d=new ge;else if(c==="p25519")d=new pe;else throw new Error("Unknown prime "+c);return G[c]=d,d};function se(k){if(typeof k=="string"){var c=o._prime(k);this.m=c.p,this.prime=c}else a(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}se.prototype._verify1=function(c){a(c.negative===0,"red works only with positives"),a(c.red,"red works only with red numbers")},se.prototype._verify2=function(c,d){a((c.negative|d.negative)===0,"red works only with positives"),a(c.red&&c.red===d.red,"red works only with red numbers")},se.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},se.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},se.prototype.add=function(c,d){this._verify2(c,d);var b=c.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},se.prototype.iadd=function(c,d){this._verify2(c,d);var b=c.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},se.prototype.sub=function(c,d){this._verify2(c,d);var b=c.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},se.prototype.isub=function(c,d){this._verify2(c,d);var b=c.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},se.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},se.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},se.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},se.prototype.isqr=function(c){return this.imul(c,c.clone())},se.prototype.sqr=function(c){return this.mul(c,c)},se.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(a(d%2===1),d===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(c,b)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);a(!v.isZero());var $=new o(1).toRed(this),I=$.redNeg(),S=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);this.pow(l,S).cmp(I)!==0;)l.redIAdd(I);for(var E=this.pow(l,v),O=this.pow(c,v.addn(1).iushrn(1)),D=this.pow(c,v),Y=A;D.cmp($)!==0;){for(var F=D,V=0;F.cmp($)!==0;V++)F=F.redSqr();a(V<Y);var H=this.pow(E,new o(1).iushln(Y-V-1));O=O.redMul(H),E=H.redSqr(),D=D.redMul(E),Y=V}return O},se.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},se.prototype.pow=function(c,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var b=4,v=new Array(1<<b);v[0]=new o(1).toRed(this),v[1]=c;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],c);var $=v[0],I=0,S=0,l=d.bitLength()%26;for(l===0&&(l=26),A=d.length-1;A>=0;A--){for(var E=d.words[A],O=l-1;O>=0;O--){var D=E>>O&1;if($!==v[0]&&($=this.sqr($)),D===0&&I===0){S=0;continue}I<<=1,I|=D,S++,!(S!==b&&(A!==0||O!==0))&&($=this.mul($,v[I]),S=0,I=0)}l=26}return $},se.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},se.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},o.mont=function(c){return new Se(c)};function Se(k){se.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(Se,se),Se.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},Se.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},Se.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new o(0)._forceRed(this);var b=c.mul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,commonjsGlobal)}(bn$1)),bn$1.exports}var browser$3,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$3;hasRequiredBrowser$2=1;var t=requireElliptic(),e=requireBn$1();browser$3=function(p){return new a(p)};var n={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};n.p224=n.secp224r1,n.p256=n.secp256r1=n.prime256v1,n.p192=n.secp192r1=n.prime192v1,n.p384=n.secp384r1,n.p521=n.secp521r1;function a(o){this.curveType=n[o],this.curveType||(this.curveType={name:o}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}a.prototype.generateKeys=function(o,p){return this.keys=this.curve.genKeyPair(),this.getPublicKey(o,p)},a.prototype.computeSecret=function(o,p,m){p=p||"utf8",Buffer$1$1.isBuffer(o)||(o=new Buffer$1$1(o,p));var y=this.curve.keyFromPublic(o).getPublic(),w=y.mul(this.keys.getPrivate()).getX();return u(w,m,this.curveType.byteLength)},a.prototype.getPublicKey=function(o,p){var m=this.keys.getPublic(p==="compressed",!0);return p==="hybrid"&&(m[m.length-1]%2?m[0]=7:m[0]=6),u(m,o)},a.prototype.getPrivateKey=function(o){return u(this.keys.getPrivate(),o)},a.prototype.setPublicKey=function(o,p){return p=p||"utf8",Buffer$1$1.isBuffer(o)||(o=new Buffer$1$1(o,p)),this.keys._importPublic(o),this},a.prototype.setPrivateKey=function(o,p){p=p||"utf8",Buffer$1$1.isBuffer(o)||(o=new Buffer$1$1(o,p));var m=new e(o);return m=m.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(m),this};function u(o,p,m){Array.isArray(o)||(o=o.toArray());var y=new Buffer$1$1(o);if(m&&y.length<m){var w=new Buffer$1$1(m-y.length);w.fill(0),y=Buffer$1$1.concat([w,y])}return p?y.toString(p):y}return browser$3}var browser$2={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var t=browser$d,e=safeBufferExports$1.Buffer;mgf=function(a,u){for(var o=e.alloc(0),p=0,m;o.length<u;)m=n(p++),o=e.concat([o,t("sha1").update(a).update(m).digest()]);return o.slice(0,u)};function n(a){var u=e.allocUnsafe(4);return u.writeUInt32BE(a,0),u}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(e,n){for(var a=e.length,u=-1;++u<a;)e[u]^=n[u];return e}),xor}var bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(t){(function(e,n){function a(k,c){if(!k)throw new Error(c||"Assertion failed")}function u(k,c){k.super_=c;var d=function(){};d.prototype=c.prototype,k.prototype=new d,k.prototype.constructor=k}function o(k,c,d){if(o.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(k||0,c||10,d||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$4.Buffer}catch{}o.isBN=function(c){return c instanceof o?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===o.wordSize&&Array.isArray(c.words)},o.max=function(c,d){return c.cmp(d)>0?c:d},o.min=function(c,d){return c.cmp(d)<0?c:d},o.prototype._init=function(c,d,b){if(typeof c=="number")return this._initNumber(c,d,b);if(typeof c=="object")return this._initArray(c,d,b);d==="hex"&&(d=16),a(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,b):(this._parseBase(c,d,v),b==="le"&&this._initArray(this.toArray(),d,b)))},o.prototype._initNumber=function(c,d,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(a(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},o.prototype._initArray=function(c,d,b){if(a(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,$,I=0;if(b==="be")for(v=c.length-1,A=0;v>=0;v-=3)$=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);else if(b==="le")for(v=0,A=0;v<c.length;v+=3)$=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[A]|=$<<I&67108863,this.words[A+1]=$>>>26-I&67108863,I+=24,I>=26&&(I-=26,A++);return this.strip()};function m(k,c){var d=k.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function y(k,c,d){var b=m(k,d);return d-1>=c&&(b|=m(k,d-1)<<4),b}o.prototype._parseHex=function(c,d,b){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,$=0,I;if(b==="be")for(v=c.length-1;v>=d;v-=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8;else{var S=c.length-d;for(v=S%2===0?d+1:d;v<c.length;v+=2)I=y(c,d,v)<<A,this.words[$]|=I&67108863,A>=18?(A-=18,$+=1,this.words[$]|=I>>>26):A+=8}this.strip()};function w(k,c,d,b){for(var v=0,A=Math.min(k.length,d),$=c;$<A;$++){var I=k.charCodeAt($)-48;v*=b,I>=49?v+=I-49+10:I>=17?v+=I-17+10:v+=I}return v}o.prototype._parseBase=function(c,d,b){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=d)v++;v--,A=A/d|0;for(var $=c.length-b,I=$%v,S=Math.min($,$-I)+b,l=0,E=b;E<S;E+=v)l=w(c,E,E+v,d),this.imuln(A),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var O=1;for(l=w(c,E,c.length,d),E=0;E<I;E++)O*=d;this.imuln(O),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},o.prototype.clone=function(){var c=new o(null);return this.copy(c),c},o.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(c,d){c=c||10,d=d|0||1;var b;if(c===16||c==="hex"){b="";for(var v=0,A=0,$=0;$<this.length;$++){var I=this.words[$],S=((I<<v|A)&16777215).toString(16);A=I>>>24-v&16777215,A!==0||$!==this.length-1?b=_[6-S.length]+S+b:b=S+b,v+=2,v>=26&&(v-=26,$--)}for(A!==0&&(b=A.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var l=M[c],E=T[c];b="";var O=this.clone();for(O.negative=0;!O.isZero();){var D=O.modn(E).toString(c);O=O.idivn(E),O.isZero()?b=D+b:b=_[l-D.length]+D+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}a(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(c,d){return a(typeof p<"u"),this.toArrayLike(p,c,d)},o.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)},o.prototype.toArrayLike=function(c,d,b){var v=this.byteLength(),A=b||Math.max(1,v);a(v<=A,"byte array longer than desired length"),a(A>0,"Requested array length <= 0"),this.strip();var $=d==="le",I=new c(A),S,l,E=this.clone();if($){for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[l]=S;for(;l<A;l++)I[l]=0}else{for(l=0;l<A-v;l++)I[l]=0;for(l=0;!E.isZero();l++)S=E.andln(255),E.iushrn(8),I[A-l-1]=S}return I},Math.clz32?o.prototype._countBits=function(c){return 32-Math.clz32(c)}:o.prototype._countBits=function(c){var d=c,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},o.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},o.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function B(k){for(var c=new Array(k.bitLength()),d=0;d<c.length;d++){var b=d/26|0,v=d%26;c[d]=(k.words[b]&1<<v)>>>v}return c}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(c+=b,b!==26)break}return c},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},o.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},o.prototype.ior=function(c){return a((this.negative|c.negative)===0),this.iuor(c)},o.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},o.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},o.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=d.length,this.strip()},o.prototype.iand=function(c){return a((this.negative|c.negative)===0),this.iuand(c)},o.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},o.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},o.prototype.iuxor=function(c){var d,b;this.length>c.length?(d=this,b=c):(d=c,b=this);for(var v=0;v<b.length;v++)this.words[v]=d.words[v]^b.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(c){return a((this.negative|c.negative)===0),this.iuxor(c)},o.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},o.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},o.prototype.inotn=function(c){a(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,b=c%26;this._expand(d),b>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},o.prototype.notn=function(c){return this.clone().inotn(c)},o.prototype.setn=function(c,d){a(typeof c=="number"&&c>=0);var b=c/26|0,v=c%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},o.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var b,v;this.length>c.length?(b=this,v=c):(b=c,v=this);for(var A=0,$=0;$<v.length;$++)d=(b.words[$]|0)+(v.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;for(;A!==0&&$<b.length;$++)d=(b.words[$]|0)+A,this.words[$]=d&67108863,A=d>>>26;if(this.length=b.length,A!==0)this.words[this.length]=A,this.length++;else if(b!==this)for(;$<b.length;$++)this.words[$]=b.words[$];return this},o.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},o.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;b>0?(v=this,A=c):(v=c,A=this);for(var $=0,I=0;I<A.length;I++)d=(v.words[I]|0)-(A.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;for(;$!==0&&I<v.length;I++)d=(v.words[I]|0)+$,$=d>>26,this.words[I]=d&67108863;if($===0&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(c){return this.clone().isub(c)};function P(k,c,d){d.negative=c.negative^k.negative;var b=k.length+c.length|0;d.length=b,b=b-1|0;var v=k.words[0]|0,A=c.words[0]|0,$=v*A,I=$&67108863,S=$/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var E=S>>>26,O=S&67108863,D=Math.min(l,c.length-1),Y=Math.max(0,l-k.length+1);Y<=D;Y++){var F=l-Y|0;v=k.words[F]|0,A=c.words[Y]|0,$=v*A+O,E+=$/67108864|0,O=$&67108863}d.words[l]=O|0,S=E|0}return S!==0?d.words[l]=S|0:d.length--,d.strip()}var C=function(c,d,b){var v=c.words,A=d.words,$=b.words,I=0,S,l,E,O=v[0]|0,D=O&8191,Y=O>>>13,F=v[1]|0,V=F&8191,H=F>>>13,ee=v[2]|0,ie=ee&8191,de=ee>>>13,Z=v[3]|0,j=Z&8191,he=Z>>>13,Ae=v[4]|0,_e=Ae&8191,xe=Ae>>>13,Xe=v[5]|0,Re=Xe&8191,we=Xe>>>13,Et=v[6]|0,Ce=Et&8191,ze=Et>>>13,wt=v[7]|0,Ie=wt&8191,Ne=wt>>>13,_t=v[8]|0,Pe=_t&8191,Le=_t>>>13,At=v[9]|0,ae=At&8191,J=At>>>13,re=A[0]|0,le=re&8191,be=re>>>13,Be=A[1]|0,ve=Be&8191,Te=Be>>>13,vt=A[2]|0,ke=vt&8191,Ue=vt>>>13,gt=A[3]|0,qe=gt&8191,Ve=gt>>>13,St=A[4]|0,Fe=St&8191,je=St>>>13,$t=A[5]|0,De=$t&8191,We=$t>>>13,kt=A[6]|0,Oe=kt&8191,Ge=kt>>>13,fe=A[7]|0,oe=fe&8191,ce=fe>>>13,Q=A[8]|0,ue=Q&8191,me=Q>>>13,$e=A[9]|0,ye=$e&8191,Ee=$e>>>13;b.negative=c.negative^d.negative,b.length=19,S=Math.imul(D,le),l=Math.imul(D,be),l=l+Math.imul(Y,le)|0,E=Math.imul(Y,be);var Ze=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(V,le),l=Math.imul(V,be),l=l+Math.imul(H,le)|0,E=Math.imul(H,be),S=S+Math.imul(D,ve)|0,l=l+Math.imul(D,Te)|0,l=l+Math.imul(Y,ve)|0,E=E+Math.imul(Y,Te)|0;var Ye=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(ie,le),l=Math.imul(ie,be),l=l+Math.imul(de,le)|0,E=Math.imul(de,be),S=S+Math.imul(V,ve)|0,l=l+Math.imul(V,Te)|0,l=l+Math.imul(H,ve)|0,E=E+Math.imul(H,Te)|0,S=S+Math.imul(D,ke)|0,l=l+Math.imul(D,Ue)|0,l=l+Math.imul(Y,ke)|0,E=E+Math.imul(Y,Ue)|0;var xt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(j,le),l=Math.imul(j,be),l=l+Math.imul(he,le)|0,E=Math.imul(he,be),S=S+Math.imul(ie,ve)|0,l=l+Math.imul(ie,Te)|0,l=l+Math.imul(de,ve)|0,E=E+Math.imul(de,Te)|0,S=S+Math.imul(V,ke)|0,l=l+Math.imul(V,Ue)|0,l=l+Math.imul(H,ke)|0,E=E+Math.imul(H,Ue)|0,S=S+Math.imul(D,qe)|0,l=l+Math.imul(D,Ve)|0,l=l+Math.imul(Y,qe)|0,E=E+Math.imul(Y,Ve)|0;var rt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,S=Math.imul(_e,le),l=Math.imul(_e,be),l=l+Math.imul(xe,le)|0,E=Math.imul(xe,be),S=S+Math.imul(j,ve)|0,l=l+Math.imul(j,Te)|0,l=l+Math.imul(he,ve)|0,E=E+Math.imul(he,Te)|0,S=S+Math.imul(ie,ke)|0,l=l+Math.imul(ie,Ue)|0,l=l+Math.imul(de,ke)|0,E=E+Math.imul(de,Ue)|0,S=S+Math.imul(V,qe)|0,l=l+Math.imul(V,Ve)|0,l=l+Math.imul(H,qe)|0,E=E+Math.imul(H,Ve)|0,S=S+Math.imul(D,Fe)|0,l=l+Math.imul(D,je)|0,l=l+Math.imul(Y,Fe)|0,E=E+Math.imul(Y,je)|0;var lt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(Re,le),l=Math.imul(Re,be),l=l+Math.imul(we,le)|0,E=Math.imul(we,be),S=S+Math.imul(_e,ve)|0,l=l+Math.imul(_e,Te)|0,l=l+Math.imul(xe,ve)|0,E=E+Math.imul(xe,Te)|0,S=S+Math.imul(j,ke)|0,l=l+Math.imul(j,Ue)|0,l=l+Math.imul(he,ke)|0,E=E+Math.imul(he,Ue)|0,S=S+Math.imul(ie,qe)|0,l=l+Math.imul(ie,Ve)|0,l=l+Math.imul(de,qe)|0,E=E+Math.imul(de,Ve)|0,S=S+Math.imul(V,Fe)|0,l=l+Math.imul(V,je)|0,l=l+Math.imul(H,Fe)|0,E=E+Math.imul(H,je)|0,S=S+Math.imul(D,De)|0,l=l+Math.imul(D,We)|0,l=l+Math.imul(Y,De)|0,E=E+Math.imul(Y,We)|0;var dt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Ce,le),l=Math.imul(Ce,be),l=l+Math.imul(ze,le)|0,E=Math.imul(ze,be),S=S+Math.imul(Re,ve)|0,l=l+Math.imul(Re,Te)|0,l=l+Math.imul(we,ve)|0,E=E+Math.imul(we,Te)|0,S=S+Math.imul(_e,ke)|0,l=l+Math.imul(_e,Ue)|0,l=l+Math.imul(xe,ke)|0,E=E+Math.imul(xe,Ue)|0,S=S+Math.imul(j,qe)|0,l=l+Math.imul(j,Ve)|0,l=l+Math.imul(he,qe)|0,E=E+Math.imul(he,Ve)|0,S=S+Math.imul(ie,Fe)|0,l=l+Math.imul(ie,je)|0,l=l+Math.imul(de,Fe)|0,E=E+Math.imul(de,je)|0,S=S+Math.imul(V,De)|0,l=l+Math.imul(V,We)|0,l=l+Math.imul(H,De)|0,E=E+Math.imul(H,We)|0,S=S+Math.imul(D,Oe)|0,l=l+Math.imul(D,Ge)|0,l=l+Math.imul(Y,Oe)|0,E=E+Math.imul(Y,Ge)|0;var ht=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(Ie,le),l=Math.imul(Ie,be),l=l+Math.imul(Ne,le)|0,E=Math.imul(Ne,be),S=S+Math.imul(Ce,ve)|0,l=l+Math.imul(Ce,Te)|0,l=l+Math.imul(ze,ve)|0,E=E+Math.imul(ze,Te)|0,S=S+Math.imul(Re,ke)|0,l=l+Math.imul(Re,Ue)|0,l=l+Math.imul(we,ke)|0,E=E+Math.imul(we,Ue)|0,S=S+Math.imul(_e,qe)|0,l=l+Math.imul(_e,Ve)|0,l=l+Math.imul(xe,qe)|0,E=E+Math.imul(xe,Ve)|0,S=S+Math.imul(j,Fe)|0,l=l+Math.imul(j,je)|0,l=l+Math.imul(he,Fe)|0,E=E+Math.imul(he,je)|0,S=S+Math.imul(ie,De)|0,l=l+Math.imul(ie,We)|0,l=l+Math.imul(de,De)|0,E=E+Math.imul(de,We)|0,S=S+Math.imul(V,Oe)|0,l=l+Math.imul(V,Ge)|0,l=l+Math.imul(H,Oe)|0,E=E+Math.imul(H,Ge)|0,S=S+Math.imul(D,oe)|0,l=l+Math.imul(D,ce)|0,l=l+Math.imul(Y,oe)|0,E=E+Math.imul(Y,ce)|0;var yt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Pe,le),l=Math.imul(Pe,be),l=l+Math.imul(Le,le)|0,E=Math.imul(Le,be),S=S+Math.imul(Ie,ve)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(Ne,ve)|0,E=E+Math.imul(Ne,Te)|0,S=S+Math.imul(Ce,ke)|0,l=l+Math.imul(Ce,Ue)|0,l=l+Math.imul(ze,ke)|0,E=E+Math.imul(ze,Ue)|0,S=S+Math.imul(Re,qe)|0,l=l+Math.imul(Re,Ve)|0,l=l+Math.imul(we,qe)|0,E=E+Math.imul(we,Ve)|0,S=S+Math.imul(_e,Fe)|0,l=l+Math.imul(_e,je)|0,l=l+Math.imul(xe,Fe)|0,E=E+Math.imul(xe,je)|0,S=S+Math.imul(j,De)|0,l=l+Math.imul(j,We)|0,l=l+Math.imul(he,De)|0,E=E+Math.imul(he,We)|0,S=S+Math.imul(ie,Oe)|0,l=l+Math.imul(ie,Ge)|0,l=l+Math.imul(de,Oe)|0,E=E+Math.imul(de,Ge)|0,S=S+Math.imul(V,oe)|0,l=l+Math.imul(V,ce)|0,l=l+Math.imul(H,oe)|0,E=E+Math.imul(H,ce)|0,S=S+Math.imul(D,ue)|0,l=l+Math.imul(D,me)|0,l=l+Math.imul(Y,ue)|0,E=E+Math.imul(Y,me)|0;var pt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(pt>>>26)|0,pt&=67108863,S=Math.imul(ae,le),l=Math.imul(ae,be),l=l+Math.imul(J,le)|0,E=Math.imul(J,be),S=S+Math.imul(Pe,ve)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(Le,ve)|0,E=E+Math.imul(Le,Te)|0,S=S+Math.imul(Ie,ke)|0,l=l+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ne,ke)|0,E=E+Math.imul(Ne,Ue)|0,S=S+Math.imul(Ce,qe)|0,l=l+Math.imul(Ce,Ve)|0,l=l+Math.imul(ze,qe)|0,E=E+Math.imul(ze,Ve)|0,S=S+Math.imul(Re,Fe)|0,l=l+Math.imul(Re,je)|0,l=l+Math.imul(we,Fe)|0,E=E+Math.imul(we,je)|0,S=S+Math.imul(_e,De)|0,l=l+Math.imul(_e,We)|0,l=l+Math.imul(xe,De)|0,E=E+Math.imul(xe,We)|0,S=S+Math.imul(j,Oe)|0,l=l+Math.imul(j,Ge)|0,l=l+Math.imul(he,Oe)|0,E=E+Math.imul(he,Ge)|0,S=S+Math.imul(ie,oe)|0,l=l+Math.imul(ie,ce)|0,l=l+Math.imul(de,oe)|0,E=E+Math.imul(de,ce)|0,S=S+Math.imul(V,ue)|0,l=l+Math.imul(V,me)|0,l=l+Math.imul(H,ue)|0,E=E+Math.imul(H,me)|0,S=S+Math.imul(D,ye)|0,l=l+Math.imul(D,Ee)|0,l=l+Math.imul(Y,ye)|0,E=E+Math.imul(Y,Ee)|0;var mt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(mt>>>26)|0,mt&=67108863,S=Math.imul(ae,ve),l=Math.imul(ae,Te),l=l+Math.imul(J,ve)|0,E=Math.imul(J,Te),S=S+Math.imul(Pe,ke)|0,l=l+Math.imul(Pe,Ue)|0,l=l+Math.imul(Le,ke)|0,E=E+Math.imul(Le,Ue)|0,S=S+Math.imul(Ie,qe)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(Ne,qe)|0,E=E+Math.imul(Ne,Ve)|0,S=S+Math.imul(Ce,Fe)|0,l=l+Math.imul(Ce,je)|0,l=l+Math.imul(ze,Fe)|0,E=E+Math.imul(ze,je)|0,S=S+Math.imul(Re,De)|0,l=l+Math.imul(Re,We)|0,l=l+Math.imul(we,De)|0,E=E+Math.imul(we,We)|0,S=S+Math.imul(_e,Oe)|0,l=l+Math.imul(_e,Ge)|0,l=l+Math.imul(xe,Oe)|0,E=E+Math.imul(xe,Ge)|0,S=S+Math.imul(j,oe)|0,l=l+Math.imul(j,ce)|0,l=l+Math.imul(he,oe)|0,E=E+Math.imul(he,ce)|0,S=S+Math.imul(ie,ue)|0,l=l+Math.imul(ie,me)|0,l=l+Math.imul(de,ue)|0,E=E+Math.imul(de,me)|0,S=S+Math.imul(V,ye)|0,l=l+Math.imul(V,Ee)|0,l=l+Math.imul(H,ye)|0,E=E+Math.imul(H,Ee)|0;var bt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(bt>>>26)|0,bt&=67108863,S=Math.imul(ae,ke),l=Math.imul(ae,Ue),l=l+Math.imul(J,ke)|0,E=Math.imul(J,Ue),S=S+Math.imul(Pe,qe)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(Le,qe)|0,E=E+Math.imul(Le,Ve)|0,S=S+Math.imul(Ie,Fe)|0,l=l+Math.imul(Ie,je)|0,l=l+Math.imul(Ne,Fe)|0,E=E+Math.imul(Ne,je)|0,S=S+Math.imul(Ce,De)|0,l=l+Math.imul(Ce,We)|0,l=l+Math.imul(ze,De)|0,E=E+Math.imul(ze,We)|0,S=S+Math.imul(Re,Oe)|0,l=l+Math.imul(Re,Ge)|0,l=l+Math.imul(we,Oe)|0,E=E+Math.imul(we,Ge)|0,S=S+Math.imul(_e,oe)|0,l=l+Math.imul(_e,ce)|0,l=l+Math.imul(xe,oe)|0,E=E+Math.imul(xe,ce)|0,S=S+Math.imul(j,ue)|0,l=l+Math.imul(j,me)|0,l=l+Math.imul(he,ue)|0,E=E+Math.imul(he,me)|0,S=S+Math.imul(ie,ye)|0,l=l+Math.imul(ie,Ee)|0,l=l+Math.imul(de,ye)|0,E=E+Math.imul(de,Ee)|0;var nt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(ae,qe),l=Math.imul(ae,Ve),l=l+Math.imul(J,qe)|0,E=Math.imul(J,Ve),S=S+Math.imul(Pe,Fe)|0,l=l+Math.imul(Pe,je)|0,l=l+Math.imul(Le,Fe)|0,E=E+Math.imul(Le,je)|0,S=S+Math.imul(Ie,De)|0,l=l+Math.imul(Ie,We)|0,l=l+Math.imul(Ne,De)|0,E=E+Math.imul(Ne,We)|0,S=S+Math.imul(Ce,Oe)|0,l=l+Math.imul(Ce,Ge)|0,l=l+Math.imul(ze,Oe)|0,E=E+Math.imul(ze,Ge)|0,S=S+Math.imul(Re,oe)|0,l=l+Math.imul(Re,ce)|0,l=l+Math.imul(we,oe)|0,E=E+Math.imul(we,ce)|0,S=S+Math.imul(_e,ue)|0,l=l+Math.imul(_e,me)|0,l=l+Math.imul(xe,ue)|0,E=E+Math.imul(xe,me)|0,S=S+Math.imul(j,ye)|0,l=l+Math.imul(j,Ee)|0,l=l+Math.imul(he,ye)|0,E=E+Math.imul(he,Ee)|0;var ct=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,S=Math.imul(ae,Fe),l=Math.imul(ae,je),l=l+Math.imul(J,Fe)|0,E=Math.imul(J,je),S=S+Math.imul(Pe,De)|0,l=l+Math.imul(Pe,We)|0,l=l+Math.imul(Le,De)|0,E=E+Math.imul(Le,We)|0,S=S+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,Ge)|0,l=l+Math.imul(Ne,Oe)|0,E=E+Math.imul(Ne,Ge)|0,S=S+Math.imul(Ce,oe)|0,l=l+Math.imul(Ce,ce)|0,l=l+Math.imul(ze,oe)|0,E=E+Math.imul(ze,ce)|0,S=S+Math.imul(Re,ue)|0,l=l+Math.imul(Re,me)|0,l=l+Math.imul(we,ue)|0,E=E+Math.imul(we,me)|0,S=S+Math.imul(_e,ye)|0,l=l+Math.imul(_e,Ee)|0,l=l+Math.imul(xe,ye)|0,E=E+Math.imul(xe,Ee)|0;var it=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(it>>>26)|0,it&=67108863,S=Math.imul(ae,De),l=Math.imul(ae,We),l=l+Math.imul(J,De)|0,E=Math.imul(J,We),S=S+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,Ge)|0,l=l+Math.imul(Le,Oe)|0,E=E+Math.imul(Le,Ge)|0,S=S+Math.imul(Ie,oe)|0,l=l+Math.imul(Ie,ce)|0,l=l+Math.imul(Ne,oe)|0,E=E+Math.imul(Ne,ce)|0,S=S+Math.imul(Ce,ue)|0,l=l+Math.imul(Ce,me)|0,l=l+Math.imul(ze,ue)|0,E=E+Math.imul(ze,me)|0,S=S+Math.imul(Re,ye)|0,l=l+Math.imul(Re,Ee)|0,l=l+Math.imul(we,ye)|0,E=E+Math.imul(we,Ee)|0;var at=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(ae,Oe),l=Math.imul(ae,Ge),l=l+Math.imul(J,Oe)|0,E=Math.imul(J,Ge),S=S+Math.imul(Pe,oe)|0,l=l+Math.imul(Pe,ce)|0,l=l+Math.imul(Le,oe)|0,E=E+Math.imul(Le,ce)|0,S=S+Math.imul(Ie,ue)|0,l=l+Math.imul(Ie,me)|0,l=l+Math.imul(Ne,ue)|0,E=E+Math.imul(Ne,me)|0,S=S+Math.imul(Ce,ye)|0,l=l+Math.imul(Ce,Ee)|0,l=l+Math.imul(ze,ye)|0,E=E+Math.imul(ze,Ee)|0;var st=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(ae,oe),l=Math.imul(ae,ce),l=l+Math.imul(J,oe)|0,E=Math.imul(J,ce),S=S+Math.imul(Pe,ue)|0,l=l+Math.imul(Pe,me)|0,l=l+Math.imul(Le,ue)|0,E=E+Math.imul(Le,me)|0,S=S+Math.imul(Ie,ye)|0,l=l+Math.imul(Ie,Ee)|0,l=l+Math.imul(Ne,ye)|0,E=E+Math.imul(Ne,Ee)|0;var tt=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(ae,ue),l=Math.imul(ae,me),l=l+Math.imul(J,ue)|0,E=Math.imul(J,me),S=S+Math.imul(Pe,ye)|0,l=l+Math.imul(Pe,Ee)|0,l=l+Math.imul(Le,ye)|0,E=E+Math.imul(Le,Ee)|0;var He=(I+S|0)+((l&8191)<<13)|0;I=(E+(l>>>13)|0)+(He>>>26)|0,He&=67108863,S=Math.imul(ae,ye),l=Math.imul(ae,Ee),l=l+Math.imul(J,ye)|0,E=Math.imul(J,Ee);var Ke=(I+S|0)+((l&8191)<<13)|0;return I=(E+(l>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,$[0]=Ze,$[1]=Ye,$[2]=xt,$[3]=rt,$[4]=lt,$[5]=dt,$[6]=ht,$[7]=yt,$[8]=pt,$[9]=mt,$[10]=bt,$[11]=nt,$[12]=ct,$[13]=it,$[14]=at,$[15]=st,$[16]=tt,$[17]=He,$[18]=Ke,I!==0&&($[19]=I,b.length++),b};Math.imul||(C=P);function L(k,c,d){d.negative=c.negative^k.negative,d.length=k.length+c.length;for(var b=0,v=0,A=0;A<d.length-1;A++){var $=v;v=0;for(var I=b&67108863,S=Math.min(A,c.length-1),l=Math.max(0,A-k.length+1);l<=S;l++){var E=A-l,O=k.words[E]|0,D=c.words[l]|0,Y=O*D,F=Y&67108863;$=$+(Y/67108864|0)|0,F=F+I|0,I=F&67108863,$=$+(F>>>26)|0,v+=$>>>26,$&=67108863}d.words[A]=I,b=$,$=v}return b!==0?d.words[A]=b:d.length--,d.strip()}function U(k,c,d){var b=new q;return b.mulp(k,c,d)}o.prototype.mulTo=function(c,d){var b,v=this.length+c.length;return this.length===10&&c.length===10?b=C(this,c,d):v<63?b=P(this,c,d):v<1024?b=L(this,c,d):b=U(this,c,d),b};function q(k,c){this.x=k,this.y=c}q.prototype.makeRBT=function(c){for(var d=new Array(c),b=o.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,b,c);return d},q.prototype.revBin=function(c,d,b){if(c===0||c===b-1)return c;for(var v=0,A=0;A<d;A++)v|=(c&1)<<d-A-1,c>>=1;return v},q.prototype.permute=function(c,d,b,v,A,$){for(var I=0;I<$;I++)v[I]=d[c[I]],A[I]=b[c[I]]},q.prototype.transform=function(c,d,b,v,A,$){this.permute($,c,d,b,v,A);for(var I=1;I<A;I<<=1)for(var S=I<<1,l=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),O=0;O<A;O+=S)for(var D=l,Y=E,F=0;F<I;F++){var V=b[O+F],H=v[O+F],ee=b[O+F+I],ie=v[O+F+I],de=D*ee-Y*ie;ie=D*ie+Y*ee,ee=de,b[O+F]=V+ee,v[O+F]=H+ie,b[O+F+I]=V-ee,v[O+F+I]=H-ie,F!==S&&(de=l*D-E*Y,Y=l*Y+E*D,D=de)}},q.prototype.guessLen13b=function(c,d){var b=Math.max(d,c)|1,v=b&1,A=0;for(b=b/2|0;b;b=b>>>1)A++;return 1<<A+1+v},q.prototype.conjugate=function(c,d,b){if(!(b<=1))for(var v=0;v<b/2;v++){var A=c[v];c[v]=c[b-v-1],c[b-v-1]=A,A=d[v],d[v]=-d[b-v-1],d[b-v-1]=-A}},q.prototype.normalize13b=function(c,d){for(var b=0,v=0;v<d/2;v++){var A=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+b;c[v]=A&67108863,A<67108864?b=0:b=A/67108864|0}return c},q.prototype.convert13b=function(c,d,b,v){for(var A=0,$=0;$<d;$++)A=A+(c[$]|0),b[2*$]=A&8191,A=A>>>13,b[2*$+1]=A&8191,A=A>>>13;for($=2*d;$<v;++$)b[$]=0;a(A===0),a((A&-8192)===0)},q.prototype.stub=function(c){for(var d=new Array(c),b=0;b<c;b++)d[b]=0;return d},q.prototype.mulp=function(c,d,b){var v=2*this.guessLen13b(c.length,d.length),A=this.makeRBT(v),$=this.stub(v),I=new Array(v),S=new Array(v),l=new Array(v),E=new Array(v),O=new Array(v),D=new Array(v),Y=b.words;Y.length=v,this.convert13b(c.words,c.length,I,v),this.convert13b(d.words,d.length,E,v),this.transform(I,$,S,l,v,A),this.transform(E,$,O,D,v,A);for(var F=0;F<v;F++){var V=S[F]*O[F]-l[F]*D[F];l[F]=S[F]*D[F]+l[F]*O[F],S[F]=V}return this.conjugate(S,l,v),this.transform(S,l,Y,$,v,A),this.conjugate(Y,$,v),this.normalize13b(Y,v),b.negative=c.negative^d.negative,b.length=c.length+d.length,b.strip()},o.prototype.mul=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},o.prototype.mulf=function(c){var d=new o(null);return d.words=new Array(this.length+c.length),U(this,c,d)},o.prototype.imul=function(c){return this.clone().mulTo(c,this)},o.prototype.imuln=function(c){a(typeof c=="number"),a(c<67108864);for(var d=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*c,A=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=A>>>26,this.words[b]=A&67108863}return d!==0&&(this.words[b]=d,this.length++),this},o.prototype.muln=function(c){return this.clone().imuln(c)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(c){var d=B(c);if(d.length===0)return new o(1);for(var b=this,v=0;v<d.length&&d[v]===0;v++,b=b.sqr());if(++v<d.length)for(var A=b.sqr();v<d.length;v++,A=A.sqr())d[v]!==0&&(b=b.mul(A));return b},o.prototype.iushln=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=67108863>>>26-d<<26-d,A;if(d!==0){var $=0;for(A=0;A<this.length;A++){var I=this.words[A]&v,S=(this.words[A]|0)-I<<d;this.words[A]=S|$,$=I>>>26-d}$&&(this.words[A]=$,this.length++)}if(b!==0){for(A=this.length-1;A>=0;A--)this.words[A+b]=this.words[A];for(A=0;A<b;A++)this.words[A]=0;this.length+=b}return this.strip()},o.prototype.ishln=function(c){return a(this.negative===0),this.iushln(c)},o.prototype.iushrn=function(c,d,b){a(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var A=c%26,$=Math.min((c-A)/26,this.length),I=67108863^67108863>>>A<<A,S=b;if(v-=$,v=Math.max(0,v),S){for(var l=0;l<$;l++)S.words[l]=this.words[l];S.length=$}if($!==0)if(this.length>$)for(this.length-=$,l=0;l<this.length;l++)this.words[l]=this.words[l+$];else this.words[0]=0,this.length=1;var E=0;for(l=this.length-1;l>=0&&(E!==0||l>=v);l--){var O=this.words[l]|0;this.words[l]=E<<26-A|O>>>A,E=O&I}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(c,d,b){return a(this.negative===0),this.iushrn(c,d,b)},o.prototype.shln=function(c){return this.clone().ishln(c)},o.prototype.ushln=function(c){return this.clone().iushln(c)},o.prototype.shrn=function(c){return this.clone().ishrn(c)},o.prototype.ushrn=function(c){return this.clone().iushrn(c)},o.prototype.testn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return!1;var A=this.words[b];return!!(A&v)},o.prototype.imaskn=function(c){a(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(c){return this.clone().imaskn(c)},o.prototype.iaddn=function(c){return a(typeof c=="number"),a(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},o.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(c){if(a(typeof c=="number"),a(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(c){return this.clone().iaddn(c)},o.prototype.subn=function(c){return this.clone().isubn(c)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(c,d,b){var v=c.length+b,A;this._expand(v);var $,I=0;for(A=0;A<c.length;A++){$=(this.words[A+b]|0)+I;var S=(c.words[A]|0)*d;$-=S&67108863,I=($>>26)-(S/67108864|0),this.words[A+b]=$&67108863}for(;A<this.length-b;A++)$=(this.words[A+b]|0)+I,I=$>>26,this.words[A+b]=$&67108863;if(I===0)return this.strip();for(a(I===-1),I=0,A=0;A<this.length;A++)$=-(this.words[A]|0)+I,I=$>>26,this.words[A]=$&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(c,d){var b=this.length-c.length,v=this.clone(),A=c,$=A.words[A.length-1]|0,I=this._countBits($);b=26-I,b!==0&&(A=A.ushln(b),v.iushln(b),$=A.words[A.length-1]|0);var S=v.length-A.length,l;if(d!=="mod"){l=new o(null),l.length=S+1,l.words=new Array(l.length);for(var E=0;E<l.length;E++)l.words[E]=0}var O=v.clone()._ishlnsubmul(A,1,S);O.negative===0&&(v=O,l&&(l.words[S]=1));for(var D=S-1;D>=0;D--){var Y=(v.words[A.length+D]|0)*67108864+(v.words[A.length+D-1]|0);for(Y=Math.min(Y/$|0,67108863),v._ishlnsubmul(A,Y,D);v.negative!==0;)Y--,v.negative=0,v._ishlnsubmul(A,1,D),v.isZero()||(v.negative^=1);l&&(l.words[D]=Y)}return l&&l.strip(),v.strip(),d!=="div"&&b!==0&&v.iushrn(b),{div:l||null,mod:v}},o.prototype.divmod=function(c,d,b){if(a(!c.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,A,$;return this.negative!==0&&c.negative===0?($=this.neg().divmod(c,d),d!=="mod"&&(v=$.div.neg()),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.iadd(c)),{div:v,mod:A}):this.negative===0&&c.negative!==0?($=this.divmod(c.neg(),d),d!=="mod"&&(v=$.div.neg()),{div:v,mod:$.mod}):this.negative&c.negative?($=this.neg().divmod(c.neg(),d),d!=="div"&&(A=$.mod.neg(),b&&A.negative!==0&&A.isub(c)),{div:$.div,mod:A}):c.length>this.length||this.cmp(c)<0?{div:new o(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new o(this.modn(c.words[0]))}:this._wordDiv(c,d)},o.prototype.div=function(c){return this.divmod(c,"div",!1).div},o.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},o.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},o.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),A=c.andln(1),$=b.cmp(v);return $<0||A===1&&$===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(c){a(c<=67108863);for(var d=(1<<26)%c,b=0,v=this.length-1;v>=0;v--)b=(d*b+(this.words[v]|0))%c;return b},o.prototype.idivn=function(c){a(c<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+d*67108864;this.words[b]=v/c|0,d=v%c}return this.strip()},o.prototype.divn=function(c){return this.clone().idivn(c)},o.prototype.egcd=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=new o(0),I=new o(1),S=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++S;for(var l=b.clone(),E=d.clone();!d.isZero();){for(var O=0,D=1;!(d.words[0]&D)&&O<26;++O,D<<=1);if(O>0)for(d.iushrn(O);O-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(l),A.isub(E)),v.iushrn(1),A.iushrn(1);for(var Y=0,F=1;!(b.words[0]&F)&&Y<26;++Y,F<<=1);if(Y>0)for(b.iushrn(Y);Y-- >0;)($.isOdd()||I.isOdd())&&($.iadd(l),I.isub(E)),$.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub($),A.isub(I)):(b.isub(d),$.isub(v),I.isub(A))}return{a:$,b:I,gcd:b.iushln(S)}},o.prototype._invmp=function(c){a(c.negative===0),a(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new o(1),A=new o(0),$=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,S=1;!(d.words[0]&S)&&I<26;++I,S<<=1);if(I>0)for(d.iushrn(I);I-- >0;)v.isOdd()&&v.iadd($),v.iushrn(1);for(var l=0,E=1;!(b.words[0]&E)&&l<26;++l,E<<=1);if(l>0)for(b.iushrn(l);l-- >0;)A.isOdd()&&A.iadd($),A.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub(A)):(b.isub(d),A.isub(v))}var O;return d.cmpn(1)===0?O=v:O=A,O.cmpn(0)<0&&O.iadd(c),O},o.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),b=c.clone();d.negative=0,b.negative=0;for(var v=0;d.isEven()&&b.isEven();v++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var A=d.cmp(b);if(A<0){var $=d;d=b,b=$}else if(A===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(v)},o.prototype.invm=function(c){return this.egcd(c).a.umod(c)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(c){return this.words[0]&c},o.prototype.bincn=function(c){a(typeof c=="number");var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var A=v,$=b;A!==0&&$<this.length;$++){var I=this.words[$]|0;I+=A,A=I>>>26,I&=67108863,this.words[$]=I}return A!==0&&(this.words[$]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(c=-c),a(c<=67108863,"Number is too big");var v=this.words[0]|0;b=v===c?0:v<c?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,A=c.words[b]|0;if(v!==A){v<A?d=-1:v>A&&(d=1);break}}return d},o.prototype.gtn=function(c){return this.cmpn(c)===1},o.prototype.gt=function(c){return this.cmp(c)===1},o.prototype.gten=function(c){return this.cmpn(c)>=0},o.prototype.gte=function(c){return this.cmp(c)>=0},o.prototype.ltn=function(c){return this.cmpn(c)===-1},o.prototype.lt=function(c){return this.cmp(c)===-1},o.prototype.lten=function(c){return this.cmpn(c)<=0},o.prototype.lte=function(c){return this.cmp(c)<=0},o.prototype.eqn=function(c){return this.cmpn(c)===0},o.prototype.eq=function(c){return this.cmp(c)===0},o.red=function(c){return new se(c)},o.prototype.toRed=function(c){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},o.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(c){return this.red=c,this},o.prototype.forceRed=function(c){return a(!this.red,"Already a number in reduction context"),this._forceRed(c)},o.prototype.redAdd=function(c){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},o.prototype.redIAdd=function(c){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},o.prototype.redSub=function(c){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},o.prototype.redISub=function(c){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},o.prototype.redShl=function(c){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},o.prototype.redMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},o.prototype.redIMul=function(c){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},o.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(c){return a(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var G={k256:null,p224:null,p192:null,p25519:null};function X(k,c){this.name=k,this.p=new o(c,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var c=new o(null);return c.words=new Array(Math.ceil(this.n/13)),c},X.prototype.ireduce=function(c){var d=c,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var v=b<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},X.prototype.split=function(c,d){c.iushrn(this.n,0,d)},X.prototype.imulK=function(c){return c.imul(this.k)};function te(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(te,X),te.prototype.split=function(c,d){for(var b=4194303,v=Math.min(c.length,9),A=0;A<v;A++)d.words[A]=c.words[A];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var $=c.words[9];for(d.words[d.length++]=$&b,A=10;A<c.length;A++){var I=c.words[A]|0;c.words[A-10]=(I&b)<<4|$>>>22,$=I}$>>>=22,c.words[A-10]=$,$===0&&c.length>10?c.length-=10:c.length-=9},te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,b=0;b<c.length;b++){var v=c.words[b]|0;d+=v*977,c.words[b]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ne(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(ne,X);function ge(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(ge,X);function pe(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(pe,X),pe.prototype.imulK=function(c){for(var d=0,b=0;b<c.length;b++){var v=(c.words[b]|0)*19+d,A=v&67108863;v>>>=26,c.words[b]=A,d=v}return d!==0&&(c.words[c.length++]=d),c},o._prime=function(c){if(G[c])return G[c];var d;if(c==="k256")d=new te;else if(c==="p224")d=new ne;else if(c==="p192")d=new ge;else if(c==="p25519")d=new pe;else throw new Error("Unknown prime "+c);return G[c]=d,d};function se(k){if(typeof k=="string"){var c=o._prime(k);this.m=c.p,this.prime=c}else a(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}se.prototype._verify1=function(c){a(c.negative===0,"red works only with positives"),a(c.red,"red works only with red numbers")},se.prototype._verify2=function(c,d){a((c.negative|d.negative)===0,"red works only with positives"),a(c.red&&c.red===d.red,"red works only with red numbers")},se.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},se.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},se.prototype.add=function(c,d){this._verify2(c,d);var b=c.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},se.prototype.iadd=function(c,d){this._verify2(c,d);var b=c.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},se.prototype.sub=function(c,d){this._verify2(c,d);var b=c.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},se.prototype.isub=function(c,d){this._verify2(c,d);var b=c.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},se.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},se.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},se.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},se.prototype.isqr=function(c){return this.imul(c,c.clone())},se.prototype.sqr=function(c){return this.mul(c,c)},se.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(a(d%2===1),d===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(c,b)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);a(!v.isZero());var $=new o(1).toRed(this),I=$.redNeg(),S=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);this.pow(l,S).cmp(I)!==0;)l.redIAdd(I);for(var E=this.pow(l,v),O=this.pow(c,v.addn(1).iushrn(1)),D=this.pow(c,v),Y=A;D.cmp($)!==0;){for(var F=D,V=0;F.cmp($)!==0;V++)F=F.redSqr();a(V<Y);var H=this.pow(E,new o(1).iushln(Y-V-1));O=O.redMul(H),E=H.redSqr(),D=D.redMul(E),Y=V}return O},se.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},se.prototype.pow=function(c,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var b=4,v=new Array(1<<b);v[0]=new o(1).toRed(this),v[1]=c;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],c);var $=v[0],I=0,S=0,l=d.bitLength()%26;for(l===0&&(l=26),A=d.length-1;A>=0;A--){for(var E=d.words[A],O=l-1;O>=0;O--){var D=E>>O&1;if($!==v[0]&&($=this.sqr($)),D===0&&I===0){S=0;continue}I<<=1,I|=D,S++,!(S!==b&&(A!==0||O!==0))&&($=this.mul($,v[I]),S=0,I=0)}l=26}return $},se.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},se.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},o.mont=function(c){return new Se(c)};function Se(k){se.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(Se,se),Se.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},Se.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},Se.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new o(0)._forceRed(this);var b=c.mul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=b.isub(v).iushrn(this.shift),$=A;return A.cmp(this.m)>=0?$=A.isub(this.m):A.cmpn(0)<0&&($=A.iadd(this.m)),$._forceRed(this)},Se.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,commonjsGlobal)}(bn)),bn.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var t=requireBn(),e=safeBufferExports$1.Buffer;function n(a,u){return e.from(a.toRed(t.mont(u.modulus)).redPow(new t(u.publicExponent)).fromRed().toArray())}return withPublic_1=n,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var t=requireParseAsn1(),e=requireBrowser$8(),n=browser$d,a=requireMgf(),u=requireXor(),o=requireBn(),p=requireWithPublic(),m=requireBrowserifyRsa(),y=safeBufferExports$1.Buffer;publicEncrypt=function(B,P,C){var L;B.padding?L=B.padding:C?L=1:L=4;var U=t(B),q;if(L===4)q=w(U,P);else if(L===1)q=_(U,P,C);else if(L===3){if(q=new o(P),q.cmp(U.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return C?m(q,U):p(q,U)};function w(T,B){var P=T.modulus.byteLength(),C=B.length,L=n("sha1").update(y.alloc(0)).digest(),U=L.length,q=2*U;if(C>P-q-2)throw new Error("message too long");var G=y.alloc(P-C-q-2),X=P-U-1,te=e(U),ne=u(y.concat([L,G,y.alloc(1,1),B],X),a(te,X)),ge=u(te,a(ne,U));return new o(y.concat([y.alloc(1),ge,ne],P))}function _(T,B,P){var C=B.length,L=T.modulus.byteLength();if(C>L-11)throw new Error("message too long");var U;return P?U=y.alloc(L-C-3,255):U=M(L-C-3),new o(y.concat([y.from([0,P?1:2]),U,y.alloc(1),B],L))}function M(T){for(var B=y.allocUnsafe(T),P=0,C=e(T*2),L=0,U;P<T;)L===C.length&&(C=e(T*2),L=0),U=C[L++],U&&(B[P++]=U);return B}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var t=requireParseAsn1(),e=requireMgf(),n=requireXor(),a=requireBn(),u=requireBrowserifyRsa(),o=browser$d,p=requireWithPublic(),m=safeBufferExports$1.Buffer;privateDecrypt=function(T,B,P){var C;T.padding?C=T.padding:P?C=1:C=4;var L=t(T),U=L.modulus.byteLength();if(B.length>U||new a(B).cmp(L.modulus)>=0)throw new Error("decryption error");var q;P?q=p(new a(B),L):q=u(B,L);var G=m.alloc(U-q.length);if(q=m.concat([G,q],U),C===4)return y(L,q);if(C===1)return w(L,q,P);if(C===3)return q;throw new Error("unknown padding")};function y(M,T){var B=M.modulus.byteLength(),P=o("sha1").update(m.alloc(0)).digest(),C=P.length;if(T[0]!==0)throw new Error("decryption error");var L=T.slice(1,C+1),U=T.slice(C+1),q=n(L,e(U,C)),G=n(U,e(q,B-C-1));if(_(P,G.slice(0,C)))throw new Error("decryption error");for(var X=C;G[X]===0;)X++;if(G[X++]!==1)throw new Error("decryption error");return G.slice(X)}function w(M,T,B){for(var P=T.slice(0,2),C=2,L=0;T[C++]!==0;)if(C>=T.length){L++;break}var U=T.slice(2,C-1);if((P.toString("hex")!=="0002"&&!B||P.toString("hex")!=="0001"&&B)&&L++,U.length<8&&L++,L)throw new Error("decryption error");return T.slice(C)}function _(M,T){M=m.from(M),T=m.from(T);var B=0,P=M.length;M.length!==T.length&&(B++,P=Math.min(M.length,T.length));for(var C=-1;++C<P;)B+=M[C]^T[C];return B}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(t){t.publicEncrypt=requirePublicEncrypt(),t.privateDecrypt=requirePrivateDecrypt(),t.privateEncrypt=function(n,a){return t.publicEncrypt(n,a,!0)},t.publicDecrypt=function(n,a){return t.privateDecrypt(n,a,!0)}}(browser$2)),browser$2}var browser$1={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$1;hasRequiredBrowser=1;function t(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=safeBufferExports$1,n=requireBrowser$8(),a=e.Buffer,u=e.kMaxLength,o=commonjsGlobal.crypto||commonjsGlobal.msCrypto,p=Math.pow(2,32)-1;function m(T,B){if(typeof T!="number"||T!==T)throw new TypeError("offset must be a number");if(T>p||T<0)throw new TypeError("offset must be a uint32");if(T>u||T>B)throw new RangeError("offset out of range")}function y(T,B,P){if(typeof T!="number"||T!==T)throw new TypeError("size must be a number");if(T>p||T<0)throw new TypeError("size must be a uint32");if(T+B>P||T>u)throw new RangeError("buffer too small")}o&&o.getRandomValues||!process$1.browser?(browser$1.randomFill=w,browser$1.randomFillSync=M):(browser$1.randomFill=t,browser$1.randomFillSync=t);function w(T,B,P,C){if(!a.isBuffer(T)&&!(T instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof B=="function")C=B,B=0,P=T.length;else if(typeof P=="function")C=P,P=T.length-B;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return m(B,T.length),y(P,B,T.length),_(T,B,P,C)}function _(T,B,P,C){if(process$1.browser){var L=T.buffer,U=new Uint8Array(L,B,P);if(o.getRandomValues(U),C){process$1.nextTick(function(){C(null,T)});return}return T}if(C){n(P,function(G,X){if(G)return C(G);X.copy(T,B),C(null,T)});return}var q=n(P);return q.copy(T,B),T}function M(T,B,P){if(typeof B>"u"&&(B=0),!a.isBuffer(T)&&!(T instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return m(B,T.length),P===void 0&&(P=T.length-B),y(P,B,T.length),_(T,B,P)}return browser$1}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$8(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=browser$d,cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=browser$9;var t=requireAlgos(),e=Object.keys(t),n=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);cryptoBrowserify.getHashes=function(){return n};var a=requireBrowser$7();cryptoBrowserify.pbkdf2=a.pbkdf2,cryptoBrowserify.pbkdf2Sync=a.pbkdf2Sync;var u=requireBrowser$5();cryptoBrowserify.Cipher=u.Cipher,cryptoBrowserify.createCipher=u.createCipher,cryptoBrowserify.Cipheriv=u.Cipheriv,cryptoBrowserify.createCipheriv=u.createCipheriv,cryptoBrowserify.Decipher=u.Decipher,cryptoBrowserify.createDecipher=u.createDecipher,cryptoBrowserify.Decipheriv=u.Decipheriv,cryptoBrowserify.createDecipheriv=u.createDecipheriv,cryptoBrowserify.getCiphers=u.getCiphers,cryptoBrowserify.listCiphers=u.listCiphers;var o=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=o.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=o.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=o.getDiffieHellman,cryptoBrowserify.createDiffieHellman=o.createDiffieHellman,cryptoBrowserify.DiffieHellman=o.DiffieHellman;var p=requireBrowser$3();cryptoBrowserify.createSign=p.createSign,cryptoBrowserify.Sign=p.Sign,cryptoBrowserify.createVerify=p.createVerify,cryptoBrowserify.Verify=p.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var m=requireBrowser$1();cryptoBrowserify.publicEncrypt=m.publicEncrypt,cryptoBrowserify.privateEncrypt=m.privateEncrypt,cryptoBrowserify.publicDecrypt=m.publicDecrypt,cryptoBrowserify.privateDecrypt=m.privateDecrypt;var y=requireBrowser();return cryptoBrowserify.randomFill=y.randomFill,cryptoBrowserify.randomFillSync=y.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}function createAssociatedTokenAccountInstruction(t,e,n,a,u=TOKEN_PROGRAM_ID,o=ASSOCIATED_TOKEN_PROGRAM_ID){return buildAssociatedTokenAccountInstruction(t,e,n,a,Buffer$1$1.alloc(0),u,o)}function buildAssociatedTokenAccountInstruction(t,e,n,a,u,o=TOKEN_PROGRAM_ID,p=ASSOCIATED_TOKEN_PROGRAM_ID){const m=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:m,programId:p,data:u})}async function getOrCreateAssociatedTokenAccount(t,e,n,a,u=!1,o,p,m=TOKEN_PROGRAM_ID,y=ASSOCIATED_TOKEN_PROGRAM_ID){const w=getAssociatedTokenAddressSync(n,a,u,m,y);let _;try{_=await getAccount(t,w,o,m)}catch(M){if(M instanceof TokenAccountNotFoundError||M instanceof TokenInvalidAccountOwnerError){try{const T=new Transaction().add(createAssociatedTokenAccountInstruction(e.publicKey,w,a,n,m,y));await sendAndConfirmTransaction(t,T,[e],p)}catch{}_=await getAccount(t,w,o,m)}else throw M}if(!_.mint.equals(n))throw new TokenInvalidMintError;if(!_.owner.equals(a))throw new TokenInvalidOwnerError;return _}const transferInstructionData=struct([u8("instruction"),u64("amount")]);function createTransferInstruction(t,e,n,a,u=[],o=TOKEN_PROGRAM_ID){const p=addSigners([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],n,u),m=Buffer$1$1.alloc(transferInstructionData.span);return transferInstructionData.encode({instruction:TokenInstruction.Transfer,amount:BigInt(a)},m),new TransactionInstruction({keys:p,programId:o,data:m})}async function transfer(t,e,n,a,u,o,p=[],m,y=TOKEN_PROGRAM_ID){const[w,_]=getSigners(u,p),M=new Transaction().add(createTransferInstruction(n,a,w,o,p,y));return await sendAndConfirmTransaction(t,M,[e,..._],m)}var dist={};function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}};(function(t){(function(e){var n=function(fe){var oe,ce=new Float64Array(16);if(fe)for(oe=0;oe<fe.length;oe++)ce[oe]=fe[oe];return ce},a=function(){throw new Error("no PRNG")},u=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var p=n(),m=n([1]),y=n([56129,1]),w=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),_=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),M=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),T=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),B=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function P(fe,oe,ce,Q){fe[oe]=ce>>24&255,fe[oe+1]=ce>>16&255,fe[oe+2]=ce>>8&255,fe[oe+3]=ce&255,fe[oe+4]=Q>>24&255,fe[oe+5]=Q>>16&255,fe[oe+6]=Q>>8&255,fe[oe+7]=Q&255}function C(fe,oe,ce,Q,ue){var me,$e=0;for(me=0;me<ue;me++)$e|=fe[oe+me]^ce[Q+me];return(1&$e-1>>>8)-1}function L(fe,oe,ce,Q){return C(fe,oe,ce,Q,16)}function U(fe,oe,ce,Q){return C(fe,oe,ce,Q,32)}function q(fe,oe,ce,Q){for(var ue=Q[0]&255|(Q[1]&255)<<8|(Q[2]&255)<<16|(Q[3]&255)<<24,me=ce[0]&255|(ce[1]&255)<<8|(ce[2]&255)<<16|(ce[3]&255)<<24,$e=ce[4]&255|(ce[5]&255)<<8|(ce[6]&255)<<16|(ce[7]&255)<<24,ye=ce[8]&255|(ce[9]&255)<<8|(ce[10]&255)<<16|(ce[11]&255)<<24,Ee=ce[12]&255|(ce[13]&255)<<8|(ce[14]&255)<<16|(ce[15]&255)<<24,Ze=Q[4]&255|(Q[5]&255)<<8|(Q[6]&255)<<16|(Q[7]&255)<<24,Ye=oe[0]&255|(oe[1]&255)<<8|(oe[2]&255)<<16|(oe[3]&255)<<24,xt=oe[4]&255|(oe[5]&255)<<8|(oe[6]&255)<<16|(oe[7]&255)<<24,rt=oe[8]&255|(oe[9]&255)<<8|(oe[10]&255)<<16|(oe[11]&255)<<24,lt=oe[12]&255|(oe[13]&255)<<8|(oe[14]&255)<<16|(oe[15]&255)<<24,dt=Q[8]&255|(Q[9]&255)<<8|(Q[10]&255)<<16|(Q[11]&255)<<24,ht=ce[16]&255|(ce[17]&255)<<8|(ce[18]&255)<<16|(ce[19]&255)<<24,yt=ce[20]&255|(ce[21]&255)<<8|(ce[22]&255)<<16|(ce[23]&255)<<24,pt=ce[24]&255|(ce[25]&255)<<8|(ce[26]&255)<<16|(ce[27]&255)<<24,mt=ce[28]&255|(ce[29]&255)<<8|(ce[30]&255)<<16|(ce[31]&255)<<24,bt=Q[12]&255|(Q[13]&255)<<8|(Q[14]&255)<<16|(Q[15]&255)<<24,nt=ue,ct=me,it=$e,at=ye,st=Ee,tt=Ze,He=Ye,Ke=xt,et=rt,Je=lt,Qe=dt,ot=ht,Mt=yt,It=pt,Tt=mt,Rt=bt,Me,Pt=0;Pt<20;Pt+=2)Me=nt+Mt|0,st^=Me<<7|Me>>>25,Me=st+nt|0,et^=Me<<9|Me>>>23,Me=et+st|0,Mt^=Me<<13|Me>>>19,Me=Mt+et|0,nt^=Me<<18|Me>>>14,Me=tt+ct|0,Je^=Me<<7|Me>>>25,Me=Je+tt|0,It^=Me<<9|Me>>>23,Me=It+Je|0,ct^=Me<<13|Me>>>19,Me=ct+It|0,tt^=Me<<18|Me>>>14,Me=Qe+He|0,Tt^=Me<<7|Me>>>25,Me=Tt+Qe|0,it^=Me<<9|Me>>>23,Me=it+Tt|0,He^=Me<<13|Me>>>19,Me=He+it|0,Qe^=Me<<18|Me>>>14,Me=Rt+ot|0,at^=Me<<7|Me>>>25,Me=at+Rt|0,Ke^=Me<<9|Me>>>23,Me=Ke+at|0,ot^=Me<<13|Me>>>19,Me=ot+Ke|0,Rt^=Me<<18|Me>>>14,Me=nt+at|0,ct^=Me<<7|Me>>>25,Me=ct+nt|0,it^=Me<<9|Me>>>23,Me=it+ct|0,at^=Me<<13|Me>>>19,Me=at+it|0,nt^=Me<<18|Me>>>14,Me=tt+st|0,He^=Me<<7|Me>>>25,Me=He+tt|0,Ke^=Me<<9|Me>>>23,Me=Ke+He|0,st^=Me<<13|Me>>>19,Me=st+Ke|0,tt^=Me<<18|Me>>>14,Me=Qe+Je|0,ot^=Me<<7|Me>>>25,Me=ot+Qe|0,et^=Me<<9|Me>>>23,Me=et+ot|0,Je^=Me<<13|Me>>>19,Me=Je+et|0,Qe^=Me<<18|Me>>>14,Me=Rt+Tt|0,Mt^=Me<<7|Me>>>25,Me=Mt+Rt|0,It^=Me<<9|Me>>>23,Me=It+Mt|0,Tt^=Me<<13|Me>>>19,Me=Tt+It|0,Rt^=Me<<18|Me>>>14;nt=nt+ue|0,ct=ct+me|0,it=it+$e|0,at=at+ye|0,st=st+Ee|0,tt=tt+Ze|0,He=He+Ye|0,Ke=Ke+xt|0,et=et+rt|0,Je=Je+lt|0,Qe=Qe+dt|0,ot=ot+ht|0,Mt=Mt+yt|0,It=It+pt|0,Tt=Tt+mt|0,Rt=Rt+bt|0,fe[0]=nt>>>0&255,fe[1]=nt>>>8&255,fe[2]=nt>>>16&255,fe[3]=nt>>>24&255,fe[4]=ct>>>0&255,fe[5]=ct>>>8&255,fe[6]=ct>>>16&255,fe[7]=ct>>>24&255,fe[8]=it>>>0&255,fe[9]=it>>>8&255,fe[10]=it>>>16&255,fe[11]=it>>>24&255,fe[12]=at>>>0&255,fe[13]=at>>>8&255,fe[14]=at>>>16&255,fe[15]=at>>>24&255,fe[16]=st>>>0&255,fe[17]=st>>>8&255,fe[18]=st>>>16&255,fe[19]=st>>>24&255,fe[20]=tt>>>0&255,fe[21]=tt>>>8&255,fe[22]=tt>>>16&255,fe[23]=tt>>>24&255,fe[24]=He>>>0&255,fe[25]=He>>>8&255,fe[26]=He>>>16&255,fe[27]=He>>>24&255,fe[28]=Ke>>>0&255,fe[29]=Ke>>>8&255,fe[30]=Ke>>>16&255,fe[31]=Ke>>>24&255,fe[32]=et>>>0&255,fe[33]=et>>>8&255,fe[34]=et>>>16&255,fe[35]=et>>>24&255,fe[36]=Je>>>0&255,fe[37]=Je>>>8&255,fe[38]=Je>>>16&255,fe[39]=Je>>>24&255,fe[40]=Qe>>>0&255,fe[41]=Qe>>>8&255,fe[42]=Qe>>>16&255,fe[43]=Qe>>>24&255,fe[44]=ot>>>0&255,fe[45]=ot>>>8&255,fe[46]=ot>>>16&255,fe[47]=ot>>>24&255,fe[48]=Mt>>>0&255,fe[49]=Mt>>>8&255,fe[50]=Mt>>>16&255,fe[51]=Mt>>>24&255,fe[52]=It>>>0&255,fe[53]=It>>>8&255,fe[54]=It>>>16&255,fe[55]=It>>>24&255,fe[56]=Tt>>>0&255,fe[57]=Tt>>>8&255,fe[58]=Tt>>>16&255,fe[59]=Tt>>>24&255,fe[60]=Rt>>>0&255,fe[61]=Rt>>>8&255,fe[62]=Rt>>>16&255,fe[63]=Rt>>>24&255}function G(fe,oe,ce,Q){for(var ue=Q[0]&255|(Q[1]&255)<<8|(Q[2]&255)<<16|(Q[3]&255)<<24,me=ce[0]&255|(ce[1]&255)<<8|(ce[2]&255)<<16|(ce[3]&255)<<24,$e=ce[4]&255|(ce[5]&255)<<8|(ce[6]&255)<<16|(ce[7]&255)<<24,ye=ce[8]&255|(ce[9]&255)<<8|(ce[10]&255)<<16|(ce[11]&255)<<24,Ee=ce[12]&255|(ce[13]&255)<<8|(ce[14]&255)<<16|(ce[15]&255)<<24,Ze=Q[4]&255|(Q[5]&255)<<8|(Q[6]&255)<<16|(Q[7]&255)<<24,Ye=oe[0]&255|(oe[1]&255)<<8|(oe[2]&255)<<16|(oe[3]&255)<<24,xt=oe[4]&255|(oe[5]&255)<<8|(oe[6]&255)<<16|(oe[7]&255)<<24,rt=oe[8]&255|(oe[9]&255)<<8|(oe[10]&255)<<16|(oe[11]&255)<<24,lt=oe[12]&255|(oe[13]&255)<<8|(oe[14]&255)<<16|(oe[15]&255)<<24,dt=Q[8]&255|(Q[9]&255)<<8|(Q[10]&255)<<16|(Q[11]&255)<<24,ht=ce[16]&255|(ce[17]&255)<<8|(ce[18]&255)<<16|(ce[19]&255)<<24,yt=ce[20]&255|(ce[21]&255)<<8|(ce[22]&255)<<16|(ce[23]&255)<<24,pt=ce[24]&255|(ce[25]&255)<<8|(ce[26]&255)<<16|(ce[27]&255)<<24,mt=ce[28]&255|(ce[29]&255)<<8|(ce[30]&255)<<16|(ce[31]&255)<<24,bt=Q[12]&255|(Q[13]&255)<<8|(Q[14]&255)<<16|(Q[15]&255)<<24,nt=ue,ct=me,it=$e,at=ye,st=Ee,tt=Ze,He=Ye,Ke=xt,et=rt,Je=lt,Qe=dt,ot=ht,Mt=yt,It=pt,Tt=mt,Rt=bt,Me,Pt=0;Pt<20;Pt+=2)Me=nt+Mt|0,st^=Me<<7|Me>>>25,Me=st+nt|0,et^=Me<<9|Me>>>23,Me=et+st|0,Mt^=Me<<13|Me>>>19,Me=Mt+et|0,nt^=Me<<18|Me>>>14,Me=tt+ct|0,Je^=Me<<7|Me>>>25,Me=Je+tt|0,It^=Me<<9|Me>>>23,Me=It+Je|0,ct^=Me<<13|Me>>>19,Me=ct+It|0,tt^=Me<<18|Me>>>14,Me=Qe+He|0,Tt^=Me<<7|Me>>>25,Me=Tt+Qe|0,it^=Me<<9|Me>>>23,Me=it+Tt|0,He^=Me<<13|Me>>>19,Me=He+it|0,Qe^=Me<<18|Me>>>14,Me=Rt+ot|0,at^=Me<<7|Me>>>25,Me=at+Rt|0,Ke^=Me<<9|Me>>>23,Me=Ke+at|0,ot^=Me<<13|Me>>>19,Me=ot+Ke|0,Rt^=Me<<18|Me>>>14,Me=nt+at|0,ct^=Me<<7|Me>>>25,Me=ct+nt|0,it^=Me<<9|Me>>>23,Me=it+ct|0,at^=Me<<13|Me>>>19,Me=at+it|0,nt^=Me<<18|Me>>>14,Me=tt+st|0,He^=Me<<7|Me>>>25,Me=He+tt|0,Ke^=Me<<9|Me>>>23,Me=Ke+He|0,st^=Me<<13|Me>>>19,Me=st+Ke|0,tt^=Me<<18|Me>>>14,Me=Qe+Je|0,ot^=Me<<7|Me>>>25,Me=ot+Qe|0,et^=Me<<9|Me>>>23,Me=et+ot|0,Je^=Me<<13|Me>>>19,Me=Je+et|0,Qe^=Me<<18|Me>>>14,Me=Rt+Tt|0,Mt^=Me<<7|Me>>>25,Me=Mt+Rt|0,It^=Me<<9|Me>>>23,Me=It+Mt|0,Tt^=Me<<13|Me>>>19,Me=Tt+It|0,Rt^=Me<<18|Me>>>14;fe[0]=nt>>>0&255,fe[1]=nt>>>8&255,fe[2]=nt>>>16&255,fe[3]=nt>>>24&255,fe[4]=tt>>>0&255,fe[5]=tt>>>8&255,fe[6]=tt>>>16&255,fe[7]=tt>>>24&255,fe[8]=Qe>>>0&255,fe[9]=Qe>>>8&255,fe[10]=Qe>>>16&255,fe[11]=Qe>>>24&255,fe[12]=Rt>>>0&255,fe[13]=Rt>>>8&255,fe[14]=Rt>>>16&255,fe[15]=Rt>>>24&255,fe[16]=He>>>0&255,fe[17]=He>>>8&255,fe[18]=He>>>16&255,fe[19]=He>>>24&255,fe[20]=Ke>>>0&255,fe[21]=Ke>>>8&255,fe[22]=Ke>>>16&255,fe[23]=Ke>>>24&255,fe[24]=et>>>0&255,fe[25]=et>>>8&255,fe[26]=et>>>16&255,fe[27]=et>>>24&255,fe[28]=Je>>>0&255,fe[29]=Je>>>8&255,fe[30]=Je>>>16&255,fe[31]=Je>>>24&255}function X(fe,oe,ce,Q){q(fe,oe,ce,Q)}function te(fe,oe,ce,Q){G(fe,oe,ce,Q)}var ne=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function ge(fe,oe,ce,Q,ue,me,$e){var ye=new Uint8Array(16),Ee=new Uint8Array(64),Ze,Ye;for(Ye=0;Ye<16;Ye++)ye[Ye]=0;for(Ye=0;Ye<8;Ye++)ye[Ye]=me[Ye];for(;ue>=64;){for(X(Ee,ye,$e,ne),Ye=0;Ye<64;Ye++)fe[oe+Ye]=ce[Q+Ye]^Ee[Ye];for(Ze=1,Ye=8;Ye<16;Ye++)Ze=Ze+(ye[Ye]&255)|0,ye[Ye]=Ze&255,Ze>>>=8;ue-=64,oe+=64,Q+=64}if(ue>0)for(X(Ee,ye,$e,ne),Ye=0;Ye<ue;Ye++)fe[oe+Ye]=ce[Q+Ye]^Ee[Ye];return 0}function pe(fe,oe,ce,Q,ue){var me=new Uint8Array(16),$e=new Uint8Array(64),ye,Ee;for(Ee=0;Ee<16;Ee++)me[Ee]=0;for(Ee=0;Ee<8;Ee++)me[Ee]=Q[Ee];for(;ce>=64;){for(X($e,me,ue,ne),Ee=0;Ee<64;Ee++)fe[oe+Ee]=$e[Ee];for(ye=1,Ee=8;Ee<16;Ee++)ye=ye+(me[Ee]&255)|0,me[Ee]=ye&255,ye>>>=8;ce-=64,oe+=64}if(ce>0)for(X($e,me,ue,ne),Ee=0;Ee<ce;Ee++)fe[oe+Ee]=$e[Ee];return 0}function se(fe,oe,ce,Q,ue){var me=new Uint8Array(32);te(me,Q,ue,ne);for(var $e=new Uint8Array(8),ye=0;ye<8;ye++)$e[ye]=Q[ye+16];return pe(fe,oe,ce,$e,me)}function Se(fe,oe,ce,Q,ue,me,$e){var ye=new Uint8Array(32);te(ye,me,$e,ne);for(var Ee=new Uint8Array(8),Ze=0;Ze<8;Ze++)Ee[Ze]=me[Ze+16];return ge(fe,oe,ce,Q,ue,Ee,ye)}var k=function(fe){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var oe,ce,Q,ue,me,$e,ye,Ee;oe=fe[0]&255|(fe[1]&255)<<8,this.r[0]=oe&8191,ce=fe[2]&255|(fe[3]&255)<<8,this.r[1]=(oe>>>13|ce<<3)&8191,Q=fe[4]&255|(fe[5]&255)<<8,this.r[2]=(ce>>>10|Q<<6)&7939,ue=fe[6]&255|(fe[7]&255)<<8,this.r[3]=(Q>>>7|ue<<9)&8191,me=fe[8]&255|(fe[9]&255)<<8,this.r[4]=(ue>>>4|me<<12)&255,this.r[5]=me>>>1&8190,$e=fe[10]&255|(fe[11]&255)<<8,this.r[6]=(me>>>14|$e<<2)&8191,ye=fe[12]&255|(fe[13]&255)<<8,this.r[7]=($e>>>11|ye<<5)&8065,Ee=fe[14]&255|(fe[15]&255)<<8,this.r[8]=(ye>>>8|Ee<<8)&8191,this.r[9]=Ee>>>5&127,this.pad[0]=fe[16]&255|(fe[17]&255)<<8,this.pad[1]=fe[18]&255|(fe[19]&255)<<8,this.pad[2]=fe[20]&255|(fe[21]&255)<<8,this.pad[3]=fe[22]&255|(fe[23]&255)<<8,this.pad[4]=fe[24]&255|(fe[25]&255)<<8,this.pad[5]=fe[26]&255|(fe[27]&255)<<8,this.pad[6]=fe[28]&255|(fe[29]&255)<<8,this.pad[7]=fe[30]&255|(fe[31]&255)<<8};k.prototype.blocks=function(fe,oe,ce){for(var Q=this.fin?0:2048,ue,me,$e,ye,Ee,Ze,Ye,xt,rt,lt,dt,ht,yt,pt,mt,bt,nt,ct,it,at=this.h[0],st=this.h[1],tt=this.h[2],He=this.h[3],Ke=this.h[4],et=this.h[5],Je=this.h[6],Qe=this.h[7],ot=this.h[8],Mt=this.h[9],It=this.r[0],Tt=this.r[1],Rt=this.r[2],Me=this.r[3],Pt=this.r[4],Ot=this.r[5],Lt=this.r[6],Bt=this.r[7],Ct=this.r[8],Nt=this.r[9];ce>=16;)ue=fe[oe+0]&255|(fe[oe+1]&255)<<8,at+=ue&8191,me=fe[oe+2]&255|(fe[oe+3]&255)<<8,st+=(ue>>>13|me<<3)&8191,$e=fe[oe+4]&255|(fe[oe+5]&255)<<8,tt+=(me>>>10|$e<<6)&8191,ye=fe[oe+6]&255|(fe[oe+7]&255)<<8,He+=($e>>>7|ye<<9)&8191,Ee=fe[oe+8]&255|(fe[oe+9]&255)<<8,Ke+=(ye>>>4|Ee<<12)&8191,et+=Ee>>>1&8191,Ze=fe[oe+10]&255|(fe[oe+11]&255)<<8,Je+=(Ee>>>14|Ze<<2)&8191,Ye=fe[oe+12]&255|(fe[oe+13]&255)<<8,Qe+=(Ze>>>11|Ye<<5)&8191,xt=fe[oe+14]&255|(fe[oe+15]&255)<<8,ot+=(Ye>>>8|xt<<8)&8191,Mt+=xt>>>5|Q,rt=0,lt=rt,lt+=at*It,lt+=st*(5*Nt),lt+=tt*(5*Ct),lt+=He*(5*Bt),lt+=Ke*(5*Lt),rt=lt>>>13,lt&=8191,lt+=et*(5*Ot),lt+=Je*(5*Pt),lt+=Qe*(5*Me),lt+=ot*(5*Rt),lt+=Mt*(5*Tt),rt+=lt>>>13,lt&=8191,dt=rt,dt+=at*Tt,dt+=st*It,dt+=tt*(5*Nt),dt+=He*(5*Ct),dt+=Ke*(5*Bt),rt=dt>>>13,dt&=8191,dt+=et*(5*Lt),dt+=Je*(5*Ot),dt+=Qe*(5*Pt),dt+=ot*(5*Me),dt+=Mt*(5*Rt),rt+=dt>>>13,dt&=8191,ht=rt,ht+=at*Rt,ht+=st*Tt,ht+=tt*It,ht+=He*(5*Nt),ht+=Ke*(5*Ct),rt=ht>>>13,ht&=8191,ht+=et*(5*Bt),ht+=Je*(5*Lt),ht+=Qe*(5*Ot),ht+=ot*(5*Pt),ht+=Mt*(5*Me),rt+=ht>>>13,ht&=8191,yt=rt,yt+=at*Me,yt+=st*Rt,yt+=tt*Tt,yt+=He*It,yt+=Ke*(5*Nt),rt=yt>>>13,yt&=8191,yt+=et*(5*Ct),yt+=Je*(5*Bt),yt+=Qe*(5*Lt),yt+=ot*(5*Ot),yt+=Mt*(5*Pt),rt+=yt>>>13,yt&=8191,pt=rt,pt+=at*Pt,pt+=st*Me,pt+=tt*Rt,pt+=He*Tt,pt+=Ke*It,rt=pt>>>13,pt&=8191,pt+=et*(5*Nt),pt+=Je*(5*Ct),pt+=Qe*(5*Bt),pt+=ot*(5*Lt),pt+=Mt*(5*Ot),rt+=pt>>>13,pt&=8191,mt=rt,mt+=at*Ot,mt+=st*Pt,mt+=tt*Me,mt+=He*Rt,mt+=Ke*Tt,rt=mt>>>13,mt&=8191,mt+=et*It,mt+=Je*(5*Nt),mt+=Qe*(5*Ct),mt+=ot*(5*Bt),mt+=Mt*(5*Lt),rt+=mt>>>13,mt&=8191,bt=rt,bt+=at*Lt,bt+=st*Ot,bt+=tt*Pt,bt+=He*Me,bt+=Ke*Rt,rt=bt>>>13,bt&=8191,bt+=et*Tt,bt+=Je*It,bt+=Qe*(5*Nt),bt+=ot*(5*Ct),bt+=Mt*(5*Bt),rt+=bt>>>13,bt&=8191,nt=rt,nt+=at*Bt,nt+=st*Lt,nt+=tt*Ot,nt+=He*Pt,nt+=Ke*Me,rt=nt>>>13,nt&=8191,nt+=et*Rt,nt+=Je*Tt,nt+=Qe*It,nt+=ot*(5*Nt),nt+=Mt*(5*Ct),rt+=nt>>>13,nt&=8191,ct=rt,ct+=at*Ct,ct+=st*Bt,ct+=tt*Lt,ct+=He*Ot,ct+=Ke*Pt,rt=ct>>>13,ct&=8191,ct+=et*Me,ct+=Je*Rt,ct+=Qe*Tt,ct+=ot*It,ct+=Mt*(5*Nt),rt+=ct>>>13,ct&=8191,it=rt,it+=at*Nt,it+=st*Ct,it+=tt*Bt,it+=He*Lt,it+=Ke*Ot,rt=it>>>13,it&=8191,it+=et*Pt,it+=Je*Me,it+=Qe*Rt,it+=ot*Tt,it+=Mt*It,rt+=it>>>13,it&=8191,rt=(rt<<2)+rt|0,rt=rt+lt|0,lt=rt&8191,rt=rt>>>13,dt+=rt,at=lt,st=dt,tt=ht,He=yt,Ke=pt,et=mt,Je=bt,Qe=nt,ot=ct,Mt=it,oe+=16,ce-=16;this.h[0]=at,this.h[1]=st,this.h[2]=tt,this.h[3]=He,this.h[4]=Ke,this.h[5]=et,this.h[6]=Je,this.h[7]=Qe,this.h[8]=ot,this.h[9]=Mt},k.prototype.finish=function(fe,oe){var ce=new Uint16Array(10),Q,ue,me,$e;if(this.leftover){for($e=this.leftover,this.buffer[$e++]=1;$e<16;$e++)this.buffer[$e]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Q=this.h[1]>>>13,this.h[1]&=8191,$e=2;$e<10;$e++)this.h[$e]+=Q,Q=this.h[$e]>>>13,this.h[$e]&=8191;for(this.h[0]+=Q*5,Q=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Q,Q=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Q,ce[0]=this.h[0]+5,Q=ce[0]>>>13,ce[0]&=8191,$e=1;$e<10;$e++)ce[$e]=this.h[$e]+Q,Q=ce[$e]>>>13,ce[$e]&=8191;for(ce[9]-=8192,ue=(Q^1)-1,$e=0;$e<10;$e++)ce[$e]&=ue;for(ue=~ue,$e=0;$e<10;$e++)this.h[$e]=this.h[$e]&ue|ce[$e];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,me=this.h[0]+this.pad[0],this.h[0]=me&65535,$e=1;$e<8;$e++)me=(this.h[$e]+this.pad[$e]|0)+(me>>>16)|0,this.h[$e]=me&65535;fe[oe+0]=this.h[0]>>>0&255,fe[oe+1]=this.h[0]>>>8&255,fe[oe+2]=this.h[1]>>>0&255,fe[oe+3]=this.h[1]>>>8&255,fe[oe+4]=this.h[2]>>>0&255,fe[oe+5]=this.h[2]>>>8&255,fe[oe+6]=this.h[3]>>>0&255,fe[oe+7]=this.h[3]>>>8&255,fe[oe+8]=this.h[4]>>>0&255,fe[oe+9]=this.h[4]>>>8&255,fe[oe+10]=this.h[5]>>>0&255,fe[oe+11]=this.h[5]>>>8&255,fe[oe+12]=this.h[6]>>>0&255,fe[oe+13]=this.h[6]>>>8&255,fe[oe+14]=this.h[7]>>>0&255,fe[oe+15]=this.h[7]>>>8&255},k.prototype.update=function(fe,oe,ce){var Q,ue;if(this.leftover){for(ue=16-this.leftover,ue>ce&&(ue=ce),Q=0;Q<ue;Q++)this.buffer[this.leftover+Q]=fe[oe+Q];if(ce-=ue,oe+=ue,this.leftover+=ue,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(ce>=16&&(ue=ce-ce%16,this.blocks(fe,oe,ue),oe+=ue,ce-=ue),ce){for(Q=0;Q<ce;Q++)this.buffer[this.leftover+Q]=fe[oe+Q];this.leftover+=ce}};function c(fe,oe,ce,Q,ue,me){var $e=new k(me);return $e.update(ce,Q,ue),$e.finish(fe,oe),0}function d(fe,oe,ce,Q,ue,me){var $e=new Uint8Array(16);return c($e,0,ce,Q,ue,me),L(fe,oe,$e,0)}function b(fe,oe,ce,Q,ue){var me;if(ce<32)return-1;for(Se(fe,0,oe,0,ce,Q,ue),c(fe,16,fe,32,ce-32,fe),me=0;me<16;me++)fe[me]=0;return 0}function v(fe,oe,ce,Q,ue){var me,$e=new Uint8Array(32);if(ce<32||(se($e,0,32,Q,ue),d(oe,16,oe,32,ce-32,$e)!==0))return-1;for(Se(fe,0,oe,0,ce,Q,ue),me=0;me<32;me++)fe[me]=0;return 0}function A(fe,oe){var ce;for(ce=0;ce<16;ce++)fe[ce]=oe[ce]|0}function $(fe){var oe,ce,Q=1;for(oe=0;oe<16;oe++)ce=fe[oe]+Q+65535,Q=Math.floor(ce/65536),fe[oe]=ce-Q*65536;fe[0]+=Q-1+37*(Q-1)}function I(fe,oe,ce){for(var Q,ue=~(ce-1),me=0;me<16;me++)Q=ue&(fe[me]^oe[me]),fe[me]^=Q,oe[me]^=Q}function S(fe,oe){var ce,Q,ue,me=n(),$e=n();for(ce=0;ce<16;ce++)$e[ce]=oe[ce];for($($e),$($e),$($e),Q=0;Q<2;Q++){for(me[0]=$e[0]-65517,ce=1;ce<15;ce++)me[ce]=$e[ce]-65535-(me[ce-1]>>16&1),me[ce-1]&=65535;me[15]=$e[15]-32767-(me[14]>>16&1),ue=me[15]>>16&1,me[14]&=65535,I($e,me,1-ue)}for(ce=0;ce<16;ce++)fe[2*ce]=$e[ce]&255,fe[2*ce+1]=$e[ce]>>8}function l(fe,oe){var ce=new Uint8Array(32),Q=new Uint8Array(32);return S(ce,fe),S(Q,oe),U(ce,0,Q,0)}function E(fe){var oe=new Uint8Array(32);return S(oe,fe),oe[0]&1}function O(fe,oe){var ce;for(ce=0;ce<16;ce++)fe[ce]=oe[2*ce]+(oe[2*ce+1]<<8);fe[15]&=32767}function D(fe,oe,ce){for(var Q=0;Q<16;Q++)fe[Q]=oe[Q]+ce[Q]}function Y(fe,oe,ce){for(var Q=0;Q<16;Q++)fe[Q]=oe[Q]-ce[Q]}function F(fe,oe,ce){var Q,ue,me=0,$e=0,ye=0,Ee=0,Ze=0,Ye=0,xt=0,rt=0,lt=0,dt=0,ht=0,yt=0,pt=0,mt=0,bt=0,nt=0,ct=0,it=0,at=0,st=0,tt=0,He=0,Ke=0,et=0,Je=0,Qe=0,ot=0,Mt=0,It=0,Tt=0,Rt=0,Me=ce[0],Pt=ce[1],Ot=ce[2],Lt=ce[3],Bt=ce[4],Ct=ce[5],Nt=ce[6],Ht=ce[7],Ut=ce[8],Dt=ce[9],qt=ce[10],zt=ce[11],Kt=ce[12],jt=ce[13],Wt=ce[14],Gt=ce[15];Q=oe[0],me+=Q*Me,$e+=Q*Pt,ye+=Q*Ot,Ee+=Q*Lt,Ze+=Q*Bt,Ye+=Q*Ct,xt+=Q*Nt,rt+=Q*Ht,lt+=Q*Ut,dt+=Q*Dt,ht+=Q*qt,yt+=Q*zt,pt+=Q*Kt,mt+=Q*jt,bt+=Q*Wt,nt+=Q*Gt,Q=oe[1],$e+=Q*Me,ye+=Q*Pt,Ee+=Q*Ot,Ze+=Q*Lt,Ye+=Q*Bt,xt+=Q*Ct,rt+=Q*Nt,lt+=Q*Ht,dt+=Q*Ut,ht+=Q*Dt,yt+=Q*qt,pt+=Q*zt,mt+=Q*Kt,bt+=Q*jt,nt+=Q*Wt,ct+=Q*Gt,Q=oe[2],ye+=Q*Me,Ee+=Q*Pt,Ze+=Q*Ot,Ye+=Q*Lt,xt+=Q*Bt,rt+=Q*Ct,lt+=Q*Nt,dt+=Q*Ht,ht+=Q*Ut,yt+=Q*Dt,pt+=Q*qt,mt+=Q*zt,bt+=Q*Kt,nt+=Q*jt,ct+=Q*Wt,it+=Q*Gt,Q=oe[3],Ee+=Q*Me,Ze+=Q*Pt,Ye+=Q*Ot,xt+=Q*Lt,rt+=Q*Bt,lt+=Q*Ct,dt+=Q*Nt,ht+=Q*Ht,yt+=Q*Ut,pt+=Q*Dt,mt+=Q*qt,bt+=Q*zt,nt+=Q*Kt,ct+=Q*jt,it+=Q*Wt,at+=Q*Gt,Q=oe[4],Ze+=Q*Me,Ye+=Q*Pt,xt+=Q*Ot,rt+=Q*Lt,lt+=Q*Bt,dt+=Q*Ct,ht+=Q*Nt,yt+=Q*Ht,pt+=Q*Ut,mt+=Q*Dt,bt+=Q*qt,nt+=Q*zt,ct+=Q*Kt,it+=Q*jt,at+=Q*Wt,st+=Q*Gt,Q=oe[5],Ye+=Q*Me,xt+=Q*Pt,rt+=Q*Ot,lt+=Q*Lt,dt+=Q*Bt,ht+=Q*Ct,yt+=Q*Nt,pt+=Q*Ht,mt+=Q*Ut,bt+=Q*Dt,nt+=Q*qt,ct+=Q*zt,it+=Q*Kt,at+=Q*jt,st+=Q*Wt,tt+=Q*Gt,Q=oe[6],xt+=Q*Me,rt+=Q*Pt,lt+=Q*Ot,dt+=Q*Lt,ht+=Q*Bt,yt+=Q*Ct,pt+=Q*Nt,mt+=Q*Ht,bt+=Q*Ut,nt+=Q*Dt,ct+=Q*qt,it+=Q*zt,at+=Q*Kt,st+=Q*jt,tt+=Q*Wt,He+=Q*Gt,Q=oe[7],rt+=Q*Me,lt+=Q*Pt,dt+=Q*Ot,ht+=Q*Lt,yt+=Q*Bt,pt+=Q*Ct,mt+=Q*Nt,bt+=Q*Ht,nt+=Q*Ut,ct+=Q*Dt,it+=Q*qt,at+=Q*zt,st+=Q*Kt,tt+=Q*jt,He+=Q*Wt,Ke+=Q*Gt,Q=oe[8],lt+=Q*Me,dt+=Q*Pt,ht+=Q*Ot,yt+=Q*Lt,pt+=Q*Bt,mt+=Q*Ct,bt+=Q*Nt,nt+=Q*Ht,ct+=Q*Ut,it+=Q*Dt,at+=Q*qt,st+=Q*zt,tt+=Q*Kt,He+=Q*jt,Ke+=Q*Wt,et+=Q*Gt,Q=oe[9],dt+=Q*Me,ht+=Q*Pt,yt+=Q*Ot,pt+=Q*Lt,mt+=Q*Bt,bt+=Q*Ct,nt+=Q*Nt,ct+=Q*Ht,it+=Q*Ut,at+=Q*Dt,st+=Q*qt,tt+=Q*zt,He+=Q*Kt,Ke+=Q*jt,et+=Q*Wt,Je+=Q*Gt,Q=oe[10],ht+=Q*Me,yt+=Q*Pt,pt+=Q*Ot,mt+=Q*Lt,bt+=Q*Bt,nt+=Q*Ct,ct+=Q*Nt,it+=Q*Ht,at+=Q*Ut,st+=Q*Dt,tt+=Q*qt,He+=Q*zt,Ke+=Q*Kt,et+=Q*jt,Je+=Q*Wt,Qe+=Q*Gt,Q=oe[11],yt+=Q*Me,pt+=Q*Pt,mt+=Q*Ot,bt+=Q*Lt,nt+=Q*Bt,ct+=Q*Ct,it+=Q*Nt,at+=Q*Ht,st+=Q*Ut,tt+=Q*Dt,He+=Q*qt,Ke+=Q*zt,et+=Q*Kt,Je+=Q*jt,Qe+=Q*Wt,ot+=Q*Gt,Q=oe[12],pt+=Q*Me,mt+=Q*Pt,bt+=Q*Ot,nt+=Q*Lt,ct+=Q*Bt,it+=Q*Ct,at+=Q*Nt,st+=Q*Ht,tt+=Q*Ut,He+=Q*Dt,Ke+=Q*qt,et+=Q*zt,Je+=Q*Kt,Qe+=Q*jt,ot+=Q*Wt,Mt+=Q*Gt,Q=oe[13],mt+=Q*Me,bt+=Q*Pt,nt+=Q*Ot,ct+=Q*Lt,it+=Q*Bt,at+=Q*Ct,st+=Q*Nt,tt+=Q*Ht,He+=Q*Ut,Ke+=Q*Dt,et+=Q*qt,Je+=Q*zt,Qe+=Q*Kt,ot+=Q*jt,Mt+=Q*Wt,It+=Q*Gt,Q=oe[14],bt+=Q*Me,nt+=Q*Pt,ct+=Q*Ot,it+=Q*Lt,at+=Q*Bt,st+=Q*Ct,tt+=Q*Nt,He+=Q*Ht,Ke+=Q*Ut,et+=Q*Dt,Je+=Q*qt,Qe+=Q*zt,ot+=Q*Kt,Mt+=Q*jt,It+=Q*Wt,Tt+=Q*Gt,Q=oe[15],nt+=Q*Me,ct+=Q*Pt,it+=Q*Ot,at+=Q*Lt,st+=Q*Bt,tt+=Q*Ct,He+=Q*Nt,Ke+=Q*Ht,et+=Q*Ut,Je+=Q*Dt,Qe+=Q*qt,ot+=Q*zt,Mt+=Q*Kt,It+=Q*jt,Tt+=Q*Wt,Rt+=Q*Gt,me+=38*ct,$e+=38*it,ye+=38*at,Ee+=38*st,Ze+=38*tt,Ye+=38*He,xt+=38*Ke,rt+=38*et,lt+=38*Je,dt+=38*Qe,ht+=38*ot,yt+=38*Mt,pt+=38*It,mt+=38*Tt,bt+=38*Rt,ue=1,Q=me+ue+65535,ue=Math.floor(Q/65536),me=Q-ue*65536,Q=$e+ue+65535,ue=Math.floor(Q/65536),$e=Q-ue*65536,Q=ye+ue+65535,ue=Math.floor(Q/65536),ye=Q-ue*65536,Q=Ee+ue+65535,ue=Math.floor(Q/65536),Ee=Q-ue*65536,Q=Ze+ue+65535,ue=Math.floor(Q/65536),Ze=Q-ue*65536,Q=Ye+ue+65535,ue=Math.floor(Q/65536),Ye=Q-ue*65536,Q=xt+ue+65535,ue=Math.floor(Q/65536),xt=Q-ue*65536,Q=rt+ue+65535,ue=Math.floor(Q/65536),rt=Q-ue*65536,Q=lt+ue+65535,ue=Math.floor(Q/65536),lt=Q-ue*65536,Q=dt+ue+65535,ue=Math.floor(Q/65536),dt=Q-ue*65536,Q=ht+ue+65535,ue=Math.floor(Q/65536),ht=Q-ue*65536,Q=yt+ue+65535,ue=Math.floor(Q/65536),yt=Q-ue*65536,Q=pt+ue+65535,ue=Math.floor(Q/65536),pt=Q-ue*65536,Q=mt+ue+65535,ue=Math.floor(Q/65536),mt=Q-ue*65536,Q=bt+ue+65535,ue=Math.floor(Q/65536),bt=Q-ue*65536,Q=nt+ue+65535,ue=Math.floor(Q/65536),nt=Q-ue*65536,me+=ue-1+37*(ue-1),ue=1,Q=me+ue+65535,ue=Math.floor(Q/65536),me=Q-ue*65536,Q=$e+ue+65535,ue=Math.floor(Q/65536),$e=Q-ue*65536,Q=ye+ue+65535,ue=Math.floor(Q/65536),ye=Q-ue*65536,Q=Ee+ue+65535,ue=Math.floor(Q/65536),Ee=Q-ue*65536,Q=Ze+ue+65535,ue=Math.floor(Q/65536),Ze=Q-ue*65536,Q=Ye+ue+65535,ue=Math.floor(Q/65536),Ye=Q-ue*65536,Q=xt+ue+65535,ue=Math.floor(Q/65536),xt=Q-ue*65536,Q=rt+ue+65535,ue=Math.floor(Q/65536),rt=Q-ue*65536,Q=lt+ue+65535,ue=Math.floor(Q/65536),lt=Q-ue*65536,Q=dt+ue+65535,ue=Math.floor(Q/65536),dt=Q-ue*65536,Q=ht+ue+65535,ue=Math.floor(Q/65536),ht=Q-ue*65536,Q=yt+ue+65535,ue=Math.floor(Q/65536),yt=Q-ue*65536,Q=pt+ue+65535,ue=Math.floor(Q/65536),pt=Q-ue*65536,Q=mt+ue+65535,ue=Math.floor(Q/65536),mt=Q-ue*65536,Q=bt+ue+65535,ue=Math.floor(Q/65536),bt=Q-ue*65536,Q=nt+ue+65535,ue=Math.floor(Q/65536),nt=Q-ue*65536,me+=ue-1+37*(ue-1),fe[0]=me,fe[1]=$e,fe[2]=ye,fe[3]=Ee,fe[4]=Ze,fe[5]=Ye,fe[6]=xt,fe[7]=rt,fe[8]=lt,fe[9]=dt,fe[10]=ht,fe[11]=yt,fe[12]=pt,fe[13]=mt,fe[14]=bt,fe[15]=nt}function V(fe,oe){F(fe,oe,oe)}function H(fe,oe){var ce=n(),Q;for(Q=0;Q<16;Q++)ce[Q]=oe[Q];for(Q=253;Q>=0;Q--)V(ce,ce),Q!==2&&Q!==4&&F(ce,ce,oe);for(Q=0;Q<16;Q++)fe[Q]=ce[Q]}function ee(fe,oe){var ce=n(),Q;for(Q=0;Q<16;Q++)ce[Q]=oe[Q];for(Q=250;Q>=0;Q--)V(ce,ce),Q!==1&&F(ce,ce,oe);for(Q=0;Q<16;Q++)fe[Q]=ce[Q]}function ie(fe,oe,ce){var Q=new Uint8Array(32),ue=new Float64Array(80),me,$e,ye=n(),Ee=n(),Ze=n(),Ye=n(),xt=n(),rt=n();for($e=0;$e<31;$e++)Q[$e]=oe[$e];for(Q[31]=oe[31]&127|64,Q[0]&=248,O(ue,ce),$e=0;$e<16;$e++)Ee[$e]=ue[$e],Ye[$e]=ye[$e]=Ze[$e]=0;for(ye[0]=Ye[0]=1,$e=254;$e>=0;--$e)me=Q[$e>>>3]>>>($e&7)&1,I(ye,Ee,me),I(Ze,Ye,me),D(xt,ye,Ze),Y(ye,ye,Ze),D(Ze,Ee,Ye),Y(Ee,Ee,Ye),V(Ye,xt),V(rt,ye),F(ye,Ze,ye),F(Ze,Ee,xt),D(xt,ye,Ze),Y(ye,ye,Ze),V(Ee,ye),Y(Ze,Ye,rt),F(ye,Ze,y),D(ye,ye,Ye),F(Ze,Ze,ye),F(ye,Ye,rt),F(Ye,Ee,ue),V(Ee,xt),I(ye,Ee,me),I(Ze,Ye,me);for($e=0;$e<16;$e++)ue[$e+16]=ye[$e],ue[$e+32]=Ze[$e],ue[$e+48]=Ee[$e],ue[$e+64]=Ye[$e];var lt=ue.subarray(32),dt=ue.subarray(16);return H(lt,lt),F(dt,dt,lt),S(fe,dt),0}function de(fe,oe){return ie(fe,oe,o)}function Z(fe,oe){return a(oe,32),de(fe,oe)}function j(fe,oe,ce){var Q=new Uint8Array(32);return ie(Q,ce,oe),te(fe,u,Q,ne)}var he=b,Ae=v;function _e(fe,oe,ce,Q,ue,me){var $e=new Uint8Array(32);return j($e,ue,me),he(fe,oe,ce,Q,$e)}function xe(fe,oe,ce,Q,ue,me){var $e=new Uint8Array(32);return j($e,ue,me),Ae(fe,oe,ce,Q,$e)}var Xe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Re(fe,oe,ce,Q){for(var ue=new Int32Array(16),me=new Int32Array(16),$e,ye,Ee,Ze,Ye,xt,rt,lt,dt,ht,yt,pt,mt,bt,nt,ct,it,at,st,tt,He,Ke,et,Je,Qe,ot,Mt=fe[0],It=fe[1],Tt=fe[2],Rt=fe[3],Me=fe[4],Pt=fe[5],Ot=fe[6],Lt=fe[7],Bt=oe[0],Ct=oe[1],Nt=oe[2],Ht=oe[3],Ut=oe[4],Dt=oe[5],qt=oe[6],zt=oe[7],Kt=0;Q>=128;){for(st=0;st<16;st++)tt=8*st+Kt,ue[st]=ce[tt+0]<<24|ce[tt+1]<<16|ce[tt+2]<<8|ce[tt+3],me[st]=ce[tt+4]<<24|ce[tt+5]<<16|ce[tt+6]<<8|ce[tt+7];for(st=0;st<80;st++)if($e=Mt,ye=It,Ee=Tt,Ze=Rt,Ye=Me,xt=Pt,rt=Ot,lt=Lt,dt=Bt,ht=Ct,yt=Nt,pt=Ht,mt=Ut,bt=Dt,nt=qt,ct=zt,He=Lt,Ke=zt,et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=(Me>>>14|Ut<<18)^(Me>>>18|Ut<<14)^(Ut>>>9|Me<<23),Ke=(Ut>>>14|Me<<18)^(Ut>>>18|Me<<14)^(Me>>>9|Ut<<23),et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,He=Me&Pt^~Me&Ot,Ke=Ut&Dt^~Ut&qt,et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,He=Xe[st*2],Ke=Xe[st*2+1],et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,He=ue[st%16],Ke=me[st%16],et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,it=Qe&65535|ot<<16,at=et&65535|Je<<16,He=it,Ke=at,et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=(Mt>>>28|Bt<<4)^(Bt>>>2|Mt<<30)^(Bt>>>7|Mt<<25),Ke=(Bt>>>28|Mt<<4)^(Mt>>>2|Bt<<30)^(Mt>>>7|Bt<<25),et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,He=Mt&It^Mt&Tt^It&Tt,Ke=Bt&Ct^Bt&Nt^Ct&Nt,et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,lt=Qe&65535|ot<<16,ct=et&65535|Je<<16,He=Ze,Ke=pt,et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=it,Ke=at,et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,Ze=Qe&65535|ot<<16,pt=et&65535|Je<<16,It=$e,Tt=ye,Rt=Ee,Me=Ze,Pt=Ye,Ot=xt,Lt=rt,Mt=lt,Ct=dt,Nt=ht,Ht=yt,Ut=pt,Dt=mt,qt=bt,zt=nt,Bt=ct,st%16===15)for(tt=0;tt<16;tt++)He=ue[tt],Ke=me[tt],et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=ue[(tt+9)%16],Ke=me[(tt+9)%16],et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,it=ue[(tt+1)%16],at=me[(tt+1)%16],He=(it>>>1|at<<31)^(it>>>8|at<<24)^it>>>7,Ke=(at>>>1|it<<31)^(at>>>8|it<<24)^(at>>>7|it<<25),et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,it=ue[(tt+14)%16],at=me[(tt+14)%16],He=(it>>>19|at<<13)^(at>>>29|it<<3)^it>>>6,Ke=(at>>>19|it<<13)^(it>>>29|at<<3)^(at>>>6|it<<26),et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,ue[tt]=Qe&65535|ot<<16,me[tt]=et&65535|Je<<16;He=Mt,Ke=Bt,et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=fe[0],Ke=oe[0],et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,fe[0]=Mt=Qe&65535|ot<<16,oe[0]=Bt=et&65535|Je<<16,He=It,Ke=Ct,et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=fe[1],Ke=oe[1],et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,fe[1]=It=Qe&65535|ot<<16,oe[1]=Ct=et&65535|Je<<16,He=Tt,Ke=Nt,et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=fe[2],Ke=oe[2],et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,fe[2]=Tt=Qe&65535|ot<<16,oe[2]=Nt=et&65535|Je<<16,He=Rt,Ke=Ht,et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=fe[3],Ke=oe[3],et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,fe[3]=Rt=Qe&65535|ot<<16,oe[3]=Ht=et&65535|Je<<16,He=Me,Ke=Ut,et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=fe[4],Ke=oe[4],et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,fe[4]=Me=Qe&65535|ot<<16,oe[4]=Ut=et&65535|Je<<16,He=Pt,Ke=Dt,et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=fe[5],Ke=oe[5],et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,fe[5]=Pt=Qe&65535|ot<<16,oe[5]=Dt=et&65535|Je<<16,He=Ot,Ke=qt,et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=fe[6],Ke=oe[6],et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,fe[6]=Ot=Qe&65535|ot<<16,oe[6]=qt=et&65535|Je<<16,He=Lt,Ke=zt,et=Ke&65535,Je=Ke>>>16,Qe=He&65535,ot=He>>>16,He=fe[7],Ke=oe[7],et+=Ke&65535,Je+=Ke>>>16,Qe+=He&65535,ot+=He>>>16,Je+=et>>>16,Qe+=Je>>>16,ot+=Qe>>>16,fe[7]=Lt=Qe&65535|ot<<16,oe[7]=zt=et&65535|Je<<16,Kt+=128,Q-=128}return Q}function we(fe,oe,ce){var Q=new Int32Array(8),ue=new Int32Array(8),me=new Uint8Array(256),$e,ye=ce;for(Q[0]=1779033703,Q[1]=3144134277,Q[2]=1013904242,Q[3]=2773480762,Q[4]=1359893119,Q[5]=2600822924,Q[6]=528734635,Q[7]=1541459225,ue[0]=4089235720,ue[1]=2227873595,ue[2]=4271175723,ue[3]=1595750129,ue[4]=2917565137,ue[5]=725511199,ue[6]=4215389547,ue[7]=327033209,Re(Q,ue,oe,ce),ce%=128,$e=0;$e<ce;$e++)me[$e]=oe[ye-ce+$e];for(me[ce]=128,ce=256-128*(ce<112?1:0),me[ce-9]=0,P(me,ce-8,ye/536870912|0,ye<<3),Re(Q,ue,me,ce),$e=0;$e<8;$e++)P(fe,8*$e,Q[$e],ue[$e]);return 0}function Et(fe,oe){var ce=n(),Q=n(),ue=n(),me=n(),$e=n(),ye=n(),Ee=n(),Ze=n(),Ye=n();Y(ce,fe[1],fe[0]),Y(Ye,oe[1],oe[0]),F(ce,ce,Ye),D(Q,fe[0],fe[1]),D(Ye,oe[0],oe[1]),F(Q,Q,Ye),F(ue,fe[3],oe[3]),F(ue,ue,_),F(me,fe[2],oe[2]),D(me,me,me),Y($e,Q,ce),Y(ye,me,ue),D(Ee,me,ue),D(Ze,Q,ce),F(fe[0],$e,ye),F(fe[1],Ze,Ee),F(fe[2],Ee,ye),F(fe[3],$e,Ze)}function Ce(fe,oe,ce){var Q;for(Q=0;Q<4;Q++)I(fe[Q],oe[Q],ce)}function ze(fe,oe){var ce=n(),Q=n(),ue=n();H(ue,oe[2]),F(ce,oe[0],ue),F(Q,oe[1],ue),S(fe,Q),fe[31]^=E(ce)<<7}function wt(fe,oe,ce){var Q,ue;for(A(fe[0],p),A(fe[1],m),A(fe[2],m),A(fe[3],p),ue=255;ue>=0;--ue)Q=ce[ue/8|0]>>(ue&7)&1,Ce(fe,oe,Q),Et(oe,fe),Et(fe,fe),Ce(fe,oe,Q)}function Ie(fe,oe){var ce=[n(),n(),n(),n()];A(ce[0],M),A(ce[1],T),A(ce[2],m),F(ce[3],M,T),wt(fe,ce,oe)}function Ne(fe,oe,ce){var Q=new Uint8Array(64),ue=[n(),n(),n(),n()],me;for(ce||a(oe,32),we(Q,oe,32),Q[0]&=248,Q[31]&=127,Q[31]|=64,Ie(ue,Q),ze(fe,ue),me=0;me<32;me++)oe[me+32]=fe[me];return 0}var _t=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Pe(fe,oe){var ce,Q,ue,me;for(Q=63;Q>=32;--Q){for(ce=0,ue=Q-32,me=Q-12;ue<me;++ue)oe[ue]+=ce-16*oe[Q]*_t[ue-(Q-32)],ce=Math.floor((oe[ue]+128)/256),oe[ue]-=ce*256;oe[ue]+=ce,oe[Q]=0}for(ce=0,ue=0;ue<32;ue++)oe[ue]+=ce-(oe[31]>>4)*_t[ue],ce=oe[ue]>>8,oe[ue]&=255;for(ue=0;ue<32;ue++)oe[ue]-=ce*_t[ue];for(Q=0;Q<32;Q++)oe[Q+1]+=oe[Q]>>8,fe[Q]=oe[Q]&255}function Le(fe){var oe=new Float64Array(64),ce;for(ce=0;ce<64;ce++)oe[ce]=fe[ce];for(ce=0;ce<64;ce++)fe[ce]=0;Pe(fe,oe)}function At(fe,oe,ce,Q){var ue=new Uint8Array(64),me=new Uint8Array(64),$e=new Uint8Array(64),ye,Ee,Ze=new Float64Array(64),Ye=[n(),n(),n(),n()];we(ue,Q,32),ue[0]&=248,ue[31]&=127,ue[31]|=64;var xt=ce+64;for(ye=0;ye<ce;ye++)fe[64+ye]=oe[ye];for(ye=0;ye<32;ye++)fe[32+ye]=ue[32+ye];for(we($e,fe.subarray(32),ce+32),Le($e),Ie(Ye,$e),ze(fe,Ye),ye=32;ye<64;ye++)fe[ye]=Q[ye];for(we(me,fe,ce+64),Le(me),ye=0;ye<64;ye++)Ze[ye]=0;for(ye=0;ye<32;ye++)Ze[ye]=$e[ye];for(ye=0;ye<32;ye++)for(Ee=0;Ee<32;Ee++)Ze[ye+Ee]+=me[ye]*ue[Ee];return Pe(fe.subarray(32),Ze),xt}function ae(fe,oe){var ce=n(),Q=n(),ue=n(),me=n(),$e=n(),ye=n(),Ee=n();return A(fe[2],m),O(fe[1],oe),V(ue,fe[1]),F(me,ue,w),Y(ue,ue,fe[2]),D(me,fe[2],me),V($e,me),V(ye,$e),F(Ee,ye,$e),F(ce,Ee,ue),F(ce,ce,me),ee(ce,ce),F(ce,ce,ue),F(ce,ce,me),F(ce,ce,me),F(fe[0],ce,me),V(Q,fe[0]),F(Q,Q,me),l(Q,ue)&&F(fe[0],fe[0],B),V(Q,fe[0]),F(Q,Q,me),l(Q,ue)?-1:(E(fe[0])===oe[31]>>7&&Y(fe[0],p,fe[0]),F(fe[3],fe[0],fe[1]),0)}function J(fe,oe,ce,Q){var ue,me=new Uint8Array(32),$e=new Uint8Array(64),ye=[n(),n(),n(),n()],Ee=[n(),n(),n(),n()];if(ce<64||ae(Ee,Q))return-1;for(ue=0;ue<ce;ue++)fe[ue]=oe[ue];for(ue=0;ue<32;ue++)fe[ue+32]=Q[ue];if(we($e,fe,ce),Le($e),wt(ye,Ee,$e),Ie(Ee,oe.subarray(32)),Et(ye,Ee),ze(me,ye),ce-=64,U(oe,0,me,0)){for(ue=0;ue<ce;ue++)fe[ue]=0;return-1}for(ue=0;ue<ce;ue++)fe[ue]=oe[ue+64];return ce}var re=32,le=24,be=32,Be=16,ve=32,Te=32,vt=32,ke=32,Ue=32,gt=le,qe=be,Ve=Be,St=64,Fe=32,je=64,$t=32,De=64;e.lowlevel={crypto_core_hsalsa20:te,crypto_stream_xor:Se,crypto_stream:se,crypto_stream_salsa20_xor:ge,crypto_stream_salsa20:pe,crypto_onetimeauth:c,crypto_onetimeauth_verify:d,crypto_verify_16:L,crypto_verify_32:U,crypto_secretbox:b,crypto_secretbox_open:v,crypto_scalarmult:ie,crypto_scalarmult_base:de,crypto_box_beforenm:j,crypto_box_afternm:he,crypto_box:_e,crypto_box_open:xe,crypto_box_keypair:Z,crypto_hash:we,crypto_sign:At,crypto_sign_keypair:Ne,crypto_sign_open:J,crypto_secretbox_KEYBYTES:re,crypto_secretbox_NONCEBYTES:le,crypto_secretbox_ZEROBYTES:be,crypto_secretbox_BOXZEROBYTES:Be,crypto_scalarmult_BYTES:ve,crypto_scalarmult_SCALARBYTES:Te,crypto_box_PUBLICKEYBYTES:vt,crypto_box_SECRETKEYBYTES:ke,crypto_box_BEFORENMBYTES:Ue,crypto_box_NONCEBYTES:gt,crypto_box_ZEROBYTES:qe,crypto_box_BOXZEROBYTES:Ve,crypto_sign_BYTES:St,crypto_sign_PUBLICKEYBYTES:Fe,crypto_sign_SECRETKEYBYTES:je,crypto_sign_SEEDBYTES:$t,crypto_hash_BYTES:De,gf:n,D:w,L:_t,pack25519:S,unpack25519:O,M:F,A:D,S:V,Z:Y,pow2523:ee,add:Et,set25519:A,modL:Pe,scalarmult:wt,scalarbase:Ie};function We(fe,oe){if(fe.length!==re)throw new Error("bad key size");if(oe.length!==le)throw new Error("bad nonce size")}function kt(fe,oe){if(fe.length!==vt)throw new Error("bad public key size");if(oe.length!==ke)throw new Error("bad secret key size")}function Oe(){for(var fe=0;fe<arguments.length;fe++)if(!(arguments[fe]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ge(fe){for(var oe=0;oe<fe.length;oe++)fe[oe]=0}e.randomBytes=function(fe){var oe=new Uint8Array(fe);return a(oe,fe),oe},e.secretbox=function(fe,oe,ce){Oe(fe,oe,ce),We(ce,oe);for(var Q=new Uint8Array(be+fe.length),ue=new Uint8Array(Q.length),me=0;me<fe.length;me++)Q[me+be]=fe[me];return b(ue,Q,Q.length,oe,ce),ue.subarray(Be)},e.secretbox.open=function(fe,oe,ce){Oe(fe,oe,ce),We(ce,oe);for(var Q=new Uint8Array(Be+fe.length),ue=new Uint8Array(Q.length),me=0;me<fe.length;me++)Q[me+Be]=fe[me];return Q.length<32||v(ue,Q,Q.length,oe,ce)!==0?null:ue.subarray(be)},e.secretbox.keyLength=re,e.secretbox.nonceLength=le,e.secretbox.overheadLength=Be,e.scalarMult=function(fe,oe){if(Oe(fe,oe),fe.length!==Te)throw new Error("bad n size");if(oe.length!==ve)throw new Error("bad p size");var ce=new Uint8Array(ve);return ie(ce,fe,oe),ce},e.scalarMult.base=function(fe){if(Oe(fe),fe.length!==Te)throw new Error("bad n size");var oe=new Uint8Array(ve);return de(oe,fe),oe},e.scalarMult.scalarLength=Te,e.scalarMult.groupElementLength=ve,e.box=function(fe,oe,ce,Q){var ue=e.box.before(ce,Q);return e.secretbox(fe,oe,ue)},e.box.before=function(fe,oe){Oe(fe,oe),kt(fe,oe);var ce=new Uint8Array(Ue);return j(ce,fe,oe),ce},e.box.after=e.secretbox,e.box.open=function(fe,oe,ce,Q){var ue=e.box.before(ce,Q);return e.secretbox.open(fe,oe,ue)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var fe=new Uint8Array(vt),oe=new Uint8Array(ke);return Z(fe,oe),{publicKey:fe,secretKey:oe}},e.box.keyPair.fromSecretKey=function(fe){if(Oe(fe),fe.length!==ke)throw new Error("bad secret key size");var oe=new Uint8Array(vt);return de(oe,fe),{publicKey:oe,secretKey:new Uint8Array(fe)}},e.box.publicKeyLength=vt,e.box.secretKeyLength=ke,e.box.sharedKeyLength=Ue,e.box.nonceLength=gt,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(fe,oe){if(Oe(fe,oe),oe.length!==je)throw new Error("bad secret key size");var ce=new Uint8Array(St+fe.length);return At(ce,fe,fe.length,oe),ce},e.sign.open=function(fe,oe){if(Oe(fe,oe),oe.length!==Fe)throw new Error("bad public key size");var ce=new Uint8Array(fe.length),Q=J(ce,fe,fe.length,oe);if(Q<0)return null;for(var ue=new Uint8Array(Q),me=0;me<ue.length;me++)ue[me]=ce[me];return ue},e.sign.detached=function(fe,oe){for(var ce=e.sign(fe,oe),Q=new Uint8Array(St),ue=0;ue<Q.length;ue++)Q[ue]=ce[ue];return Q},e.sign.detached.verify=function(fe,oe,ce){if(Oe(fe,oe,ce),oe.length!==St)throw new Error("bad signature size");if(ce.length!==Fe)throw new Error("bad public key size");var Q=new Uint8Array(St+fe.length),ue=new Uint8Array(St+fe.length),me;for(me=0;me<St;me++)Q[me]=oe[me];for(me=0;me<fe.length;me++)Q[me+St]=fe[me];return J(ue,Q,Q.length,ce)>=0},e.sign.keyPair=function(){var fe=new Uint8Array(Fe),oe=new Uint8Array(je);return Ne(fe,oe),{publicKey:fe,secretKey:oe}},e.sign.keyPair.fromSecretKey=function(fe){if(Oe(fe),fe.length!==je)throw new Error("bad secret key size");for(var oe=new Uint8Array(Fe),ce=0;ce<oe.length;ce++)oe[ce]=fe[32+ce];return{publicKey:oe,secretKey:new Uint8Array(fe)}},e.sign.keyPair.fromSeed=function(fe){if(Oe(fe),fe.length!==$t)throw new Error("bad seed size");for(var oe=new Uint8Array(Fe),ce=new Uint8Array(je),Q=0;Q<32;Q++)ce[Q]=fe[Q];return Ne(oe,ce,!0),{publicKey:oe,secretKey:ce}},e.sign.publicKeyLength=Fe,e.sign.secretKeyLength=je,e.sign.seedLength=$t,e.sign.signatureLength=St,e.hash=function(fe){Oe(fe);var oe=new Uint8Array(De);return we(oe,fe,fe.length),oe},e.hash.hashLength=De,e.verify=function(fe,oe){return Oe(fe,oe),fe.length===0||oe.length===0||fe.length!==oe.length?!1:C(fe,0,oe,0,fe.length)===0},e.setPRNG=function(fe){a=fe},function(){var fe=typeof self<"u"?self.crypto||self.msCrypto:null;if(fe&&fe.getRandomValues){var oe=65536;e.setPRNG(function(ce,Q){var ue,me=new Uint8Array(Q);for(ue=0;ue<Q;ue+=oe)fe.getRandomValues(me.subarray(ue,ue+Math.min(Q-ue,oe)));for(ue=0;ue<Q;ue++)ce[ue]=me[ue];Ge(me)})}else typeof commonjsRequire<"u"&&(fe=requireCryptoBrowserify(),fe&&fe.randomBytes&&e.setPRNG(function(ce,Q){var ue,me=fe.randomBytes(Q);for(ue=0;ue<Q;ue++)ce[ue]=me[ue];Ge(me)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports,utils={};Object.defineProperty(utils,"__esModule",{value:!0});utils.replaceDerive=utils.pathRegex=void 0;utils.pathRegex=new RegExp("^m(\\/[0-9]+')+$");utils.replaceDerive=t=>t.replace("'","");(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.derivePath=t.isValidPath=t.getPublicKey=t.CKDPriv=t.getMasterKeyFromSeed=void 0;const e=browser$9,n=naclFastExports,a=utils,u="ed25519 seed",o=2147483648;t.getMasterKeyFromSeed=p=>{const y=e("sha512",u).update(Buffer$1$1.from(p,"hex")).digest(),w=y.slice(0,32),_=y.slice(32);return{key:w,chainCode:_}},t.CKDPriv=({key:p,chainCode:m},y)=>{const w=Buffer$1$1.allocUnsafe(4);w.writeUInt32BE(y,0);const _=Buffer$1$1.concat([Buffer$1$1.alloc(1,0),p,w]),M=e("sha512",m).update(_).digest(),T=M.slice(0,32),B=M.slice(32);return{key:T,chainCode:B}},t.getPublicKey=(p,m=!0)=>{const w=n.sign.keyPair.fromSeed(p).secretKey.subarray(32),_=Buffer$1$1.alloc(1,0);return m?Buffer$1$1.concat([_,Buffer$1$1.from(w)]):Buffer$1$1.from(w)},t.isValidPath=p=>a.pathRegex.test(p)?!p.split("/").slice(1).map(a.replaceDerive).some(isNaN):!1,t.derivePath=(p,m,y=o)=>{if(!t.isValidPath(p))throw new Error("Invalid derivation path");const{key:w,chainCode:_}=t.getMasterKeyFromSeed(m);return p.split("/").slice(1).map(a.replaceDerive).map(T=>parseInt(T,10)).reduce((T,B)=>t.CKDPriv(T,B+y),{key:w,chainCode:_})}})(dist);const generateDID=t=>`did:ethr:${t}`;class SolanaWallet extends Web3Wallet{_rpcUrl="";chainId=NETWORK.solana;constructor(e,n="m/44'/501'/0'/0'"){if(super(),!e)throw new Error("Mnemonic is required to generate wallet");const a=mnemonicToSeedSync_1(e),u=n,o=dist.derivePath(u,a).key,{publicKey:p,secretKey:m}=Keypair.fromSeed(o),y=bs58$3.encode(m);if(!y||!p)throw new Error("Failed to generate key pair");const w=p.toBase58();if(!w)throw new Error("Failed to generate wallet");this.address=w,this.publicKey=p.toString(),this._privateKey=y}async sendTransaction(e){if(console.log("sendTransaction",e),!this._privateKey)throw new Error("Private key is required to send transaction");const n=this._getConnection(this._rpcUrl),a=new PublicKey(e.recipientAddress);let u,o;this._privateKey.split(",").length>1?u=new Uint8Array(this._privateKey.split(",")):u=bs58$3.decode(this._privateKey);const p=Keypair.fromSecretKey(u,{skipValidation:!0});if(e.tokenAddress){const y=await getMint(n,new PublicKey(e.tokenAddress)),w=await getOrCreateAssociatedTokenAccount(n,p,y.address,p.publicKey),_=await getOrCreateAssociatedTokenAccount(n,p,y.address,a);o=await transfer(n,p,w.address,_.address,p.publicKey,LAMPORTS_PER_SOL*e.amount)}else{const y=new Transaction().add(SystemProgram.transfer({fromPubkey:p.publicKey,toPubkey:a,lamports:LAMPORTS_PER_SOL*e.amount}));o=await sendAndConfirmTransaction(n,y,[p])}const m=await n.getTransaction(o);if(!m)throw new Error("Transaction not found");return{...m}}signTransaction(e){throw console.log("signTransaction",e),new Error("Method not implemented.")}async signMessage(e){throw console.log("signMessage",e),new Error("Method not implemented.")}verifySignature(e,n){throw console.log("[INFO]: verifySignature:",{message:e,signature:n}),this.address?new Error("Method not implemented."):new Error("Address is required to verify signature")}async switchNetwork(e){throw console.log("switchNetwork",e),new Error("Method not implemented.")}_getConnection=e=>this._provider(e);_provider(e){return new Connection(e)}}const generateWalletFromMnemonic=async t=>{const{mnemonic:e=generateMnemonic_1(),derivationPath:n}=t;if(n&&n?.split("/")[1]!=="44'")throw new Error("Invalid derivation path ");return new SolanaWallet(e,n)},solanaWallet=Object.freeze({connectWithExternalWallet:async()=>{throw new Error("Method not implemented.")},generateWalletFromMnemonic,generateDID}),initWallet=async(t,e,n)=>{if(console.log("[INFO] initWallet:",{user:t,secret:e}),!e&&t&&!t.isAnonymous){const m=await storageService.getItem(KEYS.STORAGE_SECRET_KEY);console.log(">> no secret > get encryptedSecret:",m),m&&(e=await Crypto.decrypt(storageService.getUniqueID(),m))}if(!e&&t&&t.isAnonymous===!0)return await evmWallet.connectWithExternalWallet();if(!e)throw new Error("Secret is required to decrypt the private key and initialize the wallet.");const a=await storageService.getItem(KEYS.STORAGE_PRIVATEKEY_KEY),u=a?await Crypto.decrypt(e,a):generateMnemonic_1();let o;const p=CHAIN_AVAILABLES.find(m=>m.id===n);switch(console.log(">>>>>",{storedEncryptedMnemonic:a,mnemonic:u}),!0){case p?.type==="evm":{o=await evmWallet.generateWalletFromMnemonic({mnemonic:u,chainId:n});break}case p?.type==="bitcoin":{o=await btcWallet.generateWalletFromMnemonic({mnemonic:u});break}case p?.type==="solana":{o=await solanaWallet.generateWalletFromMnemonic({mnemonic:u});break}default:throw new Error("Unsupported chain type")}if(!e)throw await FirebaseAuthProvider.signOut(),new Error("Secret is required to encrypt the mnemonic.");if(!o.publicKey)throw new Error("Failed to generate wallet from mnemonic");if(u){const m=await Crypto.encrypt(e,u);await storageService.setItem(KEYS.STORAGE_PRIVATEKEY_KEY,m)}return o};class FirebaseWeb3Connect{_apiKey;_ops;_secret;_uid;_wallet;_wallets=[];get provider(){return this._wallet?.provider}get userInfo(){return this._wallet?{address:this._wallet.address,publicKey:this._wallet.publicKey,chainId:this._wallet.chainId,uid:this._uid}:null}get wallet(){return this._wallet}constructor(e,n,a){if(this._apiKey=n,this._ops={enabledSigninMethods:DEFAULT_SIGNIN_METHODS,...a},FirebaseAuthProvider.initialize(e),storageService.initialize(this._ops?.storageService||storageProvider),!window||!window.HTMLDialogElement)throw new Error("[ERROR] FirebaseWeb3Connect: HTMLDialogElement not supported");console.log("[INFO] FirebaseWeb3Connect initialized and ready!",{config:this._ops,mode:"production",apiKey:this._apiKey,auth:e})}static isConnectWithLink(){return!!window.location.search.includes(KEYS.URL_QUERYPARAM_FINISH_SIGNUP)}static connectWithLink(){if(this.isConnectWithLink())return FirebaseAuthProvider.signInWithLink()}async connectWithUI(e=!1){const n=await storageService.getItem(KEYS.STORAGE_AUTH_METHOD_KEY),a=await setupSigninDialogElement(document.body,{isLightMode:e,enabledSigninMethods:n&&n!==SigninMethod.Wallet?[n,SigninMethod.Wallet]:this._ops?.enabledSigninMethods,integrator:this._ops?.dialogUI?.integrator,logoUrl:this._ops?.dialogUI?.logoUrl});a.showModal();try{const{password:y,isAnonymous:w=!1,uid:_,authMethod:M}=await addAndWaitUIEventsResult(a)||{};if(M&&M!==SigninMethod.Wallet&&await storageService.setItem(KEYS.STORAGE_AUTH_METHOD_KEY,M),console.log("[INFO] Closing dialog",{password:y,isAnonymous:w,uid:_}),!_||w)return a.hideModal(),await new Promise(T=>setTimeout(T,225)),a?.remove(),this.userInfo;this._secret=y,await this._initWallets({isAnonymous:w,uid:_})}catch(y){const w=y?.message||"An error occured while connecting";throw await a.toggleSpinnerAsCross(w),y}const u=localStorage.getItem(KEYS.STORAGE_BACKUP_KEY);this.userInfo&&u&&this._secret&&await storageService.executeBackup(!!u,this._secret);const o=await storageService.getItem(KEYS.STORAGE_SKIP_BACKUP_KEY),p=o?parseInt(o):Date.now(),m=Date.now()-p>MAX_SKIP_BACKUP_TIME;if(this.userInfo&&m){const{withEncryption:y,skip:w}=await a.promptBackup();w||await storageService.executeBackup(!!y,this._secret)}return a.hideModal(),await new Promise(y=>setTimeout(y,225)),a?.remove(),this.userInfo}async signout(e){if(e){const n=await setupSigninDialogElement(document.body,{isLightMode:!0,enabledSigninMethods:[SigninMethod.Wallet],integrator:this._ops?.dialogUI?.integrator,logoUrl:this._ops?.dialogUI?.logoUrl}),a=n.shadowRoot?.querySelector("dialog .buttonsList");a.style.display="none",addAndWaitUIEventsResult(n),n.showModal();const{withEncryption:u,skip:o}=await n.promptBackup();o||await storageService.executeBackup(!!u,this._secret),await n.hideModal()}await storageService.removeItem(KEYS.STORAGE_SECRET_KEY),await FirebaseAuthProvider.signOut()}onConnectStateChanged(e){return FirebaseAuthProvider.getOnAuthStateChanged(async n=>{if(this._uid=n?.uid,!this.userInfo&&n)try{await this._initWallets(n)}catch(a){await FirebaseAuthProvider.signOut(),await storageService.clear();const u=a?.message||"An error occured while connecting";console.error("[ERROR] onConnectStateChanged:",u)}n||(this._secret=void 0,this._wallet=void 0),console.log("[INFO] onConnectStateChanged:",{user:n,userInfo:this.userInfo,provider:this.provider,_secret:this._secret}),e(n?this.userInfo:null)})}async switchNetwork(e){if(!this._uid)throw new Error("User not connected");if(this._wallet?.chainId===e)return this.userInfo;const n=CHAIN_AVAILABLES.find(u=>u.id===e),a=this._wallets.find(u=>u.chainId===e||CHAIN_AVAILABLES.find(o=>o.id===u.chainId)?.type===n?.type);return console.log("[INFO] switchNetwork:",{wallet:a,wallets:this._wallets}),a?(a.chainId!==e&&await a.switchNetwork(e),await this._setWallet(a),this.userInfo):(await this._initWallet({isAnonymous:!!this._wallet?.publicKey,uid:this._uid},e),this.userInfo)}async _initWallets(e){if(!e)throw new Error("User not connected. Please sign in to connect with wallet");if(this.userInfo?.address)return this.userInfo;const n=this._ops?.chainId||CHAIN_DEFAULT.id;if(e.isAnonymous){const a=await initWallet(e,this._secret,n);return this._wallets=[a],await this._setWallet(a),this._wallets}try{const a=[];return await initWallet(e,this._secret,n).then(u=>a.push(u)),await initWallet(e,this._secret,NETWORK.bitcoin).then(u=>a.push(u)),await initWallet(e,this._secret,NETWORK.solana).then(u=>a.push(u)),this._wallets=a,await this._setWallet(a.find(u=>u.chainId===n)),console.log("[INFO] _initWallets:",a),this._wallets}catch(a){throw console.error("[ERROR] _initWallets:",a),a}}async _initWallet(e,n){if(console.log("[INFO] initWallet:",{user:e,userInfo:this.userInfo,_secret:this._secret}),!e)throw new Error("User not connected. Please sign in to connect with wallet");const a=await initWallet(e,this._secret,n);if(!a)throw new Error("Failed to generate wallet");return this._wallets.push(a),await this._setWallet(a),this.userInfo}async _setWallet(e){this._wallet=e}}var name="firebase",version="10.10.0";registerVersion(name,version,"app");const parseApiKey=t=>{if(!t||t.length<=0)throw new Error("Unexisting API key");const e=Buffer$1$1.from(t,"hex").toString("utf-8");return JSON.parse(e)},SECRET="0x7b0a2020226170694b6579223a202241497a6153794333347a76675768485872445574493659433634507368726d5f6b656945506559222c0a20202261757468446f6d61696e223a202261646464656d6f2d62666439642e66697265626173656170702e636f6d222c0a20202270726f6a6563744964223a202261646464656d6f2d6266643964222c0a20202273746f726167654275636b6574223a202261646464656d6f2d62666439642e61707073706f742e636f6d222c0a2020226d6573736167696e6753656e6465724964223a202231303037313136353835343837222c0a2020226170704964223a2022313a313030373131363538353438373a7765623a37626364306536383136353033633838653662313761220a7d",FIREBASE_CONFIG=parseApiKey(SECRET.slice(2)),app$1=initializeApp(FIREBASE_CONFIG),auth=getAuth(app$1),firebaseWeb3Connect=new FirebaseWeb3Connect(auth,"APIKEY",{chainId:11155111}),isConnectWithLink=async()=>FirebaseWeb3Connect.isConnectWithLink(),connectWithLink=async()=>FirebaseWeb3Connect.connectWithLink();function setupAccountTab(t,e){t.innerHTML=`
    <h1>Connected</h1>
    <p id="address">${e?.userInfo?.address}</p>
    <button id="signout">signout</button><br/>

		<h2>Switch Network</h2>
		<p>Current chain: <span id="currentChain">${e?.userInfo?.chainId} ${NETWORK[Number(e?.userInfo?.chainId)]}</span></p>
		<div id="switchNetwork">
			<button id="btc">btc</button>
			<button id="eth">eth</button>
			<button id="bsc">bsc</button>
			<button id="pol">pol</button>
			<button id="op">op</button>
			<button id="sol">sol</button><br/>
		</div>

		<h2>Sign and Verify</h2>
		<input type="text" id="content" placeholder="Enter content to sign" />
		<button id="sign">Sign message</button><br/>
		<input type="text" id="signature" placeholder="Enter signature" />
		<button id="verify">Verify signature</button>
		<pre id="verifyResult"></pre>

		<h2>Send Transaction</h2>
		<input type="text" id="to" placeholder="Enter receiver address" />
		<input type="number" id="value" placeholder="Enter value" />
		<button id="send">Send transaction</button>
		<pre></pre>
  `,t.querySelector("#sign")?.addEventListener("click",async()=>{const n=t.querySelector("#content"),a=await firebaseWeb3Connect?.wallet?.signMessage(n?.value);t.querySelector("#signature").value=`${a}`}),t.querySelector("#verify")?.addEventListener("click",async()=>{const n=t.querySelector("#content"),a=firebaseWeb3Connect.wallet?.verifySignature(`${n.value}`,t.querySelector("#signature").value);console.log("Signature is valid:",a),t.querySelector("pre#verifyResult").innerHTML=`Signature isValid: ${a}`}),t.querySelector("#signout")?.addEventListener("click",async()=>{await e.signout()}),t.querySelector("#switchNetwork")?.addEventListener("click",async n=>{const a=n.target;switch(!0){case a.id==="btc":{await firebaseWeb3Connect.switchNetwork(NETWORK.bitcoin);break}case a.id==="eth":{await firebaseWeb3Connect.switchNetwork(NETWORK.mainnet);break}case a.id==="bsc":{await firebaseWeb3Connect.switchNetwork(NETWORK.binancesmartchain);break}case a.id==="pol":{await firebaseWeb3Connect.switchNetwork(NETWORK.polygon);break}case a.id==="op":{await firebaseWeb3Connect.switchNetwork(NETWORK.optimism);break}case a.id==="sol":{await firebaseWeb3Connect.switchNetwork(NETWORK.solana);break}}const u=t.querySelector("#currentChain"),o=firebaseWeb3Connect.wallet?.chainId;u.innerText=`${o} ${NETWORK[Number(o)]}`;const p=t.querySelector("#address");p.innerText=`${firebaseWeb3Connect.wallet?.address}`}),t.querySelector("#send")?.addEventListener("click",async()=>{const n=t.querySelector("#to"),a=t.querySelector("#value"),u={to:n.value,value:a.value};if(console.log("tx:",u),!confirm(`Send amount of ${a.value} to ${n.value}. Are you sure?`))return;const p=await firebaseWeb3Connect.wallet?.sendTransaction(u);console.log("response:",p)})}function setupConnectTab(t){t.innerHTML=`
    <button id="connectUI">Connect with UI</button>
  `,t.querySelector("#connectUI")?.addEventListener("click",async()=>{await firebaseWeb3Connect.connectWithUI(!0).then(e=>{console.log("connected with UI: ",e)}).catch(e=>{console.error("error from component app; ",e)})})}var define_import_meta_env_default={VITE_FIREBASE_CONFIG:"0x7b0a2020226170694b6579223a202241497a6153794333347a76675768485872445574493659433634507368726d5f6b656945506559222c0a20202261757468446f6d61696e223a202261646464656d6f2d62666439642e66697265626173656170702e636f6d222c0a20202270726f6a6563744964223a202261646464656d6f2d6266643964222c0a20202273746f726167654275636b6574223a202261646464656d6f2d62666439642e61707073706f742e636f6d222c0a2020226d6573736167696e6753656e6465724964223a202231303037313136353835343837222c0a2020226170704964223a2022313a313030373131363538353438373a7765623a37626364306536383136353033633838653662313761220a7d",BASE_URL:"/firebase-web3connect/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log("[INFO] App demo initialization...",define_import_meta_env_default);const app=document.querySelector("#app");if(!app)throw new Error("no root app provided");const isConnecting=await isConnectWithLink();if(isConnecting)try{await connectWithLink(),app.innerHTML=`
      <h1>Sign in with email link</h1>
      <p>
      Thank you for signing in with email link. You can close this tab now and go back to the app.
      </p>
    `}catch(t){app.innerHTML=`
      <h1>Error</h1>
      <p>
      ${t.message}
      </p>
    `}else firebaseWeb3Connect.onConnectStateChanged(async t=>{t?setupAccountTab(app,firebaseWeb3Connect):setupConnectTab(app)})})();